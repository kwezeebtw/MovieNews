(self.webpackChunkMovieProject=self.webpackChunkMovieProject||[]).push([[179],{2011:(pt,Me,L)=>{"use strict";L.d(Me,{Dh:()=>pe,GT:()=>ae,cc:()=>Re,hO:()=>ze,on:()=>Z,pX:()=>he,xv:()=>we});var s=L(4650),j=L(1274),k=L(5141);pt=L.hmd(pt);const le=["ngOnDestroy"],he=(Oe,xe,Fe,Le={})=>new Proxy(Oe,{get:(Ce,ye)=>Fe.runOutsideAngular(()=>{var Ge;if(Oe[ye])return!(null===(Ge=Le?.spy)||void 0===Ge)&&Ge.get&&Le.spy.get(ye,Oe[ye]),Oe[ye];if(le.indexOf(ye)>-1)return()=>{};const oe=xe.toPromise().then(ne=>{const re=ne&&ne[ye];return"function"==typeof re?re.bind(ne):re&&re.then?re.then(H=>Fe.run(()=>H)):Fe.run(()=>re)});return new Proxy(()=>{},{get:(ne,re)=>oe[re],apply:(ne,re,H)=>oe.then(W=>{var Q;const X=W&&W(...H);return!(null===(Q=Le?.spy)||void 0===Q)&&Q.apply&&Le.spy.apply(ye,H,X),X})})})}),ae=(Oe,xe)=>{xe.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(Le=>{Object.defineProperty(Oe.prototype,Le,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,Le))})})};class Ie{constructor(xe){return xe}}const pe=new s.OlP("angularfire2.app.options"),we=new s.OlP("angularfire2.app.name");function Z(Oe,xe,Fe){const Ce="object"==typeof Fe&&Fe||{};Ce.name=Ce.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const Ge=j.Z.apps.filter(oe=>oe&&oe.name===Ce.name)[0]||xe.runOutsideAngular(()=>j.Z.initializeApp(Oe,Ce));try{JSON.stringify(Oe)!==JSON.stringify(Ge.options)&&q("error",`${Ge.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(Ge)}const q=(Oe,...xe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Oe](...xe)},ie={provide:Ie,useFactory:Z,deps:[pe,s.R0b,[new s.FiY,we]]};let ze=(()=>{class Oe{constructor(Fe){j.Z.registerVersion("angularfire",k.q4.full,"core"),j.Z.registerVersion("angularfire",k.q4.full,"app-compat"),j.Z.registerVersion("angular",s.q4F.full,Fe.toString())}static initializeApp(Fe,Le){return{ngModule:Oe,providers:[{provide:pe,useValue:Fe},{provide:we,useValue:Le}]}}}return Oe.\u0275fac=function(Fe){return new(Fe||Oe)(s.LFG(s.Lbi))},Oe.\u0275mod=s.oAB({type:Oe}),Oe.\u0275inj=s.cJS({providers:[ie]}),Oe})();function Re(Oe,xe,Fe,Le,Ce){const[,ye,Ge]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===Oe)||[];if(ye)return function Qe(Oe,xe){try{return Oe.toString()===xe.toString()}catch{return Oe===xe}}(Ce,Ge)||(be("error",`${xe} was already initialized on the ${Fe} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Ce,was:Ge})),ye;{const oe=Le();return globalThis.\u0275AngularfireInstanceCache.push([Oe,oe,Ce]),oe}}const st=!!pt.hot,be=(Oe,...xe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Oe](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5141:(pt,Me,L)=>{"use strict";L.d(Me,{q4:()=>Ql,iC:()=>Qa,HU:()=>si,vb:()=>Tn,JM:()=>Cr});var s=L(4650),j=L(8140),k=L(5861),le=L(9681),he=L(2090),ae=L(4859),Ie=L(1877),pe=L(8766);const we="@firebase/installations",Z="0.6.3",ie=`w:${Z}`,ze="FIS_v2",xe=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fe(C){return C instanceof he.ZR&&C.code.includes("request-failed")}function Le({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ce(C){return{token:C.token,requestStatus:2,expiresIn:W(C.expiresIn),creationTime:Date.now()}}function ye(C,D){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,k.Z)(function*(C,D){const $=(yield D.json()).error;return xe.create("request-failed",{requestName:C,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function oe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function ne(C,{refreshToken:D}){const O=oe(C);return O.append("Authorization",function Q(C){return`${ze} ${C}`}(D)),O}function re(C){return H.apply(this,arguments)}function H(){return(H=(0,k.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function W(C){return Number(C.replace("s","000"))}function X(C,D){return ve.apply(this,arguments)}function ve(){return(ve=(0,k.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:O}){const $=Le(C),se=oe(C),de=D.getImmediate({optional:!0});if(de){const bt=yield de.getHeartbeatsHeader();bt&&se.append("x-firebase-client",bt)}const ct={method:"POST",headers:se,body:JSON.stringify({fid:O,authVersion:ze,appId:C.appId,sdkVersion:ie})},mt=yield re(()=>fetch($,ct));if(mt.ok){const bt=yield mt.json();return{fid:bt.fid||O,registrationStatus:2,refreshToken:bt.refreshToken,authToken:Ce(bt.authToken)}}throw yield ye("Create Installation",mt)})).apply(this,arguments)}function De(C){return new Promise(D=>{setTimeout(D,C)})}const St=/^[cdef][\w-]{21}$/;function Tt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const O=function kt(C){return function Xe(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return St.test(O)?O:""}catch{return""}}function ft(C){return`${C.appName}!${C.appId}`}const en=new Map;function Sn(C,D){const O=ft(C);tr(O,D),function yi(C,D){const O=function Un(){return!ji&&"BroadcastChannel"in self&&(ji=new BroadcastChannel("[Firebase] FID Change"),ji.onmessage=C=>{tr(C.data.key,C.data.fid)}),ji}();O&&O.postMessage({key:C,fid:D}),function ys(){0===en.size&&ji&&(ji.close(),ji=null)}()}(O,D)}function tr(C,D){const O=en.get(C);if(O)for(const $ of O)$(D)}let ji=null;const li="firebase-installations-store";let Nr=null;function Yr(){return Nr||(Nr=(0,pe.X3)("firebase-installations-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(li)}})),Nr}function bn(C,D){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,k.Z)(function*(C,D){const O=ft(C),se=(yield Yr()).transaction(li,"readwrite"),de=se.objectStore(li),Se=yield de.get(O);return yield de.put(D,O),yield se.done,(!Se||Se.fid!==D.fid)&&Sn(C,D.fid),D})).apply(this,arguments)}function lt(C){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,k.Z)(function*(C){const D=ft(C),$=(yield Yr()).transaction(li,"readwrite");yield $.objectStore(li).delete(D),yield $.done})).apply(this,arguments)}function zi(C,D){return ci.apply(this,arguments)}function ci(){return(ci=(0,k.Z)(function*(C,D){const O=ft(C),se=(yield Yr()).transaction(li,"readwrite"),de=se.objectStore(li),Se=yield de.get(O),ct=D(Se);return void 0===ct?yield de.delete(O):yield de.put(ct,O),yield se.done,ct&&(!Se||Se.fid!==ct.fid)&&Sn(C,ct.fid),ct})).apply(this,arguments)}function ui(C){return vr.apply(this,arguments)}function vr(){return(vr=(0,k.Z)(function*(C){let D;const O=yield zi(C.appConfig,$=>{const se=Ut($),de=Et(C,se);return D=de.registrationPromise,de.installationEntry});return""===O.fid?{installationEntry:yield D}:{installationEntry:O,registrationPromise:D}})).apply(this,arguments)}function Ut(C){return bi(C||{fid:Tt(),registrationStatus:0})}function Et(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(xe.create("app-offline"))};const O={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},$=function Lt(C,D){return wn.apply(this,arguments)}(C,O);return{installationEntry:O,registrationPromise:$}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:vi(C)}:{installationEntry:D}}function wn(){return(wn=(0,k.Z)(function*(C,D){try{const O=yield X(C,D);return bn(C.appConfig,O)}catch(O){throw Fe(O)&&409===O.customData.serverCode?yield lt(C.appConfig):yield bn(C.appConfig,{fid:D.fid,registrationStatus:0}),O}})).apply(this,arguments)}function vi(C){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,k.Z)(function*(C){let D=yield Pr(C.appConfig);for(;1===D.registrationStatus;)yield De(100),D=yield Pr(C.appConfig);if(0===D.registrationStatus){const{installationEntry:O,registrationPromise:$}=yield ui(C);return $||O}return D})).apply(this,arguments)}function Pr(C){return zi(C,D=>{if(!D)throw xe.create("installation-not-found");return bi(D)})}function bi(C){return function Qr(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Kt(C,D){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,k.Z)(function*({appConfig:C,heartbeatServiceProvider:D},O){const $=tn(C,O),se=ne(C,O),de=D.getImmediate({optional:!0});if(de){const bt=yield de.getHeartbeatsHeader();bt&&se.append("x-firebase-client",bt)}const ct={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:ie,appId:C.appId}})},mt=yield re(()=>fetch($,ct));if(mt.ok)return Ce(yield mt.json());throw yield ye("Generate Auth Token",mt)})).apply(this,arguments)}function tn(C,{fid:D}){return`${Le(C)}/${D}/authTokens:generate`}function nr(C){return ei.apply(this,arguments)}function ei(){return(ei=(0,k.Z)(function*(C,D=!1){let O;const $=yield zi(C.appConfig,de=>{if(!sn(de))throw xe.create("not-registered");const Se=de.authToken;if(!D&&K(Se))return de;if(1===Se.requestStatus)return O=qe(C,D),de;{if(!navigator.onLine)throw xe.create("app-offline");const ct=ee(de);return O=Mt(C,ct),ct}});return O?yield O:$.authToken})).apply(this,arguments)}function qe(C,D){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,k.Z)(function*(C,D){let O=yield it(C.appConfig);for(;1===O.authToken.requestStatus;)yield De(100),O=yield it(C.appConfig);const $=O.authToken;return 0===$.requestStatus?nr(C,D):$})).apply(this,arguments)}function it(C){return zi(C,D=>{if(!sn(D))throw xe.create("not-registered");return function G(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Mt(C,D){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,k.Z)(function*(C,D){try{const O=yield Kt(C,D),$=Object.assign(Object.assign({},D),{authToken:O});return yield bn(C.appConfig,$),O}catch(O){if(!Fe(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const $=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield bn(C.appConfig,$)}else yield lt(C.appConfig);throw O}})).apply(this,arguments)}function sn(C){return void 0!==C&&2===C.registrationStatus}function K(C){return 2===C.requestStatus&&!function z(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function ee(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function B(){return(B=(0,k.Z)(function*(C){const D=C,{installationEntry:O,registrationPromise:$}=yield ui(D);return $?$.catch(console.error):nr(D).catch(console.error),O.fid})).apply(this,arguments)}function Ve(){return(Ve=(0,k.Z)(function*(C,D=!1){const O=C;return yield ht(O),(yield nr(O,D)).token})).apply(this,arguments)}function ht(C){return Je.apply(this,arguments)}function Je(){return(Je=(0,k.Z)(function*(C){const{registrationPromise:D}=yield ui(C);D&&(yield D)})).apply(this,arguments)}function Nc(C){return xe.create("missing-app-config-values",{valueName:C})}const Pc="installations",Go=C=>{const D=C.getProvider("app").getImmediate(),O=function Ho(C){if(!C||!C.options)throw Nc("App Configuration");if(!C.name)throw Nc("App Name");const D=["projectId","apiKey","appId"];for(const O of D)if(!C.options[O])throw Nc(O);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:O,heartbeatServiceProvider:(0,le._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},td=C=>{const D=C.getProvider("app").getImmediate(),O=(0,le._getProvider)(D,Pc).getImmediate();return{getId:()=>function P(C){return B.apply(this,arguments)}(O),getToken:se=>function fe(C){return Ve.apply(this,arguments)}(O,se)}};(function kc(){(0,le._registerComponent)(new ae.wA(Pc,Go,"PUBLIC")),(0,le._registerComponent)(new ae.wA("installations-internal",td,"PRIVATE"))})(),(0,le.registerVersion)(we,Z),(0,le.registerVersion)(we,Z,"esm2017");const Pl="@firebase/remote-config",ti=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Os{constructor(D,O,$,se){this.client=D,this.storage=O,this.storageCache=$,this.logger=se}isCachedDataFresh(D,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-O,se=$<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${se}.`),se}fetch(D){var O=this;return(0,k.Z)(function*(){const[$,se]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(se&&O.isCachedDataFresh(D.cacheMaxAgeMillis,$))return se;D.eTag=se&&se.eTag;const de=yield O.client.fetch(D),Se=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&Se.push(O.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(Se),de})()}}function br(C=navigator){return C.languages&&C.languages[0]||C.language}class En{constructor(D,O,$,se,de,Se){this.firebaseInstallations=D,this.sdkVersion=O,this.namespace=$,this.projectId=se,this.apiKey=de,this.appId=Se}fetch(D){var O=this;return(0,k.Z)(function*(){const[$,se]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},mt={sdk_version:O.sdkVersion,app_instance_id:$,app_instance_id_token:se,app_id:O.appId,language_code:br()},bt={method:"POST",headers:ct,body:JSON.stringify(mt)},qt=fetch(Se,bt),Pt=new Promise((Yn,Dr)=>{D.signal.addEventListener(()=>{const Sr=new Error("The operation was aborted.");Sr.name="AbortError",Dr(Sr)})});let rs;try{yield Promise.race([qt,Pt]),rs=yield qt}catch(Yn){let Dr="fetch-client-network";throw"AbortError"===Yn?.name&&(Dr="fetch-timeout"),ti.create(Dr,{originalErrorMessage:Yn?.message})}let Fn=rs.status;const lr=rs.headers.get("ETag")||void 0;let ec,Ja;if(200===rs.status){let Yn;try{Yn=yield rs.json()}catch(Dr){throw ti.create("fetch-client-parse",{originalErrorMessage:Dr?.message})}ec=Yn.entries,Ja=Yn.state}if("INSTANCE_STATE_UNSPECIFIED"===Ja?Fn=500:"NO_CHANGE"===Ja?Fn=304:("NO_TEMPLATE"===Ja||"EMPTY_CONFIG"===Ja)&&(ec={}),304!==Fn&&200!==Fn)throw ti.create("fetch-status",{httpStatus:Fn});return{status:Fn,eTag:lr,config:ec}})()}}class di{constructor(D,O){this.client=D,this.storage=O}fetch(D){var O=this;return(0,k.Z)(function*(){const $=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(D,$)})()}attemptFetch(D,{throttleEndTimeMillis:O,backoffCount:$}){var se=this;return(0,k.Z)(function*(){yield function ni(C,D){return new Promise((O,$)=>{const se=Math.max(D-Date.now(),0),de=setTimeout(O,se);C.addEventListener(()=>{clearTimeout(de),$(ti.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,O);try{const de=yield se.client.fetch(D);return yield se.storage.deleteThrottleMetadata(),de}catch(de){if(!function An(C){if(!(C instanceof he.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(de))throw de;const Se={throttleEndTimeMillis:Date.now()+(0,he.$s)($),backoffCount:$+1};return yield se.storage.setThrottleMetadata(Se),se.attemptFetch(D,Se)}})()}}class Ll{constructor(D,O,$,se,de){this.app=D,this._client=O,this._storageCache=$,this._storage=se,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ns(C,D){const O=C.target.error||void 0;return ti.create(D,{originalErrorMessage:O&&O?.message})}const Rr="app_namespace_store";class Lr{constructor(D,O,$,se=function Fr(){return new Promise((C,D)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=$=>{D(Ns($,"storage-open"))},O.onsuccess=$=>{C($.target.result)},O.onupgradeneeded=$=>{0===$.oldVersion&&$.target.result.createObjectStore(Rr,{keyPath:"compositeKey"})}}catch(O){D(ti.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=D,this.appName=O,this.namespace=$,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var O=this;return(0,k.Z)(function*(){const $=yield O.openDbPromise;return new Promise((se,de)=>{const ct=$.transaction([Rr],"readonly").objectStore(Rr),mt=O.createCompositeKey(D);try{const bt=ct.get(mt);bt.onerror=qt=>{de(Ns(qt,"storage-get"))},bt.onsuccess=qt=>{const Pt=qt.target.result;se(Pt?Pt.value:void 0)}}catch(bt){de(ti.create("storage-get",{originalErrorMessage:bt?.message}))}})})()}set(D,O){var $=this;return(0,k.Z)(function*(){const se=yield $.openDbPromise;return new Promise((de,Se)=>{const mt=se.transaction([Rr],"readwrite").objectStore(Rr),bt=$.createCompositeKey(D);try{const qt=mt.put({compositeKey:bt,value:O});qt.onerror=Pt=>{Se(Ns(Pt,"storage-set"))},qt.onsuccess=()=>{de()}}catch(qt){Se(ti.create("storage-set",{originalErrorMessage:qt?.message}))}})})()}delete(D){var O=this;return(0,k.Z)(function*(){const $=yield O.openDbPromise;return new Promise((se,de)=>{const ct=$.transaction([Rr],"readwrite").objectStore(Rr),mt=O.createCompositeKey(D);try{const bt=ct.delete(mt);bt.onerror=qt=>{de(Ns(qt,"storage-delete"))},bt.onsuccess=()=>{se()}}catch(bt){de(ti.create("storage-delete",{originalErrorMessage:bt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ps{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,k.Z)(function*(){const O=D.storage.getLastFetchStatus(),$=D.storage.getLastSuccessfulFetchTimestampMillis(),se=D.storage.getActiveConfig(),de=yield O;de&&(D.lastFetchStatus=de);const Se=yield $;Se&&(D.lastSuccessfulFetchTimestampMillis=Se);const ct=yield se;ct&&(D.activeConfig=ct)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Og(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,k.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function Oa(){(0,le._registerComponent)(new ae.wA("remote-config",function C(D,{instanceIdentifier:O}){const $=D.getProvider("app").getImmediate(),se=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ti.create("registration-window");if(!(0,he.hl)())throw ti.create("indexed-db-unavailable");const{projectId:de,apiKey:Se,appId:ct}=$.options;if(!de)throw ti.create("registration-project-id");if(!Se)throw ti.create("registration-api-key");if(!ct)throw ti.create("registration-app-id");const mt=new Lr(ct,$.name,O=O||"firebase"),bt=new Ps(mt),qt=new Ie.Yd(Pl);qt.logLevel=Ie.in.ERROR;const Pt=new En(se,le.SDK_VERSION,O,de,Se,ct),rs=new di(Pt,mt),Fn=new Os(rs,mt,bt,qt),lr=new Ll($,Fn,bt,mt,qt);return function xn(C){const D=(0,he.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(lr),lr},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Pl,"0.4.3"),(0,le.registerVersion)(Pl,"0.4.3","esm2017")}();const ks="/firebase-messaging-sw.js",zo="/firebase-cloud-messaging-push-scope",Na="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nd="google.c.a.c_id",Wh="google.c.a.c_l",Zh="google.c.a.ts",Pa="google.c.a.e";var bs=(()=>{return(C=bs||(bs={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",bs;var C})();function Rs(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pg(C){const O=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(O),se=new Uint8Array($.length);for(let de=0;de<$.length;++de)se[de]=$.charCodeAt(de);return se}const Mn="fcm_token_details_db",Bl="fcm_token_object_Store";function id(C){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,k.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(Mn))return null;let D=null;return(yield(0,pe.X3)(Mn,5,{upgrade:($=(0,k.Z)(function*(se,de,Se,ct){var mt;if(de<2||!se.objectStoreNames.contains(Bl))return;const bt=ct.objectStore(Bl),qt=yield bt.index("fcmSenderId").get(C);if(yield bt.clear(),qt)if(2===de){const Pt=qt;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;D={token:Pt.fcmToken,createTime:null!==(mt=Pt.createTime)&&void 0!==mt?mt:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:Rs(Pt.vapidKey)}}}else if(3===de){const Pt=qt;D={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:Rs(Pt.auth),p256dh:Rs(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:Rs(Pt.vapidKey)}}}else if(4===de){const Pt=qt;D={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:Rs(Pt.auth),p256dh:Rs(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:Rs(Pt.vapidKey)}}}}),function(de,Se,ct,mt){return $.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Mn),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Lc(D)?D:null;var $}),Ul.apply(this,arguments)}function Lc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Wo="firebase-messaging-store";let Zo=null;function qo(){return Zo||(Zo=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(Wo)}})),Zo}function Hl(C){return vo.apply(this,arguments)}function vo(){return(vo=(0,k.Z)(function*(C){const D=bo(C),$=yield(yield qo()).transaction(Wo).objectStore(Wo).get(D);if($)return $;{const se=yield id(C.appConfig.senderId);if(se)return yield Ko(C,se),se}})).apply(this,arguments)}function Ko(C,D){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,k.Z)(function*(C,D){const O=bo(C),se=(yield qo()).transaction(Wo,"readwrite");return yield se.objectStore(Wo).put(D,O),yield se.done,D})).apply(this,arguments)}function $l(C){return ka.apply(this,arguments)}function ka(){return(ka=(0,k.Z)(function*(C){const D=bo(C),$=(yield qo()).transaction(Wo,"readwrite");yield $.objectStore(Wo).delete(D),yield $.done})).apply(this,arguments)}function bo({appConfig:C}){return C.appId}const ii=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vc(C,D){return qn.apply(this,arguments)}function qn(){return(qn=(0,k.Z)(function*(C,D){const O=yield Fs(C),$=zl(D),se={method:"POST",headers:O,body:JSON.stringify($)};let de;try{de=yield(yield fetch(jl(C.appConfig),se)).json()}catch(Se){throw ii.create("token-subscribe-failed",{errorInfo:Se?.toString()})}if(de.error)throw ii.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw ii.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function Bc(C,D){return to.apply(this,arguments)}function to(){return(to=(0,k.Z)(function*(C,D){const O=yield Fs(C),$=zl(D.subscriptionOptions),se={method:"PATCH",headers:O,body:JSON.stringify($)};let de;try{de=yield(yield fetch(`${jl(C.appConfig)}/${D.token}`,se)).json()}catch(Se){throw ii.create("token-update-failed",{errorInfo:Se?.toString()})}if(de.error)throw ii.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw ii.create("token-update-no-token");return de.token})).apply(this,arguments)}function Fi(C,D){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,k.Z)(function*(C,D){const $={method:"DELETE",headers:yield Fs(C)};try{const de=yield(yield fetch(`${jl(C.appConfig)}/${D}`,$)).json();if(de.error)throw ii.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(se){throw ii.create("token-unsubscribe-failed",{errorInfo:se?.toString()})}})).apply(this,arguments)}function jl({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Fs(C){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,k.Z)(function*({appConfig:C,installations:D}){const O=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function zl({p256dh:C,auth:D,endpoint:O,vapidKey:$}){const se={web:{endpoint:O,auth:D,p256dh:C}};return $!==Na&&(se.web.applicationPubKey=$),se}const wo=6048e5;function Kh(C){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,k.Z)(function*(C){const D=yield Qh(C.swRegistration,C.vapidKey),O={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:Rs(D.getKey("auth")),p256dh:Rs(D.getKey("p256dh"))},$=yield Hl(C.firebaseDependencies);if($){if(sd($.subscriptionOptions,O))return Date.now()>=$.createTime+wo?Wt(C,{token:$.token,createTime:Date.now(),subscriptionOptions:O}):$.token;try{yield Fi(C.firebaseDependencies,$.token)}catch(se){console.warn(se)}return Yh(C.firebaseDependencies,O)}return Yh(C.firebaseDependencies,O)})).apply(this,arguments)}function Uc(C){return To.apply(this,arguments)}function To(){return(To=(0,k.Z)(function*(C){const D=yield Hl(C.firebaseDependencies);D&&(yield Fi(C.firebaseDependencies,D.token),yield $l(C.firebaseDependencies));const O=yield C.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Wt(C,D){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,k.Z)(function*(C,D){try{const O=yield Bc(C.firebaseDependencies,D),$=Object.assign(Object.assign({},D),{token:O,createTime:Date.now()});return yield Ko(C.firebaseDependencies,$),O}catch(O){throw yield Uc(C),O}})).apply(this,arguments)}function Yh(C,D){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,k.Z)(function*(C,D){const $={token:yield Vc(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Ko(C,$),$.token})).apply(this,arguments)}function Qh(C,D){return La.apply(this,arguments)}function La(){return(La=(0,k.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pg(D)})})).apply(this,arguments)}function sd(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function Hc(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Jh(C,D){if(!D.notification)return;C.notification={};const O=D.notification.title;O&&(C.notification.title=O);const $=D.notification.body;$&&(C.notification.body=$);const se=D.notification.image;se&&(C.notification.image=se);const de=D.notification.icon;de&&(C.notification.icon=de)}(D,C),function Ee(C,D){D.data&&(C.data=D.data)}(D,C),function an(C,D){var O,$,se,de,Se;if(!(D.fcmOptions||null!==(O=D.notification)&&void 0!==O&&O.click_action))return;C.fcmOptions={};const ct=null!==(se=null===($=D.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==se?se:null===(de=D.notification)||void 0===de?void 0:de.click_action;ct&&(C.fcmOptions.link=ct);const mt=null===(Se=D.fcmOptions)||void 0===Se?void 0:Se.analytics_label;mt&&(C.fcmOptions.analyticsLabel=mt)}(D,C),D}function Xh(C){return"object"==typeof C&&!!C&&nd in C}function od(C,D){const O=[];for(let $=0;$<C.length;$++)O.push(C.charAt($)),$<D.length&&O.push(D.charAt($));return O.join("")}function Gc(C){return ii.create("missing-app-config-values",{valueName:C})}od("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),od("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qo{constructor(D,O,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function Ii(C){if(!C||!C.options)throw Gc("App Configuration Object");if(!C.name)throw Gc("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:O}=C;for(const $ of D)if(!O[$])throw Gc($);return{appName:C.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:se,installations:O,analyticsProvider:$}}_delete(){return Promise.resolve()}}function es(C){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,k.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ks,{scope:zo}),C.swRegistration.update().catch(()=>{})}catch(D){throw ii.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function ad(C,D){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,k.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield es(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw ii.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function ep(C,D){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,k.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Na)})).apply(this,arguments)}function sr(){return(sr=(0,k.Z)(function*(C,D){if(!navigator)throw ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ii.create("permission-blocked");return yield ep(C,D?.vapidKey),yield ad(C,D?.serviceWorkerRegistration),Kh(C)})).apply(this,arguments)}function ea(C,D,O){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,k.Z)(function*(C,D,O){const $=no(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:O[nd],message_name:O[Wh],message_time:O[Zh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function no(C){switch(C){case bs.NOTIFICATION_CLICKED:return"notification_open";case bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ta(){return(ta=(0,k.Z)(function*(C,D){const O=D.data;if(!O.isFirebaseMessaging)return;C.onMessageHandler&&O.messageType===bs.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Hc(O)):C.onMessageHandler.next(Hc(O)));const $=O.data;Xh($)&&"1"===$[Pa]&&(yield ea(C,O.messageType,$))})).apply(this,arguments)}const $c="@firebase/messaging",io=C=>{const D=new Qo(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function ld(C,D){return ta.apply(this,arguments)}(D,O)),D},Va=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:$=>function qi(C,D){return sr.apply(this,arguments)}(D,$)}};function jc(){return cd.apply(this,arguments)}function cd(){return(cd=(0,k.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function np(){(0,le._registerComponent)(new ae.wA("messaging",io,"PUBLIC")),(0,le._registerComponent)(new ae.wA("messaging-internal",Va,"PRIVATE")),(0,le.registerVersion)($c,"0.12.3"),(0,le.registerVersion)($c,"0.12.3","esm2017")}();const dd="analytics",Tr="firebase_id",hd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rp="https://www.googletagmanager.com/gtag/js",Ki=new Ie.Yd("@firebase/analytics");function sp(C){return Promise.all(C.map(D=>D.catch(O=>O)))}function Vg(C,D){const O=document.createElement("script");O.src=`${rp}?l=${C}&id=${D}`,O.async=!0,document.head.appendChild(O)}function Ba(C,D,O,$,se,de){return na.apply(this,arguments)}function na(){return(na=(0,k.Z)(function*(C,D,O,$,se,de){const Se=$[se];try{if(Se)yield D[Se];else{const mt=(yield sp(O)).find(bt=>bt.measurementId===se);mt&&(yield D[mt.appId])}}catch(ct){Ki.error(ct)}C("config",se,de)})).apply(this,arguments)}function Bs(C,D,O,$,se){return ws.apply(this,arguments)}function ws(){return(ws=(0,k.Z)(function*(C,D,O,$,se){try{let de=[];if(se&&se.send_to){let Se=se.send_to;Array.isArray(Se)||(Se=[Se]);const ct=yield sp(O);for(const mt of Se){const bt=ct.find(Pt=>Pt.measurementId===mt),qt=bt&&D[bt.appId];if(!qt){de=[];break}de.push(qt)}}0===de.length&&(de=Object.values(D)),yield Promise.all(de),C("event",$,se||{})}catch(de){Ki.error(de)}})).apply(this,arguments)}function ia(C){const D=window.document.getElementsByTagName("script");for(const O of Object.values(D))if(O.src&&O.src.includes(rp)&&O.src.includes(C))return O;return null}const Ir=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ga=new class Bg{constructor(D={},O=1e3){this.throttleMetadata=D,this.intervalMillis=O}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,O){this.throttleMetadata[D]=O}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function ro(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function op(C){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,k.Z)(function*(C){var D;const{appId:O,apiKey:$}=C,se={method:"GET",headers:ro($)},de=hd.replace("{app-id}",O),Se=yield fetch(de,se);if(200!==Se.status&&304!==Se.status){let ct="";try{const mt=yield Se.json();null!==(D=mt.error)&&void 0!==D&&D.message&&(ct=mt.error.message)}catch{}throw Ir.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:ct})}return Se.json()})).apply(this,arguments)}function Io(C){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,k.Z)(function*(C,D=Ga,O){const{appId:$,apiKey:se,measurementId:de}=C.options;if(!$)throw Ir.create("no-app-id");if(!se){if(de)return{measurementId:de,appId:$};throw Ir.create("no-api-key")}const Se=D.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new ja;return setTimeout((0,k.Z)(function*(){ct.abort()}),void 0!==O?O:6e4),$a({appId:$,apiKey:se,measurementId:de},Se,ct,D)})).apply(this,arguments)}function $a(C,D,O){return ts.apply(this,arguments)}function ts(){return(ts=(0,k.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:O},$,se=Ga){var de;const{appId:Se,measurementId:ct}=C;try{yield zc($,D)}catch(mt){if(ct)return Ki.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:Se,measurementId:ct};throw mt}try{const mt=yield op(C);return se.deleteThrottleMetadata(Se),mt}catch(mt){const bt=mt;if(!Wc(bt)){if(se.deleteThrottleMetadata(Se),ct)return Ki.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${bt?.message}]`),{appId:Se,measurementId:ct};throw mt}const qt=503===Number(null===(de=bt?.customData)||void 0===de?void 0:de.httpStatus)?(0,he.$s)(O,se.intervalMillis,30):(0,he.$s)(O,se.intervalMillis),Pt={throttleEndTimeMillis:Date.now()+qt,backoffCount:O+1};return se.setThrottleMetadata(Se,Pt),Ki.debug(`Calling attemptFetch again in ${qt} millis`),$a(C,Pt,$,se)}})).apply(this,arguments)}function zc(C,D){return new Promise((O,$)=>{const se=Math.max(D-Date.now(),0),de=setTimeout(O,se);C.addEventListener(()=>{clearTimeout(de),$(Ir.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Wc(C){if(!(C instanceof he.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class ja{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Zc,oa;function ra(){return(ra=(0,k.Z)(function*(C,D,O,$,se){if(se&&se.global)C("event",O,$);else{const de=yield D;C("event",O,Object.assign(Object.assign({},$),{send_to:de}))}})).apply(this,arguments)}function qc(C){oa=C}function Wa(C){Zc=C}function _d(){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,k.Z)(function*(){if(!(0,he.hl)())return Ki.warn(Ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(C){return Ki.warn(Ir.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function aa(){return(aa=(0,k.Z)(function*(C,D,O,$,se,de,Se){var ct;const mt=Io(C);mt.then(Fn=>{O[Fn.measurementId]=Fn.appId,C.options.measurementId&&Fn.measurementId!==C.options.measurementId&&Ki.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fn=>Ki.error(Fn)),D.push(mt);const bt=_d().then(Fn=>{if(Fn)return $.getId()}),[qt,Pt]=yield Promise.all([mt,bt]);ia(de)||Vg(de,qt.measurementId),oa&&(se("consent","default",oa),qc(void 0)),se("js",new Date);const rs=null!==(ct=Se?.config)&&void 0!==ct?ct:{};return rs.origin="firebase",rs.update=!0,null!=Pt&&(rs[Tr]=Pt),se("config",qt.measurementId,rs),Zc&&(se("set",Zc),Wa(void 0)),qt.measurementId})).apply(this,arguments)}class ap{constructor(D){this.app=D}_delete(){return delete ns[this.app.options.appId],Promise.resolve()}}let ns={},Kc=[];const Za={};let Yc,Er,is="dataLayer",ao=!1;function la(C,D,O){!function Qc(){const C=[];if((0,he.ru)()&&C.push("This is a browser extension environment."),(0,he.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map(($,se)=>`(${se+1}) ${$}`).join(" "),O=Ir.create("invalid-analytics-context",{errorInfo:D});Ki.warn(O.message)}}();const $=C.options.appId;if(!$)throw Ir.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Ir.create("no-api-key");Ki.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ns[$])throw Ir.create("already-exists",{id:$});if(!ao){!function pd(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(is);const{wrappedGtag:de,gtagCore:Se}=function ql(C,D,O,$,se){let de=function(...Se){window[$].push(arguments)};return window[se]&&"function"==typeof window[se]&&(de=window[se]),window[se]=function fd(C,D,O,$){function de(){return(de=(0,k.Z)(function*(Se,ct,mt){try{"event"===Se?yield Bs(C,D,O,ct,mt):"config"===Se?yield Ba(C,D,O,$,ct,mt):"consent"===Se?C("consent","update",mt):C("set",ct)}catch(bt){Ki.error(bt)}})).apply(this,arguments)}return function se(Se,ct,mt){return de.apply(this,arguments)}}(de,C,D,O),{gtagCore:de,wrappedGtag:window[se]}}(ns,Kc,Za,is,"gtag");Er=de,Yc=Se,ao=!0}return ns[$]=function yd(C,D,O,$,se,de,Se){return aa.apply(this,arguments)}(C,Kc,Za,D,Yc,is,O),new ap(C)}function Jc(){return Do.apply(this,arguments)}function Do(){return(Do=(0,k.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}const on="@firebase/analytics";!function wd(){(0,le._registerComponent)(new ae.wA(dd,(D,{options:O})=>la(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,le._registerComponent)(new ae.wA("analytics-internal",function C(D){try{const O=D.getProvider(dd).getImmediate();return{logEvent:($,se,de)=>function hp(C,D,O,$){C=(0,he.m9)(C),function Co(C,D,O,$,se){return ra.apply(this,arguments)}(Er,ns[C.app.options.appId],D,O,$).catch(se=>Ki.error(se))}(O,$,se,de)}}catch(O){throw Ir.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,le.registerVersion)(on,"0.9.3"),(0,le.registerVersion)(on,"0.9.3","esm2017")}();var Td=L(4408),Id=L(7565);const by=new class gp extends Id.v{}(class Xc extends Td.o{constructor(D,O){super(D,O),this.scheduler=D,this.work=O}schedule(D,O=0){return O>0?super.schedule(D,O):(this.delay=O,this.state=D,this.scheduler.flush(this),this)}execute(D,O){return O>0||this.closed?super.execute(D,O):this._execute(D,O)}requestAsyncId(D,O,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(D,O,$):(D.flush(this),0)}});var wy=L(4986),Ka=L(8505),ri=L(9468),Ed=L(3819);const Ql=new s.GfV("7.5.0"),eu="__angularfire_symbol__analyticsIsSupportedValue",ar="__angularfire_symbol__analyticsIsSupported",Us="__angularfire_symbol__remoteConfigIsSupportedValue",tu="__angularfire_symbol__remoteConfigIsSupported",Ya="__angularfire_symbol__messagingIsSupportedValue",lo="__angularfire_symbol__messagingIsSupported";function Cr(C,D,O){if(D){if(1===D.length)return D[0];const de=D.filter(Se=>Se.app===O);if(1===de.length)return de[0]}return O.container.getProvider(C).getImmediate({optional:!0})}globalThis[ar]||(globalThis[ar]=Jc().then(C=>globalThis[eu]=C).catch(()=>globalThis[eu]=!1)),globalThis[lo]||(globalThis[lo]=jc().then(C=>globalThis[Ya]=C).catch(()=>globalThis[Ya]=!1)),globalThis[tu]||(globalThis[tu]=Og().then(C=>globalThis[Us]=C).catch(()=>globalThis[Us]=!1));const Tn=(C,D)=>{const O=D?[D]:(0,j.C6)(),$=[];return O.forEach(se=>{se.container.getProvider(C).instances.forEach(Se=>{$.includes(Se)||$.push(Se)})}),$};function $n(){}class gt{constructor(D,O=by){this.zone=D,this.delegate=O}now(){return this.delegate.now()}schedule(D,O,$){const se=this.zone;return this.delegate.schedule(function(Se){se.runGuarded(()=>{D.apply(this,[Se])})},O,$)}}class vn{constructor(D){this.zone=D,this.task=null}call(D,O){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$n,{},$n,$n)),O.pipe((0,Ka.b)({next:$,complete:$,error:$})).subscribe(D).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let si=(()=>{class C{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new gt(Zone.current)),this.insideAngular=O.run(()=>new gt(Zone.current,wy.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(O){return new(O||C)(s.LFG(s.R0b))},C.\u0275prov=s.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Hs(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Qa(C){return Hs(),function Jl(C){return function(O){return(O=O.lift(new vn(C.ngZone))).pipe((0,ri.R)(C.outsideAngular),(0,Ed.Q)(C.insideAngular))}}(Hs())(C)}},2722:(pt,Me,L)=>{"use strict";L.d(Me,{$:()=>jl,A:()=>q,B:()=>Re,G:()=>td,H:()=>Rn,J:()=>di,L:()=>K,M:()=>Vl,N:()=>Ng,P:()=>wy,Q:()=>nd,R:()=>bd,T:()=>Wh,U:()=>Na,V:()=>bs,W:()=>Rs,X:()=>id,Y:()=>wr,Z:()=>Vc,_:()=>Bc,a:()=>Ha,a0:()=>Kh,a1:()=>Uc,a2:()=>Wt,a3:()=>Yh,a4:()=>Qh,a5:()=>sd,a6:()=>Jh,a7:()=>Ee,a8:()=>Xh,a9:()=>od,aA:()=>z,aB:()=>mt,aC:()=>mp,aD:()=>jn,aE:()=>Pi,aI:()=>ro,aL:()=>Pa,aa:()=>es,ab:()=>ad,ac:()=>ep,af:()=>ea,ag:()=>no,ah:()=>ld,ak:()=>Wo,al:()=>Zl,an:()=>rp,ao:()=>na,ap:()=>re,aq:()=>vt,ar:()=>ht,as:()=>Fe,at:()=>Md,au:()=>Yn,av:()=>Dn,aw:()=>Le,ax:()=>oe,ay:()=>Fn,az:()=>W,b:()=>Ir,c:()=>Ya,d:()=>Ug,e:()=>Cd,f:()=>Jl,g:()=>$,h:()=>C,i:()=>Kl,j:()=>Se,k:()=>Ip,l:()=>fp,m:()=>ur,o:()=>pe,r:()=>Td,s:()=>pp,u:()=>by});var s=L(5861),j=L(2090),k=L(9681),le=L(1877),he=L(655),ae=L(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qe=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new le.Yd("@firebase/auth");function xe(b,...m){Oe.logLevel<=le.in.ERROR&&Oe.error(`Auth (${k.SDK_VERSION}): ${b}`,...m)}function Fe(b,...m){throw Ge(b,...m)}function Le(b,...m){return Ge(b,...m)}function Ce(b,m,_){const I=Object.assign(Object.assign({},Qe()),{[m]:_});return new j.LL("auth","Firebase",I).create(m,{appName:b.name})}function ye(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Fe(b,"argument-error"),Ce(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(b,...m){if("string"!=typeof b){const _=m[0],I=[...m.slice(1)];return I[0]&&(I[0].appName=b.name),b._errorFactory.create(_,...I)}return st.create(b,...m)}function oe(b,m,..._){if(!b)throw Ge(m,..._)}function ne(b){const m="INTERNAL ASSERTION FAILED: "+b;throw xe(m),new Error(m)}function re(b,m){b||ne(m)}const H=new Map;function W(b){re(b instanceof Function,"Expected a class definition");let m=H.get(b);return m?(re(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,H.set(b,m),m)}function ve(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function De(){return"http:"===Xe()||"https:"===Xe()}function Xe(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Tt{constructor(m,_){this.shortDelay=m,this.longDelay=_,re(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function St(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(De()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kt(b,m){re(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class ft{static initialize(m,_,I){this.fetchImpl=m,_&&(this.headersImpl=_),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Sn=new Tt(3e4,6e4);function At(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function dt(b,m,_,I){return tr.apply(this,arguments)}function tr(){return(tr=(0,s.Z)(function*(b,m,_,I,A={}){return yi(b,A,(0,s.Z)(function*(){let F={},ue={};I&&("GET"===m?ue=I:F={body:JSON.stringify(I)});const ke=(0,j.xO)(Object.assign({key:b.config.apiKey},ue)).slice(1),at=yield b._getAdditionalHeaders();return at["Content-Type"]="application/json",b.languageCode&&(at["X-Firebase-Locale"]=b.languageCode),ft.fetch()(eo(b,b.config.apiHost,_,ke),Object.assign({method:m,headers:at,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function yi(b,m,_){return ji.apply(this,arguments)}function ji(){return(ji=(0,s.Z)(function*(b,m,_){b._canInitEmulator=!1;const I=Object.assign(Object.assign({},en),m);try{const A=new Kr(b),F=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const ue=yield F.json();if("needConfirmation"in ue)throw li(b,"account-exists-with-different-credential",ue);if(F.ok&&!("errorMessage"in ue))return ue;{const ke=F.ok?ue.errorMessage:ue.error.message,[at,It]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw li(b,"credential-already-in-use",ue);if("EMAIL_EXISTS"===at)throw li(b,"email-already-in-use",ue);if("USER_DISABLED"===at)throw li(b,"user-disabled",ue);const Yt=I[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Ce(b,Yt,It);Fe(b,Yt)}}catch(A){if(A instanceof j.ZR)throw A;Fe(b,"network-request-failed")}})).apply(this,arguments)}function Un(b,m,_,I){return ys.apply(this,arguments)}function ys(){return(ys=(0,s.Z)(function*(b,m,_,I,A={}){const F=yield dt(b,m,_,I,A);return"mfaPendingCredential"in F&&Fe(b,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function eo(b,m,_,I){const A=`${m}${_}?${I}`;return b.config.emulator?kt(b.config,A):`${b.config.apiScheme}://${A}`}class Kr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,I)=>{this.timer=setTimeout(()=>I(Le(this.auth,"network-request-failed")),Sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function li(b,m,_){const I={appName:b.name};_.email&&(I.email=_.email),_.phoneNumber&&(I.phoneNumber=_.phoneNumber);const A=Le(b,m,I);return A.customData._tokenResponse=_,A}function Yr(){return(Yr=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function bn(b,m){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function lt(b,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function zi(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function vr(){return(vr=(0,s.Z)(function*(b,m=!1){const _=(0,j.m9)(b),I=yield _.getIdToken(m),A=Et(I);oe(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const F="object"==typeof A.firebase?A.firebase:void 0,ue=F?.sign_in_provider;return{claims:A,token:I,authTime:zi(Ut(A.auth_time)),issuedAtTime:zi(Ut(A.iat)),expirationTime:zi(Ut(A.exp)),signInProvider:ue||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Ut(b){return 1e3*Number(b)}function Et(b){const[m,_,I]=b.split(".");if(void 0===m||void 0===_||void 0===I)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,j.tV)(_);return A?JSON.parse(A):(xe("Failed to decode base64 JWT payload"),null)}catch(A){return xe("Caught error parsing JWT payload as JSON",A?.toString()),null}}function wn(b,m){return vi.apply(this,arguments)}function vi(){return(vi=(0,s.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(I){throw I instanceof j.ZR&&Hn(I)&&b.auth.currentUser===b&&(yield b.auth.signOut()),I}})).apply(this,arguments)}function Hn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Pr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const I=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),I)}iteration(){var m=this;return(0,s.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class bi{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=zi(this.lastLoginAt),this.creationTime=zi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qr(b){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)(function*(b){var m;const _=b.auth,I=yield b.getIdToken(),A=yield wn(b,lt(_,{idToken:I}));oe(A?.users.length,_,"internal-error");const F=A.users[0];b._notifyReloadListener(F);const ue=null!==(m=F.providerUserInfo)&&void 0!==m&&m.length?ei(F.providerUserInfo):[],ke=nr(b.providerData,ue),Yt=!!b.isAnonymous&&!(b.email&&F.passwordHash||ke?.length),Cn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:ke,metadata:new bi(F.createdAt,F.lastLoginAt),isAnonymous:Yt};Object.assign(b,Cn)})).apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(b){const m=(0,j.m9)(b);yield Qr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function nr(b,m){return[...b.filter(I=>!m.some(A=>A.providerId===I.providerId)),...m]}function ei(b){return b.map(m=>{var{providerId:_}=m,I=(0,he._T)(m,["providerId"]);return{providerId:_,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Ne(){return(Ne=(0,s.Z)(function*(b,m){const _=yield yi(b,{},(0,s.Z)(function*(){const I=(0,j.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:A,apiKey:F}=b.config,ue=eo(b,A,"/v1/token",`key=${F}`),ke=yield b._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",ft.fetch()(ue,{method:"POST",headers:ke,body:I})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class it{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){oe(m.idToken,"internal-error"),oe(typeof m.idToken<"u","internal-error"),oe(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Lt(b){const m=Et(b);return oe(m,"internal-error"),oe(typeof m.exp<"u","internal-error"),oe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var I=this;return(0,s.Z)(function*(){return oe(!I.accessToken||I.refreshToken,m,"user-token-expired"),_||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(m,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var I=this;return(0,s.Z)(function*(){const{accessToken:A,refreshToken:F,expiresIn:ue}=yield function qe(b,m){return Ne.apply(this,arguments)}(m,_);I.updateTokensAndExpiration(A,F,Number(ue))})()}updateTokensAndExpiration(m,_,I){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(m,_){const{refreshToken:I,accessToken:A,expirationTime:F}=_,ue=new it;return I&&(oe("string"==typeof I,"internal-error",{appName:m}),ue.refreshToken=I),A&&(oe("string"==typeof A,"internal-error",{appName:m}),ue.accessToken=A),F&&(oe("number"==typeof F,"internal-error",{appName:m}),ue.expirationTime=F),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new it,this.toJSON())}_performRefresh(){return ne("not implemented")}}function Mt(b,m){oe("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class Rt{constructor(m){var{uid:_,auth:I,stsTokenManager:A}=m,F=(0,he._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=I,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new bi(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,s.Z)(function*(){const I=yield wn(_,_.stsTokenManager.getToken(_.auth,m));return oe(I,_.auth,"internal-error"),_.accessToken!==I&&(_.accessToken=I,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),I})()}getIdTokenResult(m){return function ui(b){return vr.apply(this,arguments)}(this,m)}reload(){return function Jr(b){return tn.apply(this,arguments)}(this)}_assign(m){this!==m&&(oe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Rt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var I=this;return(0,s.Z)(function*(){let A=!1;m.idToken&&m.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(m),A=!0),_&&(yield Qr(I)),yield I.auth._persistUserIfCurrent(I),A&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var m=this;return(0,s.Z)(function*(){const _=yield m.getIdToken();return yield wn(m,function Nr(b,m){return Yr.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var I,A,F,ue,ke,at,It,Yt;const Cn=null!==(I=_.displayName)&&void 0!==I?I:void 0,ss=null!==(A=_.email)&&void 0!==A?A:void 0,os=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,ou=null!==(ue=_.photoURL)&&void 0!==ue?ue:void 0,xo=null!==(ke=_.tenantId)&&void 0!==ke?ke:void 0,pa=null!==(at=_._redirectEventId)&&void 0!==at?at:void 0,Nd=null!==(It=_.createdAt)&&void 0!==It?It:void 0,Sp=null!==(Yt=_.lastLoginAt)&&void 0!==Yt?Yt:void 0,{uid:au,emailVerified:qg,isAnonymous:Kg,providerData:ic,stsTokenManager:Yg}=_;oe(au&&Yg,m,"internal-error");const Cy=it.fromJSON(this.name,Yg);oe("string"==typeof au,m,"internal-error"),Mt(Cn,m.name),Mt(ss,m.name),oe("boolean"==typeof qg,m,"internal-error"),oe("boolean"==typeof Kg,m,"internal-error"),Mt(os,m.name),Mt(ou,m.name),Mt(xo,m.name),Mt(pa,m.name),Mt(Nd,m.name),Mt(Sp,m.name);const xp=new Rt({uid:au,auth:m,email:ss,emailVerified:qg,displayName:Cn,isAnonymous:Kg,photoURL:ou,phoneNumber:os,tenantId:xo,stsTokenManager:Cy,createdAt:Nd,lastLoginAt:Sp});return ic&&Array.isArray(ic)&&(xp.providerData=ic.map(Qg=>Object.assign({},Qg))),pa&&(xp._redirectEventId=pa),xp}static _fromIdTokenResponse(m,_,I=!1){return(0,s.Z)(function*(){const A=new it;A.updateFromServerResponse(_);const F=new Rt({uid:_.localId,auth:m,stsTokenManager:A,isAnonymous:I});return yield Qr(F),F})()}}const K=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,I){var A=this;return(0,s.Z)(function*(){A.storage[_]=I})()}_get(_){var I=this;return(0,s.Z)(function*(){const A=I.storage[_];return void 0===A?null:A})()}_remove(_){var I=this;return(0,s.Z)(function*(){delete I.storage[_]})()}_addListener(_,I){}_removeListener(_,I){}}return b.type="NONE",b})();function z(b,m,_){return`firebase:${b}:${m}:${_}`}class ee{constructor(m,_,I){this.persistence=m,this.auth=_,this.userKey=I;const{config:A,name:F}=this.auth;this.fullUserKey=z(this.userKey,A.apiKey,F),this.fullPersistenceKey=z("persistence",A.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Rt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,s.Z)(function*(){if(_.persistence===m)return;const I=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,I?_.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,I="authUser"){return(0,s.Z)(function*(){if(!_.length)return new ee(W(K),m,I);const A=(yield Promise.all(_.map(function(){var It=(0,s.Z)(function*(Yt){if(yield Yt._isAvailable())return Yt});return function(Yt){return It.apply(this,arguments)}}()))).filter(It=>It);let F=A[0]||W(K);const ue=z(I,m.config.apiKey,m.name);let ke=null;for(const It of _)try{const Yt=yield It._get(ue);if(Yt){const Cn=Rt._fromJSON(m,Yt);It!==F&&(ke=Cn),F=It;break}}catch{}const at=A.filter(It=>It._shouldAllowMigration);return F._shouldAllowMigration&&at.length?(F=at[0],ke&&(yield F._set(ue,ke.toJSON())),yield Promise.all(_.map(function(){var It=(0,s.Z)(function*(Yt){if(Yt!==F)try{yield Yt._remove(ue)}catch{}});return function(Yt){return It.apply(this,arguments)}}())),new ee(F,m,I)):new ee(F,m,I)})()}}function G(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ve(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(P(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Je(m))return"Blackberry";if(zt(m))return"Webos";if(B(m))return"Safari";if((m.includes("chrome/")||fe(m))&&!m.includes("edge/"))return"Chrome";if(ht(m))return"Android";{const I=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function P(b=(0,j.z$)()){return/firefox\//i.test(b)}function B(b=(0,j.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function fe(b=(0,j.z$)()){return/crios\//i.test(b)}function Ve(b=(0,j.z$)()){return/iemobile/i.test(b)}function ht(b=(0,j.z$)()){return/android/i.test(b)}function Je(b=(0,j.z$)()){return/blackberry/i.test(b)}function zt(b=(0,j.z$)()){return/webos/i.test(b)}function vt(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Dn(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ir(b=(0,j.z$)()){return vt(b)||ht(b)||zt(b)||Je(b)||/windows phone/i.test(b)||Ve(b)}function Ho(b,m=[]){let _;switch(b){case"Browser":_=G((0,j.z$)());break;case"Worker":_=`${G((0,j.z$)())}-${b}`;break;default:_=b}const I=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${I}`}class Nc{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const I=F=>new Promise((ue,ke)=>{try{ue(m(F))}catch(at){ke(at)}});I.onAbort=_,this.queue.push(I);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,s.Z)(function*(){if(_.auth.currentUser===m)return;const I=[];try{for(const A of _.queue)yield A(m),A.onAbort&&I.push(A.onAbort)}catch(A){I.reverse();for(const F of I)try{F()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Pc{constructor(m,_,I){this.app=m,this.heartbeatServiceProvider=_,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Go(this),this.idTokenSubscription=new Go(this),this.beforeStateQueue=new Nc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(m,_){var I=this;return _&&(this._popupRedirectResolver=W(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var A,F;if(!I._deleted&&(I.persistenceManager=yield ee.create(I,m),!I._deleted)){if(null!==(A=I._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(_),I.lastNotifiedUid=(null===(F=I.currentUser)||void 0===F?void 0:F.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,s.Z)(function*(){var I;const A=yield _.assertedPersistence.getCurrentUser();let F=A,ue=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ke=null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId,at=F?._redirectEventId,It=yield _.tryRedirectSignIn(m);(!ke||ke===at)&&It?.user&&(F=It.user,ue=!0)}if(!F)return _.directlySetCurrentUser(null);if(!F._redirectEventId){if(ue)try{yield _.beforeStateQueue.runMiddleware(F)}catch(ke){F=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ke))}return F?_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)}return oe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(m){var _=this;return(0,s.Z)(function*(){let I=null;try{I=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,s.Z)(function*(){try{yield Qr(m)}catch(I){if("auth/network-request-failed"!==I?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ht(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,s.Z)(function*(){const I=m?(0,j.m9)(m):null;return I&&oe(I.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(I&&I._clone(_))})()}_updateCurrentUser(m,_=!1){var I=this;return(0,s.Z)(function*(){if(!I._deleted)return m&&oe(I.tenantId===m.tenantId,I,"tenant-id-mismatch"),_||(yield I.beforeStateQueue.runMiddleware(m)),I.queue((0,s.Z)(function*(){yield I.directlySetCurrentUser(m),I.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(W(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new j.LL("auth","Firebase",m())}onAuthStateChanged(m,_,I){return this.registerStateListener(this.authStateSubscription,m,_,I)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,I){return this.registerStateListener(this.idTokenSubscription,m,_,I)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var I=this;return(0,s.Z)(function*(){const A=yield I.getOrInitRedirectPersistenceManager(_);return null===m?A.removeCurrentUser():A.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const I=m&&W(m)||_._popupRedirectResolver;oe(I,_,"argument-error"),_.redirectPersistenceManager=yield ee.create(_,[W(I._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,s.Z)(function*(){var I,A;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(I=_._currentUser)||void 0===I?void 0:I._redirectEventId)===m?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,s.Z)(function*(){if(m===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,I,A){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ue,this,"internal-error"),ue.then(()=>F(this.currentUser)),"function"==typeof _?m.addObserver(_,I,A):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ho(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var _;const I={"X-Client-Version":m.clientVersion};m.app.options.appId&&(I["X-Firebase-gmpid"]=m.app.options.appId);const A=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return A&&(I["X-Firebase-Client"]=A),I})()}}function Pi(b){return(0,j.m9)(b)}class Go{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function td(b,m,_){const I=Pi(b);oe(I._canInitEmulator,I,"emulator-config-failed"),oe(/^https?:\/\//.test(m),I,"invalid-emulator-scheme");const A=!!_?.disableWarnings,F=kc(m),{host:ue,port:ke}=function Pl(b){const m=kc(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const I=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(I);if(A){const F=A[1];return{host:F,port:$o(I.substr(F.length+1))}}{const[F,ue]=I.split(":");return{host:F,port:$o(ue)}}}(m);I.config.emulator={url:`${F}//${ue}${null===ke?"":`:${ke}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:ue,port:ke,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function dn(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function kc(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function $o(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Rn{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ne("not implemented")}_getIdTokenResponse(m){return ne("not implemented")}_linkToIdToken(m,_){return ne("not implemented")}_getReauthenticationResolver(m){return ne("not implemented")}}function Wi(b,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:resetPassword",At(b,m))})).apply(this,arguments)}function rr(b,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ot(b,m){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:update",At(b,m))})).apply(this,arguments)}function Zi(){return(Zi=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithPassword",At(b,m))})).apply(this,arguments)}function vs(b,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:sendOobCode",At(b,m))})).apply(this,arguments)}function hn(b,m){return xn.apply(this,arguments)}function xn(){return(xn=(0,s.Z)(function*(b,m){return vs(b,m)})).apply(this,arguments)}function kl(b,m){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,s.Z)(function*(b,m){return vs(b,m)})).apply(this,arguments)}function nn(b,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(b,m){return vs(b,m)})).apply(this,arguments)}function jo(b,m){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(b,m){return vs(b,m)})).apply(this,arguments)}function ki(){return(ki=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithEmailLink",At(b,m))})).apply(this,arguments)}function Os(){return(Os=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithEmailLink",At(b,m))})).apply(this,arguments)}class br extends Rn{constructor(m,_,I,A=null){super("password",I),this._email=m,this._password=_,this._tenantId=A}static _fromEmailAndPassword(m,_){return new br(m,_,"password")}static _fromEmailAndCode(m,_,I=null){return new br(m,_,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function Gn(b,m){return Zi.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Ms(b,m){return ki.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Fe(m,"internal-error")}})()}_linkToIdToken(m,_){var I=this;return(0,s.Z)(function*(){switch(I.signInMethod){case"password":return rr(m,{idToken:_,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Rl(b,m){return Os.apply(this,arguments)}(m,{idToken:_,email:I._email,oobCode:I._password});default:Fe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function En(b,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithIdp",At(b,m))})).apply(this,arguments)}class di extends Rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new di(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Fe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:I,signInMethod:A}=_,F=(0,he._T)(_,["providerId","signInMethod"]);if(!I||!A)return null;const ue=new di(I,A);return ue.idToken=F.idToken||void 0,ue.accessToken=F.accessToken||void 0,ue.secret=F.secret,ue.nonce=F.nonce,ue.pendingToken=F.pendingToken||null,ue}_getIdTokenResponse(m){return En(m,this.buildRequest())}_linkToIdToken(m,_){const I=this.buildRequest();return I.idToken=_,En(m,I)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,En(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,j.xO)(_)}return m}}function Rc(b,m){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:sendVerificationCode",At(b,m))})).apply(this,arguments)}function Ns(){return(Ns=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithPhoneNumber",At(b,m))})).apply(this,arguments)}function Ri(){return(Ri=(0,s.Z)(function*(b,m){const _=yield Un(b,"POST","/v1/accounts:signInWithPhoneNumber",At(b,m));if(_.temporaryProof)throw li(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Mg={USER_NOT_FOUND:"user-not-found"};function Lr(){return(Lr=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithPhoneNumber",At(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Mg)})).apply(this,arguments)}class Ps extends Rn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Ps({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Ps({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Ll(b,m){return Ns.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Rr(b,m){return Ri.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Fr(b,m){return Lr.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:I,verificationCode:A}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:I,code:A}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:I,phoneNumber:A,temporaryProof:F}=m;return I||_||A||F?new Ps({verificationId:_,verificationCode:I,phoneNumber:A,temporaryProof:F}):null}}class hi{constructor(m){var _,I,A,F,ue,ke;const at=(0,j.zd)((0,j.pd)(m)),It=null!==(_=at.apiKey)&&void 0!==_?_:null,Yt=null!==(I=at.oobCode)&&void 0!==I?I:null,Cn=function Oa(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=at.mode)&&void 0!==A?A:null);oe(It&&Yt&&Cn,"argument-error"),this.apiKey=It,this.operation=Cn,this.code=Yt,this.continueUrl=null!==(F=at.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(ue=at.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(ke=at.tenantId)&&void 0!==ke?ke:null}static parseLink(m){const _=function Fc(b){const m=(0,j.zd)((0,j.pd)(b)).link,_=m?(0,j.zd)((0,j.pd)(m)).deep_link_id:null,I=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(I?(0,j.zd)((0,j.pd)(I)).link:null)||I||_||m||b}(m);try{return new hi(_)}catch{return null}}}let Vl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,I){return br._fromEmailAndPassword(_,I)}static credentialWithLink(_,I){const A=hi.parseLink(I);return oe(A,"argument-error"),br._fromEmailAndCode(_,A.code,A.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ks{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class zo extends ks{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Na extends zo{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return oe("providerId"in _&&"signInMethod"in _,"argument-error"),di._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return oe(m.idToken||m.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Na.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Na.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:I,oauthTokenSecret:A,pendingToken:F,nonce:ue,providerId:ke}=m;if(!I&&!A&&!_&&!F||!ke)return null;try{return new Na(ke)._credential({idToken:_,accessToken:I,nonce:ue,pendingToken:F})}catch{return null}}}let Ng=(()=>{class b extends zo{constructor(){super("facebook.com")}static credential(_){return di._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),nd=(()=>{class b extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,I){return di._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:I})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:A}=_;if(!I&&!A)return null;try{return b.credential(I,A)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Wh=(()=>{class b extends zo{constructor(){super("github.com")}static credential(_){return di._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Pa extends Rn{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return En(m,this.buildRequest())}_linkToIdToken(m,_){const I=this.buildRequest();return I.idToken=_,En(m,I)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,En(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:I,signInMethod:A,pendingToken:F}=_;return I&&A&&F&&I===A?new Pa(I,F):null}static _create(m,_){return new Pa(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bs extends ks{constructor(m){oe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return bs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return bs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Pa.fromJSON(m);return oe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:I}=m;if(!_||!I)return null;try{return Pa._create(I,_)}catch{return null}}}let Rs=(()=>{class b extends zo{constructor(){super("twitter.com")}static credential(_,I){return di._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:I})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:I,oauthTokenSecret:A}=_;if(!I||!A)return null;try{return b.credential(I,A)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Pg(b,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signUp",At(b,m))})).apply(this,arguments)}class jr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,I,A=!1){return(0,s.Z)(function*(){const F=yield Rt._fromIdTokenResponse(m,I,A),ue=Bl(I);return new jr({user:F,providerId:ue,_tokenResponse:I,operationType:_})})()}static _forOperation(m,_,I){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(I,!0);const A=Bl(I);return new jr({user:m,providerId:A,_tokenResponse:I,operationType:_})})()}}function Bl(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function id(b){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,s.Z)(function*(b){var m;const _=Pi(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new jr({user:_.currentUser,providerId:null,operationType:"signIn"});const I=yield Pg(_,{returnSecureToken:!0}),A=yield jr._fromIdTokenResponse(_,"signIn",I,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class Lc extends j.ZR{constructor(m,_,I,A){var F;super(_.code,_.message),this.operationType=I,this.user=A,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(m,_,I,A){return new Lc(m,_,I,A)}}function rd(b,m,_,I){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Lc._fromErrorAndOperation(b,F,m,I):F})}function yo(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Wo(b,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,s.Z)(function*(b,m){const _=(0,j.m9)(b);yield vo(!0,_,m);const{providerUserInfo:I}=yield bn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),A=yo(I||[]);return _.providerData=_.providerData.filter(F=>A.has(F.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function qo(b,m){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,s.Z)(function*(b,m,_=!1){const I=yield wn(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return jr._forOperation(b,"link",I)})).apply(this,arguments)}function vo(b,m,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,s.Z)(function*(b,m,_){yield Qr(m);const A=!1===b?"provider-already-linked":"no-such-provider";oe(yo(m.providerData).has(_)===b,m.auth,A)})).apply(this,arguments)}function Gl(b,m){return $l.apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(b,m,_=!1){const{auth:I}=b,A="reauthenticate";try{const F=yield wn(b,rd(I,A,m,b),_);oe(F.idToken,I,"internal-error");const ue=Et(F.idToken);oe(ue,I,"internal-error");const{sub:ke}=ue;return oe(b.uid===ke,I,"user-mismatch"),jr._forOperation(b,A,F)}catch(F){throw"auth/user-not-found"===F?.code&&Fe(I,"user-mismatch"),F}})).apply(this,arguments)}function ka(b,m){return bo.apply(this,arguments)}function bo(){return(bo=(0,s.Z)(function*(b,m,_=!1){const I="signIn",A=yield rd(b,I,m),F=yield jr._fromIdTokenResponse(b,I,A);return _||(yield b._updateCurrentUser(F.user)),F})).apply(this,arguments)}function wr(b,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,s.Z)(function*(b,m){return ka(Pi(b),m)})).apply(this,arguments)}function Vc(b,m){return qn.apply(this,arguments)}function qn(){return(qn=(0,s.Z)(function*(b,m){const _=(0,j.m9)(b);return yield vo(!1,_,m.providerId),qo(_,m)})).apply(this,arguments)}function Bc(b,m){return to.apply(this,arguments)}function to(){return(to=(0,s.Z)(function*(b,m){return Gl((0,j.m9)(b),m)})).apply(this,arguments)}function Fi(b,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithCustomToken",At(b,m))})).apply(this,arguments)}function jl(b,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,s.Z)(function*(b,m){const _=Pi(b),I=yield Fi(_,{token:m,returnSecureToken:!0}),A=yield jr._fromIdTokenResponse(_,"signIn",I);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ti{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?zl._fromServerResponse(m,_):Fe(m,"internal-error")}}class zl extends Ti{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new zl(_)}}function wo(b,m,_){var I;oe((null===(I=_.url)||void 0===I?void 0:I.length)>0,b,"invalid-continue-uri"),oe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(oe(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(oe(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Kh(b,m,_){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,s.Z)(function*(b,m,_){const I=(0,j.m9)(b),A={requestType:"PASSWORD_RESET",email:m};_&&wo(I,A,_),yield kl(I,A)})).apply(this,arguments)}function Uc(b,m,_){return To.apply(this,arguments)}function To(){return(To=(0,s.Z)(function*(b,m,_){yield Wi((0,j.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Wt(b,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,s.Z)(function*(b,m){yield ot((0,j.m9)(b),{oobCode:m})})).apply(this,arguments)}function Yh(b,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,s.Z)(function*(b,m){const _=(0,j.m9)(b),I=yield Wi(_,{oobCode:m}),A=I.requestType;switch(oe(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(I.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(I.mfaInfo,_,"internal-error");default:oe(I.email,_,"internal-error")}let F=null;return I.mfaInfo&&(F=Ti._fromServerResponse(Pi(_),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:F},operation:A}})).apply(this,arguments)}function Qh(b,m){return La.apply(this,arguments)}function La(){return(La=(0,s.Z)(function*(b,m){const{data:_}=yield Yh((0,j.m9)(b),m);return _.email})).apply(this,arguments)}function sd(b,m,_){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,s.Z)(function*(b,m,_){const I=Pi(b),A=yield Pg(I,{returnSecureToken:!0,email:m,password:_}),F=yield jr._fromIdTokenResponse(I,"signIn",A);return yield I._updateCurrentUser(F.user),F})).apply(this,arguments)}function Jh(b,m,_){return wr((0,j.m9)(b),Vl.credential(m,_))}function Ee(b,m,_){return an.apply(this,arguments)}function an(){return(an=(0,s.Z)(function*(b,m,_){const I=(0,j.m9)(b),A={requestType:"EMAIL_SIGNIN",email:m};oe(_.handleCodeInApp,I,"argument-error"),_&&wo(I,A,_),yield nn(I,A)})).apply(this,arguments)}function Xh(b,m){return"EMAIL_SIGNIN"===hi.parseLink(m)?.operation}function od(b,m,_){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,s.Z)(function*(b,m,_){const I=(0,j.m9)(b),A=Vl.credentialWithLink(m,_||ve());return oe(A._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),wr(I,A)})).apply(this,arguments)}function Gc(b,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:createAuthUri",At(b,m))})).apply(this,arguments)}function es(b,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,s.Z)(function*(b,m){const I={identifier:m,continueUri:De()?ve():"http://localhost"},{signinMethods:A}=yield Gc((0,j.m9)(b),I);return A||[]})).apply(this,arguments)}function ad(b,m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(b,m){const _=(0,j.m9)(b),A={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&wo(_.auth,A,m);const{email:F}=yield hn(_.auth,A);F!==b.email&&(yield b.reload())})).apply(this,arguments)}function ep(b,m,_){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,s.Z)(function*(b,m,_){const I=(0,j.m9)(b),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&wo(I.auth,F,_);const{email:ue}=yield jo(I.auth,F);ue!==b.email&&(yield b.reload())})).apply(this,arguments)}function qi(b,m){return sr.apply(this,arguments)}function sr(){return(sr=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ea(b,m){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,s.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const I=(0,j.m9)(b),F={idToken:yield I.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ue=yield wn(I,qi(I.auth,F));I.displayName=ue.displayName||null,I.photoURL=ue.photoUrl||null;const ke=I.providerData.find(({providerId:at})=>"password"===at);ke&&(ke.displayName=I.displayName,ke.photoURL=I.photoURL),yield I._updateTokensIfNecessary(ue)})).apply(this,arguments)}function no(b,m){return ta((0,j.m9)(b),m,null)}function ld(b,m){return ta((0,j.m9)(b),null,m)}function ta(b,m,_){return $c.apply(this,arguments)}function $c(){return($c=(0,s.Z)(function*(b,m,_){const{auth:I}=b,F={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(F.email=m),_&&(F.password=_);const ue=yield wn(b,rr(I,F));yield b._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class io{constructor(m,_,I={}){this.isNewUser=m,this.providerId=_,this.profile=I}}class Va extends io{constructor(m,_,I,A){super(m,_,I),this.username=A}}class np extends io{constructor(m,_){super(m,"facebook.com",_)}}class jc extends Va{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class cd extends io{constructor(m,_){super(m,"google.com",_)}}class ip extends Va{constructor(m,_,I){super(m,"twitter.com",_,I)}}function Zl(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function tp(b){var m,_;if(!b)return null;const{providerId:I}=b,A=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},F=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!I&&b?.idToken){const ue=null===(_=null===(m=Et(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ue)return new io(F,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!I)return null;switch(I){case"facebook.com":return new np(F,A);case"github.com":return new jc(F,A);case"google.com":return new cd(F,A);case"twitter.com":return new ip(F,A,b.screenName||null);case"custom":case"anonymous":return new io(F,null);default:return new io(F,I,A)}}(_)}class yn{constructor(m,_,I){this.type=m,this.credential=_,this.auth=I}static _fromIdtoken(m,_){return new yn("enroll",m,_)}static _fromMfaPendingCredential(m){return new yn("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,I;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return yn._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(I=m.multiFactorSession)&&void 0!==I&&I.idToken)return yn._fromIdtoken(m.multiFactorSession.idToken)}return null}}class hd{constructor(m,_,I){this.session=m,this.hints=_,this.signInResolver=I}static _fromError(m,_){const I=Pi(m),A=_.customData._serverResponse,F=(A.mfaInfo||[]).map(ke=>Ti._fromServerResponse(I,ke));oe(A.mfaPendingCredential,I,"internal-error");const ue=yn._fromMfaPendingCredential(A.mfaPendingCredential);return new hd(ue,F,function(){var ke=(0,s.Z)(function*(at){const It=yield at._process(I,ue);delete A.mfaInfo,delete A.mfaPendingCredential;const Yt=Object.assign(Object.assign({},A),{idToken:It.idToken,refreshToken:It.refreshToken});switch(_.operationType){case"signIn":const Cn=yield jr._fromIdTokenResponse(I,_.operationType,Yt);return yield I._updateCurrentUser(Cn.user),Cn;case"reauthenticate":return oe(_.user,I,"internal-error"),jr._forOperation(_.user,_.operationType,Yt);default:Fe(I,"internal-error")}});return function(at){return ke.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,s.Z)(function*(){return _.signInResolver(m)})()}}function rp(b,m){var _;const I=(0,j.m9)(b),A=m;return oe(m.customData.operationType,I,"argument-error"),oe(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,I,"argument-error"),hd._fromError(I,A)}function Ki(b,m){return dt(b,"POST","/v2/accounts/mfaEnrollment:start",At(b,m))}class pd{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(I=>Ti._fromServerResponse(m.auth,I)))})}static _fromUser(m){return new pd(m)}getSession(){var m=this;return(0,s.Z)(function*(){return yn._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var I=this;return(0,s.Z)(function*(){const A=m,F=yield I.getSession(),ue=yield wn(I.user,A._process(I.user.auth,F,_));return yield I.user._updateTokensIfNecessary(ue),I.user.reload()})()}unenroll(m){var _=this;return(0,s.Z)(function*(){const I="string"==typeof m?m:m.uid,A=yield _.user.getIdToken();try{const F=yield wn(_.user,function Vg(b,m){return dt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",At(b,m))}(_.user.auth,{idToken:A,mfaEnrollmentId:I}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ue})=>ue!==I),yield _.user._updateTokensIfNecessary(F),yield _.user.reload()}catch(F){throw F}})()}}const Ba=new WeakMap;function na(b){const m=(0,j.m9)(b);return Ba.has(m)||Ba.set(m,pd._fromUser(m)),Ba.get(m)}const Bs="__sak";class ws{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Bs,"1"),this.storage.removeItem(Bs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ir=(()=>{class b extends ws{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,I)=>this.onStorageEvent(_,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fd(){const b=(0,j.z$)();return B(b)||vt(b)}()&&function Oc(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ir(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const I of Object.keys(this.listeners)){const A=this.storage.getItem(I),F=this.localCache[I];A!==F&&_(I,F,A)}}onStorageEvent(_,I=!1){if(!_.key)return void this.forAllChangedKeys((ke,at,It)=>{this.notifyListeners(ke,It)});const A=_.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(A);if(_.newValue!==ke)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!I)return}const F=()=>{const ke=this.storage.getItem(A);!I&&this.localCache[A]===ke||this.notifyListeners(A,ke)},ue=this.storage.getItem(A);!function Gt(){return(0,j.w1)()&&10===document.documentMode}()||ue===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,I){this.localCache[_]=I;const A=this.listeners[_];if(A)for(const F of Array.from(A))F(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,I,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:I,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,I){var A=()=>super._set,F=this;return(0,s.Z)(function*(){yield A().call(F,_,I),F.localCache[_]=JSON.stringify(I)})()}_get(_){var I=()=>super._get,A=this;return(0,s.Z)(function*(){const F=yield I().call(A,_);return A.localCache[_]=JSON.stringify(F),F})()}_remove(_){var I=()=>super._remove,A=this;return(0,s.Z)(function*(){yield I().call(A,_),delete A.localCache[_]})()}}return b.type="LOCAL",b})(),Ha=(()=>{class b extends ws{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,I){}_removeListener(_,I){}}return b.type="SESSION",b})();let Ga=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const I=this.receivers.find(F=>F.isListeningto(_));if(I)return I;const A=new b(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var I=this;return(0,s.Z)(function*(){const A=_,{eventId:F,eventType:ue,data:ke}=A.data,at=I.handlersMap[ue];if(!at?.size)return;A.ports[0].postMessage({status:"ack",eventId:F,eventType:ue});const It=Array.from(at).map(function(){var Cn=(0,s.Z)(function*(ss){return ss(A.origin,ke)});return function(ss){return Cn.apply(this,arguments)}}()),Yt=yield function Bg(b){return Promise.all(b.map(function(){var m=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(I){return{fulfilled:!1,reason:I}}});return function(_){return m.apply(this,arguments)}}()))}(It);A.ports[0].postMessage({status:"done",eventId:F,eventType:ue,response:Yt})})()}_subscribe(_,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(I)}_unsubscribe(_,I){this.handlersMap[_]&&I&&this.handlersMap[_].delete(I),(!I||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ro(b="",m=10){let _="";for(let I=0;I<m;I++)_+=Math.floor(10*Math.random());return b+_}class op{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,I=50){var A=this;return(0,s.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let ue,ke;return new Promise((at,It)=>{const Yt=ro("",20);F.port1.start();const Cn=setTimeout(()=>{It(new Error("unsupported_event"))},I);ke={messageChannel:F,onMessage(ss){const os=ss;if(os.data.eventId===Yt)switch(os.data.status){case"ack":clearTimeout(Cn),ue=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),at(os.data.response);break;default:clearTimeout(Cn),clearTimeout(ue),It(new Error("invalid_response"))}}},A.handlers.add(ke),F.port1.addEventListener("message",ke.onMessage),A.target.postMessage({eventType:m,eventId:Yt,data:_},[F.port2])}).finally(()=>{ke&&A.removeMessageHandler(ke)})})()}}function Kn(){return window}function Eo(){return typeof Kn().WorkerGlobalScope<"u"&&"function"==typeof Kn().importScripts}function ts(){return(ts=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ja="firebaseLocalStorageDb",Co="firebaseLocalStorage",ra="fbase_key";class Ts{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function sa(b,m){return b.transaction([Co],m?"readwrite":"readonly").objectStore(Co)}function so(){const b=indexedDB.open(ja,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const I=b.result;try{I.createObjectStore(Co,{keyPath:ra})}catch(A){_(A)}}),b.addEventListener("success",(0,s.Z)(function*(){const I=b.result;I.objectStoreNames.contains(Co)?m(I):(I.close(),yield function za(){const b=indexedDB.deleteDatabase(ja);return new Ts(b).toPromise()}(),m(yield so()))}))})}function gd(b,m,_){return or.apply(this,arguments)}function or(){return(or=(0,s.Z)(function*(b,m,_){const I=sa(b,!0).put({[ra]:m,value:_});return new Ts(I).toPromise()})).apply(this,arguments)}function oo(){return(oo=(0,s.Z)(function*(b,m){const _=sa(b,!1).get(m),I=yield new Ts(_).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function oa(b,m){const _=sa(b,!0).delete(m);return new Ts(_).toPromise()}const Kl=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield so()),_.db})()}_withRetries(_){var I=this;return(0,s.Z)(function*(){let A=0;for(;;)try{const F=yield I._openDb();return yield _(F)}catch(F){if(A++>3)throw F;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return Eo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=Ga._getInstance(function Wc(){return Eo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var I=(0,s.Z)(function*(A,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(A,F){return I.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var I=(0,s.Z)(function*(A,F){return["keyChanged"]});return function(A,F){return I.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var I,A;if(_.activeServiceWorker=yield function $a(){return ts.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new op(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);F&&null!==(I=F[0])&&void 0!==I&&I.fulfilled&&null!==(A=F[0])&&void 0!==A&&A.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var I=this;return(0,s.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function zc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:_},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield so();return yield gd(_,Bs,"1"),yield oa(_,Bs),!0}catch{}return!1})()}_withPendingWrite(_){var I=this;return(0,s.Z)(function*(){I.pendingWrites++;try{yield _()}finally{I.pendingWrites--}})()}_set(_,I){var A=this;return(0,s.Z)(function*(){return A._withPendingWrite((0,s.Z)(function*(){return yield A._withRetries(F=>gd(F,_,I)),A.localCache[_]=I,A.notifyServiceWorker(_)}))})()}_get(_){var I=this;return(0,s.Z)(function*(){const A=yield I._withRetries(F=>function md(b,m){return oo.apply(this,arguments)}(F,_));return I.localCache[_]=A,A})()}_remove(_){var I=this;return(0,s.Z)(function*(){return I._withPendingWrite((0,s.Z)(function*(){return yield I._withRetries(A=>oa(A,_)),delete I.localCache[_],I.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const I=yield _._withRetries(ue=>{const ke=sa(ue,!1).getAll();return new Ts(ke).toPromise()});if(!I)return[];if(0!==_.pendingWrites)return[];const A=[],F=new Set;for(const{fbase_key:ue,value:ke}of I)F.add(ue),JSON.stringify(_.localCache[ue])!==JSON.stringify(ke)&&(_.notifyListeners(ue,ke),A.push(ue));for(const ue of Object.keys(_.localCache))_.localCache[ue]&&!F.has(ue)&&(_.notifyListeners(ue,null),A.push(ue));return A})()}notifyListeners(_,I){this.localCache[_]=I;const A=this.listeners[_];if(A)for(const F of Array.from(A))F(I)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function yd(b,m){return dt(b,"POST","/v2/accounts/mfaSignIn:start",At(b,m))}function ns(){return(ns=(0,s.Z)(function*(b){return(yield dt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Za(b){return new Promise((m,_)=>{const I=document.createElement("script");I.setAttribute("src",b),I.onload=m,I.onerror=A=>{const F=Le("internal-error");F.customData=A,_(F)},I.type="text/javascript",I.charset="UTF-8",function Kc(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(I)})}function is(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Er=1e12;class ao{constructor(m){this.auth=m,this.counter=Er,this._widgets=new Map}render(m,_){const I=this.counter;return this._widgets.set(I,new lp(m,this.auth.name,_||{})),this.counter++,I}reset(m){var _;const I=m||Er;null===(_=this._widgets.get(I))||void 0===_||_.delete(),this._widgets.delete(I)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Er))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,s.Z)(function*(){var I;return null===(I=_._widgets.get(m||Er))||void 0===I||I.execute(),""})()}}class lp{constructor(m,_,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof m?document.getElementById(m):m;oe(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qc(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<b;I++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const la=is("rcb"),cp=new Tt(3e4,6e4);class Jc{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Kn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return oe(function Do(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Kn().grecaptcha):new Promise((I,A)=>{const F=Kn().setTimeout(()=>{A(Le(m,"network-request-failed"))},cp.get());Kn()[la]=()=>{Kn().clearTimeout(F),delete Kn()[la];const ke=Kn().grecaptcha;if(!ke)return void A(Le(m,"internal-error"));const at=ke.render;ke.render=(It,Yt)=>{const Cn=at(It,Yt);return this.counter++,Cn},this.hostLanguage=_,I(ke)},Za(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:la,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),A(Le(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Kn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qa{load(m){return(0,s.Z)(function*(){return new ao(m)})()}clearedOneInstance(){}}const So="recaptcha",dp={theme:"light",type:"image"};class bd{constructor(m,_=Object.assign({},dp),I){this.parameters=_,this.type=So,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pi(I),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof m?document.getElementById(m):m;oe(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qa:new Jc,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),I=m.getAssertedRecaptcha();return I.getResponse(_)||new Promise(F=>{const ue=ke=>{ke&&(m.tokenChangeListeners.delete(ue),F(ke))};m.tokenChangeListeners.add(ue),m.isInvisible&&I.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(I=>I(_)),"function"==typeof m)m(_);else if("string"==typeof m){const I=Kn()[m];"function"==typeof I&&I(_)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const I=document.createElement("div");_.appendChild(I),_=I}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){oe(De()&&!Eo(),m.auth,"internal-error"),yield function Yl(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function ap(b){return ns.apply(this,arguments)}(m.auth);oe(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hp{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Ps._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function pp(b,m,_){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(b,m,_){const I=Pi(b),A=yield Id(I,m,(0,j.m9)(_));return new hp(A,F=>wr(I,F))})).apply(this,arguments)}function fp(b,m,_){return wd.apply(this,arguments)}function wd(){return(wd=(0,s.Z)(function*(b,m,_){const I=(0,j.m9)(b);yield vo(!1,I,"phone");const A=yield Id(I.auth,m,(0,j.m9)(_));return new hp(A,F=>Vc(I,F))})).apply(this,arguments)}function Td(b,m,_){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(b,m,_){const I=(0,j.m9)(b),A=yield Id(I.auth,m,(0,j.m9)(_));return new hp(A,F=>Bc(I,F))})).apply(this,arguments)}function Id(b,m,_){return gp.apply(this,arguments)}function gp(){return(gp=(0,s.Z)(function*(b,m,_){var I;const A=yield _.verify();try{let F;if(oe("string"==typeof A,b,"argument-error"),oe(_.type===So,b,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const ue=F.session;if("phoneNumber"in F)return oe("enroll"===ue.type,b,"internal-error"),(yield Ki(b,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{oe("signin"===ue.type,b,"internal-error");const ke=(null===(I=F.multiFactorHint)||void 0===I?void 0:I.uid)||F.multiFactorUid;return oe(ke,b,"missing-multi-factor-info"),(yield yd(b,{mfaPendingCredential:ue.credential,mfaEnrollmentId:ke,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield Rc(b,{phoneNumber:F.phoneNumber,recaptchaToken:A});return ue}}finally{_._reset()}})).apply(this,arguments)}function by(b,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,s.Z)(function*(b,m){yield qo((0,j.m9)(b),m)})).apply(this,arguments)}let wy=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Pi(_)}verifyPhoneNumber(_,I){return Id(this.auth,_,(0,j.m9)(I))}static credential(_,I){return Ps._fromVerification(_,I)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:I,temporaryProof:A}=_;return I&&A?Ps._fromTokenResponse(I,A):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ka(b,m){return m?W(m):(oe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ri extends Rn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return En(m,this._buildIdpRequest())}_linkToIdToken(m,_){return En(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return En(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Ed(b){return ka(b.auth,new ri(b),b.bypassAuthState)}function Ql(b){const{auth:m,user:_}=b;return oe(_,m,"internal-error"),Gl(_,new ri(b),b.bypassAuthState)}function eu(b){return ar.apply(this,arguments)}function ar(){return(ar=(0,s.Z)(function*(b){const{auth:m,user:_}=b;return oe(_,m,"internal-error"),qo(_,new ri(b),b.bypassAuthState)})).apply(this,arguments)}class Us{constructor(m,_,I,A,F=!1){this.auth=m,this.resolver=I,this.user=A,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,s.Z)(function*(I,A){m.pendingPromise={resolve:I,reject:A};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(I,A){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,s.Z)(function*(){const{urlResponse:I,sessionId:A,postBody:F,tenantId:ue,error:ke,type:at}=m;if(ke)return void _.reject(ke);const It={auth:_.auth,requestUri:I,sessionId:A,tenantId:ue||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(at)(It))}catch(Yt){_.reject(Yt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Ed;case"linkViaPopup":case"linkViaRedirect":return eu;case"reauthViaPopup":case"reauthViaRedirect":return Ql;default:Fe(this.auth,"internal-error")}}resolve(m){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tu=new Tt(2e3,1e4);function Ya(b,m,_){return lo.apply(this,arguments)}function lo(){return(lo=(0,s.Z)(function*(b,m,_){const I=Pi(b);ye(b,m,ks);const A=Ka(I,_);return new Cr(I,"signInViaPopup",m,A).executeNotNull()})).apply(this,arguments)}function Cd(b,m,_){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,s.Z)(function*(b,m,_){const I=(0,j.m9)(b);ye(I.auth,m,ks);const A=Ka(I.auth,_);return new Cr(I.auth,"reauthViaPopup",m,A,I).executeNotNull()})).apply(this,arguments)}function Ug(b,m,_){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,s.Z)(function*(b,m,_){const I=(0,j.m9)(b);ye(I.auth,m,ks);const A=Ka(I.auth,_);return new Cr(I.auth,"linkViaPopup",m,A,I).executeNotNull()})).apply(this,arguments)}let Cr=(()=>{class b extends Us{constructor(_,I,A,F,ue){super(_,I,F,ue),this.provider=A,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const I=yield _.execute();return oe(I,_.auth,"internal-error"),I})()}onExecution(){var _=this;return(0,s.Z)(function*(){re(1===_.filter.length,"Popup operations only handle one event");const I=ro();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],I),_.authWindow.associatedEvent=I,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(Le(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var I,A;this.pollId=null!==(A=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,tu.get())};_()}}return b.currentPopupAction=null,b})();const $n=new Map;class gt extends Us{constructor(m,_,I=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,I),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,s.Z)(function*(){let I=$n.get(_.auth._key());if(!I){try{const F=(yield function vn(b,m){return si.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;I=()=>Promise.resolve(F)}catch(A){I=()=>Promise.reject(A)}$n.set(_.auth._key(),I)}return _.bypassAuthState||$n.set(_.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,I=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(I,m);if("unknown"!==m.type){if(m.eventId){const A=yield I.auth._redirectUserForId(m.eventId);if(A)return I.user=A,_().call(I,m);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function si(){return(si=(0,s.Z)(function*(b,m){const _=Qa(m),I=_p(b);if(!(yield I._isAvailable()))return!1;const A="true"===(yield I._get(_));return yield I._remove(_),A})).apply(this,arguments)}function Hs(b,m){return ua.apply(this,arguments)}function ua(){return(ua=(0,s.Z)(function*(b,m){return _p(b)._set(Qa(m),"true")})).apply(this,arguments)}function jn(){$n.clear()}function mp(b,m){$n.set(b._key(),m)}function _p(b){return W(b._redirectPersistence)}function Qa(b){return z("pendingRedirect",b.config.apiKey,b.name)}function Jl(b,m,_){return function Xl(b,m,_){return da.apply(this,arguments)}(b,m,_)}function da(){return(da=(0,s.Z)(function*(b,m,_){const I=Pi(b);ye(b,m,ks),yield I._initializationPromise;const A=Ka(I,_);return yield Hs(A,I),A._openRedirect(I,m,"signInViaRedirect")})).apply(this,arguments)}function C(b,m,_){return function D(b,m,_){return O.apply(this,arguments)}(b,m,_)}function O(){return(O=(0,s.Z)(function*(b,m,_){const I=(0,j.m9)(b);ye(I.auth,m,ks),yield I.auth._initializationPromise;const A=Ka(I.auth,_);yield Hs(A,I.auth);const F=yield qt(I);return A._openRedirect(I.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function $(b,m,_){return function se(b,m,_){return de.apply(this,arguments)}(b,m,_)}function de(){return(de=(0,s.Z)(function*(b,m,_){const I=(0,j.m9)(b);ye(I.auth,m,ks),yield I.auth._initializationPromise;const A=Ka(I.auth,_);yield vo(!1,I,m.providerId),yield Hs(A,I.auth);const F=yield qt(I);return A._openRedirect(I.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function Se(b,m){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(b,m){return yield Pi(b)._initializationPromise,mt(b,m,!1)})).apply(this,arguments)}function mt(b,m){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(b,m,_=!1){const I=Pi(b),A=Ka(I,m),ue=yield new gt(I,A,_).execute();return ue&&!_&&(delete ue.user._redirectEventId,yield I._persistUserIfCurrent(ue.user),yield I._setRedirectUser(null,m)),ue})).apply(this,arguments)}function qt(b){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,s.Z)(function*(b){const m=ro(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Fn{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(m,I)&&(_=!0,this.sendToConsumer(m,I),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Ja(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ec(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var I;if(m.error&&!ec(m)){const A=(null===(I=m.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";_.onError(Le(this.auth,A))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const I=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&I}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lr(m))}saveEventToCache(m){this.cachedEventUids.add(lr(m)),this.lastProcessedEventTime=Date.now()}}function lr(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function ec({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Yn(b){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,s.Z)(function*(b,m={}){return dt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yp=/^https?/;function tc(){return(tc=(0,s.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Yn(b);for(const _ of m)try{if(Ty(_))return}catch{}Fe(b,"unauthorized-domain")})).apply(this,arguments)}function Ty(b){const m=ve(),{protocol:_,hostname:I}=new URL(m);if(b.startsWith("chrome-extension://")){const ue=new URL(b);return""===ue.hostname&&""===I?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ue.hostname===I}if(!yp.test(_))return!1;if(Sr.test(b))return I===b;const A=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(I)}const pi=new Tt(3e4,6e4);function Li(){const b=Kn().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ln=null;function Vi(b){return Ln=Ln||function Xa(b){return new Promise((m,_)=>{var I,A,F;function ue(){Li(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Li(),_(Le(b,"network-request-failed"))},timeout:pi.get()})}if(null!==(A=null===(I=Kn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==A&&A.Iframe)m(gapi.iframes.getContext());else{if(null===(F=Kn().gapi)||void 0===F||!F.load){const ke=is("iframefcb");return Kn()[ke]=()=>{gapi.load?ue():_(Le(b,"network-request-failed"))},Za(`https://apis.google.com/js/api.js?onload=${ke}`).catch(at=>_(at))}ue()}}).catch(m=>{throw Ln=null,m})}(b),Ln}const vp=new Tt(5e3,15e3),ha={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},el=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cr(b){const m=b.config;oe(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?kt(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,I={apiKey:m.apiKey,appName:b.name,v:k.SDK_VERSION},A=el.get(b.config.apiHost);A&&(I.eid=A);const F=b._getFrameworks();return F.length&&(I.fw=F.join(",")),`${_}?${(0,j.xO)(I).slice(1)}`}function Hg(){return Hg=(0,s.Z)(function*(b){const m=yield Vi(b),_=Kn().gapi;return oe(_,b,"internal-error"),m.open({where:document.body,url:cr(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ha,dontclear:!0},I=>new Promise(function(){var A=(0,s.Z)(function*(F,ue){yield I.restyle({setHideOnLeave:!1});const ke=Le(b,"network-request-failed"),at=Kn().setTimeout(()=>{ue(ke)},vp.get());function It(){Kn().clearTimeout(at),F(I)}I.ping(It).then(It,()=>{ue(ke)})});return function(F,ue){return A.apply(this,arguments)}}()))}),Hg.apply(this,arguments)}const nu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class iu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Md(b,m,_,I,A,F){oe(b.config.authDomain,b,"auth-domain-config-required"),oe(b.config.apiKey,b,"invalid-api-key");const ue={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:I,v:k.SDK_VERSION,eventId:A};if(m instanceof ks){m.setDefaultLanguage(b.languageCode),ue.providerId=m.providerId||"",(0,j.xb)(m.getCustomParameters())||(ue.customParameters=JSON.stringify(m.getCustomParameters()));for(const[at,It]of Object.entries(F||{}))ue[at]=It}if(m instanceof zo){const at=m.getScopes().filter(It=>""!==It);at.length>0&&(ue.scopes=at.join(","))}b.tenantId&&(ue.tid=b.tenantId);const ke=ue;for(const at of Object.keys(ke))void 0===ke[at]&&delete ke[at];return`${function Tp({config:b}){return b.emulator?kt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(ke).slice(1)}`}const Is="webStorageSupport",Ip=class $g{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ha,this._completeRedirectFn=mt,this._overrideRedirectResult=mp}_openPopup(m,_,I,A){var F=this;return(0,s.Z)(function*(){var ue;re(null===(ue=F.eventManagers[m._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const ke=Md(m,_,I,ve(),A);return function $t(b,m,_,I=500,A=600){const F=Math.max((window.screen.availHeight-A)/2,0).toString(),ue=Math.max((window.screen.availWidth-I)/2,0).toString();let ke="";const at=Object.assign(Object.assign({},nu),{width:I.toString(),height:A.toString(),top:F,left:ue}),It=(0,j.z$)().toLowerCase();_&&(ke=fe(It)?"_blank":_),P(It)&&(m=m||"http://localhost",at.scrollbars="yes");const Yt=Object.entries(at).reduce((ss,[os,ou])=>`${ss}${os}=${ou},`,"");if(function Ni(b=(0,j.z$)()){var m;return vt(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(It)&&"_self"!==ke)return function ru(b,m){const _=document.createElement("a");_.href=b,_.target=m;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(I)}(m||"",ke),new iu(null);const Cn=window.open(m||"",ke,Yt);oe(Cn,b,"popup-blocked");try{Cn.focus()}catch{}return new iu(Cn)}(m,ke,ro())})()}_openRedirect(m,_,I,A){var F=this;return(0,s.Z)(function*(){return yield F._originValidation(m),function Io(b){Kn().location.href=b}(Md(m,_,I,ve(),A)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:A,promise:F}=this.eventManagers[_];return A?Promise.resolve(A):(re(F,"If manager is not set, promise should be"),F)}const I=this.initAndGetManager(m);return this.eventManagers[_]={promise:I},I.catch(()=>{delete this.eventManagers[_]}),I}initAndGetManager(m){var _=this;return(0,s.Z)(function*(){const I=yield function tl(b){return Hg.apply(this,arguments)}(m),A=new Fn(m);return I.register("authEvent",F=>(oe(F?.authEvent,m,"invalid-auth-event"),{status:A.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:A},_.iframes[m._key()]=I,A})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Is,{type:Is},A=>{var F;const ue=null===(F=A?.[0])||void 0===F?void 0:F[Is];void 0!==ue&&_(!!ue),Fe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Yi(b){return tc.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ir()||B()||vt()}};class Ep{constructor(m){this.factorId=m}_process(m,_,I){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,I);case"signin":return this._finalizeSignIn(m,_.credential);default:return ne("unexpected MultiFactorSessionType")}}}class jg extends Ep{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new jg(m)}_finalizeEnroll(m,_,I){return function sp(b,m){return dt(b,"POST","/v2/accounts/mfaEnrollment:finalize",At(b,m))}(m,{idToken:_,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function aa(b,m){return dt(b,"POST","/v2/accounts/mfaSignIn:finalize",At(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ur=(()=>{class b{constructor(){}static assertion(_){return jg._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var oi="@firebase/auth";class zg{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(I=>{m(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function dr(b){(0,k._registerComponent)(new ae.wA("auth",(m,{options:_})=>{const I=m.getProvider("app").getImmediate(),A=m.getProvider("heartbeat"),{apiKey:F,authDomain:ue}=I.options;return((ke,at)=>{oe(F&&!F.includes(":"),"invalid-api-key",{appName:ke.name}),oe(!ue?.includes(":"),"argument-error",{appName:ke.name});const It={apiKey:F,authDomain:ue,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ho(b)},Yt=new Pc(ke,at,It);return function X(b,m){const _=m?.persistence||[],I=(Array.isArray(_)?_:[_]).map(W);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(I,m?.popupRedirectResolver)}(Yt,_),Yt})(I,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,I)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new ae.wA("auth-internal",m=>{const _=Pi(m.getProvider("auth").getImmediate());return new zg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(oi,"0.21.3",function Od(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(oi,"0.21.3","esm2017")}("Browser")},2090:(pt,Me,L)=>{"use strict";L.d(Me,{$s:()=>it,BH:()=>Ce,G6:()=>Xe,L:()=>pe,LL:()=>en,Pz:()=>Le,Sg:()=>ye,UG:()=>ne,US:()=>ae,ZB:()=>q,ZR:()=>ft,aH:()=>Fe,b$:()=>W,eu:()=>Ht,hl:()=>St,jU:()=>re,m9:()=>sn,ne:()=>vr,pd:()=>ci,r3:()=>Kr,ru:()=>H,tV:()=>we,uI:()=>oe,vZ:()=>bn,w1:()=>X,xO:()=>Oi,xb:()=>Nr,z$:()=>Ge,zI:()=>Tt,zd:()=>zi});const le=function(K){const z=[];let ee=0;for(let G=0;G<K.length;G++){let P=K.charCodeAt(G);P<128?z[ee++]=P:P<2048?(z[ee++]=P>>6|192,z[ee++]=63&P|128):55296==(64512&P)&&G+1<K.length&&56320==(64512&K.charCodeAt(G+1))?(P=65536+((1023&P)<<10)+(1023&K.charCodeAt(++G)),z[ee++]=P>>18|240,z[ee++]=P>>12&63|128,z[ee++]=P>>6&63|128,z[ee++]=63&P|128):(z[ee++]=P>>12|224,z[ee++]=P>>6&63|128,z[ee++]=63&P|128)}return z},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,z){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let P=0;P<K.length;P+=3){const B=K[P],fe=P+1<K.length,Ve=fe?K[P+1]:0,ht=P+2<K.length,Je=ht?K[P+2]:0;let Dn=(15&Ve)<<2|Je>>6,Ni=63&Je;ht||(Ni=64,fe||(Dn=64)),G.push(ee[B>>2],ee[(3&B)<<4|Ve>>4],ee[Dn],ee[Ni])}return G.join("")},encodeString(K,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(K):this.encodeByteArray(le(K),z)},decodeString(K,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(K):function(K){const z=[];let ee=0,G=0;for(;ee<K.length;){const P=K[ee++];if(P<128)z[G++]=String.fromCharCode(P);else if(P>191&&P<224){const B=K[ee++];z[G++]=String.fromCharCode((31&P)<<6|63&B)}else if(P>239&&P<365){const ht=((7&P)<<18|(63&K[ee++])<<12|(63&K[ee++])<<6|63&K[ee++])-65536;z[G++]=String.fromCharCode(55296+(ht>>10)),z[G++]=String.fromCharCode(56320+(1023&ht))}else{const B=K[ee++],fe=K[ee++];z[G++]=String.fromCharCode((15&P)<<12|(63&B)<<6|63&fe)}}return z.join("")}(this.decodeStringToByteArray(K,z))},decodeStringToByteArray(K,z){this.init_();const ee=z?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let P=0;P<K.length;){const B=ee[K.charAt(P++)],Ve=P<K.length?ee[K.charAt(P)]:0;++P;const Je=P<K.length?ee[K.charAt(P)]:64;++P;const vt=P<K.length?ee[K.charAt(P)]:64;if(++P,null==B||null==Ve||null==Je||null==vt)throw Error();G.push(B<<2|Ve>>4),64!==Je&&(G.push(Ve<<4&240|Je>>2),64!==vt&&G.push(Je<<6&192|vt))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},pe=function(K){return function(K){const z=le(K);return ae.encodeByteArray(z,!0)}(K).replace(/\./g,"")},we=function(K){try{return ae.decodeString(K,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function q(K,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return z}for(const ee in z)!z.hasOwnProperty(ee)||!ie(ee)||(K[ee]=q(K[ee],z[ee]));return K}function ie(K){return"__proto__"!==K}const be=()=>{try{return function ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=K&&we(K[1]);return z&&JSON.parse(z)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Fe=()=>{var K;return null===(K=be())||void 0===K?void 0:K.config},Le=K=>{var z;return null===(z=be())||void 0===z?void 0:z[`_${K}`]};class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,ee)=>{this.resolve=z,this.reject=ee})}wrapCallback(z){return(ee,G)=>{ee?this.reject(ee):this.resolve(G),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(ee):z(ee,G))}}}function ye(K,z){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=z||"demo-project",P=K.iat||0,B=K.sub||K.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const fe=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:P,exp:P+3600,auth_time:P,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},K);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(fe)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function ne(){var K;const z=null===(K=be())||void 0===K?void 0:K.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function re(){return"object"==typeof self&&self.self===self}function H(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function W(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function X(){const K=Ge();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Xe(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function St(){try{return"object"==typeof indexedDB}catch{return!1}}function Ht(){return new Promise((K,z)=>{try{let ee=!0;const G="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(G);P.onsuccess=()=>{P.result.close(),ee||self.indexedDB.deleteDatabase(G),K(!0)},P.onupgradeneeded=()=>{ee=!1},P.onerror=()=>{var B;z((null===(B=P.error)||void 0===B?void 0:B.message)||"")}}catch(ee){z(ee)}})}function Tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ft extends Error{constructor(z,ee,G){super(ee),this.code=z,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}}class en{constructor(z,ee,G){this.service=z,this.serviceName=ee,this.errors=G}create(z,...ee){const G=ee[0]||{},P=`${this.service}/${z}`,B=this.errors[z],fe=B?function Sn(K,z){return K.replace(At,(ee,G)=>{const P=z[G];return null!=P?String(P):`<${G}?>`})}(B,G):"Error";return new ft(P,`${this.serviceName}: ${fe} (${P}).`,G)}}const At=/\{\$([^}]+)}/g;function Kr(K,z){return Object.prototype.hasOwnProperty.call(K,z)}function Nr(K){for(const z in K)if(Object.prototype.hasOwnProperty.call(K,z))return!1;return!0}function bn(K,z){if(K===z)return!0;const ee=Object.keys(K),G=Object.keys(z);for(const P of ee){if(!G.includes(P))return!1;const B=K[P],fe=z[P];if(Mi(B)&&Mi(fe)){if(!bn(B,fe))return!1}else if(B!==fe)return!1}for(const P of G)if(!ee.includes(P))return!1;return!0}function Mi(K){return null!==K&&"object"==typeof K}function Oi(K){const z=[];for(const[ee,G]of Object.entries(K))Array.isArray(G)?G.forEach(P=>{z.push(encodeURIComponent(ee)+"="+encodeURIComponent(P))}):z.push(encodeURIComponent(ee)+"="+encodeURIComponent(G));return z.length?"&"+z.join("&"):""}function zi(K){const z={};return K.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[P,B]=G.split("=");z[decodeURIComponent(P)]=decodeURIComponent(B)}}),z}function ci(K){const z=K.indexOf("?");if(!z)return"";const ee=K.indexOf("#",z);return K.substring(z,ee>0?ee:void 0)}function vr(K,z){const ee=new Ut(K,z);return ee.subscribe.bind(ee)}class Ut{constructor(z,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{z(this)}).catch(G=>{this.error(G)})}next(z){this.forEachObserver(ee=>{ee.next(z)})}error(z){this.forEachObserver(ee=>{ee.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,ee,G){let P;if(void 0===z&&void 0===ee&&void 0===G)throw new Error("Missing Observer.");P=function Lt(K,z){if("object"!=typeof K||null===K)return!1;for(const ee of z)if(ee in K&&"function"==typeof K[ee])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:ee,complete:G},void 0===P.next&&(P.next=wn),void 0===P.error&&(P.error=wn),void 0===P.complete&&(P.complete=wn);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),B}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,z)}sendOne(z,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{ee(this.observers[z])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}function it(K,z=1e3,ee=2){const G=z*Math.pow(ee,K),P=Math.round(.5*G*(Math.random()-.5)*2);return Math.min(144e5,G+P)}function sn(K){return K&&K._delegate?K._delegate:K}},5363:(pt,Me,L)=>{"use strict";var s=L(4650);let j=null;function k(){return j}class he{}const ae=new s.OlP("DocumentToken");let Ie=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function pe(){return(0,s.LFG)(Z)}()},providedIn:"platform"}),n})();const we=new s.OlP("Location Initialized");let Z=(()=>{class n extends Ie{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){q()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){q()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ie(){return new Z((0,s.LFG)(ae))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function ze(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Re(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let st=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Oe)},providedIn:"root"}),n})();const be=new s.OlP("appBaseHref");let Oe=(()=>{class n extends st{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ze(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Qe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+Qe(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+Qe(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ie),s.LFG(be,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n extends st{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ze(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+Qe(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+Qe(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ie),s.LFG(be,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Re(ye(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Qe(i))}normalize(e){return n.stripTrailingSlash(function Ce(n,t){return n&&new RegExp(`^${n}([/;?#]|$)`).test(t)?t.substring(n.length):t}(this._basePath,ye(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Qe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=ze,n.stripTrailingSlash=Re,n.\u0275fac=function(e){return new(e||n)(s.LFG(st))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Le(){return new Fe((0,s.LFG)(st))}()},providedIn:"root"}),n})();function ye(n){return n.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Percent=1]="Percent",ne[ne.Currency=2]="Currency",ne[ne.Scientific=3]="Scientific",ne))(),H=(()=>((H=H||{})[H.Format=0]="Format",H[H.Standalone=1]="Standalone",H))(),W=(()=>((W=W||{})[W.Narrow=0]="Narrow",W[W.Abbreviated=1]="Abbreviated",W[W.Wide=2]="Wide",W[W.Short=3]="Short",W))(),Q=(()=>((Q=Q||{})[Q.Short=0]="Short",Q[Q.Medium=1]="Medium",Q[Q.Long=2]="Long",Q[Q.Full=3]="Full",Q))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function en(n,t){return bn((0,s.cg1)(n)[s.wAp.DateFormat],t)}function Sn(n,t){return bn((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function At(n,t){return bn((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function dt(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===X.CurrencyDecimal)return e[s.wAp.NumberSymbols][X.Decimal];if(t===X.CurrencyGroup)return e[s.wAp.NumberSymbols][X.Group]}return i}function Kr(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Mi(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ci=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ui={},vr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ut=(()=>((Ut=Ut||{})[Ut.Short=0]="Short",Ut[Ut.ShortGMT=1]="ShortGMT",Ut[Ut.Long=2]="Long",Ut[Ut.Extended=3]="Extended",Ut))(),Et=(()=>((Et=Et||{})[Et.FullYear=0]="FullYear",Et[Et.Month=1]="Month",Et[Et.Date=2]="Date",Et[Et.Hours=3]="Hours",Et[Et.Minutes=4]="Minutes",Et[Et.Seconds=5]="Seconds",Et[Et.FractionalSeconds=6]="FractionalSeconds",Et[Et.Day=7]="Day",Et))(),Lt=(()=>((Lt=Lt||{})[Lt.DayPeriods=0]="DayPeriods",Lt[Lt.Days=1]="Days",Lt[Lt.Months=2]="Months",Lt[Lt.Eras=3]="Eras",Lt))();function wn(n,t,e,i){let r=function B(n){if(Ve(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return vi(r,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(ci))return function fe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,g=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,h,g,y),t}(i)}const t=new Date(n);if(!Ve(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Hn(e,t)||t;let h,u=[];for(;t;){if(h=vr.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const w=u.pop();if(!w)break;t=w}}let g=r.getTimezoneOffset();i&&(g=ee(i,g),r=function P(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function G(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ee(t,r)-r))}(r,i,!0));let y="";return u.forEach(w=>{const S=function z(n){if(K[n])return K[n];let t;switch(n){case"G":case"GG":case"GGG":t=tn(Lt.Eras,W.Abbreviated);break;case"GGGG":t=tn(Lt.Eras,W.Wide);break;case"GGGGG":t=tn(Lt.Eras,W.Narrow);break;case"y":t=Kt(Et.FullYear,1,0,!1,!0);break;case"yy":t=Kt(Et.FullYear,2,0,!0,!0);break;case"yyy":t=Kt(Et.FullYear,3,0,!1,!0);break;case"yyyy":t=Kt(Et.FullYear,4,0,!1,!0);break;case"Y":t=sn(1);break;case"YY":t=sn(2,!0);break;case"YYY":t=sn(3);break;case"YYYY":t=sn(4);break;case"M":case"L":t=Kt(Et.Month,1,1);break;case"MM":case"LL":t=Kt(Et.Month,2,1);break;case"MMM":t=tn(Lt.Months,W.Abbreviated);break;case"MMMM":t=tn(Lt.Months,W.Wide);break;case"MMMMM":t=tn(Lt.Months,W.Narrow);break;case"LLL":t=tn(Lt.Months,W.Abbreviated,H.Standalone);break;case"LLLL":t=tn(Lt.Months,W.Wide,H.Standalone);break;case"LLLLL":t=tn(Lt.Months,W.Narrow,H.Standalone);break;case"w":t=Rt(1);break;case"ww":t=Rt(2);break;case"W":t=Rt(1,!0);break;case"d":t=Kt(Et.Date,1);break;case"dd":t=Kt(Et.Date,2);break;case"c":case"cc":t=Kt(Et.Day,1);break;case"ccc":t=tn(Lt.Days,W.Abbreviated,H.Standalone);break;case"cccc":t=tn(Lt.Days,W.Wide,H.Standalone);break;case"ccccc":t=tn(Lt.Days,W.Narrow,H.Standalone);break;case"cccccc":t=tn(Lt.Days,W.Short,H.Standalone);break;case"E":case"EE":case"EEE":t=tn(Lt.Days,W.Abbreviated);break;case"EEEE":t=tn(Lt.Days,W.Wide);break;case"EEEEE":t=tn(Lt.Days,W.Narrow);break;case"EEEEEE":t=tn(Lt.Days,W.Short);break;case"a":case"aa":case"aaa":t=tn(Lt.DayPeriods,W.Abbreviated);break;case"aaaa":t=tn(Lt.DayPeriods,W.Wide);break;case"aaaaa":t=tn(Lt.DayPeriods,W.Narrow);break;case"b":case"bb":case"bbb":t=tn(Lt.DayPeriods,W.Abbreviated,H.Standalone,!0);break;case"bbbb":t=tn(Lt.DayPeriods,W.Wide,H.Standalone,!0);break;case"bbbbb":t=tn(Lt.DayPeriods,W.Narrow,H.Standalone,!0);break;case"B":case"BB":case"BBB":t=tn(Lt.DayPeriods,W.Abbreviated,H.Format,!0);break;case"BBBB":t=tn(Lt.DayPeriods,W.Wide,H.Format,!0);break;case"BBBBB":t=tn(Lt.DayPeriods,W.Narrow,H.Format,!0);break;case"h":t=Kt(Et.Hours,1,-12);break;case"hh":t=Kt(Et.Hours,2,-12);break;case"H":t=Kt(Et.Hours,1);break;case"HH":t=Kt(Et.Hours,2);break;case"m":t=Kt(Et.Minutes,1);break;case"mm":t=Kt(Et.Minutes,2);break;case"s":t=Kt(Et.Seconds,1);break;case"ss":t=Kt(Et.Seconds,2);break;case"S":t=Kt(Et.FractionalSeconds,1);break;case"SS":t=Kt(Et.FractionalSeconds,2);break;case"SSS":t=Kt(Et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ei(Ut.Short);break;case"ZZZZZ":t=ei(Ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ei(Ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ei(Ut.Long);break;default:return null}return K[n]=t,t}(w);y+=S?S(r,e,g):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function vi(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Hn(n,t){const e=function De(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(ui[e]=ui[e]||{},ui[e][t])return ui[e][t];let i="";switch(t){case"shortDate":i=en(n,Q.Short);break;case"mediumDate":i=en(n,Q.Medium);break;case"longDate":i=en(n,Q.Long);break;case"fullDate":i=en(n,Q.Full);break;case"shortTime":i=Sn(n,Q.Short);break;case"mediumTime":i=Sn(n,Q.Medium);break;case"longTime":i=Sn(n,Q.Long);break;case"fullTime":i=Sn(n,Q.Full);break;case"short":const r=Hn(n,"shortTime"),o=Hn(n,"shortDate");i=Pr(At(n,Q.Short),[r,o]);break;case"medium":const u=Hn(n,"mediumTime"),h=Hn(n,"mediumDate");i=Pr(At(n,Q.Medium),[u,h]);break;case"long":const g=Hn(n,"longTime"),y=Hn(n,"longDate");i=Pr(At(n,Q.Long),[g,y]);break;case"full":const w=Hn(n,"fullTime"),S=Hn(n,"fullDate");i=Pr(At(n,Q.Full),[w,S])}return i&&(ui[e][t]=i),i}function Pr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function bi(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),o+u}function Kt(n,t,e=0,i=!1,r=!1){return function(o,u){let h=function Jr(n,t){switch(n){case Et.FullYear:return t.getFullYear();case Et.Month:return t.getMonth();case Et.Date:return t.getDate();case Et.Hours:return t.getHours();case Et.Minutes:return t.getMinutes();case Et.Seconds:return t.getSeconds();case Et.FractionalSeconds:return t.getMilliseconds();case Et.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||h>-e)&&(h+=e),n===Et.Hours)0===h&&-12===e&&(h=12);else if(n===Et.FractionalSeconds)return function Qr(n,t){return bi(n,3).substring(0,t)}(h,t);const g=dt(u,X.MinusSign);return bi(h,t,g,i,r)}}function tn(n,t,e=H.Format,i=!1){return function(r,o){return function nr(n,t,e,i,r,o){switch(e){case Lt.Months:return function Ht(n,t,e){const i=(0,s.cg1)(n),o=bn([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return bn(o,e)}(t,r,i)[n.getMonth()];case Lt.Days:return function St(n,t,e){const i=(0,s.cg1)(n),o=bn([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return bn(o,e)}(t,r,i)[n.getDay()];case Lt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const y=function li(n){const t=(0,s.cg1)(n);return Kr(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Mi(i):[Mi(i[0]),Mi(i[1])])}(t),w=function Nr(n,t,e){const i=(0,s.cg1)(n);Kr(i);const o=bn([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return bn(o,e)||[]}(t,r,i),S=y.findIndex(M=>{if(Array.isArray(M)){const[R,U]=M,Y=u>=R.hours&&h>=R.minutes,te=u<U.hours||u===U.hours&&h<U.minutes;if(R.hours<U.hours){if(Y&&te)return!0}else if(Y||te)return!0}else if(M.hours===u&&M.minutes===h)return!0;return!1});if(-1!==S)return w[S]}return function Xe(n,t,e){const i=(0,s.cg1)(n),o=bn([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return bn(o,e)}(t,r,i)[u<12?0:1];case Lt.Eras:return function Tt(n,t){return bn((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function ei(n){return function(t,e,i){const r=-1*i,o=dt(e,X.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ut.Short:return(r>=0?"+":"")+bi(u,2,o)+bi(Math.abs(r%60),2,o);case Ut.ShortGMT:return"GMT"+(r>=0?"+":"")+bi(u,1,o);case Ut.Long:return"GMT"+(r>=0?"+":"")+bi(u,2,o)+":"+bi(Math.abs(r%60),2,o);case Ut.Extended:return 0===i?"Z":(r>=0?"+":"")+bi(u,2,o)+":"+bi(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Mt(n){return vi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Rt(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+o)/7)}else{const o=Mt(e),u=function it(n){const t=vi(n,0,1).getDay();return vi(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return bi(r,n,dt(i,X.MinusSign))}}function sn(n,t=!1){return function(e,i){return bi(Mt(e).getFullYear(),n,dt(i,X.MinusSign),t)}}const K={};function ee(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Ve(n){return n instanceof Date&&!isNaN(n.valueOf())}const ht=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function $o(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function rr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const kr=/\s+/,ot=[];let Ct=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=ot,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(kr):ot}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(kr):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(kr).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class wi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hn=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new wi(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),xn(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{xn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function xn(n,t){n.context.$implicit=t.item}let Jt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Aa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Aa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class nn{constructor(){this.$implicit=null,this.ngIf=null}}function Aa(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let En=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),u=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),ni=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function di(n,t){return new s.vHH(2100,!1)}class Rc{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Fl{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Ll=new Fl,Ns=new Rc;let Rr=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Ll;if((0,s.F4k)(e))return Ns;throw di()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Oa=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Fc=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let hi=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return wn(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw di()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Oa,24),s.Y36(Fc,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Wh=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function qh(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function Pi(n,t,e){return function Ho(n,t,e,i,r,o,u=!1){let h="",g=!1;if(isFinite(n)){let y=function kc(n){let i,r,o,u,h,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(h=t.length))i=[0],r=1;else{for(h--;"0"===t.charAt(h);)h--;for(r-=o,i=[],u=0;o<=h;o++,u++)i[u]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);u&&(y=function td(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(y));let w=t.minInt,S=t.minFrac,M=t.maxFrac;if(o){const Pe=o.match(ht);if(null===Pe)throw new Error(`${o} is not a valid digit info`);const je=Pe[1],He=Pe[3],We=Pe[5];null!=je&&(w=$o(je)),null!=He&&(S=$o(He)),null!=We?M=$o(We):null!=He&&S>M&&(M=S)}!function Pl(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let u=o+n.integerLen,h=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let S=u;S<i.length;S++)i[S]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,u=o+1),i[0]=0;for(let S=1;S<u;S++)i[S]=0}if(h>=5)if(u-1<0){for(let S=0;S>u;S--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;r<Math.max(0,o);r++)i.push(0);let g=0!==o;const y=t+n.integerLen,w=i.reduceRight(function(S,M,R,U){return U[R]=(M+=S)<10?M:M-10,g&&(0===U[R]&&R>=y?U.pop():g=!1),M>=10?1:0},0);w&&(i.unshift(w),n.integerLen++)}(y,S,M);let R=y.digits,U=y.integerLen;const Y=y.exponent;let te=[];for(g=R.every(Pe=>!Pe);U<w;U++)R.unshift(0);for(;U<0;U++)R.unshift(0);U>0?te=R.splice(U,R.length):(te=R,R=[0]);const _e=[];for(R.length>=t.lgSize&&_e.unshift(R.splice(-t.lgSize,R.length).join(""));R.length>t.gSize;)_e.unshift(R.splice(-t.gSize,R.length).join(""));R.length&&_e.unshift(R.join("")),h=_e.join(dt(e,i)),te.length&&(h+=dt(e,r)+te.join("")),Y&&(h+=dt(e,X.Exponential)+"+"+Y)}else h=dt(e,X.Infinity);return h=n<0&&!g?t.negPre+h+t.negSuf:t.posPre+h+t.posSuf,h}(n,function Go(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],u=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],h=u[0],g=u[1]||"";e.posPre=h.substring(0,h.indexOf("#"));for(let w=0;w<g.length;w++){const S=g.charAt(w);"0"===S?e.minFrac=e.maxFrac=w+1:"#"===S?e.maxFrac=w+1:e.posSuf+=S}const y=h.split(",");if(e.gSize=y[1]?y[1].length:0,e.lgSize=y[2]||y[1]?(y[2]||y[1]).length:0,o){const w=r.length-e.posPre.length-e.posSuf.length,S=o.indexOf("#");e.negPre=o.substring(0,S).replace(/'/g,""),e.negSuf=o.slice(S+w).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function tr(n,t){return(0,s.cg1)(n)[s.wAp.NumberFormats][t]}(t,ne.Decimal),dt(t,X.MinusSign)),t,X.Group,X.Decimal,e)}(function bs(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw di()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16))},n.\u0275pipe=s.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let Rs=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw di();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),Mn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function rd(n){return"server"===n}let qo=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Hl((0,s.LFG)(ae),window)}),n})();class Hl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ko(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=vo(this.window.history)||vo(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $l{}class na extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bs extends na{static makeCurrent(){!function le(n){j||(j=n)}(new Bs)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function fd(){return ws=ws||document.querySelector("base"),ws?ws.getAttribute("href"):null}();return null==e?null:function ia(n){ql=ql||document.createElement("a"),ql.setAttribute("href",n);const t=ql.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return rr(document.cookie,t)}}let ql,ws=null;const Ua=new s.OlP("TRANSITION_ID"),vy=[{provide:s.ip1,useFactory:function Ir(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=k(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Ua,ae,s.zs3],multi:!0}];let Bg=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ga=new s.OlP("EventManagerPlugins");let ro=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ga),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class op{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=k().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Kn=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Io=(()=>{class n extends Kn{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Eo),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Eo))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Eo(n){k().remove(n)}const $a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ts=/%COMP%/g;function Ts(n,t){return t.flat(100).map(e=>e.replace(ts,n))}function sa(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let za=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new so(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new oo(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case s.ifc.ShadowDom:return new oa(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ts(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ro),s.LFG(Io),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class so{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS($a[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(md(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(md(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=$a[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=$a[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,sa(i)):this.eventManager.addEventListener(t,e,sa(i))}}function md(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oo extends so{constructor(t,e,i,r){super(t),this.component=i;const o=Ts(r+"-"+i.id,i.styles);e.addStyles(o),this.contentAttr=function Co(n){return"_ngcontent-%COMP%".replace(ts,n)}(r+"-"+i.id),this.hostAttr=function ra(n){return"_nghost-%COMP%".replace(ts,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class oa extends so{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ts(r.id,r.styles);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let qc=(()=>{class n extends op{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Wa=["alt","control","meta","shift"],_d={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let yd=(()=>{class n extends op{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Wa.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),u+=y+".")}),u+=o,0!=i.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=u,g}static matchEventFullKeyCode(e,i){let r=_d[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Wa.forEach(u=>{u!==r&&(0,Kl[u])(e)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ao=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function is(){Bs.makeCurrent()},multi:!0},{provide:ae,useFactory:function Yc(){return(0,s.RDi)(document),document},deps:[]}]),lp=new s.OlP(""),Qc=[{provide:s.rWj,useClass:class Ha{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(g){u=u||g,o--,0==o&&i(u)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?k().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],la=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function vd(){return new s.qLn},deps:[]},{provide:Ga,useClass:qc,multi:!0,deps:[ae,s.R0b,s.Lbi]},{provide:Ga,useClass:yd,multi:!0,deps:[ae]},{provide:za,useClass:za,deps:[ro,Io,s.AFp]},{provide:s.FYo,useExisting:za},{provide:Kn,useExisting:Io},{provide:Io,useClass:Io,deps:[ae]},{provide:ro,useClass:ro,deps:[Ga,s.R0b]},{provide:$l,useClass:Bg,deps:[]},[]];let cp=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Ua,useExisting:s.AFp},vy]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lp,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...la,...Qc],imports:[Mn,s.hGG]}),n})(),So=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function qa(){return new So((0,s.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Dd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Sd),i},providedIn:"root"}),n})(),Sd=(()=>{class n extends Dd{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Ug(n){return new Sd(n.get(ae))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Tn=L(8996),$n=L(3269);function gt(...n){const t=(0,$n.yG)(n);return(0,Tn.D)(n,t)}var vn=L(7579);class si extends vn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const ua=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var jn=L(9751);const{isArray:mp}=Array,{getPrototypeOf:_p,prototype:Qa,keys:Jl}=Object;function Xl(n){if(1===n.length){const t=n[0];if(mp(t))return{args:t,keys:null};if(function da(n){return n&&"object"==typeof n&&_p(n)===Qa}(t)){const e=Jl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var C=L(4671),D=L(4004);const{isArray:O}=Array;function se(n){return(0,D.U)(t=>function $(n,t){return O(t)?n(...t):n(t)}(n,t))}function de(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Se=L(5403),ct=L(9672);function mt(...n){const t=(0,$n.yG)(n),e=(0,$n.jO)(n),{args:i,keys:r}=Xl(n);if(0===i.length)return(0,Tn.D)([],t);const o=new jn.y(function bt(n,t,e=C.y){return i=>{qt(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let g=0;g<r;g++)qt(t,()=>{const y=(0,Tn.D)(n[g],t);let w=!1;y.subscribe((0,Se.x)(i,S=>{o[g]=S,w||(w=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>de(r,u):C.y));return e?o.pipe(se(e)):o}function qt(n,t,e){n?(0,ct.f)(e,n,t):t()}var Pt=L(8189);function Fn(...n){return function rs(){return(0,Pt.J)(1)}()((0,Tn.D)(n,(0,$n.yG)(n)))}var lr=L(8421);function ec(n){return new jn.y(t=>{(0,lr.Xf)(n()).subscribe(t)})}var Ja=L(9635),Yn=L(576);function Dr(n,t){const e=(0,Yn.m)(n)?n:()=>n,i=r=>r.error(e());return new jn.y(t?r=>t.schedule(i,0,r):i)}var Sr=L(515),yp=L(727),Yi=L(4482);function tc(){return(0,Yi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Se.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Ty extends jn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Yi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new yp.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Se.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=yp.w0.EMPTY)}return t}refCount(){return tc()(this)}}function pi(n,t){return(0,Yi.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Se.x)(i,g=>{r?.unsubscribe();let y=0;const w=o++;(0,lr.Xf)(n(g,w)).subscribe(r=(0,Se.x)(i,S=>i.next(t?t(g,S,w,y++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Li(n){return n<=0?()=>Sr.E:(0,Yi.e)((t,e)=>{let i=0;t.subscribe((0,Se.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Xa(...n){const t=(0,$n.yG)(n);return(0,Yi.e)((e,i)=>{(t?Fn(n,e,t):Fn(n,e)).subscribe(i)})}function Ln(n,t){return(0,Yi.e)((e,i)=>{let r=0;e.subscribe((0,Se.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var Vi=L(5577);function vp(n){return(0,Yi.e)((t,e)=>{let i=!1;t.subscribe((0,Se.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Iy(n=bp){return(0,Yi.e)((t,e)=>{let i=!1;t.subscribe((0,Se.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function bp(){return new ua}function ha(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ln((r,o)=>n(r,o,i)):C.y,Li(1),e?vp(t):Iy(()=>new ua))}function el(n,t){return(0,Yn.m)(t)?(0,Vi.z)(n,t,1):(0,Vi.z)(n,1)}var cr=L(8505);function tl(n){return(0,Yi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Se.x)(e,void 0,void 0,u=>{o=(0,lr.Xf)(n(u,tl(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Hg(n,t,e,i,r){return(o,u)=>{let h=e,g=t,y=0;o.subscribe((0,Se.x)(u,w=>{const S=y++;g=h?n(g,w,S):(h=!0,w),i&&u.next(g)},r&&(()=>{h&&u.next(g),u.complete()})))}}function nu(n,t){return(0,Yi.e)(Hg(n,t,arguments.length>=2,!0))}function xd(n){return n<=0?()=>Sr.E:(0,Yi.e)((t,e)=>{let i=[];t.subscribe((0,Se.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Ad(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ln((r,o)=>n(r,o,i)):C.y,xd(1),e?vp(t):Iy(()=>new ua))}function iu(n){return(0,Yi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const $t="primary",ru=Symbol("RouteTitle");class Ey{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function nc(n){return new Ey(n)}function Md(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Is(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!$g(n[r],t[r]))return!1;return!0}function $g(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Ip(n){return Array.prototype.concat.apply([],n)}function Ep(n){return n.length>0?n[n.length-1]:null}function ur(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function oi(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Tn.D)(Promise.resolve(n)):gt(n)}const nl=!1,zg={exact:function Cp(n,t,e){if(!F(n.segments,t.segments)||!b(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Cp(n.children[i],t.children[i],e))return!1;return!0},subset:Wg},Od={exact:function su(n,t){return Is(n,t)},subset:function Dp(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>$g(n[e],t[e]))},ignored:()=>!0};function dr(n,t,e){return zg[e.paths](n.root,t.root,e.matrixParams)&&Od[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Wg(n,t,e){return Zg(n,t,t.segments,e)}function Zg(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!F(r,e)||t.hasChildren()||!b(r,e,i))}if(n.segments.length===e.length){if(!F(n.segments,e)||!b(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Wg(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(F(n.segments,r)&&b(n.segments,r,i)&&n.children[$t])&&Zg(n.children[$t],t,o,i)}}function b(n,t,e){return t.every((i,r)=>Od[e](n[r].parameters,i.parameters))}class m{constructor(t=new _([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nc(this.queryParams)),this._queryParamMap}toString(){return It.serialize(this)}}class _{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ur(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yt(this)}}class I{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=nc(this.parameters)),this._parameterMap}toString(){return Sp(this)}}function F(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new at},providedIn:"root"}),n})();class at{parse(t){const e=new Dy(t);return new m(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Cn(t.root,!0)}`,i=function qg(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${os(e)}=${os(r)}`).join("&"):`${os(e)}=${os(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function ou(n){return encodeURI(n)}(t.fragment)}`:""}`}}const It=new at;function Yt(n){return n.segments.map(t=>Sp(t)).join("/")}function Cn(n,t){if(!n.hasChildren())return Yt(n);if(t){const e=n.children[$t]?Cn(n.children[$t],!1):"",i=[];return ur(n.children,(r,o)=>{o!==$t&&i.push(`${o}:${Cn(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function ue(n,t){let e=[];return ur(n.children,(i,r)=>{r===$t&&(e=e.concat(t(i,r)))}),ur(n.children,(i,r)=>{r!==$t&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===$t?[Cn(n.children[$t],!1)]:[`${r}:${Cn(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${Yt(n)}/${e[0]}`:`${Yt(n)}/(${e.join("//")})`}}function ss(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function os(n){return ss(n).replace(/%3B/gi,";")}function xo(n){return ss(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pa(n){return decodeURIComponent(n)}function Nd(n){return pa(n.replace(/\+/g,"%20"))}function Sp(n){return`${xo(n.path)}${function au(n){return Object.keys(n).map(t=>`;${xo(t)}=${xo(n[t])}`).join("")}(n.parameters)}`}const Kg=/^[^\/()?;=#]+/;function ic(n){const t=n.match(Kg);return t?t[0]:""}const Yg=/^[^=?&#]+/,xp=/^[^&#]+/;class Dy{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _([],{}):new _([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[$t]=new _(t,e)),i}parseSegment(){const t=ic(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,nl);return this.capture(t),new I(pa(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ic(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ic(this.remaining);r&&(i=r,this.capture(i))}t[pa(e)]=pa(i)}parseQueryParam(t){const e=function Cy(n){const t=n.match(Yg);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Qg(n){const t=n.match(xp);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Nd(e),o=Nd(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ic(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,nl);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$t);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[$t]:new _([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,nl)}}function Jg(n){return n.segments.length>0?new _([],{[$t]:n}):n}function Pd(n){const t={};for(const i of Object.keys(n.children)){const o=Pd(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function JE(n){if(1===n.numberOfChildren&&n.children[$t]){const t=n.children[$t];return new _(n.segments.concat(t.segments),t.children)}return n}(new _(n.segments,t))}function lu(n){return n instanceof m}function Ew(n,t,e,i,r){if(0===e.length)return il(t.root,t.root,t.root,i,r);const o=function xy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sy(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return ur(o.outlets,(g,y)=>{h[y]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new Sy(e,t,i)}(e);return o.toRoot()?il(t.root,t.root,new _([],{}),i,r):function u(g){const y=function Dw(n,t,e,i){if(n.isAbsolute)return new uu(t.root,!0,0);if(-1===i)return new uu(e,e===t.root,0);return function Mp(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new uu(i,!1,r-o)}(e,i+(Ap(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,g),w=y.processChildren?du(y.segmentGroup,y.index,o.commands):nm(y.segmentGroup,y.index,o.commands);return il(t.root,y.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function Ap(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function em(n){return"object"==typeof n&&null!=n&&n.outlets}function il(n,t,e,i,r){let u,o={};i&&ur(i,(g,y)=>{o[y]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),u=n===t?e:Cw(n,t,e);const h=Jg(Pd(u));return new m(h,o,r)}function Cw(n,t,e){const i={};return ur(n.children,(r,o)=>{i[o]=r===t?e:Cw(r,t,e)}),new _(n.segments,i)}class Sy{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Ap(i[0]))throw new s.vHH(4003,!1);const r=i.find(em);if(r&&r!==Ep(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uu{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function nm(n,t,e){if(n||(n=new _([],{})),0===n.segments.length&&n.hasChildren())return du(n,t,e);const i=function My(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(em(h))break;const g=`${h}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!Oy(g,y,u))return o;i+=2}else{if(!Oy(g,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new _(n.segments.slice(0,i.pathIndex),{});return o.children[$t]=new _(n.segments.slice(i.pathIndex),n.children),du(o,0,r)}return i.match&&0===r.length?new _(n.segments,{}):i.match&&!n.hasChildren()?Op(n,t,e):i.match?du(n,0,r):Op(n,t,e)}function du(n,t,e){if(0===e.length)return new _(n.segments,{});{const i=function tm(n){return em(n[0])?n[0].outlets:{[$t]:n}}(e),r={};return ur(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=nm(n.children[u],t,o))}),ur(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new _(n.segments,r)}}function Op(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(em(o)){const g=Np(o.outlets);return new _(i,g)}if(0===r&&Ap(e[0])){i.push(new I(n.segments[t].path,Sw(e[0]))),r++;continue}const u=em(o)?o.outlets[$t]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&Ap(h)?(i.push(new I(u,Sw(h))),r+=2):(i.push(new I(u,{})),r++)}return new _(i,{})}function Np(n){const t={};return ur(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Op(new _([],{}),0,e))}),t}function Sw(n){const t={};return ur(n,(e,i)=>t[i]=`${e}`),t}function Oy(n,t,e){return n==e.path&&Is(t,e.parameters)}const Pp="imperative";class fa{constructor(t,e){this.id=t,this.url=e}}class Ny extends fa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rc extends fa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kp extends fa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rp extends fa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class im extends fa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hu extends fa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eC extends fa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tC extends fa{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wO extends fa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nC extends fa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Py{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iC{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xw{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rm{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ky{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aw{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ry{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let rC=(()=>{class n{createUrlTree(e,i,r,o,u,h){return Ew(e||i.root,r,o,u,h)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),sC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return rC.\u0275fac(t)},providedIn:"root"}),n})();class Ow{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Fy(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Fy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ao(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ao(t,this._root).map(e=>e.value)}}function Fy(n,t){if(n===t.value)return t;for(const e of t.children){const i=Fy(n,e);if(i)return i}return null}function Ao(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ao(n,e);if(i.length)return i.unshift(t),i}return[]}class Es{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rd(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Nw extends Ow{constructor(t,e){super(t),this.snapshot=e,Ly(this,t)}toString(){return this.snapshot.toString()}}function Pw(n,t){const e=function oC(n,t){const u=new sm([],{},{},"",{},$t,t,null,n.root,-1,{});return new Fw("",new Es(u,[]))}(n,t),i=new si([new I("",{})]),r=new si({}),o=new si({}),u=new si({}),h=new si(""),g=new Mo(i,r,u,h,o,$t,t,e.root);return g.snapshot=e.root,new Nw(new Es(g,[]),e)}class Mo{constructor(t,e,i,r,o,u,h,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,D.U)(y=>y[ru]))??gt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,D.U)(t=>nc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,D.U)(t=>nc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kw(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Rw(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class sm{get title(){return this.data?.[ru]}constructor(t,e,i,r,o,u,h,g,y,w,S){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=g,this._urlSegment=y,this._lastPathIndex=w,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fw extends Ow{constructor(t,e){super(e),this.url=t,Ly(this,e)}toString(){return Lw(this._root)}}function Ly(n,t){t.value._routerState=n,t.children.forEach(e=>Ly(n,e))}function Lw(n){const t=n.children.length>0?` { ${n.children.map(Lw).join(", ")} } `:"";return`${n.value}${t}`}function Fd(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Is(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Is(t.params,e.params)||n.params.next(e.params),function Tp(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Is(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Is(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Oo(n,t){const e=Is(n.params,t.params)&&function A(n,t){return F(n,t)&&n.every((e,i)=>Is(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Oo(n.parent,t.parent))}function Ld(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Vw(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ld(n,i,r);return Ld(n,i)})}(n,t,e);return new Es(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Ld(n,h)),u}}const i=function Bw(n){return new Mo(new si(n.url),new si(n.params),new si(n.queryParams),new si(n.fragment),new si(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Ld(n,o));return new Es(i,r)}}const Uw="ngNavigationCancelingError";function aC(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=lu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=lC(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function lC(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Uw]=!0,i.cancellationCode=t,e&&(i.url=e),i}function om(n){return am(n)&&lu(n.url)}function am(n){return n&&n[Uw]}class IO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lm,this.attachRef=null}}let lm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new IO,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lp=!1;let Vy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(lm),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Lp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Lp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Lp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,Lp);this._activatedRoute=e;const r=this.location,u=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new cC(e,h,r.injector);if(i&&function uC(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(u);this.activated=r.createComponent(y,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class cC{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Mo?this.route:t===lm?this.childContexts:this.parent.get(t,e)}}let By=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[Vy],encapsulation:2}),n})();function Uy(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Vp(n){const t=n.children&&n.children.map(Vp),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$t&&(e.component=By),e}function co(n){return n.outlet||$t}function Gw(n,t){const e=n.filter(i=>co(i)===t);return e.push(...n.filter(i=>co(i)!==t)),e}function Bp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class $w{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Fd(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Rd(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),ur(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Rd(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Rd(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Rd(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Aw(o.value.snapshot))}),t.children.length&&this.forwardEvent(new rm(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Fd(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Fd(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=Bp(r.snapshot),g=h?.get(s._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class gC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $y{constructor(t,e){this.component=t,this.route=e}}function Up(n,t,e){const i=n._root;return Vd(i,t?t._root:null,e,[i.value])}function pu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function Vd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Rd(t);return n.children.forEach(u=>{(function jw(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const g=function mC(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!F(n.url,t.url);case"pathParamsOrQueryParamsChange":return!F(n.url,t.url)||!Is(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oo(n,t)||!Is(n.queryParams,t.queryParams);default:return!Oo(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new gC(i)):(o.data=u.data,o._resolvedData=u._resolvedData),Vd(n,t,o.component?h?h.children:null:e,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new $y(h.outlet.component,u))}else u&&Hp(t,h,r),r.canActivateChecks.push(new gC(i)),Vd(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),ur(o,(u,h)=>Hp(u,e.getContext(h),r)),r}function Hp(n,t,e){const i=Rd(n),r=n.value;ur(i,(o,u)=>{Hp(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new $y(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Bd(n){return"function"==typeof n}function rl(n){return n instanceof ua||"EmptyError"===n?.name}const cm=Symbol("INITIAL_VALUE");function sc(){return pi(n=>mt(n.map(t=>t.pipe(Li(1),Xa(cm)))).pipe((0,D.U)(t=>{for(const e of t)if(!0!==e){if(e===cm)return cm;if(!1===e||e instanceof m)return e}return!0}),Ln(t=>t!==cm),Li(1)))}function Yy(n){return(0,Ja.z)((0,cr.b)(t=>{if(lu(t))throw aC(0,t)}),(0,D.U)(t=>!0===t))}const Qy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qw(n,t,e,i,r){const o=Jy(n,t,e);return o.matched?function Ud(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?gt(r.map(u=>{const h=pu(u,n);return oi(function Zy(n){return n&&Bd(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(sc(),Yy()):gt(!0)}(i=Uy(t,i),t,e).pipe((0,D.U)(u=>!0===u?o:{...Qy})):gt(o)}function Jy(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Qy}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Md)(e,n,t);if(!r)return{...Qy};const o={};ur(r.posParams,(h,g)=>{o[g]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Hd(n,t,e,i){if(e.length>0&&function IC(n,t,e){return e.some(i=>Xy(n,t,i)&&co(i)!==$t)}(n,e,i)){const o=new _(t,function Kw(n,t,e,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&co(o)!==$t){const u=new _([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[co(o)]=u}return r}(n,t,i,new _(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function Yw(n,t,e){return e.some(i=>Xy(n,t,i))}(n,e,i)){const o=new _(n.segments,function TC(n,t,e,i,r){const o={};for(const u of i)if(Xy(n,e,u)&&!r[co(u)]){const h=new _([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[co(u)]=h}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new _(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function Xy(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Qw(n,t,e,i){return!!(co(n)===i||i!==$t&&Xy(t,e,n))&&("**"===n.path||Jy(t,n,e).matched)}function Gd(n,t,e){return 0===t.length&&!n.children[e]}const hm=!1;class sl{constructor(t){this.segmentGroup=t||null}}class $d{constructor(t){this.urlTree=t}}function Gp(n){return Dr(new sl(n))}function ev(n){return Dr(new $d(n))}class Jw{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Hd(this.urlTree.root,[],[],this.config).segmentGroup,e=new _(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,$t).pipe((0,D.U)(o=>this.createUrlTree(Pd(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tl(o=>{if(o instanceof $d)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof sl?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,$t).pipe((0,D.U)(r=>this.createUrlTree(Pd(r),t.queryParams,t.fragment))).pipe(tl(r=>{throw r instanceof sl?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,hm)}createUrlTree(t,e,i){const r=Jg(t);return new m(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,D.U)(o=>new _([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Tn.D)(r).pipe(el(o=>{const u=i.children[o],h=Gw(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,D.U)(g=>({segment:g,outlet:o})))}),nu((o,u)=>(o[u.outlet]=u.segment,o),{}),Ad())}expandSegment(t,e,i,r,o,u){return(0,Tn.D)(i).pipe(el(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(tl(y=>{if(y instanceof sl)return gt(null);throw y}))),ha(h=>!!h),tl((h,g)=>{if(rl(h))return Gd(e,r,o)?gt(new _([],{})):Gp(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return Qw(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):Gp(e):Gp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ev(o):this.lineralizeSegments(i,o).pipe((0,Vi.z)(u=>{const h=new _(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:g,remainingSegments:y,positionalParamSegments:w}=Jy(e,r,o);if(!h)return Gp(e);const S=this.applyRedirectCommands(g,r.redirectTo,w);return r.redirectTo.startsWith("/")?ev(S):this.lineralizeSegments(r,S).pipe((0,Vi.z)(M=>this.expandSegment(t,e,i,M.concat(y),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=Uy(i,t),i.loadChildren?(i._loadedRoutes?gt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,D.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new _(r,{})))):gt(new _(r,{}))):qw(e,i,r,t).pipe(pi(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Vi.z)(w=>{const S=w.injector??t,M=w.routes,{segmentGroup:R,slicedSegments:U}=Hd(e,h,g,M),Y=new _(R.segments,R.children);if(0===U.length&&Y.hasChildren())return this.expandChildren(S,M,Y).pipe((0,D.U)(je=>new _(h,je)));if(0===M.length&&0===U.length)return gt(new _(h,{}));const te=co(i)===o;return this.expandSegment(S,Y,M,U,te?$t:o,!0).pipe((0,D.U)(Pe=>new _(h.concat(Pe.segments),Pe.children)))})):Gp(e)))}getChildConfig(t,e,i){return e.children?gt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?gt({routes:e._loadedRoutes,injector:e._loadedInjector}):function wC(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?gt(!0):gt(r.map(u=>{const h=pu(u,n);return oi(function zy(n){return n&&Bd(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(sc(),Yy())}(t,e,i).pipe((0,Vi.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,cr.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function CC(n){return Dr(lC(hm,3))}())):gt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return gt(i);if(r.numberOfChildren>1||!r.children[$t])return Dr(new s.vHH(4e3,hm));r=r.children[$t]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new m(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ur(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return ur(e.children,(h,g)=>{u[g]=this.createSegmentGroup(t,h,i,r)}),new _(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,hm);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class tv{}class $p{constructor(t,e,i,r,o,u,h){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const t=Hd(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$t).pipe((0,D.U)(e=>{if(null===e)return null;const i=new sm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Es(i,e),o=new Fw(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=kw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Tn.D)(Object.keys(i.children)).pipe(el(r=>{const o=i.children[r],u=Gw(e,r);return this.processSegmentGroup(t,u,o,r)}),nu((r,o)=>r&&o?(r.push(...o),r):null),function Gg(n,t=!1){return(0,Yi.e)((e,i)=>{let r=0;e.subscribe((0,Se.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}(r=>null!==r),vp(null),Ad(),(0,D.U)(r=>{if(null===r)return null;const o=e1(r);return function xC(n){n.sort((t,e)=>t.value.outlet===$t?-1:e.value.outlet===$t?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,Tn.D)(e).pipe(el(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,o)),ha(u=>!!u),tl(u=>{if(rl(u))return Gd(i,r,o)?gt([]):gt(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!Qw(e,i,r,o))return gt(null);let u;if("**"===e.path){const h=r.length>0?Ep(r).parameters:{},g=n1(i)+r.length;u=gt({snapshot:new sm(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ga(e),co(e),e.component??e._loadedComponent??null,e,t1(i),g,r1(e)),consumedSegments:[],remainingSegments:[]})}else u=qw(i,e,r,t).pipe((0,D.U)(({matched:h,consumedSegments:g,remainingSegments:y,parameters:w})=>{if(!h)return null;const S=n1(i)+g.length;return{snapshot:new sm(g,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ga(e),co(e),e.component??e._loadedComponent??null,e,t1(i),S,r1(e)),consumedSegments:g,remainingSegments:y}}));return u.pipe(pi(h=>{if(null===h)return gt(null);const{snapshot:g,consumedSegments:y,remainingSegments:w}=h;t=e._injector??t;const S=e._loadedInjector??t,M=function AC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:R,slicedSegments:U}=Hd(i,y,w,M.filter(te=>void 0===te.redirectTo));if(0===U.length&&R.hasChildren())return this.processChildren(S,M,R).pipe((0,D.U)(te=>null===te?null:[new Es(g,te)]));if(0===M.length&&0===U.length)return gt([new Es(g,[])]);const Y=co(e)===o;return this.processSegment(S,M,R,U,Y?$t:o).pipe((0,D.U)(te=>null===te?null:[new Es(g,te)]))}))}}function MC(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function e1(n){const t=[],e=new Set;for(const i of n){if(!MC(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=e1(i.children);t.push(new Es(i.value,r))}return t.filter(i=>!e.has(i))}function t1(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function n1(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function ga(n){return n.data||{}}function r1(n){return n.resolve||{}}function DO(n,t){return(0,Vi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return gt(e);let o=0;return(0,Tn.D)(r).pipe(el(u=>function SO(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!iv(r)&&(o[ru]=r.title),function s1(n,t,e,i){const r=function xO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return gt({});const o={};return(0,Tn.D)(r).pipe((0,Vi.z)(u=>function o1(n,t,e,i){const r=Bp(t)??i,o=pu(n,r);return oi(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[u],t,e,i).pipe(ha(),(0,cr.b)(h=>{o[u]=h}))),xd(1),function wp(n){return(0,D.U)(()=>n)}(o),tl(u=>rl(u)?Sr.E:Dr(u)))}(o,n,t,i).pipe((0,D.U)(u=>(n._resolvedData=u,n.data=kw(n,e).resolve,r&&iv(r)&&(n.data[ru]=r.title),null)))}(u.route,i,n,t)),(0,cr.b)(()=>o++),xd(1),(0,Vi.z)(u=>o===r.length?gt(e):Sr.E))})}function iv(n){return"string"==typeof n.title||null===n.title}function rv(n){return pi(t=>{const e=n(t);return e?(0,Tn.D)(e).pipe((0,D.U)(()=>t)):gt(t)})}const jd=new s.OlP("ROUTES");let Gs=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return gt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=oi(e.loadComponent()).pipe((0,D.U)(sv),(0,cr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),iu(()=>{this.componentLoaders.delete(e)})),r=new Ty(i,()=>new vn.x).pipe(tc());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return gt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,D.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,y,w=!1;Array.isArray(h)?y=h:(g=h.create(e).injector,y=Ip(g.get(jd,[],s.XFs.Self|s.XFs.Optional)));return{routes:y.map(Vp),injector:g}}),iu(()=>{this.childrenLoaders.delete(i)})),u=new Ty(o,()=>new vn.x).pipe(tc());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return oi(e()).pipe((0,D.U)(sv),(0,Vi.z)(r=>r instanceof s.YKP||Array.isArray(r)?gt(r):(0,Tn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sv(n){return function PC(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let gm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new vn.x,this.configLoader=(0,s.f3M)(Gs),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(ke),this.rootContexts=(0,s.f3M)(lm),this.navigationId=0,this.afterPreactivation=()=>gt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new iC(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Py(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new si({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pp,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ln(i=>0!==i.id),(0,D.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),pi(i=>{let r=!1,o=!1;return gt(i).pipe((0,cr.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pi(u=>{const h=e.browserUrlTree.toString(),g=!e.navigated||u.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!g&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const w="";return this.events.next(new Rp(u.id,e.serializeUrl(i.rawUrl),w,0)),e.rawUrlTree=u.rawUrl,u.resolve(null),Sr.E}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return c1(u.source)&&(e.browserUrlTree=u.extractedUrl),gt(u).pipe(pi(w=>{const S=this.transitions?.getValue();return this.events.next(new Ny(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),S!==this.transitions?.getValue()?Sr.E:Promise.resolve(w)}),function Xw(n,t,e,i){return pi(r=>function DC(n,t,e,i,r){return new Jw(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,D.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,cr.b)(w=>{this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},i.urlAfterRedirects=w.urlAfterRedirects}),function NC(n,t,e,i,r){return(0,Vi.z)(o=>function nv(n,t,e,i,r,o,u="emptyOnly"){return new $p(n,t,e,i,r,u,o).recognize().pipe(pi(h=>null===h?function SC(n){return new jn.y(t=>t.error(n))}(new tv):gt(h)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,D.U)(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,cr.b)(w=>{if(i.targetSnapshot=w.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!w.extras.skipLocationChange){const M=e.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);e.setBrowserUrl(M,w)}e.browserUrlTree=w.urlAfterRedirects}const S=new hu(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(S)}));if(g&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:w,extractedUrl:S,source:M,restoredState:R,extras:U}=u,Y=new Ny(w,this.urlSerializer.serialize(S),M,R);this.events.next(Y);const te=Pw(S,this.rootComponentType).snapshot;return gt(i={...u,targetSnapshot:te,urlAfterRedirects:S,extras:{...U,skipLocationChange:!1,replaceUrl:!1}})}{const w="";return this.events.next(new Rp(u.id,e.serializeUrl(i.extractedUrl),w,1)),e.rawUrlTree=u.rawUrl,u.resolve(null),Sr.E}}),(0,cr.b)(u=>{const h=new eC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),(0,D.U)(u=>i={...u,guards:Up(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function um(n,t){return(0,Vi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?gt({...e,guardsResult:!0}):function vC(n,t,e,i){return(0,Tn.D)(n).pipe((0,Vi.z)(r=>function bC(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?gt(o.map(h=>{const g=Bp(t)??r,y=pu(h,g);return oi(function _C(n){return n&&Bd(n.canDeactivate)}(y)?y.canDeactivate(n,t,e,i):g.runInContext(()=>y(n,t,e,i))).pipe(ha())})).pipe(sc()):gt(!0)}(r.component,r.route,e,t,i)),ha(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Vi.z)(h=>h&&function zw(n){return"boolean"==typeof n}(h)?function qy(n,t,e,i){return(0,Tn.D)(t).pipe(el(r=>Fn(function fu(n,t){return null!==n&&t&&t(new xw(n)),gt(!0)}(r.route.parent,i),function dm(n,t){return null!==n&&t&&t(new ky(n)),gt(!0)}(r.route,i),function Ky(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function jy(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>ec(()=>gt(u.guards.map(g=>{const y=Bp(u.node)??e,w=pu(g,y);return oi(function Wy(n){return n&&Bd(n.canActivateChild)}(w)?w.canActivateChild(i,n):y.runInContext(()=>w(i,n))).pipe(ha())})).pipe(sc())));return gt(o).pipe(sc())}(n,r.path,e),function Zw(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return gt(!0);const r=i.map(o=>ec(()=>{const u=Bp(t)??e,h=pu(o,u);return oi(function CO(n){return n&&Bd(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(ha())}));return gt(r).pipe(sc())}(n,r.route,e))),ha(r=>!0!==r,!0))}(i,o,n,t):gt(h)),(0,D.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),(0,cr.b)(u=>{if(i.guardsResult=u.guardsResult,lu(u.guardsResult))throw aC(0,u.guardsResult);const h=new tC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Ln(u=>!!u.guardsResult||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),rv(u=>{if(u.guards.canActivateChecks.length)return gt(u).pipe((0,cr.b)(h=>{const g=new wO(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),pi(h=>{let g=!1;return gt(h).pipe(DO(e.paramsInheritanceStrategy,this.environmentInjector),(0,cr.b)({next:()=>g=!0,complete:()=>{g||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,cr.b)(h=>{const g=new nC(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),rv(u=>{const h=g=>{const y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,cr.b)(w=>{g.component=w}),(0,D.U)(()=>{})));for(const w of g.children)y.push(...h(w));return y};return mt(h(u.targetSnapshot.root)).pipe(vp(),Li(1))}),rv(()=>this.afterPreactivation()),(0,D.U)(u=>{const h=function Fp(n,t,e){const i=Ld(n,t._root,e?e._root:void 0);return new Nw(i,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:h}}),(0,cr.b)(u=>{e.currentUrlTree=u.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),e.routerState=u.targetRouterState,"deferred"===e.urlUpdateStrategy&&(u.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,u),e.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,D.U)(i=>(new $w(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u)),(0,cr.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new rc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),iu(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),tl(u=>{if(o=!0,am(u)){om(u)||(e.navigated=!0,e.restoreHistory(i,!0));const h=new kp(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),om(u)){const g=e.urlHandlingStrategy.merge(u.url,e.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||c1(i.source)};e.scheduleNavigation(g,Pp,null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const h=new im(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(e.errorHandler(u))}catch(g){i.reject(g)}}return Sr.E}))}))}cancelNavigationTransition(e,i,r){const o=new kp(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c1(n){return n!==Pp}let u1=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===$t);return i}getResolvedTitleForRoute(e){return e.data[ru]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(d1)},providedIn:"root"}),n})(),d1=(()=>{class n extends u1{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(So))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(FC)},providedIn:"root"}),n})();class RC{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let FC=(()=>{class n extends RC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zp=new s.OlP("",{providedIn:"root",factory:()=>({})});let h1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(p1)},providedIn:"root"}),n})(),p1=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LC(n){throw n}function g1(n,t,e){return t.parse("/")}const VC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},m1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(zp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||LC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||g1,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(h1),this.routeReuseStrategy=(0,s.f3M)(kC),this.urlCreationStrategy=(0,s.f3M)(sC),this.titleStrategy=(0,s.f3M)(u1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ip((0,s.f3M)(jd,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(gm),this.urlSerializer=(0,s.f3M)(ke),this.location=(0,s.f3M)(Fe),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new m,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Pw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pp,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const g={...r};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const h=this.parseUrl(e);this.scheduleNavigation(h,i,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Vp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:g}=i,y=g?this.currentUrlTree.fragment:u;let w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...o};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=o||null}return null!==w&&(w=this.removeEmptyProps(w)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,w,y??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=lu(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Pp,null,i)}navigate(e,i={skipLocationChange:!1}){return function BC(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...VC}:!1===i?{...m1}:i,lu(e))return dr(this.currentUrlTree,e,r);const o=this.parseUrl(e);return dr(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,g,y,w;return u?(h=u.resolve,g=u.reject,y=u.promise):y=new Promise((S,M)=>{h=S,g=M}),w="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:w,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:h,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(S=>Promise.reject(S))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ol=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new vn.x;const g=u.nativeElement.tagName;this.isAnchorElement="A"===g||"AREA"===g,this.isAnchorElement?this.subscription=e.events.subscribe(y=>{y instanceof rc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zr),s.Y36(Mo),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(st))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class oc{}let ov=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(e=>e instanceof rc),el(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,Tn.D)(r).pipe((0,Pt.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):gt(null);const o=r.pipe((0,Vi.z)(u=>null===u?gt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Tn.D)([o,u]).pipe((0,Pt.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zr),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(oc),s.LFG(Gs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const av=new s.OlP("");let UC=(()=>{class n{constructor(e,i,r,o,u={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ny?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof rc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ry&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ry(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function ac(n,t){return{\u0275kind:n,\u0275providers:t}}function lv(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(zr),r=n.get(qp);1===n.get(cv)&&i.initialNavigation(),n.get(I1,null,s.XFs.Optional)?.setUpPreloading(),n.get(av,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const qp=new s.OlP("",{factory:()=>new vn.x}),cv=new s.OlP("",{providedIn:"root",factory:()=>1});const I1=new s.OlP("");function jC(n){return ac(0,[{provide:I1,useExisting:ov},{provide:oc,useExisting:n}])}const uv=new s.OlP("ROUTER_FORROOT_GUARD"),dv=[Fe,{provide:ke,useClass:at},zr,lm,{provide:Mo,useFactory:function b1(n){return n.routerState.root},deps:[zr]},Gs,[]];function NO(){return new s.PXZ("Router",zr)}let Yp=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[dv,[],{provide:jd,multi:!0,useValue:e},{provide:uv,useFactory:E1,deps:[[zr,new s.FiY,new s.tp0]]},{provide:zp,useValue:i||{}},i?.useHash?{provide:st,useClass:xe}:{provide:st,useClass:Oe},{provide:av,useFactory:()=>{const n=(0,s.f3M)(qo),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(zp),i=(0,s.f3M)(gm),r=(0,s.f3M)(ke);return e.scrollOffset&&n.setOffset(e.scrollOffset),new UC(r,i,n,t,e)}},i?.preloadingStrategy?jC(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:NO},i?.initialNavigation?qC(i):[],[{provide:hv,useFactory:lv},{provide:s.tb,multi:!0,useExisting:hv}]]}}static forChild(e){return{ngModule:n,providers:[{provide:jd,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uv,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[By]}),n})();function E1(n){return"guarded"}function qC(n){return["disabled"===n.initialNavigation?ac(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(zr);return()=>{t.setUpLocationChangeListener()}}},{provide:cv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ac(2,[{provide:cv,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(we,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=t.get(zr),u=t.get(qp);(function i(r){t.get(zr).events.pipe(Ln(u=>u instanceof rc||u instanceof kp||u instanceof im),(0,D.U)(u=>u instanceof rc||u instanceof kp&&(0===u.code||1===u.code)&&null),Ln(u=>null!==u),Li(1)).subscribe(()=>{r()})})(()=>{r(!0)}),t.get(gm).afterPreactivation=()=>(r(!0),u.closed?gt(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const hv=new s.OlP("");class gu{}class lc{}class No{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof No?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new No;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof No?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class pv{encodeKey(t){return ym(t)}encodeValue(t){return ym(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const C1=/%(\d[a-f0-9])/gi,fv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ym(n){return encodeURIComponent(n).replace(C1,(t,e)=>fv[e]??t)}function Wd(n){return`${n}`}class al{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new pv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _m(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],g=e.get(u)||[];g.push(h),e.set(u,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Wd):[Wd(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new al({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Wd(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Wd(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class YC{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function gv(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function S1(n){return typeof Blob<"u"&&n instanceof Blob}function mv(n){return typeof FormData<"u"&&n instanceof FormData}class Qp{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function QC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new No),this.context||(this.context=new YC),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new al,this.urlWithParams=e}serializeBody(){return null===this.body?null:gv(this.body)||S1(this.body)||mv(this.body)||function x1(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof al?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mv(this.body)?null:S1(this.body)?this.body.type||null:gv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof al?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,y=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((S,M)=>S.set(M,t.setHeaders[M]),g)),t.setParams&&(y=Object.keys(t.setParams).reduce((S,M)=>S.set(M,t.setParams[M]),y)),new Qp(e,i,o,{params:y,headers:g,context:w,reportProgress:h,responseType:r,withCredentials:u})}}var Qi=(()=>((Qi=Qi||{})[Qi.Sent=0]="Sent",Qi[Qi.UploadProgress=1]="UploadProgress",Qi[Qi.ResponseHeader=2]="ResponseHeader",Qi[Qi.DownloadProgress=3]="DownloadProgress",Qi[Qi.Response=4]="Response",Qi[Qi.User=5]="User",Qi))();class as{constructor(t,e=200,i="OK"){this.headers=t.headers||new No,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class vm extends as{constructor(t={}){super(t),this.type=Qi.ResponseHeader}clone(t={}){return new vm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class bm extends as{constructor(t={}){super(t),this.type=Qi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new bm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class JC extends as{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Jp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let _v=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Qp)o=e;else{let g,y;g=r.headers instanceof No?r.headers:new No(r.headers),r.params&&(y=r.params instanceof al?r.params:new al({fromObject:r.params})),o=new Qp(e,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=gt(o).pipe(el(g=>this.handler.handle(g)));if(e instanceof Qp||"events"===r.observe)return u;const h=u.pipe(Ln(g=>g instanceof bm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,D.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,D.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,D.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,D.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new al).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Jp(r,i))}post(e,i,r={}){return this.request("POST",e,Jp(r,i))}put(e,i,r={}){return this.request("PUT",e,Jp(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function A1(n,t){return t(n)}function XC(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const M1=new s.OlP("HTTP_INTERCEPTORS"),Xp=new s.OlP("HTTP_INTERCEPTOR_FNS");function tD(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(M1,{optional:!0})??[]).reduceRight(XC,A1)),n(t,e))}let wm=(()=>{class n extends gu{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Xp)));this.chain=i.reduceRight((r,o)=>function eD(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),A1)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lc),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const iD=/^\)\]\}',?\n/;let Tm=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new jn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((R,U)=>r.setRequestHeader(R,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const R=e.detectContentTypeHeader();null!==R&&r.setRequestHeader("Content-Type",R)}if(e.responseType){const R=e.responseType.toLowerCase();r.responseType="json"!==R?R:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const R=r.statusText||"OK",U=new No(r.getAllResponseHeaders()),Y=function rD(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new vm({headers:U,status:r.status,statusText:R,url:Y}),u},g=()=>{let{headers:R,status:U,statusText:Y,url:te}=h(),_e=null;204!==U&&(_e=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=_e?200:0);let Pe=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof _e){const je=_e;_e=_e.replace(iD,"");try{_e=""!==_e?JSON.parse(_e):null}catch(He){_e=je,Pe&&(Pe=!1,_e={error:He,text:_e})}}Pe?(i.next(new bm({body:_e,headers:R,status:U,statusText:Y,url:te||void 0})),i.complete()):i.error(new JC({error:_e,headers:R,status:U,statusText:Y,url:te||void 0}))},y=R=>{const{url:U}=h(),Y=new JC({error:R,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(Y)};let w=!1;const S=R=>{w||(i.next(h()),w=!0);let U={type:Qi.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(U.total=R.total),"text"===e.responseType&&r.responseText&&(U.partialText=r.responseText),i.next(U)},M=R=>{let U={type:Qi.UploadProgress,loaded:R.loaded};R.lengthComputable&&(U.total=R.total),i.next(U)};return r.addEventListener("load",g),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),e.reportProgress&&(r.addEventListener("progress",S),null!==o&&r.upload&&r.upload.addEventListener("progress",M)),r.send(o),i.next({type:Qi.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",g),r.removeEventListener("timeout",y),e.reportProgress&&(r.removeEventListener("progress",S),null!==o&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($l))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const vv=new s.OlP("XSRF_ENABLED"),P1="XSRF-TOKEN",ef=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>P1}),Im="X-XSRF-TOKEN",tf=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Im});class sD{}let bv=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=rr(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(s.Lbi),s.LFG(ef))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function HO(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(vv)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.f3M)(sD).getToken(),r=(0,s.f3M)(tf);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Ei=(()=>((Ei=Ei||{})[Ei.Interceptors=0]="Interceptors",Ei[Ei.LegacyInterceptors=1]="LegacyInterceptors",Ei[Ei.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ei[Ei.NoXsrfProtection=3]="NoXsrfProtection",Ei[Ei.JsonpSupport=4]="JsonpSupport",Ei[Ei.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ei))();function mu(n,t){return{\u0275kind:n,\u0275providers:t}}function k1(...n){const t=[_v,Tm,wm,{provide:gu,useExisting:wm},{provide:lc,useExisting:Tm},{provide:Xp,useValue:HO,multi:!0},{provide:vv,useValue:!0},{provide:sD,useClass:bv}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const ma=new s.OlP("LEGACY_INTERCEPTOR_FN");function Cm({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:ef,useValue:n}),void 0!==t&&e.push({provide:tf,useValue:t}),mu(Ei.CustomXsrfConfiguration,e)}let cD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[k1(mu(Ei.LegacyInterceptors,[{provide:ma,useFactory:tD},{provide:Xp,useExisting:ma,multi:!0}]),Cm({cookieName:P1,headerName:Im}))]}),n})();class _a{getFavoriteMovie(){throw new Error("Method not implemented.")}constructor(t){this.http=t,this.baseUrlSearch="https://api.themoviedb.org/3/search",this.baseUrl="https://api.themoviedb.org/3/movie",this.baseUrlPeople="https://api.themoviedb.org/3/person/",this.apiKey="df928e772131a3cd9859c6dacd2504e5"}getPopularMovies(t){return this.http.get(`${this.baseUrl}/popular?api_key=df928e772131a3cd9859c6dacd2504e5&page=${t}&language=fr`)}getTopRatedMovies(t,e){return this.http.get(`${this.baseUrl}/top_rated?api_key=df928e772131a3cd9859c6dacd2504e5&page=${t}&language=fr&include_adult=${e}`)}getLatest(t,e){return this.http.get(`${this.baseUrlSearch}/movie?api_key=df928e772131a3cd9859c6dacd2504e5&query=${e}&language=fr&include_adult=${t}&year=${(new Date).getFullYear()}}`)}getMovie(t){return this.http.get(`${this.baseUrl}/${t}?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}getSimilarMovies(t){return this.http.get(`${this.baseUrl}/${t}/similar?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}getMoviesByGenre(t){return this.http.get(`${this.baseUrl}/genre/${t}/movies?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}getReviews(t){return this.http.get(`${this.baseUrl}/${t}/reviews?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}getVideo(t){return this.http.get(`${this.baseUrl}/${t}/videos?api_key=df928e772131a3cd9859c6dacd2504e5&language=en-US`)}getImages(t){return this.http.get(`${this.baseUrl}/${t}/images?api_key=df928e772131a3cd9859c6dacd2504e5&language=en-US&include_image_language=fr`)}getQuerry(t,e){return this.http.get(`${this.baseUrlSearch}/movie?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr&query=${t}&include_adult=${e}`)}getPerson(t){return this.http.get(`${this.baseUrl}/${t}/credits?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}getPeopleById(t){return this.http.get(`${this.baseUrlPeople}/${t}?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}}function jO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",12),s.NdJ("keyup.enter",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.previous())})("click",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.previous())}),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.previousLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function uD(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.previousLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function dD(n,t){if(1&n&&(s.TgZ(0,"li",9),s.YNc(1,jO,4,2,"a",10),s.YNc(2,uD,4,2,"span",11),s.qZA()),2&n){s.oxw(2);const e=s.MAs(1);s.ekj("disabled",e.isFirstPage()),s.xp6(1),s.Q6J("ngIf",1<e.getCurrent()),s.xp6(1),s.Q6J("ngIf",e.isFirstPage())}}function hD(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",12),s.NdJ("keyup.enter",function(){s.CHM(e);const r=s.oxw().$implicit;s.oxw(2);const o=s.MAs(1);return s.KtG(o.setCurrent(r.value))})("click",function(){s.CHM(e);const r=s.oxw().$implicit;s.oxw(2);const o=s.MAs(1);return s.KtG(o.setCurrent(r.value))}),s.TgZ(1,"span",13),s._uU(2),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.ALo(5,"number"),s.qZA()()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.hij("",i.screenReaderPageLabel," "),s.xp6(2),s.Oqu("..."===e.label?e.label:s.xi3(5,2,e.label,""))}}function pD(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"span",16)(2,"span",13),s._uU(3),s.qZA(),s.TgZ(4,"span"),s._uU(5),s.ALo(6,"number"),s.qZA()(),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(3),s.hij("",i.screenReaderCurrentLabel," "),s.xp6(2),s.Oqu("..."===e.label?e.label:s.xi3(6,2,e.label,""))}}function fD(n,t){if(1&n&&(s.TgZ(0,"li"),s.YNc(1,hD,6,5,"a",10),s.YNc(2,pD,7,5,"ng-container",15),s.qZA()),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(1);s.ekj("current",i.getCurrent()===e.value)("ellipsis","..."===e.label),s.xp6(1),s.Q6J("ngIf",i.getCurrent()!==e.value),s.xp6(1),s.Q6J("ngIf",i.getCurrent()===e.value)}}function gD(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",12),s.NdJ("keyup.enter",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.next())})("click",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.next())}),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.nextLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function mD(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.nextLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function F1(n,t){if(1&n&&(s.TgZ(0,"li",17),s.YNc(1,gD,4,2,"a",10),s.YNc(2,mD,4,2,"span",11),s.qZA()),2&n){s.oxw(2);const e=s.MAs(1);s.ekj("disabled",e.isLastPage()),s.xp6(1),s.Q6J("ngIf",!e.isLastPage()),s.xp6(1),s.Q6J("ngIf",e.isLastPage())}}function wv(n,t){if(1&n&&(s.TgZ(0,"ul",4),s.YNc(1,dD,3,4,"li",5),s.TgZ(2,"li",6),s._uU(3),s.qZA(),s.YNc(4,fD,3,6,"li",7),s.YNc(5,F1,3,4,"li",8),s.qZA()),2&n){const e=s.oxw(),i=s.MAs(1);s.ekj("responsive",e.responsive),s.xp6(1),s.Q6J("ngIf",e.directionLinks),s.xp6(2),s.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),s.xp6(1),s.Q6J("ngForOf",i.pages)("ngForTrackBy",e.trackByIndex),s.xp6(1),s.Q6J("ngIf",e.directionLinks)}}_a.\u0275fac=function(t){return new(t||_a)(s.LFG(_v))},_a.\u0275prov=s.Yz7({token:_a,factory:_a.\u0275fac,providedIn:"root"});class Tv{constructor(){this.change=new s.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t];e<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}}const Iv=Number.MAX_SAFE_INTEGER;let _D=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,i){if(!(e instanceof Array)){let S=i.id||this.service.defaultId();return this.state[S]?this.state[S].slice:e}let h,g,r=i.totalItems&&i.totalItems!==e.length,o=this.createInstance(e,i),u=o.id,y=o.itemsPerPage,w=this.service.register(o);if(!r&&e instanceof Array){if(y=+y||Iv,h=(o.currentPage-1)*y,g=h+y,this.stateIsIdentical(u,e,h,g))return this.state[u].slice;{let M=e.slice(h,g);return this.saveState(u,e,M,h,g),this.service.change.emit(u),M}}return w&&this.service.change.emit(u),this.saveState(u,e,e,h,g),e}createInstance(e,i){return this.checkConfig(i),{id:null!=i.id?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||e.length}}checkConfig(e){const r=["itemsPerPage","currentPage"].filter(o=>!(o in e));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(e,i,r,o,u){this.state[e]={collection:i,size:i.length,slice:r,start:o,end:u}}stateIsIdentical(e,i,r,o){let u=this.state[e];return!(!u||u.size!==i.length||u.start!==r||u.end!==o)&&u.slice.every((g,y)=>g===i[r+y])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Tv,16))},n.\u0275pipe=s.Yjl({name:"paginate",type:n,pure:!1}),n})(),yD=(()=>{class n{constructor(e,i){this.service=e,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new s.vpe,this.pageBoundsCorrection=new s.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id);const i=this.outOfBoundCorrection(e);i!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){const i=Math.ceil(e.totalItems/e.itemsPerPage);return i<e.currentPage&&0<i?i:e.currentPage<1?1:e.currentPage}createPageArray(e,i,r,o){o=+o;let u=[];const h=Math.max(Math.ceil(r/i),1),g=Math.ceil(o/2),y=e<=g,w=h-g<e,S=!y&&!w;let M=o<h,R=1;for(;R<=h&&R<=o;){let U,Y=this.calculatePageNumber(R,e,o,h);U=M&&(2===R&&(S||w)||R===o-1&&(S||y))?"...":Y,u.push({label:U,value:Y}),R++}return u}calculatePageNumber(e,i,r,o){let u=Math.ceil(r/2);return e===r?o:1===e?e:r<o?o-u<i?o-r+e:u<i?i-u+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Tv),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[s.TTD]}),n})();function Ev(n){return!!n&&"false"!==n}let vD=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new s.vpe,this.pageBoundsCorrection=new s.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Ev(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Ev(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Ev(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,i){if(1&e&&(s.TgZ(0,"pagination-template",0,1),s.NdJ("pageChange",function(o){return i.pageChange.emit(o)})("pageBoundsCorrection",function(o){return i.pageBoundsCorrection.emit(o)}),s.TgZ(2,"nav",2),s.YNc(3,wv,6,8,"ul",3),s.qZA()()),2&e){const r=s.MAs(1);s.Q6J("id",i.id)("maxSize",i.maxSize),s.xp6(2),s.uIk("aria-label",i.screenReaderPaginationLabel),s.xp6(1),s.Q6J("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[yD,Jt,hn,Wh],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),bD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Tv],imports:[[Mn]]}),n})();class _u{}_u.\u0275fac=function(t){return new(t||_u)},_u.\u0275cmp=s.Xpm({type:_u,selectors:[["app-movie-card"]],inputs:{movie:"movie"},decls:12,vars:7,consts:[[1,"movie__card"],["alt","",1,"movie__card__img",3,"src"],[1,"movie__card__release_date"],[1,"movie__card__cardbody"],[1,"movie__card__card-footer"],["src","assets/starIcon.png","width","18","height","18","alt",""]],template:function(t,e){1&t&&(s.TgZ(0,"section",0),s._UZ(1,"img",1),s.TgZ(2,"span",2),s._uU(3),s.ALo(4,"date"),s.qZA(),s.TgZ(5,"div",3)(6,"p"),s._uU(7),s.qZA()(),s.TgZ(8,"div",4)(9,"p"),s._UZ(10,"img",5),s._uU(11),s.qZA()()()),2&t&&(s.xp6(1),s.MGl("src","https://image.tmdb.org/t/p/original",e.movie.poster_path,"",s.LSH),s.xp6(2),s.Oqu(s.xi3(4,4,e.movie.release_date,"yyyy")),s.xp6(4),s.Oqu(e.movie.original_title),s.xp6(4),s.hij(" ",e.movie.vote_average,"/10"))},dependencies:[hi],styles:["p[_ngcontent-%COMP%]{margin:0}.movie__card[_ngcontent-%COMP%]{flex-direction:column;text-align:left;width:200px;display:flex;padding:25px 0;cursor:pointer;position:relative}.movie__card__img[_ngcontent-%COMP%]{margin-bottom:9px}.movie__card__img[_ngcontent-%COMP%]:hover{transform:scale(1)}.movie__card__release_date[_ngcontent-%COMP%]{position:absolute;top:299px;left:10px;background-color:#161824;padding:2px 5px;border-radius:15px;font-size:12px}.movie__card__img[_ngcontent-%COMP%]{border-radius:20px}"]});const L1=function(n){return["/movie/",n]};function wD(n,t){if(1&n&&(s.TgZ(0,"div",5),s._UZ(1,"app-movie-card",6),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("movie",e)("routerLink",s.VKq(2,L1,e.id))}}const ZO=function(n,t){return{itemsPerPage:50,currentPage:n,totalItems:t}};class yu{constructor(t){this.dataService=t,this.moviesData=[],this.p=1,this.total=0}ngOnInit(){}getPopularMovies(){this.dataService.getPopularMovies(this.p).subscribe(t=>{this.moviesData=t,this.total=t.total_results})}pageChangeEvent(t){this.p=t,this.getPopularMovies()}}yu.\u0275fac=function(t){return new(t||yu)(s.Y36(_a))},yu.\u0275cmp=s.Xpm({type:yu,selectors:[["app-movies"]],inputs:{moviesData:"moviesData",p:"p",total:"total"},decls:8,vars:7,consts:[[1,"movies-section"],[1,"container"],[1,"movies-container"],["class","movie",4,"ngFor","ngForOf"],[1,"pagination",3,"pageChange"],[1,"movie"],[3,"movie","routerLink"]],template:function(t,e){1&t&&(s.TgZ(0,"section",0)(1,"div",1)(2,"h2"),s._uU(3,"Films les mieux not\xe9s"),s.qZA(),s.TgZ(4,"div",2),s.YNc(5,wD,2,4,"div",3),s.ALo(6,"paginate"),s.qZA(),s.TgZ(7,"pagination-controls",4),s.NdJ("pageChange",function(r){return e.pageChangeEvent(r)}),s.qZA()()()),2&t&&(s.xp6(5),s.Q6J("ngForOf",s.xi3(6,1,e.moviesData.results,s.WLB(4,ZO,e.p,e.total))))},dependencies:[ol,hn,vD,_u,_D],styles:[".movies-section[_ngcontent-%COMP%]{margin-top:100px}p[_ngcontent-%COMP%]{margin:0;padding:0}input[_ngcontent-%COMP%]{padding:7px 7px 7px 40px;border-radius:25px;border:none;color:#fff;background:url(search-icon.9fd73d47a958560a.png) no-repeat 15px;background-color:#272935;background-size:17px}input[_ngcontent-%COMP%]{margin:.4rem}textarea[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:none}.movies-header[_ngcontent-%COMP%]{margin-top:90px;padding-bottom:90px;text-align:center}.movies-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));place-items:center;align-items:stretch}.card-body[_ngcontent-%COMP%]{flex:none}.movie-card[_ngcontent-%COMP%]{flex-direction:column;text-align:left;width:200px;display:flex;padding:25px 0;cursor:pointer;position:relative}.release_date[_ngcontent-%COMP%]{position:absolute;top:299px;left:10px;background-color:#161824;padding:2px 5px;border-radius:15px;font-size:12px}.movie-card-img[_ngcontent-%COMP%]{border-radius:20px}.movie-card-text[_ngcontent-%COMP%]{padding-bottom:0;padding-left:5px;font-size:15px}.pagination[_ngcontent-%COMP%]{justify-content:right}[_nghost-%COMP%]     .p-tabview .p-tabview-panels{background-color:transparent}"]});var xm=L(2722),cn=L(2090),Zd=L(9681),Po=L(1877),Am=L(4859),Cv=L(4986),hr=L(5141);function Dv(){return(0,Yi.e)((n,t)=>{let e,i=!1;n.subscribe((0,Se.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function nf(n,t){return n===t}var _t,zn=L(2011),Mm=(L(8618),L(3942)),Te=L(5861),Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cs={},cc=cc||{},jt=Sv||self;function cl(){}function ul(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function ya(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var uc="closure_uid_"+(1e9*Math.random()>>>0),V1=0;function B1(n,t,e){return n.call.apply(n.bind,arguments)}function U1(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Vr(n,t,e){return(Vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?B1:U1).apply(null,arguments)}function rf(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function xr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function dl(){this.s=this.s,this.o=this.o}dl.prototype.s=!1,dl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Kd(n){Object.prototype.hasOwnProperty.call(n,uc)&&n[uc]||(n[uc]=++V1)}(this)},dl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xv=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Av(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function G1(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(ul(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function Br(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Br.prototype.h=function(){this.defaultPrevented=!0};var TD=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",cl,t),jt.removeEventListener("test",cl,t)}catch{}return n}();function sf(n){return/^[\s\xa0]*$/.test(n)}var Om=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function af(n,t){return n<t?-1:n>t?1:0}function Nm(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function js(n){return-1!=Nm().indexOf(n)}function Yd(n){return Yd[" "](n),n}Yd[" "]=cl;var uf,n,ID=js("Opera"),hl=js("Trident")||js("MSIE"),lf=js("Edge"),cf=lf||hl,Ov=js("Gecko")&&!(-1!=Nm().toLowerCase().indexOf("webkit")&&!js("Edge"))&&!(js("Trident")||js("MSIE"))&&!js("Edge"),Nv=-1!=Nm().toLowerCase().indexOf("webkit")&&!js("Edge");function Pv(){var n=jt.document;return n?n.documentMode:void 0}e:{var df="",Pm=(n=Nm(),Ov?/rv:([^\);]+)(\)|;)/.exec(n):lf?/Edge\/([\d\.]+)/.exec(n):hl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Nv?/WebKit\/(\S+)/.exec(n):ID?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pm&&(df=Pm?Pm[1]:""),hl){var kv=Pv();if(null!=kv&&kv>parseFloat(df)){uf=String(kv);break e}}uf=df}var $1={};var ED=jt.document&&hl&&(Pv()||parseInt(uf,10))||void 0;function Qd(n,t){if(Br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Ov){e:{try{Yd(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:z1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Qd.X.h.call(this)}}xr(Qd,Br);var z1={2:"touch",3:"pen",4:"mouse"};Qd.prototype.h=function(){Qd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vu="closure_listenable_"+(1e6*Math.random()|0),Rm=0;function W1(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++Rm,this.ba=this.ea=!1}function hf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Fm(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Fv(n){const t={};for(const e in n)t[e]=n[e];return t}const Lv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vv(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<Lv.length;o++)e=Lv[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function pf(n){this.src=n,this.g={},this.h=0}function Lm(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=xv(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(hf(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Jd(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}pf.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Jd(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new W1(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var va="closure_lm_"+(1e6*Math.random()|0),Bv={};function Z1(n,t,e,i,r){if(i&&i.once)return Bm(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Z1(n,t[o],e,i,r);return null}return e=Um(e),n&&n[vu]?n.N(t,e,ya(i)?!!i.capture:!!i,r):Vm(n,t,e,!1,i,r)}function Vm(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=ya(r)?!!r.capture:!!r,h=Uv(n);if(h||(n[va]=h=new pf(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function bu(){const t=qO;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)TD||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(CD(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Bm(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Bm(n,t[o],e,i,r);return null}return e=Um(e),n&&n[vu]?n.O(t,e,ya(i)?!!i.capture:!!i,r):Vm(n,t,e,!0,i,r)}function q1(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)q1(n,t[o],e,i,r);else i=ya(i)?!!i.capture:!!i,e=Um(e),n&&n[vu]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Jd(o=n.g[t],e,i,r))&&(hf(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Uv(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Jd(t,e,i,r)),(e=-1<n?t[n]:null)&&ff(e))}function ff(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[vu])Lm(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(CD(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Uv(t))?(Lm(e,n),0==e.h&&(e.src=null,t[va]=null)):hf(n)}}}function CD(n){return n in Bv?Bv[n]:Bv[n]="on"+n}function qO(n,t){if(n.ba)n=!0;else{t=new Qd(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&ff(n),n=e.call(i,t)}return n}function Uv(n){return(n=n[va])instanceof pf?n:null}var Hv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Um(n){return"function"==typeof n?n:(n[Hv]||(n[Hv]=function(t){return n.handleEvent(t)}),n[Hv])}function Ar(){dl.call(this),this.i=new pf(this),this.P=this,this.I=null}function pn(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Br(t,n);else if(t instanceof Br)t.target=t.target||n;else{var r=t;Vv(t=new Br(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=gf(u,i,!0,t)&&r}if(r=gf(u=t.g=n,i,!0,t)&&r,r=gf(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=gf(u=t.g=e[o],i,!1,t)&&r}function gf(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ba&&u.capture==e){var h=u.listener,g=u.ha||u.src;u.ea&&Lm(n.i,u),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}xr(Ar,dl),Ar.prototype[vu]=!0,Ar.prototype.removeEventListener=function(n,t,e,i){q1(this,n,t,e,i)},Ar.prototype.M=function(){if(Ar.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)hf(e[i]);delete n.g[t],n.h--}}this.I=null},Ar.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ar.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Gv=jt.JSON.stringify;function DD(){var n=X1;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var $v,Y1=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Q1,n=>n.reset());class Q1{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function J1(n){jt.setTimeout(()=>{throw n},0)}function wu(n,t){$v||function SD(){var n=jt.Promise.resolve(void 0);$v=function(){n.then(eT)}}(),Hm||($v(),Hm=!0),X1.add(n,t)}var Hm=!1,X1=new class K1{constructor(){this.h=this.g=null}add(t,e){const i=Y1.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function eT(){for(var n;n=DD();){try{n.h.call(n.g)}catch(e){J1(e)}var t=Y1;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Hm=!1}function jv(n,t){Ar.call(this),this.h=n||1,this.g=t||jt,this.j=Vr(this.lb,this),this.l=Date.now()}function mf(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function _f(n,t,e){if("function"==typeof n)e&&(n=Vr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vr(n.handleEvent,n)}return 2147483647<Number(t)?-1:jt.setTimeout(n,t||0)}function uo(n){n.g=_f(()=>{n.g=null,n.i&&(n.i=!1,uo(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}xr(jv,Ar),(_t=jv.prototype).ca=!1,_t.R=null,_t.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),pn(this,"tick"),this.ca&&(mf(this),this.start()))}},_t.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){jv.X.M.call(this),mf(this),delete this.g};class xD extends dl{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:uo(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xd(n){dl.call(this),this.h=n,this.g={}}xr(Xd,dl);var ko=[];function ho(n,t,e,i){Array.isArray(e)||(e&&(ko[0]=e.toString()),e=ko);for(var r=0;r<e.length;r++){var o=Z1(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function po(n){Fm(n.g,function(t,e){this.g.hasOwnProperty(e)&&ff(t)},n),n.g={}}function yf(){this.g=!0}function eh(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function OD(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return Gv(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Xd.prototype.M=function(){Xd.X.M.call(this),po(this)},Xd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yf.prototype.Aa=function(){this.g=!1},yf.prototype.info=function(){};var pl={},th=null;function Gm(){return th=th||new Ar}function zv(n){Br.call(this,pl.Pa,n)}function vf(n){const t=Gm();pn(t,new zv(t))}function Wv(n,t){Br.call(this,pl.STAT_EVENT,n),this.stat=t}function Wr(n){const t=Gm();pn(t,new Wv(t,n))}function bf(n,t){Br.call(this,pl.Qa,n),this.size=t}function wf(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},t)}pl.Pa="serverreachability",xr(zv,Br),pl.STAT_EVENT="statevent",xr(Wv,Br),pl.Qa="timingevent",xr(bf,Br);var Tf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Zv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function If(){}function $m(){}If.prototype.h=null;var Wm,Tu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function jm(){Br.call(this,"d")}function zm(){Br.call(this,"c")}function Cf(){}function nh(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Xd(this),this.O=ND,this.T=new jv(n=cf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new qv}function qv(){this.i=null,this.g="",this.h=!1}xr(jm,Br),xr(zm,Br),xr(Cf,If),Cf.prototype.g=function(){return new XMLHttpRequest},Cf.prototype.i=function(){return{}},Wm=new Cf;var ND=45e3,Zm={},qm={};function Kv(n,t,e){n.K=1,n.v=Mf(ba(t)),n.s=e,n.P=!0,nT(n,null)}function nT(n,t){n.F=Date.now(),Df(n),n.A=ba(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),VD(e.i,"t",i),n.C=0,e=n.l.H,n.h=new qv,n.g=c0(n.l,e?t:null,!n.s),0<n.N&&(n.L=new xD(Vr(n.La,n,n.g),n.N)),ho(n.S,n.g,"readystatechange",n.ib),t=n.H?Fv(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),vf(),function tT(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),g=0;g<h.length;g++){var y=h[g].split("=");if(1<y.length){var w=y[0];y=y[1];var S=w.split("_");u=2<=S.length&&"type"==S[1]?u+(w+"=")+y+"&":u+(w+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function iT(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function rT(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=PD(n,e),r==qm){4==t&&(n.o=4,Wr(14),i=!1),eh(n.j,n.m,null,"[Incomplete Response]");break}if(r==Zm){n.o=4,Wr(15),eh(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}eh(n.j,n.m,r,null),Yv(n,r)}iT(n)&&r!=qm&&r!=Zm&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Wr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),t_(t),t.K=!0,Wr(11))):(eh(n.j,n.m,e,"[Invalid Chunked Response]"),Iu(n),Sf(n))}function PD(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?qm:(e=Number(t.substring(e,i)),isNaN(e)?Zm:(i+=1)+e>t.length?qm:(t=t.substr(i,e),n.C=i+e,t))}function Df(n){n.V=Date.now()+n.O,sT(n,n.O)}function sT(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=wf(Vr(n.gb,n),t)}function Km(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Sf(n){0==n.l.G||n.I||wT(n.l,n)}function Iu(n){Km(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,mf(n.T),po(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Yv(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||oh(e.h,n)))if(!n.J&&oh(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;n_(e),e_(e)}l0(e),Wr(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=wf(Vr(e.cb,e),6e3));if(1>=Of(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Su(e,11)}else if((n.J||e.g==n)&&n_(e),!sf(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.T=y[0],y=y[1],2==e.G)if("c"==y[0]){e.I=y[1],e.ka=y[2];const w=y[3];null!=w&&(e.ma=w,e.j.info("VER="+e.ma));const S=y[4];null!=S&&(e.Ca=S,e.j.info("SVER="+e.Ca));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(e.J=i=1.5*M,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const R=n.g;if(R){const U=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=i.h;o.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ai(o,o.h),o.h=null))}if(i.D){const Y=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.za=Y,Qn(i.F,i.D,Y))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=IT(i,i.H?i.ka:null,i.V),u.J){HD(i.h,u);var h=u,g=i.J;g&&h.setTimeout(g),h.B&&(Km(h),Df(h)),i.g=u}else bT(i);0<e.i.length&&a0(e)}else"stop"!=y[0]&&"close"!=y[0]||Su(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Su(e,7):o0(e):"noop"!=y[0]&&e.l&&e.l.wa(y),e.A=0)}vf()}catch{}}function oT(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(ul(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function RD(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ul(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function kD(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ul(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(_t=nh.prototype).setTimeout=function(n){this.O=n},_t.ib=function(n){n=n.target;const t=this.L;t&&3==gl(n)?t.l():this.La(n)},_t.La=function(n){try{if(n==this.g)e:{const w=gl(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>w)&&(3!=w||cf||this.g&&(this.h.h||this.g.fa()||n0(this.g)))){this.I||4!=w||7==t||vf(),Km(this);var e=this.g.aa();this.Y=e;t:if(iT(this)){var i=n0(this.g);n="";var r=i.length,o=4==gl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Iu(this),Sf(this);var u="";break t}this.h.i=new jt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function AD(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,w,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sf(h)){var y=h;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,Wr(12),Iu(this),Sf(this);break e}eh(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yv(this,e)}this.P?(rT(this,w,u),cf&&this.i&&3==w&&(ho(this.S,this.T,"tick",this.hb),this.T.start())):(eh(this.j,this.m,u,null),Yv(this,u)),4==w&&Iu(this),this.i&&!this.I&&(4==w?wT(this.l,this):(this.i=!1,Df(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Wr(12)):(this.o=0,Wr(13)),Iu(this),Sf(this)}}}catch{}},_t.hb=function(){if(this.g){var n=gl(this.g),t=this.g.fa();this.C<t.length&&(Km(this),rT(this,n,t),this.i&&4!=n&&Df(this))}},_t.cancel=function(){this.I=!0,Iu(this)},_t.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function MD(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(vf(),Wr(17)),Iu(this),this.o=2,Sf(this)):sT(this,this.V-n)};var aT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dc(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof dc){this.h=void 0!==t?t:n.h,xf(this,n.j),this.s=n.s,this.g=n.g,Af(this,n.m),this.l=n.l,t=n.i;var e=new Cu;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),Qv(this,e),this.o=n.o}else n&&(e=String(n).match(aT))?(this.h=!!t,xf(this,e[1]||"",!0),this.s=ih(e[2]||""),this.g=ih(e[3]||"",!0),Af(this,e[4]),this.l=ih(e[5]||"",!0),Qv(this,e[6]||"",!0),this.o=ih(e[7]||"")):(this.h=!!t,this.i=new Cu(null,this.h))}function ba(n){return new dc(n)}function xf(n,t,e){n.j=e?ih(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Af(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Qv(n,t,e){t instanceof Cu?(n.i=t,function BD(n,t){t&&!n.j&&(Du(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Jv(this,i),VD(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Eu(t,rh)),n.i=new Cu(t,n.h))}function Qn(n,t,e){n.i.set(t,e)}function Mf(n){return Qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ih(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Eu(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,cT),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}dc.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Eu(t,hc,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Eu(t,hc,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Eu(e,"/"==e.charAt(0)?LD:FD,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Eu(e,KO)),n.join("")};var hc=/[#\/\?@]/g,FD=/[#\?:]/g,LD=/[#\?]/g,rh=/[#\?@]/g,KO=/#/g;function Cu(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Du(n){n.g||(n.g=new Map,n.h=0,n.i&&function lT(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Jv(n,t){Du(n),t=Ot(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function Xv(n,t){return Du(n),t=Ot(n,t),n.g.has(t)}function VD(n,t,e){Jv(n,t),0<e.length&&(n.i=null,n.g.set(Ot(n,t),Av(e)),n.h+=e.length)}function Ot(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function uT(n){this.l=n||sh,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=Cu.prototype).add=function(n,t){Du(this),this.i=null,n=Ot(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},_t.forEach=function(n,t){Du(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},_t.oa=function(){Du(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},_t.W=function(n){Du(this);let t=[];if("string"==typeof n)Xv(this,n)&&(t=t.concat(this.g.get(Ot(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},_t.set=function(n,t){return Du(this),this.i=null,Xv(this,n=Ot(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},_t.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var sh=10;function dT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Of(n){return n.h?1:n.g?n.g.size:0}function oh(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function ai(n,t){n.g?n.g.add(t):n.h=t}function HD(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function e0(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Av(n.i)}function Ym(){}function GD(){this.g=new Ym}function hT(n,t,e){const i=e||"";try{oT(n,function(r,o){let u=r;ya(r)&&(u=Gv(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Nf(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function ah(n){this.l=n.ac||null,this.j=n.jb||!1}function Qm(n,t){Ar.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=t0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}uT.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ym.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},Ym.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},xr(ah,If),ah.prototype.g=function(){return new Qm(this.l,this.j)},ah.prototype.i=function(n){return function(){return n}}({}),xr(Qm,Ar);var t0=0;function fT(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function fl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pf(n)}function Pf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=Qm.prototype).open=function(n,t){if(this.readyState!=t0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Pf(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||jt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fl(this)),this.readyState=t0},_t.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pf(this)),this.g&&(this.readyState=3,Pf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fT(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},_t.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?fl(this):Pf(this),3==this.readyState&&fT(this)}},_t.Va=function(n){this.g&&(this.response=this.responseText=n,fl(this))},_t.Ua=function(n){this.g&&(this.response=n,fl(this))},_t.ga=function(){this.g&&fl(this)},_t.setRequestHeader=function(n,t){this.v.append(n,t)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Qm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $D=jt.JSON.parse;function Ci(n){Ar.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kf,this.K=this.L=!1}xr(Ci,Ar);var kf="",gT=/^https?$/i,mT=["POST","PUT"];function yT(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,lh(n),Jm(n)}function lh(n){n.D||(n.D=!0,pn(n,"complete"),pn(n,"error"))}function ch(n){if(n.h&&typeof cc<"u"&&(!n.C[1]||4!=gl(n)||2!=n.aa()))if(n.v&&4==gl(n))_f(n.Ha,0,n);else if(pn(n,"readystatechange"),4==gl(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(aT)[1]||null;if(!r&&jt.self&&jt.self.location){var o=jt.self.location.protocol;r=o.substr(0,o.length-1)}i=!gT.test(r?r.toLowerCase():"")}e=i}if(e)pn(n,"complete"),pn(n,"success");else{n.m=6;try{var u=2<gl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",lh(n)}}finally{Jm(n)}}}function Jm(n,t){if(n.g){vT(n);const e=n.g,i=n.C[0]?cl:null;n.g=null,n.C=null,t||pn(n,"ready");try{e.onreadystatechange=i}catch{}}}function vT(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function gl(n){return n.g?n.g.readyState:0}function n0(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case kf:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function r0(n){let t="";return Fm(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Xm(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=r0(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Qn(n,t,e))}function Rf(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function s0(n){this.Ca=0,this.i=[],this.j=new yf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Rf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Rf("baseRetryDelayMs",5e3,n),this.bb=Rf("retryDelaySeedMs",1e4,n),this.$a=Rf("forwardChannelMaxRetries",2,n),this.ta=Rf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new uT(n&&n.concurrentRequestLimit),this.Fa=new GD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function o0(n){if(jD(n),3==n.G){var t=n.U++,e=ba(n.F);Qn(e,"SID",n.I),Qn(e,"RID",t),Qn(e,"TYPE","terminate"),uh(n,e),(t=new nh(n,n.j,t,void 0)).K=2,t.v=Mf(ba(e)),e=!1,jt.navigator&&jt.navigator.sendBeacon&&(e=jt.navigator.sendBeacon(t.v.toString(),"")),!e&&jt.Image&&((new Image).src=t.v,e=!0),e||(t.g=c0(t.l,null),t.g.da(t.v)),t.F=Date.now(),Df(t)}WD(n)}function e_(n){n.g&&(t_(n),n.g.cancel(),n.g=null)}function jD(n){e_(n),n.u&&(jt.clearTimeout(n.u),n.u=null),n_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function a0(n){dT(n.h)||n.m||(n.m=!0,wu(n.Ja,n),n.C=0)}function zD(n,t){var e;e=t?t.m:n.U++;const i=ba(n.F);Qn(i,"SID",n.I),Qn(i,"RID",e),Qn(i,"AID",n.T),uh(n,i),n.o&&n.s&&Xm(i,n.o,n.s),e=new nh(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=Ff(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ai(n.h,e),Kv(e,i,t)}function uh(n,t){n.ia&&Fm(n.ia,function(e,i){Qn(t,i,e)}),n.l&&oT({},function(e,i){Qn(t,i,e)})}function Ff(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Vr(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let g=0;g<e;g++){let y=r[g].h;const w=r[g].g;if(y-=o,0>y)o=Math.max(0,r[g].h-100),h=!1;else try{hT(w,u,"req"+y+"_")}catch{i&&i(w)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function bT(n){n.g||n.u||(n.Z=1,wu(n.Ia,n),n.A=0)}function l0(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=wf(Vr(n.Ia,n),TT(n,n.A)),n.A++,0))}function t_(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function dh(n){n.g=new nh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=ba(n.sa);Qn(t,"RID","rpc"),Qn(t,"SID",n.I),Qn(t,"CI",n.L?"0":"1"),Qn(t,"AID",n.T),Qn(t,"TYPE","xmlhttp"),uh(n,t),n.o&&n.s&&Xm(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=Mf(ba(t)),e.s=null,e.P=!0,nT(e,n)}function n_(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function wT(n,t){var e=null;if(n.g==t){n_(n),t_(n),n.g=null;var i=2}else{if(!oh(n.h,t))return;e=t.D,HD(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;pn(i=Gm(),new bf(i,e)),a0(n)}else bT(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function YO(n,t){return!(Of(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=wf(Vr(n.Ja,n,t),TT(n,n.C)),n.C++,0)))}(n,t)||2==i&&l0(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Su(n,5);break;case 4:Su(n,10);break;case 3:Su(n,6);break;default:Su(n,2)}}function TT(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Su(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Vr(n.kb,n);e||(e=new dc("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||xf(e,"https"),Mf(e)),function pT(n,t){const e=new yf;if(jt.Image){const i=new Image;i.onload=rf(Nf,e,i,"TestLoadImage: loaded",!0,t),i.onerror=rf(Nf,e,i,"TestLoadImage: error",!1,t),i.onabort=rf(Nf,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=rf(Nf,e,i,"TestLoadImage: timeout",!1,t),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Wr(2);n.G=0,n.l&&n.l.va(t),WD(n),jD(n)}function WD(n){if(n.G=0,n.la=[],n.l){const t=e0(n.h);(0!=t.length||0!=n.i.length)&&(G1(n.la,t),G1(n.la,n.i),n.h.i.length=0,Av(n.i),n.i.length=0),n.l.ua()}}function IT(n,t,e){var i=e instanceof dc?ba(e):new dc(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Af(i,i.m);else{var r=jt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new dc(null,void 0);i&&xf(o,i),t&&(o.g=t),r&&Af(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&Qn(i,e,t),Qn(i,"VER",n.ma),uh(n,i),i}function c0(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ci(e&&n.Da&&!n.ra?new ah({jb:!0}):n.ra)).Ka(n.H),t}function ET(){}function i_(){if(hl&&!(10<=Number(ED)))throw Error("Environmental error: no available transport.")}function Ur(n,t){Ar.call(this),this.g=new s0(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!sf(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sf(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new hh(this)}function CT(n){jm.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function u0(){zm.call(this),this.status=1}function hh(n){this.g=n}(_t=Ci.prototype).Ka=function(n){this.L=n},_t.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Wm.g(),this.C=function Ef(n){return n.h||(n.h=n.i())}(this.u?this.u:Wm),this.g.onreadystatechange=Vr(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void yT(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=jt.FormData&&n instanceof jt.FormData,!(0<=xv(mT,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of e)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vT(this),0<this.B&&((this.K=function _T(n){return hl&&function j1(){return function Mv(n){var t=$1;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Om(String(uf)).split("."),e=Om("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=af(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||af(0==r[2].length,0==o[2].length)||af(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vr(this.qa,this)):this.A=_f(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){yT(this,o)}},_t.qa=function(){typeof cc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,pn(this,"complete"),pn(this,"abort"),Jm(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jm(this,!0)),Ci.X.M.call(this)},_t.Ha=function(){this.s||(this.F||this.v||this.l?ch(this):this.fb())},_t.fb=function(){ch(this)},_t.aa=function(){try{return 2<gl(this)?this.g.status:-1}catch{return-1}},_t.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),$D(t)}},_t.Ea=function(){return this.m},_t.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=s0.prototype).ma=8,_t.G=1,_t.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new nh(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=Fv(o),Vv(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=Ff(this,r,t),Qn(e=ba(this.F),"RID",n),Qn(e,"CVER",22),this.D&&Qn(e,"X-HTTP-Session-Id",this.D),uh(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(r0(o)))+"&"+t:this.o&&Xm(e,this.o,o)),ai(this.h,r),this.Ya&&Qn(e,"TYPE","init"),this.O?(Qn(e,"$req",t),Qn(e,"SID","null"),r.Z=!0,Kv(r,e,null)):Kv(r,e,t),this.G=2}}else 3==this.G&&(n?zD(this,n):0==this.i.length||dT(this.h)||zD(this))},_t.Ia=function(){if(this.u=null,dh(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=wf(Vr(this.eb,this),n)}},_t.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Wr(10),e_(this),dh(this))},_t.cb=function(){null!=this.v&&(this.v=null,e_(this),l0(this),Wr(19))},_t.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Wr(2)):(this.j.info("Failed to ping google.com"),Wr(1))},(_t=ET.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Ra=function(){},i_.prototype.g=function(n,t){return new Ur(n,t)},xr(Ur,Ar),Ur.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Wr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=IT(n,null,n.V),a0(n)},Ur.prototype.close=function(){o0(this.g)},Ur.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Gv(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&a0(t)},Ur.prototype.M=function(){this.g.l=null,delete this.j,o0(this.g),delete this.g,Ur.X.M.call(this)},xr(CT,jm),xr(u0,zm),xr(hh,ET),hh.prototype.xa=function(){pn(this.g,"a")},hh.prototype.wa=function(n){pn(this.g,new CT(n))},hh.prototype.va=function(n){pn(this.g,new u0)},hh.prototype.ua=function(){pn(this.g,"b")},i_.prototype.createWebChannel=i_.prototype.g,Ur.prototype.send=Ur.prototype.u,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,Tf.NO_ERROR=0,Tf.TIMEOUT=8,Tf.HTTP_ERROR=6,Zv.COMPLETE="complete",$m.EventType=Tu,Tu.OPEN="a",Tu.CLOSE="b",Tu.ERROR="c",Tu.MESSAGE="d",Ar.prototype.listen=Ar.prototype.N,Ci.prototype.listenOnce=Ci.prototype.O,Ci.prototype.getLastError=Ci.prototype.Oa,Ci.prototype.getLastErrorCode=Ci.prototype.Ea,Ci.prototype.getStatus=Ci.prototype.aa,Ci.prototype.getResponseJson=Ci.prototype.Sa,Ci.prototype.getResponseText=Ci.prototype.fa,Ci.prototype.send=Ci.prototype.da,Ci.prototype.setWithCredentials=Ci.prototype.Ka;var DT=Cs.createWebChannelTransport=function(){return new i_},ZD=Cs.getStatEventTarget=function(){return Gm()},r_=Cs.ErrorCode=Tf,qD=Cs.EventType=Zv,d0=Cs.Event=pl,ST=Cs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},xT=Cs.FetchXmlHttpFactory=ah,Lf=Cs.WebChannel=$m,KD=Cs.XhrIo=Ci;const AT="@firebase/firestore";class Mr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");let pc="9.17.1";const fc=new Po.Yd("@firebase/firestore");function s_(){return fc.logLevel}function $e(n,...t){if(fc.logLevel<=Po.in.DEBUG){const e=t.map(h0);fc.debug(`Firestore (${pc}): ${n}`,...e)}}function Bi(n,...t){if(fc.logLevel<=Po.in.ERROR){const e=t.map(h0);fc.error(`Firestore (${pc}): ${n}`,...e)}}function xu(n,...t){if(fc.logLevel<=Po.in.WARN){const e=t.map(h0);fc.warn(`Firestore (${pc}): ${n}`,...e)}}function h0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const t=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: `+n;throw Bi(t),new Error(t)}function Dt(n,t){n||ut()}function nt(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends cn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class o_{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Mr.UNAUTHENTICATED))}shutdown(){}}class JD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class XD{constructor(t){this.t=t,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;t.enqueueRetryable((0,Te.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},g=y=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dt("string"==typeof i.accessToken),new o_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Dt(null===t||"string"==typeof t),new Mr(t)}}class p0{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Mr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Dt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class f0{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new p0(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m0{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Dt("string"==typeof e.token),this.A=e.token,new g0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eS(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class a_{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=eS(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Qt(n,t){return n<t?-1:n>t?1:0}function Au(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Mu(n){return n+"\0"}class Jn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Be(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Be(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Be(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Be(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Jn.fromMillis(Date.now())}static fromDate(t){return Jn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Jn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new Jn(0,0))}static max(){return new Nt(new Jn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class l_{constructor(t,e,i){void 0===e?e=0:e>t.length&&ut(),void 0===i?i=t.length-e:i>t.length-e&&ut(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===l_.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof l_?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class fn extends l_{construct(t,e,i){return new fn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Be(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new fn(e)}static emptyPath(){return new fn([])}}const _0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends l_{construct(t,e,i){return new Di(t,e,i)}static isValidIdentifier(t){return _0.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Be(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Be(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Be(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Be(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Di(e)}static emptyPath(){return new Di([])}}class et{constructor(t){this.path=t}static fromPath(t){return new et(fn.fromString(t))}static fromName(t){return new et(fn.fromString(t).popFirst(5))}static empty(){return new et(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===fn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return fn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new fn(t.slice()))}}class c_{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function u_(n){return n.fields.find(t=>2===t.kind)}function ml(n){return n.fields.filter(t=>2!==t.kind)}c_.UNKNOWN_ID=-1;class Vf{constructor(t,e){this.fieldPath=t,this.kind=e}}class ph{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new ph(0,zs.min())}}function PT(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Nt.fromTimestamp(1e9===i?new Jn(e+1,0):new Jn(e,i));return new zs(r,et.empty(),t)}function kT(n){return new zs(n.readTime,n.key,-1)}class zs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new zs(Nt.min(),et.empty(),-1)}static max(){return new zs(Nt.max(),et.empty(),-1)}}function y0(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=et.comparator(n.documentKey,t.documentKey),0!==e?e:Qt(n.largestBatchId,t.largestBatchId))}const v0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function _l(n){return b0.apply(this,arguments)}function b0(){return b0=(0,Te.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==v0)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),b0.apply(this,arguments)}class ge{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ge((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ge?e:ge.resolve(e)}catch(e){return ge.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.reject(e)}static resolve(t){return new ge((e,i)=>{e(t)})}static reject(t){return new ge((e,i)=>{i(t)})}static waitFor(t){return new ge((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},g=>i(g))}),u=!0,o===r&&e()})}static or(t){let e=ge.resolve(!1);for(const i of t)e=e.next(r=>r?ge.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ge((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let g=0;g<o;g++){const y=g;e(t[y]).next(w=>{u[y]=w,++h,h===o&&i(u)},w=>r(w))}})}static doWhile(t,e){return new ge((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class w0{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new pr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new fh(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=I0(i.target.error);this.P.reject(new fh(t,r))}}static open(t,e,i,r){try{return new w0(e,t.transaction(r,i))}catch(o){throw new fh(e,o)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||($e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new RT(e)}}class Ro{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Ro.D((0,cn.z$)())&&Bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $e("SimpleDb","Removing database:",t),gc(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,cn.hl)())return!1;if(Ro.N())return!0;const t=(0,cn.z$)(),e=Ro.D(t),i=0<e&&e<10,r=Ro.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,Te.Z)(function*(){return e.db||($e("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new fh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Be(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Be(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new fh(t,h))},o.onupgradeneeded=u=>{$e("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{$e("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Te.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.F(t);const g=w0.open(o.db,t,u?"readonly":"readwrite",i),y=r(g).next(w=>(g.V(),w)).catch(w=>(g.abort(w),ge.reject(w))).toPromise();return y.catch(()=>{}),yield g.v,y}catch(g){const y=g,w="FirebaseError"!==y.name&&h<3;if($e("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),o.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class nS{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return gc(this.q.delete())}}class fh extends Be{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function yl(n){return"IndexedDbTransactionError"===n.name}class RT{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?($e("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),gc(i)}add(t){return $e("SimpleDb","ADD",this.store.name,t,t),gc(this.store.add(t))}get(t){return gc(this.store.get(t)).next(e=>(void 0===e&&(e=null),$e("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $e("SimpleDb","DELETE",this.store.name,t),gc(this.store.delete(t))}count(){return $e("SimpleDb","COUNT",this.store.name),gc(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ge((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ge((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(o,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new ge((i,r)=>{e.onerror=o=>{const u=I0(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new ge((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const g=new nS(h),y=e(h.primaryKey,h.value,g);if(y instanceof ge){const w=y.catch(S=>(g.done(),ge.reject(S)));i.push(w)}g.isDone?r():null===g.G?h.continue():h.continue(g.G)}}).next(()=>ge.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function gc(n){return new ge((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=I0(i.target.error);e(r)}})}let T0=!1;function I0(n){const t=Ro.D((0,cn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return T0||(T0=!0,setTimeout(()=>{throw i},0)),i}}return n}class iS{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;$e("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Te.Z)(function*(){e.task=null;try{$e("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){yl(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield _l(i)}yield e.nt(6e4)}))}}class rS{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Te.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return ge.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return $e("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,o)).next(h=>($e("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=kT(o);y0(u,i)>0&&(i=u)}),new zs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Ws=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class FT{constructor(t,e,i,r,o,u,h,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class fo{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof fo&&t.projectId===this.projectId&&t.database===this.database}}function E0(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function mc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function C0(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function gh(n){return null==n}function mh(n){return 0===n&&1/n==-1/0}function D0(n){return"number"==typeof n&&Number.isInteger(n)&&!mh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Or{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Or(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Or(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const LT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(n){if(Dt(!!n),"string"==typeof n){let t=0;const e=LT.exec(n);if(Dt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:gi(n.seconds),nanos:gi(n.nanos)}}function gi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ou(n){return"string"==typeof n?Or.fromBase64String(n):Or.fromUint8Array(n)}function S0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function _h(n){const t=n.mapValue.fields.__previous_value__;return S0(t)?_h(t):t}function Bf(n){const t=vl(n.mapValue.fields.__local_write_time__.timestampValue);return new Jn(t.seconds,t.nanos)}const wa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zs={nullValue:"NULL_VALUE"};function Nu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?S0(n)?4:d_(n)?9007199254740991:10:ut()}function go(n,t){if(n===t)return!0;const e=Nu(n);if(e!==Nu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Bf(n).isEqual(Bf(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=vl(i.timestampValue),u=vl(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Ou(n.bytesValue).isEqual(Ou(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return gi(i.geoPointValue.latitude)===gi(r.geoPointValue.latitude)&&gi(i.geoPointValue.longitude)===gi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return gi(i.integerValue)===gi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=gi(i.doubleValue),u=gi(r.doubleValue);return o===u?mh(o)===mh(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return Au(n.arrayValue.values||[],t.arrayValue.values||[],go);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(E0(o)!==E0(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!go(o[h],u[h])))return!1;return!0}(n,t);default:return ut()}var r}function bl(n,t){return void 0!==(n.values||[]).find(e=>go(e,t))}function _c(n,t){if(n===t)return 0;const e=Nu(n),i=Nu(t);if(e!==i)return Qt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=gi(r.integerValue||r.doubleValue),h=gi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return VT(n.timestampValue,t.timestampValue);case 4:return VT(Bf(n),Bf(t));case 5:return Qt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Ou(r),h=Ou(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let g=0;g<u.length&&g<h.length;g++){const y=Qt(u[g],h[g]);if(0!==y)return y}return Qt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Qt(gi(r.latitude),gi(o.latitude));return 0!==u?u:Qt(gi(r.longitude),gi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let g=0;g<u.length&&g<h.length;++g){const y=_c(u[g],h[g]);if(y)return y}return Qt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===wa.mapValue&&o===wa.mapValue)return 0;if(r===wa.mapValue)return 1;if(o===wa.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),g=o.fields||{},y=Object.keys(g);h.sort(),y.sort();for(let w=0;w<h.length&&w<y.length;++w){const S=Qt(h[w],y[w]);if(0!==S)return S;const M=_c(u[h[w]],g[y[w]]);if(0!==M)return M}return Qt(h.length,y.length)}(n.mapValue,t.mapValue);default:throw ut()}}function VT(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Qt(n,t);const e=vl(n),i=vl(t),r=Qt(e.seconds,i.seconds);return 0!==r?r:Qt(e.nanos,i.nanos)}function yh(n){return vh(n)}function vh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=vl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ou(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=vh(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${vh(i.fields[h])}`;return o+"}"}(n.mapValue):ut();var t}function Ta(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function x0(n){return!!n&&"integerValue"in n}function Uf(n){return!!n&&"arrayValue"in n}function A0(n){return!!n&&"nullValue"in n}function M0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bh(n){return!!n&&"mapValue"in n}function wh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return mc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=wh(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=wh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function d_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function O0(n){return"nullValue"in n?Zs:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ta(fo.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function BT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ta(fo.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?wa:ut()}function h_(n,t){const e=_c(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function p_(n,t){const e=_c(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class yc{constructor(t,e){this.position=t,this.inclusive=e}}function UT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?et.comparator(et.fromName(u.referenceValue),e.key):_c(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function HT(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!go(n.position[e],t.position[e]))return!1;return!0}class GT{}class un extends GT{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new jT(t,e,i):"array-contains"===e?new oS(t,i):"in"===e?new WT(t,i):"not-in"===e?new JO(t,i):"array-contains-any"===e?new XO(t,i):new un(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new zT(t,i):new ls(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(_c(e,this.value)):null!==e&&Nu(this.value)===Nu(e)&&this.matchesComparison(_c(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends GT{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new In(t,e)}matches(t){return Pu(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Pu(n){return"and"===n.op}function f_(n){return"or"===n.op}function g_(n){return N0(n)&&Pu(n)}function N0(n){for(const t of n.filters)if(t instanceof In)return!1;return!0}function P0(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+yh(n.value);if(g_(n))return n.filters.map(t=>P0(t)).join(",");{const t=n.filters.map(e=>P0(e)).join(",");return`${n.op}(${t})`}}function k0(n,t){return n instanceof un?(e=n,(i=t)instanceof un&&e.op===i.op&&e.field.isEqual(i.field)&&go(e.value,i.value)):n instanceof In?function(e,i){return i instanceof In&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,u)=>r&&k0(o,i.filters[u]),!0)}(n,t):void ut();var e,i}function R0(n,t){const e=n.filters.concat(t);return In.create(e,n.op)}function $T(n){return n instanceof un?`${(t=n).field.canonicalString()} ${t.op} ${yh(t.value)}`:n instanceof In?function(t){return t.op.toString()+" {"+t.getFilters().map($T).join(" ,")+"}"}(n):"Filter";var t}class jT extends un{constructor(t,e,i){super(t,e,i),this.key=et.fromName(i.referenceValue)}matches(t){const e=et.comparator(t.key,this.key);return this.matchesComparison(e)}}class zT extends un{constructor(t,e){super(t,"in",e),this.keys=ku(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class ls extends un{constructor(t,e){super(t,"not-in",e),this.keys=ku(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ku(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>et.fromName(i.referenceValue))}class oS extends un{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Uf(e)&&bl(e.arrayValue,this.value)}}class WT extends un{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&bl(this.value.arrayValue,e)}}class JO extends un{constructor(t,e){super(t,"not-in",e)}matches(t){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!bl(this.value.arrayValue,e)}}class XO extends un{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Uf(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>bl(this.value.arrayValue,i))}}class Ru{constructor(t,e="asc"){this.field=t,this.dir=e}}function ZT(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Wn{constructor(t,e){this.comparator=t,this.root=e||fr.EMPTY}insert(t,e){return new Wn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(t){return new Wn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new m_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new m_(this.root,t,this.comparator,!1)}getReverseIterator(){return new m_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new m_(this.root,t,this.comparator,!0)}}class m_{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??fr.RED,this.left=r??fr.EMPTY,this.right=o??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new fr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const t=this.left.check();if(t!==this.right.check())throw ut();return t+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1,fr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,t,e,i,r){return this}insert(n,t,e){return new fr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(t){this.comparator=t,this.data=new Wn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(t){return new F0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof On)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new On(this.comparator);return e.data=t,e}}class F0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Th(n){return n.hasNext()?n.getNext():void 0}class Ds{constructor(t){this.fields=t,t.sort(Di.comparator)}static empty(){return new Ds([])}unionWith(t){let e=new On(Di.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ds(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Au(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Hr{constructor(t){this.value=t}static empty(){return new Hr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!bh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=wh(e)}setAll(t){let e=Di.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=wh(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());bh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return go(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];bh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){mc(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Hr(wh(this.value))}}function __(n){const t=[];return mc(n.fields,(e,i)=>{const r=new Di([e]);if(bh(i)){const o=__(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Ds(t)}class Zn{constructor(t,e,i,r,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new Zn(t,0,Nt.min(),Nt.min(),Nt.min(),Hr.empty(),0)}static newFoundDocument(t,e,i,r){return new Zn(t,1,e,Nt.min(),i,r,0)}static newNoDocument(t,e){return new Zn(t,2,e,Nt.min(),Nt.min(),Hr.empty(),0)}static newUnknownDocument(t,e){return new Zn(t,3,e,Nt.min(),Nt.min(),Hr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Zn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qT{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ft=null}}function Ih(n,t=null,e=[],i=[],r=null,o=null,u=null){return new qT(n,t,e,i,r,o,u)}function wl(n){const t=nt(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>P0(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),gh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>yh(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>yh(i)).join(",")),t.ft=e}return t.ft}function y_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ZT(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!k0(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!HT(n.startAt,t.startAt)&&HT(n.endAt,t.endAt)}function Hf(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function v_(n,t){return n.filters.filter(e=>e instanceof un&&e.field.isEqual(t))}function L0(n,t,e){let i=Zs,r=!0;for(const o of v_(n,t)){let u=Zs,h=!0;switch(o.op){case"<":case"<=":u=O0(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Zs}h_({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];h_({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function Fu(n,t,e){let i=wa,r=!0;for(const o of v_(n,t)){let u=wa,h=!0;switch(o.op){case">=":case">":u=BT(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=wa}p_({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];p_({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class Tl{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=g,this.dt=null,this._t=null}}function V0(n,t,e,i,r,o,u,h){return new Tl(n,t,e,i,r,o,u,h)}function vc(n){return new Tl(n)}function aS(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function B0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function U0(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function H0(n){return null!==n.collectionGroup}function Lu(n){const t=nt(n);if(null===t.dt){t.dt=[];const e=U0(t),i=B0(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new Ru(e)),t.dt.push(new Ru(Di.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Ru(Di.keyField(),o))}}}return t.dt}function cs(n){const t=nt(n);if(!t._t)if("F"===t.limitType)t._t=Ih(t.path,t.collectionGroup,Lu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Lu(t))e.push(new Ru(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new yc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yc(t.startAt.position,t.startAt.inclusive):null;t._t=Ih(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function b_(n,t){t.getFirstInequalityField(),U0(n);const e=n.filters.concat([t]);return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Gf(n,t,e){return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function $f(n,t){return y_(cs(n),cs(t))&&n.limitType===t.limitType}function G0(n){return`${wl(cs(n))}|lt:${n.limitType}`}function w_(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>$T(i)).join(", ")}]`),gh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>yh(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>yh(i)).join(",")),`Target(${e})`}(cs(n))}; limitType=${n.limitType})`}function jf(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):et.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Lu(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=UT(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,Lu(e),i)||e.endAt&&!function(r,o,u){const h=UT(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,Lu(e),i)));var e,i}function KT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $0(n){return(t,e)=>{let i=!1;for(const r of Lu(n)){const o=lS(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function lS(n,t,e){const i=n.field.isKeyField()?et.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),g=u.data.field(r);return null!==h&&null!==g?_c(h,g):ut()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function j0(n,t){if(n.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(t)?"-0":t}}function z0(n){return{integerValue:""+n}}function W0(n,t){return D0(t)?z0(t):j0(n,t)}class zf{constructor(){this._=void 0}}function cS(n,t,e){return n instanceof Vu?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Eh?hS(n,t):n instanceof Ch?pS(n,t):function(i,r){const o=dS(i,r),u=fS(o)+fS(i.gt);return x0(o)&&x0(i.gt)?z0(u):j0(i.yt,u)}(n,t)}function uS(n,t,e){return n instanceof Eh?hS(n,t):n instanceof Ch?pS(n,t):e}function dS(n,t){return n instanceof Wf?x0(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Vu extends zf{}class Eh extends zf{constructor(t){super(),this.elements=t}}function hS(n,t){const e=gS(t);for(const i of n.elements)e.some(r=>go(r,i))||e.push(i);return{arrayValue:{values:e}}}class Ch extends zf{constructor(t){super(),this.elements=t}}function pS(n,t){let e=gS(t);for(const i of n.elements)e=e.filter(r=>!go(r,i));return{arrayValue:{values:e}}}class Wf extends zf{constructor(t,e){super(),this.yt=t,this.gt=e}}function fS(n){return gi(n.integerValue||n.doubleValue)}function gS(n){return Uf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class T_{constructor(t,e){this.field=t,this.transform=e}}class eN{constructor(t,e){this.version=t,this.transformResults=e}}class Xn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bu(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Zf{}function Z0(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Il(n.key,Xn.none()):new Hu(n.key,n.data,Xn.none());{const e=n.data,i=Hr.empty();let r=new On(Di.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new bc(n.key,i,new Ds(r.toArray()),Xn.none())}}function tN(n,t,e){n instanceof Hu?function(i,r,o){const u=i.value.clone(),h=XT(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof bc?function(i,r,o){if(!Bu(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=XT(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(JT(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Uu(n,t,e,i){return n instanceof Hu?function(r,o,u,h){if(!Bu(r.precondition,o))return u;const g=r.value.clone(),y=eI(r.fieldTransforms,h,o);return g.setAll(y),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof bc?function(r,o,u,h){if(!Bu(r.precondition,o))return u;const g=eI(r.fieldTransforms,h,o),y=o.data;return y.setAll(JT(r)),y.setAll(g),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,t,e,i):(u=e,Bu(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function YT(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=dS(i.transform,r||null);null!=o&&(null===e&&(e=Hr.empty()),e.set(i.field,o))}return e||null}function QT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Au(e,i,(r,o)=>function I_(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Eh&&i instanceof Eh||e instanceof Ch&&i instanceof Ch?Au(e.elements,i.elements,go):e instanceof Wf&&i instanceof Wf?go(e.gt,i.gt):e instanceof Vu&&i instanceof Vu);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Hu extends Zf{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bc extends Zf{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function XT(n,t,e){const i=new Map;Dt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,uS(u,h,e[r]))}return i}function eI(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,cS(o,u,t))}return i}class Il extends Zf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q0 extends Zf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nN{constructor(t){this.count=t}}var gr,mn;function tI(n){switch(n){default:return ut();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function nI(n){if(void 0===n)return Bi("GRPC error has no .code"),me.UNKNOWN;switch(n){case gr.OK:return me.OK;case gr.CANCELLED:return me.CANCELLED;case gr.UNKNOWN:return me.UNKNOWN;case gr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case gr.INTERNAL:return me.INTERNAL;case gr.UNAVAILABLE:return me.UNAVAILABLE;case gr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case gr.NOT_FOUND:return me.NOT_FOUND;case gr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case gr.ABORTED:return me.ABORTED;case gr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case gr.DATA_LOSS:return me.DATA_LOSS;default:return ut()}}(mn=gr||(gr={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class wc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){mc(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}const iN=new Wn(et.comparator);function Ss(){return iN}const K0=new Wn(et.comparator);function Dh(...n){let t=K0;for(const e of n)t=t.insert(e.key,e);return t}function mS(n){let t=K0;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ji(){return Gu()}function iI(){return Gu()}function Gu(){return new wc(n=>n.toString(),(n,t)=>n.isEqual(t))}const _S=new Wn(et.comparator),rN=new On(et.comparator);function Ft(...n){let t=rN;for(const e of n)t=t.add(e);return t}const yS=new On(Qt);function Sh(){return yS}class qf{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Kf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new qf(Nt.min(),r,Sh(),Ss(),Ft())}}class Kf{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Kf(i,e,Ft(),Ft(),Ft())}}class xh{constructor(t,e,i,r){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=r}}class Y0{constructor(t,e){this.targetId=t,this.Et=e}}class Q0{constructor(t,e,i=Or.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class rI{constructor(){this.At=0,this.Rt=oI(),this.bt=Or.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Ft(),e=Ft(),i=Ft();return this.Rt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new Kf(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=oI()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class sI{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=Ss(),this.qt=J0(),this.Ut=new On(Qt)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:ut()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((i,r)=>{this.zt(r)&&e(r)})}Jt(t){const e=t.targetId,i=t.Et.count,r=this.Yt(e);if(r){const o=r.target;if(Hf(o))if(0===i){const u=new et(o.path);this.Qt(e,u,Zn.newNoDocument(u,Nt.min()))}else Dt(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach((o,u)=>{const h=this.Yt(u);if(h){if(o.current&&Hf(h.target)){const g=new et(h.target.path);null!==this.Lt.get(g)||this.te(u,g)||this.Qt(u,g,Zn.newNoDocument(g,t))}o.St&&(e.set(u,o.Ct()),o.xt())}});let i=Ft();this.qt.forEach((o,u)=>{let h=!0;u.forEachWhile(g=>{const y=this.Yt(g);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Lt.forEach((o,u)=>u.setReadTime(t));const r=new qf(t,e,this.Ut,this.Lt,i);return this.Lt=Ss(),this.qt=J0(),this.Ut=new On(Qt),r}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new rI,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new On(Qt),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new rI),this.$t.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function J0(){return new Wn(et.comparator)}function oI(){return new Wn(et.comparator)}const aI={asc:"ASCENDING",desc:"DESCENDING"},vS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X0={and:"AND",or:"OR"};class Tc{constructor(t,e){this.databaseId=t,this.wt=e}}function $u(n,t){return n.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function E_(n,t){return n.wt?t.toBase64():t.toUint8Array()}function El(n,t){return $u(n,t.toTimestamp())}function Ui(n){return Dt(!!n),Nt.fromTimestamp(function(t){const e=vl(t);return new Jn(e.seconds,e.nanos)}(n))}function lI(n,t){return(e=n,new fn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function cI(n){const t=fn.fromString(n);return Dt(hI(t)),t}function Yf(n,t){return lI(n.databaseId,t.path)}function Ia(n,t){const e=cI(t);if(e.get(1)!==n.databaseId.projectId)throw new Be(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Be(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new et(nb(e))}function eb(n,t){return lI(n.databaseId,t)}function tb(n){const t=cI(n);return 4===t.length?fn.emptyPath():nb(t)}function C_(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nb(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uI(n,t,e){return{name:Yf(n,t),fields:e.value.mapValue.fields}}function ib(n,t,e){const i=Ia(n,t.name),r=Ui(t.updateTime),o=t.createTime?Ui(t.createTime):Nt.min(),u=new Hr({mapValue:{fields:t.fields}}),h=Zn.newFoundDocument(i,r,o,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function Ah(n,t){let e;if(t instanceof Hu)e={update:uI(n,t.key,t.value)};else if(t instanceof Il)e={delete:Yf(n,t.key)};else if(t instanceof bc)e={update:uI(n,t.key,t.data),updateMask:TS(t.fieldMask)};else{if(!(t instanceof q0))return ut();e={verify:Yf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Vu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Eh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ch)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Wf)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw ut()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:El(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),e;var r}function D_(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Xn.updateTime(Ui(r.updateTime)):void 0!==r.exists?Xn.exists(r.exists):Xn.none():Xn.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(Dt("REQUEST_TIME"===u.setToServerValue),h=new Vu):"appendMissingElements"in u?h=new Eh(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Ch(u.removeAllFromArray.values||[]):"increment"in u?h=new Wf(o,u.increment):ut();const g=Di.fromServerFormat(u.fieldPath);return new T_(g,h)}(n,r)):[];var r;if(t.update){const r=Ia(n,t.update.name),o=new Hr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Ds((t.updateMask.fieldPaths||[]).map(y=>Di.fromServerFormat(y)));return new bc(r,o,u,e,i)}return new Hu(r,o,e,i)}if(t.delete){const r=Ia(n,t.delete);return new Il(r,e)}if(t.verify){const r=Ia(n,t.verify);return new q0(r,e)}return ut()}function sb(n,t){return{documents:[eb(n,t.path)]}}function S_(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=eb(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=eb(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return ab(In.create(g,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(g){if(0!==g.length)return g.map(y=>{return{field:Jf((w=y).field),direction:bS(w.dir)};var w})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(y=t.limit,n.wt||gh(y)?y:{value:y});var y,h,g;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function Qf(n){let t=tb(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Dt(1===i);const w=e.from[0];w.allDescendants?r=w.collectionId:t=t.child(w.collectionId)}let o=[];e.where&&(o=function(w){const S=ob(w);return S instanceof In&&g_(S)?S.getFilters():[S]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(w=>{return new Ru(Xf((S=w).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;e.limit&&(h=function(w){let S;return S="object"==typeof w?w.value:w,gh(S)?null:S}(e.limit));let g=null;var w;e.startAt&&(g=new yc((w=e.startAt).values||[],!!w.before));let y=null;return e.endAt&&(y=function(w){return new yc(w.values||[],!w.before)}(e.endAt)),V0(t,r,u,o,h,"F",g,y)}function ob(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Xf(t.unaryFilter.field);return un.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Xf(t.unaryFilter.field);return un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xf(t.unaryFilter.field);return un.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xf(t.unaryFilter.field);return un.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?un.create(Xf((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return In.create(t.compositeFilter.filters.map(e=>ob(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ut()}}(t.compositeFilter.op))}(n):ut();var t}function bS(n){return aI[n]}function wS(n){return vS[n]}function oN(n){return X0[n]}function Jf(n){return{fieldPath:n.canonicalString()}}function Xf(n){return Di.fromServerFormat(n.fieldPath)}function ab(n){return n instanceof un?function(t){if("=="===t.op){if(M0(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NAN"}};if(A0(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(M0(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NOT_NAN"}};if(A0(t.value))return{unaryFilter:{field:Jf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jf(t.field),op:wS(t.op),value:t.value}}}(n):n instanceof In?function(t){const e=t.getFilters().map(i=>ab(i));return 1===e.length?e[0]:{compositeFilter:{op:oN(t.op),filters:e}}}(n):ut()}function TS(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function hI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function us(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=IS(t)),t=aN(n.get(e),t);return IS(t)}function aN(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function IS(n){return n+"\x01\x01"}function Cl(n){const t=n.length;if(Dt(t>=2),2===t)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&ut(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let g;0===r.length?g=h:(r+=h,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:ut()}o=u+2}return new fn(i)}const ES=["userId","batchId"];function lb(n,t){return[n,us(t)]}function pI(n,t,e){return[n,us(t),e]}const A_={},CS=["prefixPath","collectionGroup","readTime","documentId"],DS=["prefixPath","collectionGroup","documentId"],fI=["collectionGroup","readTime","prefixPath","documentId"],ju=["canonicalId","targetId"],gI=["targetId","path"],cb=["path","targetId"],ub=["collectionId","parent"],SS=["indexId","uid"],db=["uid","sequenceNumber"],hb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],M_=["indexId","uid","orderedDocumentKey"],lN=["userId","collectionPath","documentId"],cN=["userId","collectionPath","largestBatchId"],uN=["userId","collectionGroup","largestBatchId"],xS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mI=[...xS,"documentOverlays"],_I=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yI=_I,AS=[...yI,"indexConfiguration","indexState","indexEntries"];class pb extends tS{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function mr(n,t){const e=nt(n);return Ro.M(e.se,t)}class O_{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&tN(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Uu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Uu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=iI();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const g=Z0(u,h);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(Nt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ft())}isEqual(t){return this.batchId===t.batchId&&Au(this.mutations,t.mutations,(e,i)=>QT(e,i))&&Au(this.baseMutations,t.baseMutations,(e,i)=>QT(e,i))}}class N_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Dt(t.mutations.length===i.length);let r=_S;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new N_(t,e,i,r)}}class fb{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ic{constructor(t,e,i,r,o=Nt.min(),u=Nt.min(),h=Or.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Ic(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class gb{constructor(t){this.ie=t}}function MS(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:eg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Yf(r=n.ie,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:$u(r,o.version.toTimestamp()),createTime:$u(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Dl(t.version)};else{if(!t.isUnknownDocument())return ut();i.unknownDocument={path:e.path.toArray(),version:Dl(t.version)}}var r,o;return i}function eg(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Dl(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function zu(n){const t=new Jn(n.seconds,n.nanoseconds);return Nt.fromTimestamp(t)}function Wu(n,t){const e=(t.baseMutations||[]).map(o=>D_(n.ie,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>D_(n.ie,o)),r=Jn.fromMillis(t.localWriteTimeMs);return new O_(t.batchId,r,e,i)}function P_(n){const t=zu(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?zu(n.lastLimboFreeSnapshotVersion):Nt.min();let i;var r;return void 0!==n.query.documents?(Dt(1===(r=n.query).documents.length),i=cs(vc(tb(r.documents[0])))):i=cs(Qf(n.query)),new Ic(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Or.fromBase64String(n.resumeToken))}function OS(n,t){const e=Dl(t.snapshotVersion),i=Dl(t.lastLimboFreeSnapshotVersion);let r;r=Hf(t.target)?sb(n.ie,t.target):S_(n.ie,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:wl(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _b(n){const t=Qf({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Gf(t,t.limit,"L"):t}function yb(n,t){return new fb(t.largestBatchId,D_(n.ie,t.overlayMutation))}function vI(n,t){const e=t.path.lastSegment();return[n,us(t.path.popLast()),e]}function NS(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Dl(i.readTime),documentKey:us(i.documentKey.path),largestBatchId:i.largestBatchId}}class dN{getBundleMetadata(t,e){return PS(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:zu(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return PS(t).put({bundleId:(i=e).id,createTime:Dl(Ui(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return kS(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:_b(r.bundledQuery),readTime:zu(r.readTime)};var r})}saveNamedQuery(t,e){return kS(t).put({name:(i=e).name,readTime:Dl(Ui(i.readTime)),bundledQuery:i.bundledQuery});var i}}function PS(n){return mr(n,"bundles")}function kS(n){return mr(n,"namedQueries")}class vb{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){return new vb(t,e.uid||"")}getOverlay(t,e){return tg(t).get(vI(this.userId,e)).next(i=>i?yb(this.yt,i):null)}getOverlays(t,e){const i=Ji();return ge.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new fb(e,u);r.push(this.oe(t,h))}),ge.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(us(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(tg(t).Y("collectionPathOverlayIndex",h))}),ge.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Ji(),o=us(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return tg(t).W("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const y=yb(this.yt,g);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Ji();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return tg(t).Z({index:"collectionGroupOverlayIndex",range:h},(g,y,w)=>{const S=yb(this.yt,y);o.size()<r||S.largestBatchId===u?(o.set(S.getKey(),S),u=S.largestBatchId):w.done()}).next(()=>o)}oe(t,e){return tg(t).put(function(i,r,o){const[u,h,g]=vI(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ah(i.ie,o.mutation)}}(this.yt,this.userId,e))}}function tg(n){return mr(n,"documentOverlays")}class Mh{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(gi(t.integerValue));else if("doubleValue"in t){const i=gi(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),mh(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(Ou(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?d_(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):ut()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const r of Object.keys(i))this.de(r,e),this.ce(i[r],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const r of i)this.ce(r,e)}me(t,e){this.he(e,37),et.fromName(t).path.forEach(i=>{this.he(e,60),this.pe(i,e)})}he(t,e){t.le(e)}_e(t){t.le(2)}}function hN(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function RS(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=hN(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Mh.Ie=new Mh;class pN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ee(i.value),i=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Pe()}ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=e.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(t){const e=this.De(t),i=RS(e);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}xe(t){const e=this.De(t),i=RS(e);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class FS{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class fN{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class a{constructor(){this.$e=new pN,this.Be=new FS(this.$e),this.Le=new fN(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class l{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new l(this.indexId,this.documentKey,this.arrayValue,i)}}function c(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=d(n.arrayValue,t.arrayValue),0!==e?e:(e=d(n.directionalValue,t.directionalValue),0!==e?e:et.comparator(n.documentKey,t.documentKey)))}function d(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class p{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const i=e;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(t){Dt(t.collectionGroup===this.collectionId);const e=u_(t);if(void 0!==e&&!this.We(e))return!1;const i=ml(t);let r=0,o=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const u=i[r];if(!this.ze(this.Qe,u)||!this.He(this.Ke[o++],u))return!1;++r}for(;r<i.length;++r)if(o>=this.Ke.length||!this.He(this.Ke[o++],i[r]))return!1;return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function f(n){var t,e;if(Dt(n instanceof un||n instanceof In),n instanceof un){if(n instanceof WT){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>un.create(n.field,"==",o)))||[];return In.create(r,"or")}return n}const i=n.filters.map(r=>f(r));return In.create(i,n.op)}function v(n){if(0===n.getFilters().length)return[];const t=N(f(n));return Dt(x(t)),T(t)||E(t)?[t]:t.getFilters()}function T(n){return n instanceof un}function E(n){return n instanceof In&&g_(n)}function x(n){return T(n)||E(n)||function(t){if(t instanceof In&&f_(t)){for(const e of t.getFilters())if(!T(e)&&!E(e))return!1;return!0}return!1}(n)}function N(n){if(Dt(n instanceof un||n instanceof In),n instanceof un)return n;if(1===n.filters.length)return N(n.filters[0]);const t=n.filters.map(i=>N(i));let e=In.create(t,n.op);return e=ce(e),x(e)?e:(Dt(e instanceof In),Dt(Pu(e)),Dt(e.filters.length>1),e.filters.reduce((i,r)=>V(i,r)))}function V(n,t){let e;return Dt(n instanceof un||n instanceof In),Dt(t instanceof un||t instanceof In),e=n instanceof un?t instanceof un?In.create([n,t],"and"):J(n,t):t instanceof un?J(t,n):function(i,r){if(Dt(i.filters.length>0&&r.filters.length>0),Pu(i)&&Pu(r))return R0(i,r.getFilters());const o=f_(i)?i:r,u=f_(i)?r:i,h=o.filters.map(g=>V(g,u));return In.create(h,"or")}(n,t),ce(e)}function J(n,t){if(Pu(t))return R0(t,n.getFilters());{const e=t.filters.map(i=>V(n,i));return In.create(e,"or")}}function ce(n){if(Dt(n instanceof un||n instanceof In),n instanceof un)return n;const t=n.getFilters();if(1===t.length)return ce(t[0]);if(N0(n))return n;const e=t.map(r=>ce(r)),i=[];return e.forEach(r=>{r instanceof un?i.push(r):r instanceof In&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:In.create(i,n.op)}class Ae{constructor(){this.Je=new Ze}addToCollectionParentIndex(t,e){return this.Je.add(e),ge.resolve()}getCollectionParents(t,e){return ge.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return ge.resolve()}deleteFieldIndex(t,e){return ge.resolve()}getDocumentsMatchingTarget(t,e){return ge.resolve(null)}getIndexType(t,e){return ge.resolve(0)}getFieldIndexes(t,e){return ge.resolve([])}getNextCollectionGroupToUpdate(t){return ge.resolve(null)}getMinOffset(t,e){return ge.resolve(zs.min())}getMinOffsetFromCollectionGroup(t,e){return ge.resolve(zs.min())}updateCollectionGroup(t,e,i){return ge.resolve()}updateIndexEntries(t,e){return ge.resolve()}}class Ze{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new On(fn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new On(fn.comparator)).toArray()}}const tt=new Uint8Array(0);class yt{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new Ze,this.Xe=new wc(i=>wl(i),(i,r)=>y_(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ye.add(e)});const o={collectionId:i,parent:us(r)};return Vt(t).put(o)}return ge.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Mu(e),""],!1,!0);return Vt(t).W(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Cl(u.parent))}return i})}addFieldIndex(t,e){const i=Zt(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=Nn(t);return o.next(h=>{u.put(NS(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Zt(t),r=Nn(t),o=Ue(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Ue(t);let r=!0;const o=new Map;return ge.forEach(this.Ze(e),u=>this.tn(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Ft();const h=[];return ge.forEach(o,(g,y)=>{var w;$e("IndexedDbIndexManager",`Using index ${w=g,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${wl(e)}`);const S=function(je,He){const We=u_(He);if(void 0===We)return null;for(const Ye of v_(je,We.fieldPath))switch(Ye.op){case"array-contains-any":return Ye.value.arrayValue.values||[];case"array-contains":return[Ye.value]}return null}(y,g),M=function(je,He){const We=new Map;for(const Ye of ml(He))for(const xt of v_(je,Ye.fieldPath))switch(xt.op){case"==":case"in":We.set(Ye.fieldPath.canonicalString(),xt.value);break;case"not-in":case"!=":return We.set(Ye.fieldPath.canonicalString(),xt.value),Array.from(We.values())}return null}(y,g),R=function(je,He){const We=[];let Ye=!0;for(const xt of ml(He)){const rn=0===xt.kind?L0(je,xt.fieldPath,je.startAt):Fu(je,xt.fieldPath,je.startAt);We.push(rn.value),Ye&&(Ye=rn.inclusive)}return new yc(We,Ye)}(y,g),U=function(je,He){const We=[];let Ye=!0;for(const xt of ml(He)){const rn=0===xt.kind?Fu(je,xt.fieldPath,je.endAt):L0(je,xt.fieldPath,je.endAt);We.push(rn.value),Ye&&(Ye=rn.inclusive)}return new yc(We,Ye)}(y,g),Y=this.en(g,y,R),te=this.en(g,y,U),_e=this.nn(g,y,M),Pe=this.sn(g.indexId,S,Y,R.inclusive,te,U.inclusive,_e);return ge.forEach(Pe,je=>i.J(je,e.limit).next(He=>{He.forEach(We=>{const Ye=et.fromSegments(We.documentKey);u.has(Ye)||(u=u.add(Ye),h.push(Ye))})}))}).next(()=>h)}return ge.resolve(null)})}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:v(In.create(t.filters,"and")).map(i=>Ih(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,e),e)}sn(t,e,i,r,o,u,h){const g=(null!=e?e.length:1)*Math.max(i.length,o.length),y=g/(null!=e?e.length:1),w=[];for(let S=0;S<g;++S){const M=e?this.rn(e[S/y]):tt,R=this.on(t,M,i[S%y],r),U=this.un(t,M,o[S%y],u),Y=h.map(te=>this.on(t,M,te,!0));w.push(...this.createRange(R,U,Y))}return w}on(t,e,i,r){const o=new l(t,et.empty(),e,i);return r?o:o.Ue()}un(t,e,i,r){const o=new l(t,et.empty(),e,i);return r?o.Ue():o}tn(t,e){const i=new p(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.je(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;const r=this.Ze(e);return ge.forEach(r,o=>this.tn(t,o).next(u=>{u?0!==i&&u.fields.length<function(h){let g=new On(Di.comparator),y=!1;for(const w of h.filters)for(const S of w.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?y=!0:g=g.add(S.field));for(const w of h.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(y?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}cn(t,e){const i=new a;for(const r of ml(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.qe(r.kind);Mh.Ie.ue(o,u)}return i.Fe()}rn(t){const e=new a;return Mh.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const i=new a;return Mh.Ie.ue(Ta(this.databaseId,e),i.qe(function(r){const o=ml(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Fe()}nn(t,e,i){if(null===i)return[];let r=[];r.push(new a);let o=0;for(const u of ml(t)){const h=i[o++];for(const g of r)if(this.hn(e,u.fieldPath)&&Uf(h))r=this.ln(r,u,h);else{const y=g.qe(u.kind);Mh.Ie.ue(h,y)}}return this.fn(r)}en(t,e,i){return this.nn(t,e,i.position)}fn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Fe();return e}ln(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const g=new a;g.seed(h.Fe()),Mh.Ie.ue(u,g.qe(e.kind)),o.push(g)}return o}hn(t,e){return!!t.filters.find(i=>i instanceof un&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Zt(t),r=Nn(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const u=[];return ge.forEach(o,h=>r.get([h.indexId,this.uid]).next(g=>{u.push(function(y,w){const S=w?new ph(w.sequenceNumber,new zs(zu(w.readTime),new et(Cl(w.documentKey)),w.largestBatchId)):ph.empty(),M=y.fields.map(([R,U])=>new Vf(Di.fromServerFormat(R),U));return new c_(y.indexId,y.collectionGroup,M,S)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Qt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Zt(t),o=Nn(t);return this.dn(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ge.forEach(h,g=>o.put(NS(g.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return ge.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?ge.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ge.forEach(h,g=>this._n(t,r,g).next(y=>{const w=this.wn(o,g);return y.isEqual(w)?ge.resolve():this.mn(t,o,g,y,w)}))))})}gn(t,e,i,r){return Ue(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,e.key),documentKey:e.key.path.toArray()})}yn(t,e,i,r){return Ue(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,e.key),e.key.path.toArray()])}_n(t,e,i){const r=Ue(t);let o=new On(c);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,e)])},(u,h)=>{o=o.add(new l(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}wn(t,e){let i=new On(c);const r=this.cn(e,t);if(null==r)return i;const o=u_(e);if(null!=o){const u=t.data.field(o.fieldPath);if(Uf(u))for(const h of u.arrayValue.values||[])i=i.add(new l(e.indexId,t.key,this.rn(h),r))}else i=i.add(new l(e.indexId,t.key,tt,r));return i}mn(t,e,i,r,o){$e("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,g,y,w,S){const M=h.getIterator(),R=g.getIterator();let U=Th(M),Y=Th(R);for(;U||Y;){let te=!1,_e=!1;if(U&&Y){const Pe=y(U,Y);Pe<0?_e=!0:Pe>0&&(te=!0)}else null!=U?_e=!0:te=!0;te?(w(Y),Y=Th(R)):_e?(S(U),U=Th(M)):(U=Th(M),Y=Th(R))}}(r,o,c,h=>{u.push(this.gn(t,e,i,h))},h=>{u.push(this.yn(t,e,i,h))}),ge.waitFor(u)}dn(t){let e=1;return Nn(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>c(u,h)).filter((u,h,g)=>!h||0!==c(u,g[h-1]));const r=[];r.push(t);for(const u of i){const h=c(u,t),g=c(u,e);if(0===h)r[0]=t.Ue();else if(h>0&&g<0)r.push(u),r.push(u.Ue());else if(g>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2){if(this.pn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,tt,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,tt,[]]))}return o}pn(t,e){return c(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Si)}getMinOffset(t,e){return ge.mapArray(this.Ze(e),i=>this.tn(t,i).next(r=>r||ut())).next(Si)}}function Vt(n){return mr(n,"collectionParents")}function Ue(n){return mr(n,"indexEntries")}function Zt(n){return mr(n,"indexConfiguration")}function Nn(n){return mr(n,"indexState")}function Si(n){Dt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;y0(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new zs(t.readTime,t.documentKey,e)}const LS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new mo(t,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gN(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const g=i.Z({range:u},(w,S,M)=>(h++,M.delete()));o.push(g.next(()=>{Dt(1===h)}));const y=[];for(const w of e.mutations){const S=pI(t,w.key.path,e.batchId);o.push(r.delete(S)),y.push(w.key)}return ge.waitFor(o).next(()=>y)}function bI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ut();t=n.noDocument}return JSON.stringify(t).length}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class wI{constructor(t,e,i,r){this.userId=t,this.yt=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(t,e,i,r){Dt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new wI(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oh(t).Z({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=k_(t),u=Oh(t);return u.add({}).next(h=>{Dt("number"==typeof h);const g=new O_(h,e,i,r),y=function(M,R,U){const Y=U.baseMutations.map(_e=>Ah(M.ie,_e)),te=U.mutations.map(_e=>Ah(M.ie,_e));return{userId:R,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:Y,mutations:te}}(this.yt,this.userId,g),w=[];let S=new On((M,R)=>Qt(M.canonicalString(),R.canonicalString()));for(const M of r){const R=pI(this.userId,M.key.path,h);S=S.add(M.key.path.popLast()),w.push(u.put(y)),w.push(o.put(R,A_))}return S.forEach(M=>{w.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.In[h]=g.keys()}),ge.waitFor(w).next(()=>g)})}lookupMutationBatch(t,e){return Oh(t).get(e).next(i=>i?(Dt(i.userId===this.userId),Wu(this.yt,i)):null)}Tn(t,e){return this.In[e]?ge.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Oh(t).Z({index:"userMutationsIndex",range:r},(u,h,g)=>{h.userId===this.userId&&(Dt(h.batchId>=i),o=Wu(this.yt,h)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Oh(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oh(t).W("userMutationsIndex",e).next(i=>i.map(r=>Wu(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=lb(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return k_(t).Z({range:r},(u,h,g)=>{const[y,w,S]=u,M=Cl(w);if(y===this.userId&&e.path.isEqual(M))return Oh(t).get(S).next(R=>{if(!R)throw ut();Dt(R.userId===this.userId),o.push(Wu(this.yt,R))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new On(Qt);const r=[];return e.forEach(o=>{const u=lb(this.userId,o.path),h=IDBKeyRange.lowerBound(u),g=k_(t).Z({range:h},(y,w,S)=>{const[M,R,U]=y,Y=Cl(R);M===this.userId&&o.path.isEqual(Y)?i=i.add(U):S.done()});r.push(g)}),ge.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=lb(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new On(Qt);return k_(t).Z({range:u},(g,y,w)=>{const[S,M,R]=g,U=Cl(M);S===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(R)):w.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Oh(t).get(o).next(u=>{if(null===u)throw ut();Dt(u.userId===this.userId),i.push(Wu(this.yt,u))}))}),ge.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return gN(t.se,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),ge.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ge.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return k_(t).Z({range:i},(o,u,h)=>{if(o[0]===this.userId){const g=Cl(o[1]);r.push(g)}else h.done()}).next(()=>{Dt(0===r.length)})})}containsKey(t,e){return mN(t,this.userId,e)}Rn(t){return _N(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mN(n,t,e){const i=lb(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return k_(n).Z({range:o,X:!0},(h,g,y)=>{const[w,S,M]=h;w===t&&S===r&&(u=!0),y.done()}).next(()=>u)}function Oh(n){return mr(n,"mutations")}function k_(n){return mr(n,"documentMutations")}function _N(n){return mr(n,"mutationQueues")}class ng{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new ng(0)}static vn(){return new ng(-1)}}class O2{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new ng(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Nt.fromTimestamp(new Jn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>R_(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Dt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return R_(t).Z((u,h)=>{const g=P_(h);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,o.push(this.removeTargetData(t,g)))}).next(()=>ge.waitFor(o)).next(()=>r)}forEachTarget(t,e){return R_(t).Z((i,r)=>{const o=P_(r);e(o)})}Vn(t){return yN(t).get("targetGlobalKey").next(e=>(Dt(null!==e),e))}Sn(t,e){return yN(t).put("targetGlobalKey",e)}Dn(t,e){return R_(t).put(OS(this.yt,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=wl(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return R_(t).Z({range:r,index:"queryTargetsIndex"},(u,h,g)=>{const y=P_(h);y_(e,y.target)&&(o=y,g.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Nh(t);return e.forEach(u=>{const h=us(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),ge.waitFor(r)}removeMatchingKeys(t,e,i){const r=Nh(t);return ge.forEach(e,o=>{const u=us(o.path);return ge.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Nh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Nh(t);let o=Ft();return r.Z({range:i,X:!0},(u,h,g)=>{const y=Cl(u[1]),w=new et(y);o=o.add(w)}).next(()=>o)}containsKey(t,e){const i=us(e.path),r=IDBKeyRange.bound([i],[Mu(i)],!1,!0);let o=0;return Nh(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],g,y)=>{0!==u&&(o++,y.done())}).next(()=>o>0)}ne(t,e){return R_(t).get(e).next(i=>i?P_(i):null)}}function R_(n){return mr(n,"targets")}function yN(n){return mr(n,"targetGlobal")}function Nh(n){return mr(n,"targetDocuments")}function vN([n,t],[e,i]){const r=Qt(n,e);return 0===r?Qt(t,i):r}class N2{constructor(t){this.xn=t,this.buffer=new On(vN),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();vN(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class P2{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Te.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){yl(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield _l(i)}yield e.Fn(3e5)}))}}class k2{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ge.resolve(Ws.at);const i=new N2(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(LS)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LS):this.qn(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let i,r,o,u,h,g,y;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(t,i,e))).next(S=>(o=S,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(y=Date.now(),s_()<=Po.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-w}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(g-h)+`ms\n\tRemoved ${S} documents in `+(y-g)+`ms\nTotal Duration: ${y-w}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:S})))}}class R2{constructor(t,e){this.db=t,this.garbageCollector=new k2(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Un(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return TI(t,i)}removeReference(t,e,i){return TI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return TI(t,e)}Gn(t,e){return function(i,r){let o=!1;return _N(i).tt(u=>mN(i,u,r).next(h=>(h&&(o=!0),ge.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(t,(u,h)=>{if(h<=e){const g=this.Gn(t,u).next(y=>{if(!y)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Nt.min()),Nh(t).delete([0,us(u.path)])))});r.push(g)}}).next(()=>ge.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return TI(t,e)}Kn(t,e){const i=Nh(t);let r,o=Ws.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:y})=>{0===u?(o!==Ws.at&&e(new et(Cl(r)),o),o=y,r=g):o=Ws.at}).next(()=>{o!==Ws.at&&e(new et(Cl(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function TI(n,t){return Nh(n).put((i=n.currentSequenceNumber,{targetId:0,path:us(t.path),sequenceNumber:i}));var i}class bN{constructor(){this.changes=new wc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Zn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ge.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class F2{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return ig(t).put(i)}removeEntry(t,e,i){return ig(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],eg(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Zn.newInvalidDocument(e);return ig(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(bb(e))},(r,o)=>{i=this.jn(e,o)}).next(()=>i)}Wn(t,e){let i={size:0,document:Zn.newInvalidDocument(e)};return ig(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(bb(e))},(r,o)=>{i={document:this.jn(e,o),size:bI(o)}}).next(()=>i)}getEntries(t,e){let i=Ss();return this.zn(t,e,(r,o)=>{const u=this.jn(r,o);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=Ss(),r=new Wn(et.comparator);return this.zn(t,e,(o,u)=>{const h=this.jn(o,u);i=i.insert(o,h),r=r.insert(o,bI(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return ge.resolve();let r=new On(EN);e.forEach(g=>r=r.add(g));const o=IDBKeyRange.bound(bb(r.first()),bb(r.last())),u=r.getIterator();let h=u.getNext();return ig(t).Z({index:"documentKeyIndex",range:o},(g,y,w)=>{const S=et.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&EN(h,S)<0;)i(h,null),h=u.getNext();h&&h.isEqual(S)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?w.j(bb(h)):w.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,u=[o.popLast().toArray(),o.lastSegment(),eg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ig(t).W(IDBKeyRange.bound(u,h,!0)).next(g=>{let y=Ss();for(const w of g){const S=this.jn(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);S.isFoundDocument()&&(jf(e,S)||r.has(S.key))&&(y=y.insert(S.key,S))}return y})}getAllFromCollectionGroup(t,e,i,r){let o=Ss();const u=IN(e,i),h=IN(e,zs.max());return ig(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,y,w)=>{const S=this.jn(et.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(S.key,S),o.size===r&&w.done()}).next(()=>o)}newChangeBuffer(t){return new L2(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return TN(t).get("remoteDocumentGlobalKey").next(e=>(Dt(!!e),e))}Qn(t,e){return TN(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function mb(n,t){let e;if(t.document)e=ib(n.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=et.fromSegments(t.noDocument.path),r=zu(t.noDocument.readTime);e=Zn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ut();{const i=et.fromSegments(t.unknownDocument.path),r=zu(t.unknownDocument.version);e=Zn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Jn(i[0],i[1]);return Nt.fromTimestamp(r)}(t.readTime)),e}(this.yt,e);if(!i.isNoDocument()||!i.version.isEqual(Nt.min()))return i}return Zn.newInvalidDocument(t)}}function wN(n){return new F2(n)}class L2 extends bN{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new wc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new On((o,u)=>Qt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Xn.get(o);if(e.push(this.Yn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const g=MS(this.Yn.yt,u);r=r.add(o.path.popLast());const y=bI(g);i+=y-h.size,e.push(this.Yn.addEntry(t,o,g))}else if(i-=h.size,this.trackRemovals){const g=MS(this.Yn.yt,u.convertToNoDocument(Nt.min()));e.push(this.Yn.addEntry(t,o,g))}}),r.forEach(o=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Yn.updateMetadata(t,i)),ge.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((o,u)=>{this.Xn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function TN(n){return mr(n,"remoteDocumentGlobal")}function ig(n){return mr(n,"remoteDocumentsV14")}function bb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function IN(n,t){const e=t.documentKey.path.toArray();return[n,eg(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function EN(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Qt(e[o],i[o]),r)return r;return r=Qt(e.length,i.length),r||(r=Qt(e[e.length-2],i[i.length-2]),r||Qt(e[e.length-1],i[i.length-1]))}class V2{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class CN{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Uu(i.mutation,r,Ds.empty(),Jn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ft()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ft()){const r=Ji();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Dh();return o.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Ji();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ft()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Ss();const u=Gu(),h=Gu();return e.forEach((g,y)=>{const w=i.get(y.key);r.has(y.key)&&(void 0===w||w.mutation instanceof bc)?o=o.insert(y.key,y):void 0!==w?(u.set(y.key,w.mutation.getFieldMask()),Uu(w.mutation,y,w.mutation.getFieldMask(),Jn.now())):u.set(y.key,Ds.empty())}),this.recalculateAndSaveOverlays(t,o).next(g=>(g.forEach((y,w)=>u.set(y,w)),e.forEach((y,w)=>{var S;return h.set(y,new V2(w,null!==(S=u.get(y))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Gu();let r=new Wn((u,h)=>u-h),o=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(g=>{const y=e.get(g);if(null===y)return;let w=i.get(g)||Ds.empty();w=h.applyToLocalView(y,w),i.set(g,w);const S=(r.get(h.batchId)||Ft()).add(g);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),y=g.key,w=g.value,S=iI();w.forEach(M=>{if(!o.has(M)){const R=Z0(e.get(M),i.get(M));null!==R&&S.set(M,R),o=o.add(M)}}),u.push(this.documentOverlayCache.saveOverlays(t,y,S))}return ge.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return et.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):H0(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ge.resolve(Ji());let h=-1,g=o;return u.next(y=>ge.forEach(y,(w,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(w)?ge.resolve():this.remoteDocumentCache.getEntry(t,w).next(M=>{g=g.insert(w,M)}))).next(()=>this.populateOverlays(t,y,o)).next(()=>this.computeViews(t,g,y,Ft())).next(w=>({batchId:h,changes:mS(w)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new et(e)).next(i=>{let r=Dh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Dh();return this.indexManager.getCollectionParents(t,r).next(u=>ge.forEach(u,h=>{const g=(y=e,w=h.child(r),new Tl(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,w;return this.getDocumentsMatchingCollectionQuery(t,g,i).next(y=>{y.forEach((w,S)=>{o=o.insert(w,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((h,g)=>{const y=g.getKey();null===o.get(y)&&(o=o.insert(y,Zn.newInvalidDocument(y)))});let u=Dh();return o.forEach((h,g)=>{const y=r.get(h);void 0!==y&&Uu(y.mutation,g,Ds.empty(),Jn.now()),jf(e,g)&&(u=u.insert(h,g))}),u})}}class B2{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return ge.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Ui(i.createTime)}),ge.resolve()}getNamedQuery(t,e){return ge.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:_b(i.bundledQuery),readTime:Ui(i.readTime)}),ge.resolve();var i}}class U2{constructor(){this.overlays=new Wn(et.comparator),this.es=new Map}getOverlay(t,e){return ge.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ji();return ge.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.oe(t,e,o)}),ge.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),ge.resolve()}getOverlaysForCollection(t,e,i){const r=Ji(),o=e.length+1,u=new et(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,y=g.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ge.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Wn((y,w)=>y-w);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let w=o.get(y.largestBatchId);null===w&&(w=Ji(),o=o.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=Ji(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,w)=>h.set(y,w)),!(h.size()>=r)););return ge.resolve(h)}oe(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new fb(e,i));let o=this.es.get(e);void 0===o&&(o=Ft(),this.es.set(e,o)),this.es.set(e,o.add(i.key))}}class VS{constructor(){this.ns=new On(Zr.ss),this.rs=new On(Zr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Zr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Zr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new et(new fn([])),i=new Zr(e,t),r=new Zr(e,t+1),o=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),o.push(u.key)}),o}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new et(new fn([])),i=new Zr(e,t),r=new Zr(e,t+1);let o=Ft();return this.rs.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Zr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Zr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return et.comparator(t.key,e.key)||Qt(t._s,e._s)}static os(t,e){return Qt(t._s,e._s)||et.comparator(t.key,e.key)}}class H2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new On(Zr.ss)}checkEmpty(t){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ws;this.ws++;const u=new O_(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new Zr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(t,e){return ge.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),o=r<0?0:r;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Zr(e,0),r=new Zr(e,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);o.push(h)}),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new On(Qt);return e.forEach(r=>{const o=new Zr(r,0),u=new Zr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,u],h=>{i=i.add(h._s)})}),ge.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;et.isDocumentKey(o)||(o=o.child(""));const u=new Zr(new et(o),0);let h=new On(Qt);return this.gs.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(g._s)),!0)},u),ge.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Dt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ge.forEach(e.mutations,r=>{const o=new Zr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Zr(e,0),r=this.gs.firstAfterOrEqual(i);return ge.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ge.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class G2{constructor(t){this.Es=t,this.docs=new Wn(et.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ge.resolve(i?i.document.mutableCopy():Zn.newInvalidDocument(e))}getEntries(t,e){let i=Ss();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Zn.newInvalidDocument(r))}),ge.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ss();const u=e.path,h=new et(u.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||y0(kT(w),i)<=0||(r.has(w.key)||jf(e,w))&&(o=o.insert(w.key,w.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(t,e,i,r){ut()}As(t,e){return ge.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new $2(this)}getSize(t){return ge.resolve(this.size)}}class $2 extends bN{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),ge.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class j2{constructor(t){this.persistence=t,this.Rs=new wc(e=>wl(e),y_),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new VS,this.targetCount=0,this.vs=ng.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),ge.resolve()}getLastRemoteSnapshotVersion(t){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ge.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),ge.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new ng(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,ge.resolve()}updateTargetData(t,e){return this.Dn(e),ge.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,ge.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ge.waitFor(o).next(()=>r)}getTargetCount(t){return ge.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return ge.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),ge.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),ge.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),ge.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return ge.resolve(i)}containsKey(t,e){return ge.resolve(this.Ps.containsKey(e))}}class DN{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Ws(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new j2(this),this.indexManager=new Ae,this.remoteDocumentCache=new G2(i=>this.referenceDelegate.xs(i)),this.yt=new gb(e),this.Ns=new B2(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new U2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new H2(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new z2(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(t,e){return ge.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class z2 extends tS{constructor(t){super(),this.currentSequenceNumber=t}}class II{constructor(t){this.persistence=t,this.Fs=new VS,this.$s=null}static Bs(t){return new II(t)}get Ls(){if(this.$s)return this.$s;throw ut()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),ge.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),ge.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),ge.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Ls,i=>{const r=et.fromPath(i);return this.qs(t,r).next(o=>{o||e.removeEntry(r,Nt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.qs(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}qs(t,e){return ge.or([()=>ge.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class W2{constructor(t){this.yt=t}$(t,e,i,r){const o=new w0("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ES,{unique:!0}),h.createObjectStore("documentMutations"),SN(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=ge.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),SN(t)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,g){return g.store("mutations").W().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ES,{unique:!0});const w=g.store("mutations"),S=y.map(M=>w.put(M));return ge.waitFor(S)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Us(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(o)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(o))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:lN});g.createIndex("collectionPathOverlayIndex",cN,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",uN,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:CS});g.createIndex("documentKeyIndex",DS),g.createIndex("collectionGroupIndex",fI)}(t)).next(()=>this.Ws(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:SS}).createIndex("sequenceNumberIndex",db,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:hb}).createIndex("documentKeyIndex",M_,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=bI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>ge.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>ge.forEach(h,g=>{Dt(g.userId===o.userId);const y=Wu(this.yt,g);return gN(t,o.userId,y).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((u,h)=>{const g=new fn(u),y=[0,us(g)];o.push(e.get(y).next(w=>w?ge.resolve():e.put({targetId:0,path:us(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ge.waitFor(o))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:ub});const i=e.store("collectionParents"),r=new Ze,o=u=>{if(r.add(u)){const h=u.lastSegment(),g=u.popLast();return i.put({collectionId:h,parent:us(g)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const g=new fn(u);return o(g.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,g],y)=>{const w=Cl(h);return o(w.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const o=P_(r),u=OS(this.yt,o);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((o,u)=>{const h=e.store("remoteDocumentsV14"),g=(y=u,y.document?new et(fn.fromString(y.document.name).popFirst(5)):y.noDocument?et.fromSegments(y.noDocument.path):y.unknownDocument?et.fromSegments(y.unknownDocument.path):ut()).path.toArray();var y;const w={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(w))}).next(()=>ge.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=wN(this.yt),o=new DN(II.Bs,this.yt.ie);return i.W().next(u=>{const h=new Map;return u.forEach(g=>{var y;let w=null!==(y=h.get(g.userId))&&void 0!==y?y:Ft();Wu(this.yt,g).keys().forEach(S=>w=w.add(S)),h.set(g.userId,w)}),ge.forEach(h,(g,y)=>{const w=new Mr(y),S=vb.re(this.yt,w),M=o.getIndexManager(w),R=wI.re(w,this.yt,M,o.referenceDelegate);return new CN(r,R,S,M).recalculateAndSaveOverlaysForDocumentKeys(new pb(e,Ws.at),g).next()})})}}function SN(n){n.createObjectStore("targetDocuments",{keyPath:gI}).createIndex("documentTargetsIndex",cb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ju,{unique:!0}),n.createObjectStore("targetGlobal")}const BS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class US{constructor(t,e,i,r,o,u,h,g,y,w,S=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=o,this.window=u,this.document=h,this.Js=y,this.Ys=w,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=M=>Promise.resolve(),!US.C())throw new Be(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new R2(this,r),this.ii=e+"main",this.yt=new gb(g),this.ri=new Ro(this.ii,this.Xs,new W2(this.yt)),this.Cs=new O2(this.referenceDelegate,this.yt),this.remoteDocumentCache=wN(this.yt),this.Ns=new dN,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===w&&Bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(me.FAILED_PRECONDITION,BS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Ws(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,Te.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Te.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Te.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>EI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(yl(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return wb(t).get("owner").next(e=>ge.resolve(this.mi(e)))}gi(t){return EI(t).delete(this.clientId)}yi(){var t=this;return(0,Te.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=mr(i,"clientMetadata");return r.W().next(o=>{const u=t.Ii(o,18e5),h=o.filter(g=>-1===u.indexOf(g));return ge.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?ge.resolve(!0):wb(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Be(me.FAILED_PRECONDITION,BS);return!1}}return!(!this.networkEnabled||!this.inForeground)||EI(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&$e("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Te.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new pb(e,Ws.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>EI(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return wI.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new yt(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return vb.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Xs)?AS:14===u?yI:13===u?_I:12===u?mI:11===u?xS:void ut();var u;let h;return this.ri.runTransaction(t,r,o,g=>(h=new pb(g,this.Ss?this.Ss.next():Ws.at),"readwrite-primary"===e?this.fi(h).next(y=>!!y||this.di(h)).next(y=>{if(!y)throw Bi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Be(me.FAILED_PRECONDITION,v0);return i(h)}).next(y=>this.wi(h).next(()=>y)):this.Vi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(t){return wb(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Be(me.FAILED_PRECONDITION,BS)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wb(t).put("owner",e)}static C(){return Ro.C()}_i(t){const e=wb(t);return e.get("owner").next(i=>this.mi(i)?($e("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ge.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Bi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,cn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return $e("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Bi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Bi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function wb(n){return mr(n,"owner")}function EI(n){return mr(n,"clientMetadata")}function HS(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class GS{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Ft(),r=Ft();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new GS(t,e.fromCache,i,r)}}class xN{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(o=>o||this.Oi(t,e,r,i)).next(o=>o||this.Mi(t,e))}ki(t,e){if(aS(e))return ge.resolve(null);let i=cs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Gf(e,null,"F"),i=cs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Ft(...o);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(g=>{const y=this.Fi(e,h);return this.$i(e,y,u,g.readTime)?this.ki(t,Gf(e,null,"F")):this.Bi(t,y,e,g)}))})))}Oi(t,e,i,r){return aS(e)||r.isEqual(Nt.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(o=>{const u=this.Fi(e,o);return this.$i(e,u,i,r)?this.Mi(t,e):(s_()<=Po.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),w_(e)),this.Bi(t,u,e,PT(r,-1)))})}Fi(t,e){let i=new On($0(t));return e.forEach((r,o)=>{jf(t,o)&&(i=i.add(o))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(t,e){return s_()<=Po.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",w_(e)),this.Ni.getDocumentsMatchingQuery(t,e,zs.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class Z2{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.yt=r,this.qi=new Wn(Qt),this.Ui=new wc(o=>wl(o),y_),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new CN(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qi))}}function AN(n,t,e,i){return new Z2(n,t,e,i)}function MN(n,t){return $S.apply(this,arguments)}function $S(){return $S=(0,Te.Z)(function*(n,t){const e=nt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let g=Ft();for(const y of r){u.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of o){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return e.localDocuments.getDocuments(i,g).next(y=>({ji:y,removedBatchIds:u,addedBatchIds:h}))})})}),$S.apply(this,arguments)}function q2(n,t){const e=nt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,y){const w=g.batch,S=w.keys();let M=ge.resolve();return S.forEach(R=>{M=M.next(()=>y.getEntry(h,R)).next(U=>{const Y=g.docVersions.get(R);Dt(null!==Y),U.version.compareTo(Y)<0&&(w.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))})}),M.next(()=>u.mutationQueue.removeMutationBatch(h,w))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Ft();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function ON(n){const t=nt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function K2(n,t){const e=nt(n),i=t.snapshotVersion;let r=e.qi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.qi;const h=[];t.targetChanges.forEach((w,S)=>{const M=r.get(S);if(!M)return;h.push(e.Cs.removeMatchingKeys(o,w.removedDocuments,S).next(()=>e.Cs.addMatchingKeys(o,w.addedDocuments,S)));let R=M.withSequenceNumber(o.currentSequenceNumber);var U,Y,te;t.targetMismatches.has(S)?R=R.withResumeToken(Or.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,i)),r=r.insert(S,R),Y=R,te=w,(0===(U=M).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(o,R))});let g=Ss(),y=Ft();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,w))}),h.push(NN(o,u,t.documentUpdates).next(w=>{g=w.Wi,y=w.zi})),!i.isEqual(Nt.min())){const w=e.Cs.getLastRemoteSnapshotVersion(o).next(S=>e.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(w)}return ge.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,g,y)).next(()=>g)}).then(o=>(e.qi=r,o))}function NN(n,t,e){let i=Ft(),r=Ft();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Ss();return e.forEach((h,g)=>{const y=o.get(h);g.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(Nt.min())?(t.removeEntry(h,g.readTime),u=u.insert(h,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||0===g.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(g),u=u.insert(h,g)):$e("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",g.version)}),{Wi:u,zi:r}})}function Y2(n,t){const e=nt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function F_(n,t){const e=nt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(o=>o?(r=o,ge.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new Ic(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qi=e.qi.insert(i.targetId,i),e.Ui.set(t,i.targetId)),i})}function L_(n,t,e){return jS.apply(this,arguments)}function jS(){return jS=(0,Te.Z)(function*(n,t,e){const i=nt(n),r=i.qi.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!yl(u))throw u;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}),jS.apply(this,arguments)}function CI(n,t,e){const i=nt(n);let r=Nt.min(),o=Ft();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,g,y){const w=nt(h),S=w.Ui.get(y);return void 0!==S?ge.resolve(w.qi.get(S)):w.Cs.getTargetData(g,y)}(i,u,cs(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{o=g})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:Nt.min(),e?o:Ft())).next(h=>(RN(i,KT(t),h),{documents:h,Hi:o})))}function PN(n,t){const e=nt(n),i=nt(e.Cs),r=e.qi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ne(o,t).next(u=>u?u.target:null))}function kN(n,t){const e=nt(n),i=e.Ki.get(t)||Nt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,PT(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(RN(e,t,r),r))}function RN(n,t,e){let i=n.Ki.get(t)||Nt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(t,i)}function zS(){return zS=(0,Te.Z)(function*(n,t,e,i){const r=nt(n);let o=Ft(),u=Ss();for(const y of e){const w=t.Ji(y.metadata.name);y.document&&(o=o.add(w));const S=t.Yi(y);S.setReadTime(t.Xi(y.metadata.readTime)),u=u.insert(w,S)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield F_(r,(y=i,cs(vc(fn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>NN(y,h,u).next(w=>(h.apply(y),w)).next(w=>r.Cs.removeMatchingKeysForTargetId(y,g.targetId).next(()=>r.Cs.addMatchingKeys(y,o,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,w.Wi,w.zi)).next(()=>w.Wi)))}),zS.apply(this,arguments)}function J2(n,t){return WS.apply(this,arguments)}function WS(){return WS=(0,Te.Z)(function*(n,t,e=Ft()){const i=yield F_(n,cs(_b(t.bundledQuery))),r=nt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Ui(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(o,t);const h=i.withResumeToken(Or.EMPTY_BYTE_STRING,u);return r.qi=r.qi.insert(h.targetId,h),r.Cs.updateTargetData(o,h).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,t))})}),WS.apply(this,arguments)}function FN(n,t){return`firestore_clients_${n}_${t}`}function LN(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function ZS(n,t){return`firestore_targets_${n}_${t}`}class DI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Be(r.error.code,r.error.message))),u?new DI(t,e,r.state,o):(Bi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Tb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Be(i.error.code,i.error.message))),o?new Tb(t,i.state,r):(Bi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class SI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Sh();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=D0(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new SI(t,o):(Bi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class qS{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new qS(e.clientId,e.onlineState):(Bi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class KS{constructor(){this.activeTargetIds=Sh()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class YS{constructor(t,e,i,r,o){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Wn(Qt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=FN(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new KS),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Te.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const o=t.getItem(FN(t.persistenceKey,r));if(o){const u=SI.Zi(r,o);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(ZS(this.persistenceKey,t));if(i){const r=Tb.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(ZS(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $e("SharedClientState","READ",t,e),e}setItem(t,e){$e("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$e("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Te.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(o){let u=Ws.at;if(null!=o)try{const h=JSON.parse(o);Dt("number"==typeof h),u=h}catch(h){Bi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Ws.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Mr(o)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new DI(this.currentUser,t,e,i),o=LN(this.persistenceKey,this.currentUser,t);this.setItem(o,r.tr())}Er(t){const e=LN(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=ZS(this.persistenceKey,t),o=new Tb(t,e,i);this.setItem(r,o.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return SI.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return DI.Zi(new Mr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return Tb.Zi(r,e)}yr(t){return qS.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Te.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);$e("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),o=this.Ir(i),u=[],h=[];return o.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{o.has(g)||h.push(g)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=Sh();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class VN{constructor(){this.Lr=new KS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new KS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class X2{Ur(t){}shutdown(){}}class BN{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tV{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class nV extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,o){const u=this.ho(t,e);$e("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,o),this.fo(t,u,h,i).then(g=>($e("RestConnection","Received: ",g),g),g=>{throw xu("RestConnection",`${t} failed with error: `,g,"url: ",u,"request:",i),g})}_o(t,e,i,r,o,u){return this.ao(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+pc,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.oo}/v1/${e}:${eV[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,u)=>{const h=new KD;h.setWithCredentials(!0),h.listenOnce(qD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case r_.NO_ERROR:const y=h.getResponseJson();$e("Connection","XHR received:",JSON.stringify(y)),o(y);break;case r_.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),u(new Be(me.DEADLINE_EXCEEDED,"Request time out"));break;case r_.HTTP_ERROR:const w=h.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',w,"response text:",h.getResponseText()),w>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const M=S?.error;if(M&&M.status&&M.message){const R=function(U){const Y=U.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(Y)>=0?Y:me.UNKNOWN}(M.status);u(new Be(R,M.message))}else u(new Be(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Be(me.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{$e("Connection",'RPC "'+t+'" completed.')}});const g=JSON.stringify(r);h.send(e,"POST",g,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=DT(),u=ZD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new xT({})),this.lo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const g=r.join("");$e("Connection","Creating WebChannel: "+g,h);const y=o.createWebChannel(g,h);let w=!1,S=!1;const M=new tV({Hr:U=>{S?$e("Connection","Not sending because WebChannel is closed:",U):(w||($e("Connection","Opening WebChannel transport."),y.open(),w=!0),$e("Connection","WebChannel sending:",U),y.send(U))},Jr:()=>y.close()}),R=(U,Y,te)=>{U.listen(Y,_e=>{try{te(_e)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return R(y,Lf.EventType.OPEN,()=>{S||$e("Connection","WebChannel transport opened.")}),R(y,Lf.EventType.CLOSE,()=>{S||(S=!0,$e("Connection","WebChannel transport closed"),M.io())}),R(y,Lf.EventType.ERROR,U=>{S||(S=!0,xu("Connection","WebChannel transport errored:",U),M.io(new Be(me.UNAVAILABLE,"The operation could not be completed")))}),R(y,Lf.EventType.MESSAGE,U=>{var Y;if(!S){const te=U.data[0];Dt(!!te);const Pe=te.error||(null===(Y=te[0])||void 0===Y?void 0:Y.error);if(Pe){$e("Connection","WebChannel received error:",Pe);const je=Pe.status;let He=function(Ye){const xt=gr[Ye];if(void 0!==xt)return nI(xt)}(je),We=Pe.message;void 0===He&&(He=me.INTERNAL,We="Unknown error status: "+je+" with message "+Pe.message),S=!0,M.io(new Be(He,We)),y.close()}else $e("Connection","WebChannel received:",te),M.ro(te)}}),R(u,d0.STAT_EVENT,U=>{U.stat===ST.PROXY?$e("Connection","Detected buffering proxy"):U.stat===ST.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.so()},0),M}}function UN(){return typeof window<"u"?window:null}function xI(){return typeof document<"u"?document:null}function Ib(n){return new Tc(n,!0)}class QS{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class HN{constructor(t,e,i,r,o,u,h,g){this.Hs=t,this.vo=i,this.Vo=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new QS(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,Te.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,Te.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,Te.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Bi(e.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Be(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,Te.Z)(function*(){t.state=0,t.start()}))}Qo(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iV extends HN{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.yt=o}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function rb(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:ut(),r=t.targetChange.targetIds||[],o=function(g,y){return g.wt?(Dt(void 0===y||"string"==typeof y),Or.fromBase64String(y||"")):(Dt(void 0===y||y instanceof Uint8Array),Or.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const y=void 0===g.code?me.UNKNOWN:nI(g.code);return new Be(y,g.message||"")}(u);e=new Q0(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Ia(n,i.document.name),o=Ui(i.document.updateTime),u=i.document.createTime?Ui(i.document.createTime):Nt.min(),h=new Hr({mapValue:{fields:i.document.fields}}),g=Zn.newFoundDocument(r,o,u,h);e=new xh(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in t){const i=t.documentDelete,r=Ia(n,i.document),o=i.readTime?Ui(i.readTime):Nt.min(),u=Zn.newNoDocument(r,o);e=new xh([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Ia(n,i.document);e=new xh([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ut();{const i=t.filter,o=new nN(i.count||0);e=new Y0(i.targetId,o)}}var g;return e}(this.yt,t),i=function(r){if(!("targetChange"in r))return Nt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Nt.min():o.readTime?Ui(o.readTime):Nt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=C_(this.yt),e.addTarget=function(r,o){let u;const h=o.target;return u=Hf(h)?{documents:sb(r,h)}:{query:S_(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=E_(r,o.resumeToken):o.snapshotVersion.compareTo(Nt.min())>0&&(u.readTime=$u(r,o.snapshotVersion.toTimestamp())),u}(this.yt,t);const i=function x_(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=C_(this.yt),e.removeTarget=t,this.Bo(e)}}class rV extends HN{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Dt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function dI(n,t){return n&&n.length>0?(Dt(void 0!==t),n.map(e=>function(i,r){let o=Ui(i.updateTime?i.updateTime:r);return o.isEqual(Nt.min())&&(o=Ui(r)),new eN(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Ui(t.commitTime);return this.listener.Zo(i,e)}return Dt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=C_(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ah(this.yt,i))};this.Bo(e)}}class sV extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Be(me.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.ao(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Be(me.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection._o(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(me.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class aV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Bi(e),this.ou=!1):$e("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class lV{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(h=>{i.enqueueAndForget((0,Te.Z)(function*(){var g;Zu(u)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Te.Z)(function*(y){const w=nt(y);w._u.add(4),yield V_(w),w.gu.set("Unknown"),w._u.delete(4),yield Eb(w)}),function(y){return g.apply(this,arguments)})(u))}))}),this.gu=new aV(i,r)}}function Eb(n){return XS.apply(this,arguments)}function XS(){return XS=(0,Te.Z)(function*(n){if(Zu(n))for(const t of n.wu)yield t(!0)}),XS.apply(this,arguments)}function V_(n){return ex.apply(this,arguments)}function ex(){return ex=(0,Te.Z)(function*(n){for(const t of n.wu)yield t(!1)}),ex.apply(this,arguments)}function AI(n,t){const e=nt(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),ix(e)?nx(e):U_(e).ko()&&tx(e,t))}function Cb(n,t){const e=nt(n),i=U_(e);e.du.delete(t),i.ko()&&GN(e,t),0===e.du.size&&(i.ko()?i.Fo():Zu(e)&&e.gu.set("Unknown"))}function tx(n,t){n.yu.Ot(t.targetId),U_(n).zo(t)}function GN(n,t){n.yu.Ot(t),U_(n).Ho(t)}function nx(n){n.yu=new sI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>n.du.get(t)||null}),U_(n).start(),n.gu.uu()}function ix(n){return Zu(n)&&!U_(n).No()&&n.du.size>0}function Zu(n){return 0===nt(n)._u.size}function $N(n){n.yu=void 0}function cV(n){return rx.apply(this,arguments)}function rx(){return rx=(0,Te.Z)(function*(n){n.du.forEach((t,e)=>{tx(n,t)})}),rx.apply(this,arguments)}function uV(n,t){return sx.apply(this,arguments)}function sx(){return sx=(0,Te.Z)(function*(n,t){$N(n),ix(n)?(n.gu.hu(t),nx(n)):n.gu.set("Unknown")}),sx.apply(this,arguments)}function dV(n,t,e){return ox.apply(this,arguments)}function ox(){return ox=(0,Te.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof Q0&&2===t.state&&t.cause)try{yield(i=(0,Te.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.du.delete(h),r.yu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield MI(n,i)}else if(t instanceof xh?n.yu.Kt(t):t instanceof Y0?n.yu.Jt(t):n.yu.jt(t),!e.isEqual(Nt.min()))try{const i=yield ON(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.yu.Zt(o);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.du.get(g);y&&r.du.set(g,y.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const g=r.du.get(h);if(!g)return;r.du.set(h,g.withResumeToken(Or.EMPTY_BYTE_STRING,g.snapshotVersion)),GN(r,h);const y=new Ic(g.target,h,1,g.sequenceNumber);tx(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield MI(n,i)}var i}),ox.apply(this,arguments)}function MI(n,t,e){return ax.apply(this,arguments)}function ax(){return ax=(0,Te.Z)(function*(n,t,e){if(!yl(t))throw t;n._u.add(1),yield V_(n),n.gu.set("Offline"),e||(e=()=>ON(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield Eb(n)}))}),ax.apply(this,arguments)}function jN(n,t){return t().catch(e=>MI(n,e,t))}function B_(n){return lx.apply(this,arguments)}function lx(){return lx=(0,Te.Z)(function*(n){const t=nt(n),e=Ph(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;hV(t);)try{const r=yield Y2(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,pV(t,r)}catch(r){yield MI(t,r)}zN(t)&&WN(t)}),lx.apply(this,arguments)}function hV(n){return Zu(n)&&n.fu.length<10}function pV(n,t){n.fu.push(t);const e=Ph(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function zN(n){return Zu(n)&&!Ph(n).No()&&n.fu.length>0}function WN(n){Ph(n).start()}function fV(n){return cx.apply(this,arguments)}function cx(){return cx=(0,Te.Z)(function*(n){Ph(n).eu()}),cx.apply(this,arguments)}function gV(n){return ux.apply(this,arguments)}function ux(){return ux=(0,Te.Z)(function*(n){const t=Ph(n);for(const e of n.fu)t.Xo(e.mutations)}),ux.apply(this,arguments)}function mV(n,t,e){return dx.apply(this,arguments)}function dx(){return dx=(0,Te.Z)(function*(n,t,e){const i=n.fu.shift(),r=N_.from(i,t,e);yield jN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield B_(n)}),dx.apply(this,arguments)}function _V(n,t){return hx.apply(this,arguments)}function hx(){return hx=(0,Te.Z)(function*(n,t){var e;t&&Ph(n).Yo&&(yield(e=(0,Te.Z)(function*(i,r){if(tI(o=r.code)&&o!==me.ABORTED){const u=i.fu.shift();Ph(i).Mo(),yield jN(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield B_(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),zN(n)&&WN(n)}),hx.apply(this,arguments)}function ZN(n,t){return px.apply(this,arguments)}function px(){return px=(0,Te.Z)(function*(n,t){const e=nt(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=Zu(e);e._u.add(3),yield V_(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield Eb(e)}),px.apply(this,arguments)}function fx(n,t){return gx.apply(this,arguments)}function gx(){return gx=(0,Te.Z)(function*(n,t){const e=nt(n);t?(e._u.delete(2),yield Eb(e)):t||(e._u.add(2),yield V_(e),e.gu.set("Unknown"))}),gx.apply(this,arguments)}function U_(n){return n.pu||(n.pu=function(t,e,i){const r=nt(t);return r.su(),new iV(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:cV.bind(null,n),Zr:uV.bind(null,n),Wo:dV.bind(null,n)}),n.wu.push(function(){var t=(0,Te.Z)(function*(e){e?(n.pu.Mo(),ix(n)?nx(n):n.gu.set("Unknown")):(yield n.pu.stop(),$N(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Ph(n){return n.Iu||(n.Iu=function(t,e,i){const r=nt(t);return r.su(),new rV(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:fV.bind(null,n),Zr:_V.bind(null,n),tu:gV.bind(null,n),Zo:mV.bind(null,n)}),n.wu.push(function(){var t=(0,Te.Z)(function*(e){e?(n.Iu.Mo(),yield B_(n)):(yield n.Iu.stop(),n.fu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class mx{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new mx(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H_(n,t){if(Bi("AsyncQueue",`${t}: ${n}`),yl(n))return new Be(me.UNAVAILABLE,`${t}: ${n}`);throw n}class G_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||et.comparator(e.key,i.key):(e,i)=>et.comparator(e.key,i.key),this.keyedMap=Dh(),this.sortedSet=new Wn(this.comparator)}static emptySet(t){return new G_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof G_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new G_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class qN{constructor(){this.Tu=new Wn(et.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ut():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class $_{constructor(t,e,i,r,o,u,h,g,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new $_(t,e,G_.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class yV{constructor(){this.Au=void 0,this.listeners=[]}}class vV{constructor(){this.queries=new wc(t=>G0(t),$f),this.onlineState="Unknown",this.Ru=new Set}}function _x(n,t){return yx.apply(this,arguments)}function yx(){return yx=(0,Te.Z)(function*(n,t){const e=nt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new yV),r)try{o.Au=yield e.onListen(i)}catch(u){const h=H_(u,`Initialization of query '${w_(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.bu(e.onlineState),o.Au&&t.Pu(o.Au)&&wx(e)}),yx.apply(this,arguments)}function vx(n,t){return bx.apply(this,arguments)}function bx(){return bx=(0,Te.Z)(function*(n,t){const e=nt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),bx.apply(this,arguments)}function bV(n,t){const e=nt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Pu(r)&&(i=!0);u.Au=r}}i&&wx(e)}function wV(n,t,e){const i=nt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function wx(n){n.Ru.forEach(t=>{t.next()})}class Tx{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new $_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=$_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class TV{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class KN{constructor(t){this.yt=t}Ji(t){return Ia(this.yt,t)}Yi(t){return t.metadata.exists?ib(this.yt,t.document,!1):Zn.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Ui(t)}}class IV{constructor(t,e,i){this.Mu=t,this.localStore=e,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=YN(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=fn.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new KN(this.yt);for(const r of t)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Ft()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,Te.Z)(function*(){const e=yield function Q2(n,t,e,i){return zS.apply(this,arguments)}(t.localStore,new KN(t.yt),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield J2(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function YN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class QN{constructor(t){this.key=t}}class JN{constructor(t){this.key=t}}class XN{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ft(),this.mutatedKeys=Ft(),this.Gu=$0(t),this.Qu=new G_(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new qN,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((w,S)=>{const M=r.get(w),R=jf(this.query,S)?S:null,U=!!M&&this.mutatedKeys.has(M.key),Y=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let te=!1;M&&R?M.data.isEqual(R.data)?U!==Y&&(i.track({type:3,doc:R}),te=!0):this.Hu(M,R)||(i.track({type:2,doc:R}),te=!0,(g&&this.Gu(R,g)>0||y&&this.Gu(R,y)<0)&&(h=!0)):!M&&R?(i.track({type:0,doc:R}),te=!0):M&&!R&&(i.track({type:1,doc:M}),te=!0,(g||y)&&(h=!0)),te&&(R?(u=u.add(R),o=Y?o.add(w):o.delete(w)):(u=u.delete(w),o=o.delete(w)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const w="F"===this.query.limitType?u.last():u.first();u=u.delete(w.key),o=o.delete(w.key),i.track({type:1,doc:w})}return{Qu:u,zu:i,$i:h,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Eu();o.sort((y,w)=>function(S,M){const R=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return R(S)-R(M)}(y.type,w.type)||this.Gu(y.doc,w.doc)),this.Ju(i);const u=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.Uu;return this.Uu=h,0!==o.length||g?{snapshot:new $_(this.query,t.Qu,r,o,t.mutatedKeys,0===h,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new qN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Ft(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new JN(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new QN(i))}),e}tc(t){this.qu=t.Hi,this.Ku=Ft();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return $_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class EV{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class CV{constructor(t){this.key=t,this.nc=!1}}class DV{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new wc(h=>G0(h),$f),this.rc=new Map,this.oc=new Set,this.uc=new Wn(et.comparator),this.cc=new Map,this.ac=new VS,this.hc={},this.lc=new Map,this.fc=ng.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function SV(n,t){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,Te.Z)(function*(n,t){const e=Wx(n);let i,r;const o=e.ic.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const u=yield F_(e.localStore,cs(t));e.isPrimaryClient&&AI(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Ex(e,t,i,"current"===h,u.resumeToken)}return r}),Ix.apply(this,arguments)}function Ex(n,t,e,i,r){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,Te.Z)(function*(n,t,e,i,r){n._c=(S,M,R)=>{return(U=(0,Te.Z)(function*(Y,te,_e,Pe){let je=te.view.Wu(_e);je.$i&&(je=yield CI(Y.localStore,te.query,!1).then(({documents:Ye})=>te.view.Wu(Ye,je)));const He=Pe&&Pe.targetChanges.get(te.targetId),We=te.view.applyChanges(je,Y.isPrimaryClient,He);return Rx(Y,te.targetId,We.Xu),We.snapshot}),function(Y,te,_e,Pe){return U.apply(this,arguments)})(n,S,M,R);var U};const o=yield CI(n.localStore,t,!0),u=new XN(t,o.Hi),h=u.Wu(o.documents),g=Kf.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),y=u.applyChanges(h,n.isPrimaryClient,g);Rx(n,e,y.Xu);const w=new EV(t,e,u);return n.ic.set(t,w),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),y.snapshot}),Cx.apply(this,arguments)}function xV(n,t){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,Te.Z)(function*(n,t){const e=nt(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(o=>!$f(o,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield L_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Cb(e.remoteStore,i.targetId),j_(e,i.targetId)}).catch(_l))):(j_(e,i.targetId),yield L_(e.localStore,i.targetId,!0))}),Dx.apply(this,arguments)}function Sx(){return Sx=(0,Te.Z)(function*(n,t,e){const i=Zx(n);try{const r=yield function(o,u){const h=nt(o),g=Jn.now(),y=u.reduce((M,R)=>M.add(R.key),Ft());let w,S;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>{let R=Ss(),U=Ft();return h.Gi.getEntries(M,y).next(Y=>{R=Y,R.forEach((te,_e)=>{_e.isValidDocument()||(U=U.add(te))})}).next(()=>h.localDocuments.getOverlayedDocuments(M,R)).next(Y=>{w=Y;const te=[];for(const _e of u){const Pe=YT(_e,w.get(_e.key).overlayedDocument);null!=Pe&&te.push(new bc(_e.key,Pe,__(Pe.value.mapValue),Xn.exists(!0)))}return h.mutationQueue.addMutationBatch(M,g,te,u)}).next(Y=>{S=Y;const te=Y.applyToLocalDocumentSet(w,U);return h.documentOverlayCache.saveOverlays(M,Y.batchId,te)})}).then(()=>({batchId:S.batchId,changes:mS(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let g=o.hc[o.currentUser.toKey()];g||(g=new Wn(Qt)),g=g.insert(u,h),o.hc[o.currentUser.toKey()]=g}(i,r.batchId,e),yield qu(i,r.changes),yield B_(i.remoteStore)}catch(r){const o=H_(r,"Failed to persist write");e.reject(o)}}),Sx.apply(this,arguments)}function eP(n,t){return xx.apply(this,arguments)}function xx(){return xx=(0,Te.Z)(function*(n,t){const e=nt(n);try{const i=yield K2(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.cc.get(o);u&&(Dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?Dt(u.nc):r.removedDocuments.size>0&&(Dt(u.nc),u.nc=!1))}),yield qu(e,i,t)}catch(i){yield _l(i)}}),xx.apply(this,arguments)}function tP(n,t,e){const i=nt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((o,u)=>{const h=u.view.bu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=nt(o);h.onlineState=u;let g=!1;h.queries.forEach((y,w)=>{for(const S of w.listeners)S.bu(u)&&(g=!0)}),g&&wx(h)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function MV(n,t,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,Te.Z)(function*(n,t,e){const i=nt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),o=r&&r.key;if(o){let u=new Wn(et.comparator);u=u.insert(o,Zn.newNoDocument(o,Nt.min()));const h=Ft().add(o),g=new qf(Nt.min(),new Map,new On(Qt),u,h);yield eP(i,g),i.uc=i.uc.remove(o),i.cc.delete(t),Fx(i)}else yield L_(i.localStore,t,!1).then(()=>j_(i,t,e)).catch(_l)}),Ax.apply(this,arguments)}function OV(n,t){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,Te.Z)(function*(n,t){const e=nt(n),i=t.batch.batchId;try{const r=yield q2(e.localStore,t);kx(e,i,null),Px(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield qu(e,r)}catch(r){yield _l(r)}}),Mx.apply(this,arguments)}function NV(n,t,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,Te.Z)(function*(n,t,e){const i=nt(n);try{const r=yield function(o,u){const h=nt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return h.mutationQueue.lookupMutationBatch(g,u).next(w=>(Dt(null!==w),y=w.keys(),h.mutationQueue.removeMutationBatch(g,w))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>h.localDocuments.getDocuments(g,y))})}(i.localStore,t);kx(i,t,e),Px(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield qu(i,r)}catch(r){yield _l(r)}}),Ox.apply(this,arguments)}function Nx(){return Nx=(0,Te.Z)(function*(n,t){const e=nt(n);Zu(e.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=nt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=H_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Nx.apply(this,arguments)}function Px(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function kx(n,t,e){const i=nt(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function j_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||nP(n,i)})}function nP(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(Cb(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),Fx(n))}function Rx(n,t,e){for(const i of e)i instanceof QN?(n.ac.addReference(i.key,t),kV(n,i)):i instanceof JN?($e("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||nP(n,i.key)):ut()}function kV(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||($e("SyncEngine","New document in limbo: "+e),n.oc.add(i),Fx(n))}function Fx(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new et(fn.fromString(t)),i=n.fc.next();n.cc.set(i,new CV(e)),n.uc=n.uc.insert(e,i),AI(n.remoteStore,new Ic(cs(vc(e.path)),i,2,Ws.at))}}function qu(n,t,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Te.Z)(function*(n,t,e){const i=nt(n),r=[],o=[],u=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,g)=>{u.push(i._c(g,t,e).then(y=>{if((y||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const w=GS.Ci(g.targetId,y);o.push(w)}}))}),yield Promise.all(u),i.sc.Wo(r),yield(h=(0,Te.Z)(function*(g,y){const w=nt(g);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ge.forEach(y,M=>ge.forEach(M.Si,R=>w.persistence.referenceDelegate.addReference(S,M.targetId,R)).next(()=>ge.forEach(M.Di,R=>w.persistence.referenceDelegate.removeReference(S,M.targetId,R)))))}catch(S){if(!yl(S))throw S;$e("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const R=w.qi.get(M),Y=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);w.qi=w.qi.insert(M,Y)}}}),function(g,y){return h.apply(this,arguments)})(i.localStore,o))}),Lx.apply(this,arguments)}function RV(n,t){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,Te.Z)(function*(n,t){const e=nt(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield MN(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(u=>{u.forEach(h=>{h.reject(new Be(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield qu(e,i.ji)}var r}),Vx.apply(this,arguments)}function FV(n,t){const e=nt(n),i=e.cc.get(t);if(i&&i.nc)return Ft().add(i.key);{let r=Ft();const o=e.rc.get(t);if(!o)return r;for(const u of o){const h=e.ic.get(u);r=r.unionWith(h.view.ju)}return r}}function LV(n,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,Te.Z)(function*(n,t){const e=nt(n),i=yield CI(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&Rx(e,t.targetId,r.Xu),r}),Bx.apply(this,arguments)}function VV(n,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Te.Z)(function*(n,t){const e=nt(n);return kN(e.localStore,t).then(i=>qu(e,i))}),Ux.apply(this,arguments)}function BV(n,t,e,i){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,Te.Z)(function*(n,t,e,i){const r=nt(n),o=yield function(u,h){const g=nt(u),y=nt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",w=>y.Tn(w,h).next(S=>S?g.localDocuments.getDocuments(w,S):ge.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield B_(r.remoteStore):"acknowledged"===e||"rejected"===e?(kx(r,t,i||null),Px(r,t),h=t,nt(nt(r.localStore).mutationQueue).An(h)):ut(),yield qu(r,o)):$e("SyncEngine","Cannot apply mutation batch with id: "+t)}),Hx.apply(this,arguments)}function Gx(){return Gx=(0,Te.Z)(function*(n,t){const e=nt(n);if(Wx(e),Zx(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield iP(e,i.toArray());e.dc=!0,yield fx(e.remoteStore,!0);for(const o of r)AI(e.remoteStore,o)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(j_(e,u),L_(e.localStore,u,!0))),Cb(e.remoteStore,u)}),yield r,yield iP(e,i),function(o){const u=nt(o);u.cc.forEach((h,g)=>{Cb(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Wn(et.comparator)}(e),e.dc=!1,yield fx(e.remoteStore,!1)}}),Gx.apply(this,arguments)}function iP(n,t,e){return $x.apply(this,arguments)}function $x(){return $x=(0,Te.Z)(function*(n,t,e){const i=nt(n),r=[],o=[];for(const u of t){let h;const g=i.rc.get(u);if(g&&0!==g.length){h=yield F_(i.localStore,cs(g[0]));for(const y of g){const w=i.ic.get(y),S=yield LV(i,w);S.snapshot&&o.push(S.snapshot)}}else{const y=yield PN(i.localStore,u);h=yield F_(i.localStore,y),yield Ex(i,rP(y),u,!1,h.resumeToken)}r.push(h)}return i.sc.Wo(o),r}),$x.apply(this,arguments)}function rP(n){return V0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function HV(n){const t=nt(n);return nt(nt(t.localStore).persistence).vi()}function GV(n,t,e,i){return jx.apply(this,arguments)}function jx(){return jx=(0,Te.Z)(function*(n,t,e,i){const r=nt(n);if(r.dc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield kN(r.localStore,KT(o[0])),h=qf.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Or.EMPTY_BYTE_STRING);yield qu(r,u,h);break}case"rejected":yield L_(r.localStore,t,!0),j_(r,t,i);break;default:ut()}}),jx.apply(this,arguments)}function $V(n,t,e){return zx.apply(this,arguments)}function zx(){return zx=(0,Te.Z)(function*(n,t,e){const i=Wx(n);if(i.dc){for(const r of t){if(i.rc.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const o=yield PN(i.localStore,r),u=yield F_(i.localStore,o);yield Ex(i,rP(o),u.targetId,!1,u.resumeToken),AI(i.remoteStore,u)}for(const r of e)i.rc.has(r)&&(yield L_(i.localStore,r,!1).then(()=>{Cb(i.remoteStore,r),j_(i,r)}).catch(_l))}}),zx.apply(this,arguments)}function Wx(n){const t=nt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=eP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MV.bind(null,t),t.sc.Wo=bV.bind(null,t.eventManager),t.sc.wc=wV.bind(null,t.eventManager),t}function Zx(n){const t=nt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NV.bind(null,t),t}class sP{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Te.Z)(function*(){e.yt=Ib(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return AN(this.persistence,new xN,t.initialUser,this.yt)}yc(t){return new DN(II.Bs,this.yt)}gc(t){return new VN}terminate(){var t=this;return(0,Te.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class oP extends sP{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield Zx(i.Ac.syncEngine),yield B_(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return AN(this.persistence,new xN,t.initialUser,this.yt)}Tc(t,e){return new P2(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new rS(e,this.persistence);return new iS(t.asyncQueue,i)}yc(t){const e=HS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new US(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,UN(),xI(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new VN}}class zV extends oP{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Te.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof YS&&(i.sharedClientState.syncEngine={Fr:BV.bind(null,r),$r:GV.bind(null,r),Br:$V.bind(null,r),vi:HV.bind(null,r),Mr:VV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,Te.Z)(function*(u){yield function UV(n,t){return Gx.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}gc(t){const e=UN();if(!YS.C(e))throw new Be(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=HS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new YS(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class qx{initialize(t,e){var i=this;return(0,Te.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>tP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=RV.bind(null,i.syncEngine),yield fx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new vV}createDatastore(t){const e=Ib(t.databaseInfo.databaseId),i=new nV(t.databaseInfo);return new sV(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>tP(this.syncEngine,h,0),u=BN.C()?new BN:new X2,new lV(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,g,y){const w=new DV(i,r,o,u,h,g);return y&&(w.dc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Te.Z)(function*(e){const i=nt(e);$e("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield V_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function Kx(n,t,e){if(!e)throw new Be(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function aP(n,t,e,i){if(!0===t&&!0===i)throw new Be(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function lP(n){if(!et.isDocumentKey(n))throw new Be(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cP(n){if(et.isDocumentKey(n))throw new Be(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ut()}function gn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Be(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=OI(n);throw new Be(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function uP(n,t){if(t<=0)throw new Be(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const dP=new Map;class hP{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Be(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Be(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,aP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Db{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Be(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hP(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new MT;switch(e.type){case"gapi":return new f0(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Be(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=dP.get(t);e&&($e("ComponentProvider","Removing Datastore"),dP.delete(t),e.terminate())}(this),Promise.resolve()}}class mi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ec(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mi(this.firestore,t,this._key)}}class ds{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ds(this.firestore,t,this._query)}}class Ec extends ds{constructor(t,e,i){super(t,e,vc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mi(this.firestore,null,new et(t))}withConverter(t){return new Ec(this.firestore,t,this._path)}}function fP(n,t,...e){if(n=(0,cn.m9)(n),Kx("collection","path",t),n instanceof Db){const i=fn.fromString(t,...e);return cP(i),new Ec(n,null,i)}{if(!(n instanceof mi||n instanceof Ec))throw new Be(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(t,...e));return cP(i),new Ec(n.firestore,null,i)}}function NI(n,t,...e){if(n=(0,cn.m9)(n),1===arguments.length&&(t=a_.R()),Kx("doc","path",t),n instanceof Db){const i=fn.fromString(t,...e);return lP(i),new mi(n,null,new et(i))}{if(!(n instanceof mi||n instanceof Ec))throw new Be(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(t,...e));return lP(i),new mi(n.firestore,n instanceof Ec?n.converter:null,new et(i))}}function gP(n,t){return n=(0,cn.m9)(n),t=(0,cn.m9)(t),(n instanceof mi||n instanceof Ec)&&(t instanceof mi||t instanceof Ec)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Yx(n,t){return n=(0,cn.m9)(n),t=(0,cn.m9)(t),n instanceof ds&&t instanceof ds&&n.firestore===t.firestore&&$f(n._query,t._query)&&n.converter===t.converter}function mP(n,t=10240){let e=0;return{read:()=>(0,Te.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class PI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Bi("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class ZV{constructor(t,e){this.Pc=t,this.yt=e,this.metadata=new pr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,Te.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,Te.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,Te.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const o=yield t.Cc(r);return new TV(JSON.parse(o),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,Te.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,Te.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,Te.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class YV{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Be(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Te.Z)(function*(o,u){const h=nt(o),g=C_(h.yt)+"/documents",y={documents:u.map(R=>Yf(h.yt,R))},w=yield h._o("BatchGetDocuments",g,y,u.length),S=new Map;w.forEach(R=>{const U=function sN(n,t){return"found"in t?function(e,i){Dt(!!i.found);const r=Ia(e,i.found.name),o=Ui(i.found.updateTime),u=i.found.createTime?Ui(i.found.createTime):Nt.min(),h=new Hr({mapValue:{fields:i.found.fields}});return Zn.newFoundDocument(r,o,u,h)}(n,t):"missing"in t?function(e,i){Dt(!!i.missing),Dt(!!i.readTime);const r=Ia(e,i.missing),o=Ui(i.readTime);return Zn.newNoDocument(r,o)}(n,t):ut()}(h.yt,R);S.set(U.key.toString(),U)});const M=[];return u.forEach(R=>{const U=S.get(R.toString());Dt(!!U),M.push(U)}),M}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Il(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=et.fromPath(r);t.mutations.push(new q0(o,t.precondition(o)))}),yield(i=(0,Te.Z)(function*(r,o){const u=nt(r),h=C_(u.yt)+"/documents",g={writes:o.map(y=>Ah(u.yt,y))};yield u.ao("Commit",h,g)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ut();e=Nt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Be(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Nt.min())?Xn.exists(!1):Xn.updateTime(e):Xn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Nt.min()))throw new Be(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(e)}return Xn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class QV{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.xo=new QS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,Te.Z)(function*(){const e=new YV(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Fc(o)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!gh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!tI(e)}return!1}}class JV{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Mr.UNAUTHENTICATED,this.clientId=a_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Te.Z)(function*(h){$e("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>($e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Te.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=H_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function _P(n,t){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Te.Z)(function*(o){i.isEqual(o)||(yield MN(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Qx.apply(this,arguments)}function yP(n,t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,Te.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Xx(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>ZN(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>ZN(t.remoteStore,o)),n.onlineComponents=t}),Jx.apply(this,arguments)}function Xx(n){return eA.apply(this,arguments)}function eA(){return eA=(0,Te.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield _P(n,new sP)),n.offlineComponents}),eA.apply(this,arguments)}function kI(n){return tA.apply(this,arguments)}function tA(){return tA=(0,Te.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield yP(n,new qx)),n.onlineComponents}),tA.apply(this,arguments)}function vP(n){return Xx(n).then(t=>t.persistence)}function RI(n){return Xx(n).then(t=>t.localStore)}function nA(n){return kI(n).then(t=>t.remoteStore)}function iA(n){return kI(n).then(t=>t.syncEngine)}function z_(n){return rA.apply(this,arguments)}function rA(){return rA=(0,Te.Z)(function*(n){const t=yield kI(n),e=t.eventManager;return e.onListen=SV.bind(null,t.syncEngine),e.onUnlisten=xV.bind(null,t.syncEngine),e}),rA.apply(this,arguments)}function wP(n,t,e={}){const i=new pr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,o,u,h,g){const y=new PI({next:S=>{o.enqueueAndForget(()=>vx(r,w));const M=S.docs.has(u);!M&&S.fromCache?g.reject(new Be(me.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&h&&"server"===h.source?g.reject(new Be(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new Tx(vc(u.path),y,{includeMetadataChanges:!0,Nu:!0});return _x(r,w)}(yield z_(n),n.asyncQueue,t,e,i)})),i.promise}function TP(n,t,e={}){const i=new pr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,o,u,h,g){const y=new PI({next:S=>{o.enqueueAndForget(()=>vx(r,w)),S.fromCache&&"server"===h.source?g.reject(new Be(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new Tx(u,y,{includeMetadataChanges:!0,Nu:!0});return _x(r,w)}(yield z_(n),n.asyncQueue,t,e,i)})),i.promise}class oB{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new QS(this,"async_queue_retry"),this.Wc=()=>{const e=xI();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=xI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=xI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const e=new pr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,Te.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!yl(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,Bi("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=mx.createAndSchedule(this,t,e,i,o=>this.Yc(o));return this.Uc.push(r),r}zc(){this.Kc&&ut()}verifyOperationInProgress(){}Xc(){var t=this;return(0,Te.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function sA(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class aB{constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class _i extends Db{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new oB,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||IP(this),this._firestoreClient.terminate()}}function _r(n){return n._firestoreClient||IP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function IP(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new FT(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new JV(n._authCredentials,n._appCheckCredentials,n._queue,i)}function EP(n,t,e){const i=new pr;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield _P(n,e),yield yP(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===me.FAILED_PRECONDITION||u.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;xu("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function CP(n){if(n._initialized||n._terminated)throw new Be(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Cc(Or.fromBase64String(t))}catch(e){throw new Be(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Cc(Or.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ku{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Be(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rg{constructor(t){this._methodName=t}}class FI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Be(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Be(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}const _B=/^__.*__$/;class yB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new bc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hu(t,this.data,e,this.fieldTransforms)}}class DP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new bc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function SP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class LI{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new LI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return UI(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(SP(this.sa)&&_B.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class vB{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||Ib(t)}da(t,e,i,r=!1){return new LI({sa:t,methodName:e,fa:i,path:Di.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function sg(n){const t=n._freezeSettings(),e=Ib(n._databaseId);return new vB(n._databaseId,!!t.ignoreUndefinedProperties,e)}function VI(n,t,e,i,r,o={}){const u=n.da(o.merge||o.mergeFields?2:0,t,e,r);cA("Data must be an object, but it was:",u,i);const h=MP(i,u);let g,y;if(o.merge)g=new Ds(u.fieldMask),y=u.fieldTransforms;else if(o.mergeFields){const w=[];for(const S of o.mergeFields){const M=uA(t,S,e);if(!u.contains(M))throw new Be(me.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);NP(w,M)||w.push(M)}g=new Ds(w),y=u.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=u.fieldTransforms;return new yB(new Hr(h),g,y)}class Sb extends rg{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sb}}function xP(n,t,e){return new LI({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class oA extends rg{_toFieldTransform(t){return new T_(t.path,new Vu)}isEqual(t){return t instanceof oA}}class bB extends rg{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=xP(this,t,!0),i=this._a.map(o=>og(o,e)),r=new Eh(i);return new T_(t.path,r)}isEqual(t){return this===t}}class wB extends rg{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=xP(this,t,!0),i=this._a.map(o=>og(o,e)),r=new Ch(i);return new T_(t.path,r)}isEqual(t){return this===t}}class TB extends rg{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new Wf(t.yt,W0(t.yt,this.wa));return new T_(t.path,e)}isEqual(t){return this===t}}function aA(n,t,e,i){const r=n.da(1,t,e);cA("Data must be an object, but it was:",r,i);const o=[],u=Hr.empty();mc(i,(g,y)=>{const w=BI(t,g,e);y=(0,cn.m9)(y);const S=r.ca(w);if(y instanceof Sb)o.push(w);else{const M=og(y,S);null!=M&&(o.push(w),u.set(w,M))}});const h=new Ds(o);return new DP(u,h,r.fieldTransforms)}function lA(n,t,e,i,r,o){const u=n.da(1,t,e),h=[uA(t,i,e)],g=[r];if(o.length%2!=0)throw new Be(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)h.push(uA(t,o[M])),g.push(o[M+1]);const y=[],w=Hr.empty();for(let M=h.length-1;M>=0;--M)if(!NP(y,h[M])){const R=h[M];let U=g[M];U=(0,cn.m9)(U);const Y=u.ca(R);if(U instanceof Sb)y.push(R);else{const te=og(U,Y);null!=te&&(y.push(R),w.set(R,te))}}const S=new Ds(y);return new DP(w,S,u.fieldTransforms)}function AP(n,t,e,i=!1){return og(e,n.da(i?4:3,t))}function og(n,t){if(OP(n=(0,cn.m9)(n)))return cA("Unsupported field value:",t,n),MP(n,t);if(n instanceof rg)return function(e,i){if(!SP(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=og(u,i.aa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,cn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return W0(i.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Jn.fromDate(e);return{timestampValue:$u(i.yt,r)}}if(e instanceof Jn){const r=new Jn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$u(i.yt,r)}}if(e instanceof FI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Cc)return{bytesValue:E_(i.yt,e._byteString)};if(e instanceof mi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:lI(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${OI(e)}`)}(n,t)}function MP(n,t){const e={};return C0(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mc(n,(i,r)=>{const o=og(r,t.ra(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function OP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Jn||n instanceof FI||n instanceof Cc||n instanceof mi||n instanceof rg)}function cA(n,t,e){if(!OP(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=OI(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function uA(n,t,e){if((t=(0,cn.m9)(t))instanceof Ku)return t._internalPath;if("string"==typeof t)return BI(n,t);throw UI("Field path arguments must be of type string or ",n,!1,void 0,e)}const IB=new RegExp("[~\\*/\\[\\]]");function BI(n,t,e){if(t.search(IB)>=0)throw UI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ku(...t.split("."))._internalPath}catch{throw UI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function UI(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(o||u)&&(g+=" (found",o&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new Be(me.INVALID_ARGUMENT,h+n+g)}function NP(n,t){return n.some(e=>e.isEqual(t))}class xb{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new EB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(HI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class EB extends xb{data(){return super.data()}}function HI(n,t){return"string"==typeof t?BI(n,t):t instanceof Ku?t._internalPath:t._delegate._internalPath}function PP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dA{}class Ab extends dA{}function kh(n,t,...e){let i=[];t instanceof dA&&i.push(t),i=i.concat(e),function(r){const o=r.filter(h=>h instanceof W_).length,u=r.filter(h=>h instanceof Mb).length;if(o>1||o>0&&u>0)throw new Be(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Mb extends Ab{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Mb(t,e,i)}_apply(t){const e=this._parse(t);return LP(t._query,e),new ds(t.firestore,t.converter,b_(t._query,e))}_parse(t){const e=sg(t.firestore);return function(r,o,u,h,g,y,w){let S;if(g.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Be(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){FP(w,y);const M=[];for(const R of w)M.push(RP(h,r,R));S={arrayValue:{values:M}}}else S=RP(h,r,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||FP(w,y),S=AP(u,"where",w,"in"===y||"not-in"===y);return un.create(g,y,S)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class W_ extends dA{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new W_(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:In.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const h of u)LP(o,h),o=b_(o,h)}(t._query,e),new ds(t.firestore,t.converter,b_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hA extends Ab{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new hA(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Be(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Be(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ru(r,o);return function(h,g){if(null===B0(h)){const y=U0(h);null!==y&&VP(0,y,g.field)}}(i,u),u}(t._query,this._field,this._direction);return new ds(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Tl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class GI extends Ab{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new GI(t,e,i)}_apply(t){return new ds(t.firestore,t.converter,Gf(t._query,this._limit,this._limitType))}}class $I extends Ab{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new $I(t,e,i)}_apply(t){const e=kP(t,this.type,this._docOrFields,this._inclusive);return new ds(t.firestore,t.converter,(r=e,new Tl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class jI extends Ab{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new jI(t,e,i)}_apply(t){const e=kP(t,this.type,this._docOrFields,this._inclusive);return new ds(t.firestore,t.converter,(r=e,new Tl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function kP(n,t,e,i){if(e[0]=(0,cn.m9)(e[0]),e[0]instanceof xb)return function(r,o,u,h,g){if(!h)throw new Be(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const w of Lu(r))if(w.field.isKeyField())y.push(Ta(o,h.key));else{const S=h.data.field(w.field);if(S0(S))throw new Be(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const M=w.field.canonicalString();throw new Be(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(S)}return new yc(y,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=sg(n.firestore);return function(o,u,h,g,y,w){const S=o.explicitOrderBy;if(y.length>S.length)throw new Be(me.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let R=0;R<y.length;R++){const U=y[R];if(S[R].field.isKeyField()){if("string"!=typeof U)throw new Be(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof U}`);if(!H0(o)&&-1!==U.indexOf("/"))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${U}' contains a slash.`);const Y=o.path.child(fn.fromString(U));if(!et.isDocumentKey(Y))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const te=new et(Y);M.push(Ta(u,te))}else{const Y=AP(h,g,U);M.push(Y)}}return new yc(M,w)}(n._query,n.firestore._databaseId,r,t,e,i)}}function RP(n,t,e){if("string"==typeof(e=(0,cn.m9)(e))){if(""===e)throw new Be(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H0(t)&&-1!==e.indexOf("/"))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(fn.fromString(e));if(!et.isDocumentKey(i))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ta(n,new et(i))}if(e instanceof mi)return Ta(n,e._key);throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OI(e)}.`)}function FP(n,t){if(!Array.isArray(n)||0===n.length)throw new Be(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Be(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function LP(n,t){if(t.isInequality()){const i=U0(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Be(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=B0(n);null!==o&&VP(0,r,o)}const e=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Be(me.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function VP(n,t,e){if(!e.isEqual(t))throw new Be(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class pA{convertValue(t,e="none"){switch(Nu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return gi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ou(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ut()}}convertObject(t,e){const i={};return mc(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new FI(gi(t.latitude),gi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=_h(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Bf(t));default:return null}}convertTimestamp(t){const e=vl(t);return new Jn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fn.fromString(t);Dt(hI(i));const r=new fo(i.get(1),i.get(3)),o=new et(i.popFirst(5));return r.isEqual(e)||Bi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function zI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class PB extends pA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mi(this.firestore,null,e)}}class ag{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yu extends xb{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ob(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(HI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Ob extends Yu{data(t={}){return super.data(t)}}class Rh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ag(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Ob(this._firestore,this._userDataWriter,i.key,i,new ag(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Be(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Ob(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ag(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Ob(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ag(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return 0!==u.type&&(g=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),y=o.indexOf(u.doc.key)),{type:kB(u.type),doc:h,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function kB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function UP(n,t){return n instanceof Yu&&t instanceof Yu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Rh&&t instanceof Rh&&n._firestore===t._firestore&&Yx(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Fh extends pA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mi(this.firestore,null,e)}}function HP(n,t,e){n=gn(n,mi);const i=gn(n.firestore,_i),r=zI(n.converter,t,e);return Z_(i,[VI(sg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Xn.none())])}function GP(n,t,e,...i){n=gn(n,mi);const r=gn(n.firestore,_i),o=sg(r);let u;return u="string"==typeof(t=(0,cn.m9)(t))||t instanceof Ku?lA(o,"updateDoc",n._key,t,e,i):aA(o,"updateDoc",n._key,t),Z_(r,[u.toMutation(n._key,Xn.exists(!0))])}function $P(n,...t){var e,i,r;n=(0,cn.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||sA(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(sA(t[u])){const S=t[u];t[u]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let g,y,w;if(n instanceof mi)y=gn(n.firestore,_i),w=vc(n._key.path),g={next:S=>{t[u]&&t[u](fA(y,n,S))},error:t[u+1],complete:t[u+2]};else{const S=gn(n,ds);y=gn(S.firestore,_i),w=S._query;const M=new Fh(y);g={next:R=>{t[u]&&t[u](new Rh(y,M,S,R))},error:t[u+1],complete:t[u+2]},PP(n._query)}return function(S,M,R,U){const Y=new PI(U),te=new Tx(M,Y,R);return S.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return _x(yield z_(S),te)})),()=>{Y.bc(),S.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return vx(yield z_(S),te)}))}}(_r(y),w,h,g)}function Z_(n,t){return function(e,i){const r=new pr;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function AV(n,t,e){return Sx.apply(this,arguments)}(yield iA(e),i,r)})),r.promise}(_r(n),t)}function fA(n,t,e){const i=e.docs.get(t._key),r=new Fh(n);return new Yu(n,r,t._key,i,new ag(e.hasPendingWrites,e.fromCache),t.converter)}const jB={maxAttempts:5};class jP{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=sg(t)}set(t,e,i){this._verifyNotCommitted();const r=Lh(t,this._firestore),o=zI(r.converter,e,i),u=VI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Xn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Lh(t,this._firestore);let u;return u="string"==typeof(e=(0,cn.m9)(e))||e instanceof Ku?lA(this._dataReader,"WriteBatch.update",o._key,e,i,r):aA(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Xn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Lh(t,this._firestore);return this._mutations=this._mutations.concat(new Il(e._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lh(n,t){if((n=(0,cn.m9)(n)).firestore!==t)throw new Be(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class zB extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=sg(t)}get(t){const e=Lh(t,this._firestore),i=new PB(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ut();const o=r[0];if(o.isFoundDocument())return new xb(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new xb(this._firestore,i,e._key,null,e.converter);throw ut()})}set(t,e,i){const r=Lh(t,this._firestore),o=zI(r.converter,e,i),u=VI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Lh(t,this._firestore);let u;return u="string"==typeof(e=(0,cn.m9)(e))||e instanceof Ku?lA(this._dataReader,"Transaction.update",o._key,e,i,r):aA(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Lh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Lh(t,this._firestore),i=new Fh(this._firestore);return super.get(t).then(r=>new Yu(this._firestore,i,e._key,r._document,new ag(!1,!1),e.converter))}}function gA(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function WP(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function ZP(){if(!function sS(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){pc=Zd.SDK_VERSION,(0,Zd._registerComponent)(new Am.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),u=new _i(new XD(e.getProvider("auth-internal")),new m0(e.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Be(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(h.options.projectId,g)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Zd.registerVersion)(AT,"3.8.3",n),(0,Zd.registerVersion)(AT,"3.8.3","esm2017")}();class Nb{constructor(t){this._delegate=t}static fromBase64String(t){return ZP(),new Nb(Cc.fromBase64String(t))}static fromUint8Array(t){return WP(),new Nb(Cc.fromUint8Array(t))}toBase64(){return ZP(),this._delegate.toBase64()}toUint8Array(){return WP(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mA(n){return function eU(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class tU{enableIndexedDbPersistence(t,e){return function cB(n,t){CP(n=gn(n,_i));const e=_r(n),i=n._freezeSettings(),r=new qx;return EP(e,r,new oP(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function uB(n){CP(n=gn(n,_i));const t=_r(n),e=n._freezeSettings(),i=new qx;return EP(t,i,new zV(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function dB(n){if(n._initialized&&!n._terminated)throw new Be(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(e=(0,Te.Z)(function*(i){if(!Ro.C())return Promise.resolve();const r=i+"main";yield Ro.delete(r)}),function(i){return e.apply(this,arguments)})(HS(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class qP{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof fo||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&xu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function pP(n,t,e,i={}){var r;const o=(n=gn(n,Db))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&xu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Mr.MOCK_USER;else{u=(0,cn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Be(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Mr(g)}n._authCredentials=new JD(new o_(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function pB(n){return function XV(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield vP(n),e=yield nA(n);return t.setNetworkEnabled(!0),function(i){const r=nt(i);return r._u.delete(0),Eb(r)}(e)}))}(_r(n=gn(n,_i)))}(this._delegate)}disableNetwork(){return function fB(n){return function eB(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const t=yield vP(n),e=yield nA(n);return t.setNetworkEnabled(!1),(i=(0,Te.Z)(function*(r){const o=nt(r);o._u.add(0),yield V_(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(_r(n=gn(n,_i)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,aP("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function hB(n){return function(t){const e=new pr;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function PV(n,t){return Nx.apply(this,arguments)}(yield iA(t),e)})),e.promise}(_r(n=gn(n,_i)))}(this._delegate)}onSnapshotsInSync(t){return function $B(n,t){return function iB(n,t){const e=new PI(t);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield z_(n),r=e,nt(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return i=yield z_(n),r=e,void nt(i).Ru.delete(r);var i,r}))}}(_r(n=gn(n,_i)),sA(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new q_(this,fP(this._delegate,t))}catch(e){throw qs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ea(this,NI(this._delegate,t))}catch(e){throw qs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ks(this,function WV(n,t){if(n=gn(n,Db),Kx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Be(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ds(n,null,(e=t,new Tl(fn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw qs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function WB(n,t,e){n=gn(n,_i);const i=Object.assign(Object.assign({},jB),e);return function(r){if(r.maxAttempts<1)throw new Be(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const h=new pr;return r.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const g=yield function bP(n){return kI(n).then(t=>t.datastore)}(r);new QV(r.asyncQueue,g,u,o,h).run()})),h.promise}(_r(n),r=>t(new zB(n,r)),i)}(this._delegate,e=>t(new KP(this,e)))}batch(){return _r(this._delegate),new YP(new jP(this._delegate,t=>Z_(this._delegate,t)))}loadBundle(t){return function gB(n,t){const e=_r(n=gn(n,_i)),i=new aB;return function rB(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,g=function(g,y){if(g instanceof Uint8Array)return mP(g,y);if(g instanceof ArrayBuffer)return mP(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new ZV(g,u);var g}(e,Ib(t));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function jV(n,t,e){const i=nt(n);var r;(r=(0,Te.Z)(function*(o,u,h){try{const g=yield u.getMetadata();if(yield function(M,R){const U=nt(M),Y=Ui(R.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",te=>U.Ns.getBundleMetadata(te,R.id)).then(te=>!!te&&te.createTime.compareTo(Y)>=0)}(o.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=g).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(YN(g));const y=new IV(g,o.localStore,u.yt);let w=yield u.mc();for(;w;){const M=yield y.Fu(w);M&&h._updateProgress(M),w=yield u.mc()}const S=yield y.complete();return yield qu(o,S.Lu,void 0),yield function(M,R){const U=nt(M);return U.persistence.runTransaction("Save bundle","readwrite",Y=>U.Ns.saveBundleMetadata(Y,R))}(o.localStore,g),h._completeWith(S.progress),Promise.resolve(S.Bu)}catch(g){return xu("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var M}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield iA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function mB(n,t){return function sB(n,t){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(e,i){const r=nt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield RI(n),t)}))}(_r(n=gn(n,_i)),t).then(e=>e?new ds(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ks(this,e):null)}}class WI extends pA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nb(new Cc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ea.forKey(e,this.firestore,null)}}class KP{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new WI(t)}get(t){const e=cg(t);return this._delegate.get(e).then(i=>new Pb(this._firestore,new Yu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=cg(t);return i?(gA("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=cg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=cg(t);return this._delegate.delete(e),this}}class YP{constructor(t){this._delegate=t}set(t,e,i){const r=cg(t);return i?(gA("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=cg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=cg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class lg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Ob(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new kb(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=lg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new lg(t,new WI(t),e),r.set(e,o)),o}}lg.INSTANCES=new WeakMap;class Ea{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new WI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ea(e,new mi(e._delegate,i,new et(t)))}static forKey(t,e,i){return new Ea(e,new mi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new q_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new q_(this.firestore,fP(this._delegate,t))}catch(e){throw qs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,cn.m9)(t))instanceof mi&&gP(this._delegate,t)}set(t,e){e=gA("DocumentReference.set",e);try{return e?HP(this._delegate,t,e):HP(this._delegate,t)}catch(i){throw qs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?GP(this._delegate,t):GP(this._delegate,t,e,...i)}catch(r){throw qs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function HB(n){return Z_(gn(n.firestore,_i),[new Il(n._key,Xn.none())])}(this._delegate)}onSnapshot(...t){const e=QP(t),i=JP(t,r=>new Pb(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return $P(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function FB(n){n=gn(n,mi);const t=gn(n.firestore,_i),e=_r(t),i=new Fh(t);return function tB(n,t){const e=new pr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(i=(0,Te.Z)(function*(r,o,u){try{const h=yield function(g,y){const w=nt(g);return w.persistence.runTransaction("read document","readonly",S=>w.localDocuments.getDocument(S,y))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Be(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=H_(h,`Failed to get document '${o} from cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield RI(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Yu(t,i,n._key,r,new ag(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function LB(n){n=gn(n,mi);const t=gn(n.firestore,_i);return wP(_r(t),n._key,{source:"server"}).then(e=>fA(t,n,e))}(this._delegate):function RB(n){n=gn(n,mi);const t=gn(n.firestore,_i);return wP(_r(t),n._key).then(e=>fA(t,n,e))}(this._delegate),e.then(i=>new Pb(this.firestore,new Yu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ea(this.firestore,this._delegate.withConverter(t?lg.getInstance(this.firestore,t):null))}}function qs(n,t,e){return n.message=n.message.replace(t,e),n}function QP(n){for(const t of n)if("object"==typeof t&&!mA(t))return t;return{}}function JP(n,t){var e,i;let r;return r=mA(n[0])?n[0]:mA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Pb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return UP(this._delegate,t._delegate)}}class kb extends Pb{data(t){const e=this._delegate.data(t);return function QD(n,t){n||ut()}(void 0!==e),e}}class Ks{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new WI(t)}where(t,e,i){try{return new Ks(this.firestore,kh(this._delegate,function CB(n,t,e){const i=t,r=HI("where",n);return Mb._create(r,i,e)}(t,e,i)))}catch(r){throw qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ks(this.firestore,kh(this._delegate,function DB(n,t="asc"){const e=t,i=HI("orderBy",n);return hA._create(i,e)}(t,e)))}catch(i){throw qs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ks(this.firestore,kh(this._delegate,function SB(n){return uP("limit",n),GI._create("limit",n,"F")}(t)))}catch(e){throw qs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ks(this.firestore,kh(this._delegate,function xB(n){return uP("limitToLast",n),GI._create("limitToLast",n,"L")}(t)))}catch(e){throw qs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ks(this.firestore,kh(this._delegate,function AB(...n){return $I._create("startAt",n,!0)}(...t)))}catch(e){throw qs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ks(this.firestore,kh(this._delegate,function MB(...n){return $I._create("startAfter",n,!1)}(...t)))}catch(e){throw qs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ks(this.firestore,kh(this._delegate,function OB(...n){return jI._create("endBefore",n,!1)}(...t)))}catch(e){throw qs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ks(this.firestore,kh(this._delegate,function NB(...n){return jI._create("endAt",n,!0)}(...t)))}catch(e){throw qs(e,"endAt()","Query.endAt()")}}isEqual(t){return Yx(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function BB(n){n=gn(n,ds);const t=gn(n.firestore,_i),e=_r(t),i=new Fh(t);return function nB(n,t){const e=new pr;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(i=(0,Te.Z)(function*(r,o,u){try{const h=yield CI(r,o,!0),g=new XN(o,h.Hi),y=g.Wu(h.documents),w=g.applyChanges(y,!1);u.resolve(w.snapshot)}catch(h){const g=H_(h,`Failed to execute query '${o} against cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield RI(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Rh(t,i,n,r))}(this._delegate):"server"===t?.source?function UB(n){n=gn(n,ds);const t=gn(n.firestore,_i),e=_r(t),i=new Fh(t);return TP(e,n._query,{source:"server"}).then(r=>new Rh(t,i,n,r))}(this._delegate):function VB(n){n=gn(n,ds);const t=gn(n.firestore,_i),e=_r(t),i=new Fh(t);return PP(n._query),TP(e,n._query).then(r=>new Rh(t,i,n,r))}(this._delegate),e.then(i=>new _A(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=QP(t),i=JP(t,r=>new _A(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return $P(this._delegate,e,i)}withConverter(t){return new Ks(this.firestore,this._delegate.withConverter(t?lg.getInstance(this.firestore,t):null))}}class iU{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new kb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _A{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ks(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new kb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new iU(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new kb(this._firestore,i))})}isEqual(t){return UP(this._delegate,t._delegate)}}class q_ extends Ks{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ea(this.firestore,t):null}doc(t){try{return new Ea(this.firestore,void 0===t?NI(this._delegate):NI(this._delegate,t))}catch(e){throw qs(e,"doc()","CollectionReference.doc()")}}add(t){return function GB(n,t){const e=gn(n.firestore,_i),i=NI(n),r=zI(n.converter,t);return Z_(e,[VI(sg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Xn.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ea(this.firestore,e))}isEqual(t){return gP(this._delegate,t._delegate)}withConverter(t){return new q_(this.firestore,this._delegate.withConverter(t?lg.getInstance(this.firestore,t):null))}}function cg(n){return gn(n,mi)}class yA{constructor(...t){this._delegate=new Ku(...t)}static documentId(){return new yA(Di.keyField().canonicalString())}isEqual(t){return(t=(0,cn.m9)(t))instanceof Ku&&this._delegate._internalPath.isEqual(t._internalPath)}}class ug{constructor(t){this._delegate=t}static serverTimestamp(){const t=function qB(){return new oA("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new ug(t)}static delete(){const t=function ZB(){return new Sb("deleteField")}();return t._methodName="FieldValue.delete",new ug(t)}static arrayUnion(...t){const e=function KB(...n){return new bB("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new ug(e)}static arrayRemove(...t){const e=function YB(...n){return new wB("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new ug(e)}static increment(t){const e=function QB(n){return new TB("increment",n)}(t);return e._methodName="FieldValue.increment",new ug(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const rU={Firestore:qP,GeoPoint:FI,Timestamp:Jn,Blob:Nb,Transaction:KP,WriteBatch:YP,DocumentReference:Ea,DocumentSnapshot:Pb,Query:Ks,QueryDocumentSnapshot:kb,QuerySnapshot:_A,CollectionReference:q_,FieldPath:yA,FieldValue:ug,setLogLevel:function nU(n){!function YD(n){fc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function oU(n){(function sU(n,t){n.INTERNAL.registerComponent(new Am.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},rU)))})(n,(t,e)=>new qP(t,e,new tU)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(Mm.Z);var XP=L(6451),ZI=L(3819),aU=L(6063);class lU extends vn.x{constructor(t=1/0,e=1/0,i=aU.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)h=g;h&&i.splice(0,h+1)}}}var cU=L(3099);function ek(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,cU.B)({connector:()=>new lU(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function tk(n,t){return(0,Yn.m)(t)?pi(()=>n,t):pi(()=>n)}var vA=L(9468);L(8140);const wA=new Map,ik={activated:!1,tokenObservers:[]},fU={initialized:!1,enabled:!1};function hs(n){return wA.get(n)||Object.assign({},ik)}function KI(){return fU}class bU{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Te.Z)(function*(){e.stop();try{e.pending=new cn.BH,yield function wU(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new cn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ys=new cn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sk(n){if(!hs(n).activated)throw Ys.create("use-before-activation",{appName:n.name})}function EA(n,t){return CA.apply(this,arguments)}function CA(){return CA=(0,Te.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const o={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,o)}catch(S){throw Ys.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw Ys.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(S){throw Ys.create("fetch-parse-error",{originalErrorMessage:S?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Ys.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(g[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+y,issuedAtTimeMillis:w}}),CA.apply(this,arguments)}function CU(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Rb="firebase-app-check-store";let JI=null;function ak(){return JI||(JI=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Ys.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Rb,{keyPath:"compositeKey"})}}catch(e){t(Ys.create("storage-open",{originalErrorMessage:e?.message}))}}),JI)}function DA(){return DA=(0,Te.Z)(function*(n,t){const i=(yield ak()).transaction(Rb,"readwrite"),o=i.objectStore(Rb).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=g=>{u()},i.onerror=g=>{var y;h(Ys.create("storage-set",{originalErrorMessage:null===(y=g.target.error)||void 0===y?void 0:y.message}))}})}),DA.apply(this,arguments)}const Fb=new Po.Yd("@firebase/app-check");function AA(n,t){return(0,cn.hl)()?function AU(n,t){return function lk(n,t){return DA.apply(this,arguments)}(function uk(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Fb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function dk(){return KI().enabled}function hk(){return OA.apply(this,arguments)}function OA(){return OA=(0,Te.Z)(function*(){const n=KI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),OA.apply(this,arguments)}const RU={error:"UNKNOWN_ERROR"};function FU(n){return cn.US.encodeString(JSON.stringify(n),!1)}function XI(n){return NA.apply(this,arguments)}function NA(){return NA=(0,Te.Z)(function*(n,t=!1){const e=n.app;sk(e);const i=hs(e);let o,r=i.token;if(r&&!K_(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(K_(g)?r=g:yield AA(e,void 0))}if(!t&&r&&K_(r))return{token:r.token};let h,u=!1;if(dk()){i.exchangeTokenPromise||(i.exchangeTokenPromise=EA(CU(e,yield hk()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield AA(e,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield hs(e).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Fb.warn(g.message):Fb.error(g),o=g}return r?o?h=K_(r)?{token:r.token,internalError:o}:gk(o):(h={token:r.token},i.token=r,yield AA(e,r)):h=gk(o),u&&fk(e,h),h}),NA.apply(this,arguments)}function kA(n,t){const e=hs(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function pk(n){const{app:t}=n,e=hs(t);let i=e.tokenRefresher;i||(i=function LU(n){const{app:t}=n;return new bU((0,Te.Z)(function*(){let i;if(i=hs(t).token?yield XI(n,!0):yield XI(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=hs(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function fk(n,t){const e=hs(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function K_(n){return n.expireTimeMillis-Date.now()>0}function gk(n){return{token:FU(RU),error:n}}class VU{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=hs(this.app);for(const e of t)kA(this.app,e.next);return Promise.resolve()}}const Ik="app-check-internal";!function JU(){(0,Zd._registerComponent)(new Am.wA("app-check",n=>function BU(n,t){return new VU(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Ik).initialize()})),(0,Zd._registerComponent)(new Am.wA(Ik,n=>function UU(n){return{getToken:t=>XI(n,t),addTokenListener:t=>function PA(n,t,e,i){const{app:r}=n,o=hs(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&K_(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),pk(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>pk(n))}(n,"INTERNAL",t),removeTokenListener:t=>kA(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zd.registerVersion)("@firebase/app-check","0.6.3")}();class VA{constructor(){return(0,hr.vb)("app-check")}}typeof window<"u"&&window;var iH=L(1274);const Ck=new s.OlP("angularfire2.auth.use-emulator"),Dk=new s.OlP("angularfire2.auth.settings"),Sk=new s.OlP("angularfire2.auth.tenant-id"),xk=new s.OlP("angularfire2.auth.langugage-code"),Ak=new s.OlP("angularfire2.auth.use-device-language"),Mk=new s.OlP("angularfire.auth.persistence"),Ok=(n,t,e,i,r,o,u,h)=>(0,zn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,o&&g.useDeviceLanguage(),u)for(const[y,w]of Object.entries(u))g.settings[y]=w;return h&&g.setPersistence(h),g},[e,i,r,o,u,h]);let tE=(()=>{class n{constructor(e,i,r,o,u,h,g,y,w,S,M,R){const U=new vn.x,Y=gt(void 0).pipe((0,ZI.Q)(u.outsideAngular),pi(()=>o.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,8618)))),(0,D.U)(()=>(0,zn.on)(e,o,i)),(0,D.U)(te=>Ok(te,o,h,y,w,S,g,M)),ek({bufferSize:1,refCount:!1}));if(rd(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{Y.pipe(ha()).subscribe();const _e=Y.pipe(pi(He=>He.getRedirectResult().then(We=>We,()=>null)),hr.iC,ek({bufferSize:1,refCount:!1})),Pe=Y.pipe(pi(He=>new jn.y(We=>({unsubscribe:o.runOutsideAngular(()=>He.onAuthStateChanged(Ye=>We.next(Ye),Ye=>We.error(Ye),()=>We.complete()))})))),je=Y.pipe(pi(He=>new jn.y(We=>({unsubscribe:o.runOutsideAngular(()=>He.onIdTokenChanged(Ye=>We.next(Ye),Ye=>We.error(Ye),()=>We.complete()))}))));this.authState=_e.pipe(tk(Pe),(0,vA.R)(u.outsideAngular),(0,ZI.Q)(u.insideAngular)),this.user=_e.pipe(tk(je),(0,vA.R)(u.outsideAngular),(0,ZI.Q)(u.insideAngular)),this.idToken=this.user.pipe(pi(He=>He?(0,Tn.D)(He.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(pi(He=>He?(0,Tn.D)(He.getIdTokenResult()):gt(null))),this.credential=(0,XP.T)(_e,U,this.authState.pipe(Ln(He=>!He))).pipe((0,D.U)(He=>He?.user?He:null),(0,vA.R)(u.outsideAngular),(0,ZI.Q)(u.insideAngular))}return(0,zn.pX)(this,Y,o,{spy:{apply:(te,_e,Pe)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Pe.then(je=>U.next(je))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zn.Dh),s.LFG(zn.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(hr.HU),s.LFG(Ck,8),s.LFG(Dk,8),s.LFG(Sk,8),s.LFG(xk,8),s.LFG(Ak,8),s.LFG(Mk,8),s.LFG(VA,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Nk(n,t){return function sH(n,t=Cv.z){return new jn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function UA(n,t){return Nk(n,t).pipe((0,D.U)(e=>({payload:e,type:"query"})))}function nE(n,t){return UA(n,t).pipe(Xa(void 0),Dv(),(0,D.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const g=r.find(w=>w.doc.ref.isEqual(u.ref)),y=e?.payload.docs.find(w=>w.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function Pk(n,t,e){return nE(n,e).pipe(nu((i,r)=>function aH(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function lH(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return HA(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return HA(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return HA(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),function $s(n,t=C.y){return n=n??nf,(0,Yi.e)((e,i)=>{let r,o=!0;e.subscribe((0,Se.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}(),(0,D.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function HA(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function kk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Rk{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=nE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,D.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Xa(void 0),Dv(),Ln(([i,r])=>r.length>0||!i),(0,D.U)(([i,r])=>r),hr.iC)}auditTrail(t){return this.stateChanges(t).pipe(nu((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=kk(t);return Pk(this.query,e,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(t={}){return UA(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),hr.iC)}get(t){return(0,Tn.D)(this.query.get(t)).pipe(hr.iC)}add(t){return this.ref.add(t)}doc(t){return new Fk(this.ref.doc(t),this.afs)}}class Fk{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=Bk(i,e);return new Rk(r,o,this.afs)}snapshotChanges(){return function oH(n,t){return Nk(n,t).pipe(Xa(void 0),Dv(),(0,D.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,D.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Tn.D)(this.ref.get(t)).pipe(hr.iC)}}class cH{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?nE(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Ln(e=>e.length>0),hr.iC):nE(this.query,this.afs.schedulers.outsideAngular).pipe(hr.iC)}auditTrail(t){return this.stateChanges(t).pipe(nu((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=kk(t);return Pk(this.query,e,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(t={}){return UA(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),hr.iC)}get(t){return(0,Tn.D)(this.query.get(t)).pipe(hr.iC)}}const Lk=new s.OlP("angularfire2.enableFirestorePersistence"),Vk=new s.OlP("angularfire2.firestore.persistenceSettings"),uH=new s.OlP("angularfire2.firestore.settings"),dH=new s.OlP("angularfire2.firestore.use-emulator");function Bk(n,t=(e=>e)){return{query:t(n),ref:n}}let GA=(()=>{class n{constructor(e,i,r,o,u,h,g,y,w,S,M,R,U,Y,te,_e,Pe){this.schedulers=g;const je=(0,zn.on)(e,h,i),He=w;S&&Ok(je,h,M,U,Y,te,R,_e),[this.firestore,this.persistenceEnabled$]=(0,zn.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const We=h.runOutsideAngular(()=>je.firestore());if(o&&We.settings(o),He&&We.useEmulator(...He),r&&!rd(u)){const Ye=()=>{try{return(0,Tn.D)(We.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(xt){return typeof console<"u"&&console.warn(xt),gt(!1)}};return[We,h.runOutsideAngular(Ye)]}return[We,gt(!1)]},[o,He,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=Bk(r,i),h=this.schedulers.ngZone.run(()=>o);return new Rk(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new cH(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Fk(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zn.Dh),s.LFG(zn.xv,8),s.LFG(Lk,8),s.LFG(uH,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(hr.HU),s.LFG(Vk,8),s.LFG(dH,8),s.LFG(tE,8),s.LFG(Ck,8),s.LFG(Dk,8),s.LFG(Sk,8),s.LFG(xk,8),s.LFG(Ak,8),s.LFG(Mk,8),s.LFG(VA,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hH=(()=>{class n{constructor(){iH.Z.registerVersion("angularfire",hr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Lk,useValue:!0},{provide:Vk,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[GA]}),n})();class Sl{constructor(t,e,i){this.fireStore=t,this.fireBaseAuth=e,this.router=i,this.uid="",this.user=this.fireBaseAuth.authState.pipe((0,D.U)(r=>r?r.uid:null))}oAuthLogin(){return this.fireBaseAuth.signInWithPopup(new xm.Q).then(t=>{this.router.navigate(["/filter"]),localStorage.setItem("token",JSON.stringify(t.user?.uid))}).catch(t=>alert(t))}login(t,e){this.fireBaseAuth.signInWithEmailAndPassword(t,e).then(()=>{localStorage.setItem("token","true"),this.router.navigate(["/filter"])},i=>{alert("Erreur")})}register(t,e){this.fireBaseAuth.createUserWithEmailAndPassword(t,e).then(()=>{alert("Cr\xe9ation du compte avec succ\xe8s"),this.router.navigate(["/login"])},i=>{alert("Erreur"),this.router.navigate(["/register"])})}signOut(){this.fireBaseAuth.signOut().then(()=>this.router.navigate(["/"]))}readUser(){return this.fireBaseAuth.authState}updateUserData(t){return this.fireStore.doc(`Users/${t.uid}`).set({displayName:t.displayName,email:t.email,photoURL:t.photoURL,uid:t.uid,pseudo:null},{merge:!0})}}Sl.\u0275fac=function(t){return new(t||Sl)(s.LFG(GA),s.LFG(tE),s.LFG(zr))},Sl.\u0275prov=s.Yz7({token:Sl,factory:Sl.\u0275fac,providedIn:"root"});class Qu{constructor(t,e){this.fireBaseAuth=t,this.db=e,this.fireBaseAuth.authState.subscribe(i=>{this.uid=i?i.uid:null})}addMovie(t){const e={userId:this.uid,movieId:t.id,date:new Date,original_title:t.original_title,overview:t.overview,genre:t.genres,vote_average:t.vote_average,popularity:t.popularity,release_date:t.release_date,poster_path:t.poster_path,watched:!1};return this.db.collection("favoriteMovies").doc(t.original_title).set(e,{merge:!0})}addComment(t){return this.db.collection("comments").doc(t?.author_details?.username).set(t,{merge:!0})}getAllFavoriteMovies(){return this.db.collection("favoriteMovies",t=>t.where("userId","==",this.uid)).valueChanges()}deleteFavoriteMovieByID(t){this.db.collection("favoriteMovies").doc(t.original_title).delete()}updateWatchedFilm(t){this.db.collection("favoriteMovies").doc(t.original_title).update({watched:t.watched})}getAllCommentsFromMovieID(t){return this.db.collection("comments",e=>e.where("id","==",t)).valueChanges()}}Qu.\u0275fac=function(t){return new(t||Qu)(s.LFG(tE),s.LFG(GA))},Qu.\u0275prov=s.Yz7({token:Qu,factory:Qu.\u0275fac,providedIn:"root"});class Pn{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,u,h,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((u=t.length)!=e.length)return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var g=t instanceof Date,y=e instanceof Date;if(g!=y)return!1;if(g&&y)return t.getTime()==e.getTime();var w=t instanceof RegExp,S=e instanceof RegExp;if(w!=S)return!1;if(w&&S)return t.toString()==e.toString();var M=Object.keys(t);if((u=M.length)!==Object.keys(e).length)return!1;for(o=u;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,M[o]))return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[h=M[o]],e[h]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,u=i.length;o<u;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let u=0;u<i.length;u++)if(this.findIndexInList(i[u],r)>e){i.splice(u,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let o=-1;const u=this.isEmpty(t),h=this.isEmpty(e);return o=u&&h?0:u?r:h?-r:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,o}static sort(t,e,i=1,r,o=1){return(1===o?i:o)*Pn.compare(t,e,r,i)}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}}var Uk=0;function $A(){return"pr_id_"+ ++Uk}var Vh=function pH(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,u,h)=>{u&&(u.style.zIndex=String(((o,u)=>{let h=n.length>0?n[n.length-1]:{key:o,value:u},g=h.value+(h.key===o?0:u)+1;return n.push({key:o,value:g}),g})(o,h)))},clear:o=>{o&&((o=>{n=n.filter(u=>u.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const Hk=["*"];let xs=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Gk=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=Pn.removeAccents(i.toString()).toLocaleLowerCase(r);return Pn.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=Pn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==Pn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=Pn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===Pn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=Pn.removeAccents(i.toString()).toLocaleLowerCase(r),u=Pn.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==u.indexOf(o,u.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():Pn.removeAccents(e.toString()).toLocaleLowerCase(r)==Pn.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():Pn.removeAccents(e.toString()).toLocaleLowerCase(r)==Pn.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(Pn.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,o,u){let h=[];if(e)for(let g of e)for(let y of i){let w=Pn.resolveFieldData(g,y);if(this.filters[o](w,r,u)){h.push(g);break}}return h}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fH=(()=>{class n{constructor(){this.clickSource=new vn.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y_=(()=>{class n{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[xs.STARTS_WITH,xs.CONTAINS,xs.NOT_CONTAINS,xs.ENDS_WITH,xs.EQUALS,xs.NOT_EQUALS],numeric:[xs.EQUALS,xs.NOT_EQUALS,xs.LESS_THAN,xs.LESS_THAN_OR_EQUAL_TO,xs.GREATER_THAN,xs.GREATER_THAN_OR_EQUAL_TO],date:[xs.DATE_IS,xs.DATE_IS_NOT,xs.DATE_BEFORE,xs.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new vn.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:Hk,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),jk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:Hk,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),xl=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Qs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})(),jA=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),Ke=(()=>{class n{static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var u=0;u<r.length;u++){if(r[u]==e)return o;r[u].attributes&&r[u].attributes[i]&&1==r[u].nodeType&&o++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",o=!0){e&&i&&(o&&(e.style.minWidth||(e.style.minWidth=n.getOuterWidth(i)+"px")),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i){const r=Y=>{if(Y)return"relative"===getComputedStyle(Y).getPropertyValue("position")?Y:r(Y.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),u=i.offsetHeight,h=i.getBoundingClientRect(),g=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),w=this.getViewport(),M=r(e)?.getBoundingClientRect()||{top:-1*g,left:-1*y};let R,U;h.top+u+o.height>w.height?(R=h.top-M.top-o.height,e.style.transformOrigin="bottom",h.top+R<0&&(R=-1*h.top)):(R=u+h.top-M.top,e.style.transformOrigin="top"),U=o.width>w.width?-1*(h.left-M.left):h.left-M.left+o.width>w.width?-1*(h.left-M.left+o.width-w.width):h.left-M.left,e.style.top=R+"px",e.style.left=U+"px"}static absolutePosition(e,i){const r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,u=r.width,h=i.offsetHeight,g=i.offsetWidth,y=i.getBoundingClientRect(),w=this.getWindowScrollTop(),S=this.getWindowScrollLeft(),M=this.getViewport();let R,U;y.top+h+o>M.height?(R=y.top+w-o,e.style.transformOrigin="bottom",R<0&&(R=w)):(R=h+y.top+w,e.style.transformOrigin="top"),U=y.left+u>M.width?Math.max(0,y.left+S+g-u):y.left+S,e.style.top=R+"px",e.style.left=U+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,u=h=>{let g=window.getComputedStyle(h,null);return o.test(g.getPropertyValue("overflow"))||o.test(g.getPropertyValue("overflowX"))||o.test(g.getPropertyValue("overflowY"))};for(let h of r){let g=1===h.nodeType&&h.dataset.scrollselectors;if(g){let y=g.split(",");for(let w of y){let S=this.findSingle(h,w);S&&u(S)&&i.push(S)}}9!==h.nodeType&&u(h)&&i.push(h)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,u=getComputedStyle(e).getPropertyValue("paddingTop"),h=u?parseFloat(u):0,g=e.getBoundingClientRect(),w=i.getBoundingClientRect().top+document.body.scrollTop-(g.top+document.body.scrollTop)-o-h,S=e.scrollTop,M=e.clientHeight,R=this.getOuterHeight(i);w<0?e.scrollTop=S+w:w+R>M&&(e.scrollTop=S+w-M+R)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,u=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};u()}static fadeOut(e,i){var r=1,h=50/i;let g=setInterval(()=>{(r-=h)<=0&&(r=0,clearInterval(g)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(u){return-1!==[].indexOf.call(document.querySelectorAll(u),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)(o.offsetWidth||o.offsetHeight||o.getClientRects().length)&&r.push(o);return r}static getNextFocusableElement(e,i=!1){const r=n.getFocusableElements(e);let o=0;if(r&&r.length>0){const u=r.indexOf(r[0].ownerDocument.activeElement);i?o=-1==u||0===u?r.length-1:u-1:-1!=u&&u!==r.length-1&&(o=u+1)}return r[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const u=(h=e)&&h.constructor&&h.call&&h.apply?e():e;return u&&9===u.nodeType||this.isExist(u)?u:null}var h}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class zk{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Ke.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let Q_=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(Ke.removeClass(i,"p-ink-active"),!Ke.getHeight(i)&&!Ke.getWidth(i)){let h=Math.max(Ke.getOuterWidth(this.el.nativeElement),Ke.getOuterHeight(this.el.nativeElement));i.style.height=h+"px",i.style.width=h+"px"}let r=Ke.getOffset(this.el.nativeElement),o=e.pageX-r.left+document.body.scrollTop-Ke.getWidth(i)/2,u=e.pageY-r.top+document.body.scrollLeft-Ke.getHeight(i)/2;i.style.top=u+"px",i.style.left=o+"px",Ke.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let h=this.getInk();h&&Ke.removeClass(h,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&Ke.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),Ke.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),Ke.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Y_,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),J_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();const gH=["itemsContainer"];function mH(n,t){1&n&&s.GkF(0)}function _H(n,t){if(1&n&&(s.TgZ(0,"div",11),s.Hsn(1),s.YNc(2,mH,1,0,"ng-container",12),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}const yH=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}},vH=function(n,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":n,"pi-chevron-up":t}};function bH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navBackward(r))}),s._UZ(1,"span",2),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,yH,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,vH,!e.isVertical(),e.isVertical()))}}function wH(n,t){1&n&&s.GkF(0)}const Wk=function(n,t,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}},zA=function(n){return{$implicit:n}};function TH(n,t){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,wH,1,0,"ng-container",14),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngClass",s.kEZ(3,Wk,-1*r.totalShiftedItems===r.value.length,0===i,r.clonedItemsForStarting.length-1===i)),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.VKq(7,zA,e))}}function IH(n,t){1&n&&s.GkF(0)}const EH=function(n,t,e){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}};function CH(n,t){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,IH,1,0,"ng-container",14),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngClass",s.kEZ(3,EH,r.firstIndex()<=i&&r.lastIndex()>=i,r.firstIndex()===i,r.lastIndex()===i)),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.VKq(7,zA,e))}}function DH(n,t){1&n&&s.GkF(0)}function SH(n,t){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,DH,1,0,"ng-container",14),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngClass",s.kEZ(3,Wk,-1*r.totalShiftedItems===r.numVisible,0===i,r.clonedItemsForFinishing.length-1===i)),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.VKq(7,zA,e))}}const xH=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}},AH=function(n,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":n,"pi-chevron-down":t}};function MH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navForward(r))}),s._UZ(1,"span",2),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,xH,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,AH,!e.isVertical(),e.isVertical()))}}const OH=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function NH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",2)(1,"button",15),s.NdJ("click",function(r){const u=s.CHM(e).index,h=s.oxw(2);return s.KtG(h.onDotClick(r,u))}),s.qZA()()}if(2&n){const e=t.index,i=s.oxw(2);s.Q6J("ngClass",s.VKq(5,OH,i._page===e)),s.xp6(1),s.Tol(i.indicatorStyleClass),s.Q6J("ngClass","p-link")("ngStyle",i.indicatorStyle)}}function PH(n,t){if(1&n&&(s.TgZ(0,"ul",0),s.YNc(1,NH,2,7,"li",8),s.qZA()),2&n){const e=s.oxw();s.Tol(e.indicatorsContentClass),s.Q6J("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),s.xp6(1),s.Q6J("ngForOf",e.totalDotsArray())}}function kH(n,t){1&n&&s.GkF(0)}function RH(n,t){if(1&n&&(s.TgZ(0,"div",16),s.Hsn(1,1),s.YNc(2,kH,1,0,"ng-container",12),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const FH=[[["p-header"]],[["p-footer"]]],LH=function(n,t){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":t}},VH=function(n){return{height:n}},BH=["p-header","p-footer"];let UH=(()=>{class n{constructor(e,i,r,o,u){this.el=e,this.zone=i,this.cd=r,this.renderer=o,this.document=u,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new s.vpe,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}get value(){return this._value}set value(e){this._value=e}ngOnChanges(e){e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=$A(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterContentChecked(){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let r=this._page;0!==this.totalDots()&&r>=this.totalDots()&&(r=this.totalDots()-1,this._page=r,this.onPage.emit({page:this.page})),i=r*this._numScroll*-1,e&&(i-=this._numVisible),r===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}createStyle(){this.carouselStyle||(this.carouselStyle=this.renderer.createElement("style"),this.carouselStyle.type="text/css",this.renderer.appendChild(this.document.head,this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,r)=>{const o=i.breakpoint,u=r.breakpoint;let h=null;return h=null==o&&null!=u?-1:null!=o&&null==u?1:null==o&&null==u?0:"string"==typeof o&&"string"==typeof u?o.localeCompare(u,void 0,{numeric:!0}):o<u?-1:o>u?1:0,-1*h});for(let i=0;i<this.responsiveOptions.length;i++){let r=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};if(typeof window<"u"){let i=window.innerWidth;for(let r=0;r<this.responsiveOptions.length;r++){let o=this.responsiveOptions[r];parseInt(o.breakpoint,10)>=i&&(e=o)}}if(this._numScroll!==e.numScroll){let i=this._page;i=Math.floor(i*this._numScroll/e.numScroll);let r=e.numScroll*this.page*-1;this.isCircular()&&(r-=e.numVisible),this.totalShiftedItems=r,this._numScroll=e.numScroll,this._page=i,this.onPage.emit({page:this.page})}this._numVisible!==e.numVisible&&(this._numVisible=e.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?.length?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let r=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),i>r?this.navForward(e,i):i<r&&this.navBackward(e,i)}step(e,i){let r=this.totalShiftedItems;const o=this.isCircular();null!=i?(r=this._numScroll*i*-1,o&&(r-=this._numVisible),this.isRemainingItemsAdded=!1):(r+=this._numScroll*e,this.isRemainingItemsAdded&&(r+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((o?r+this._numVisible:r)/this._numScroll))),o&&this.page===this.totalDots()-1&&-1===e?(r=-1*(this.value.length+this._numVisible),i=0):o&&0===this.page&&1===e?(r=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(r+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${r*(100/this._numVisible)}%, 0)`:`translate3d(${r*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r,this._page=i,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}bindDocumentListeners(){!this.documentResizeListener&&typeof window<"u"&&(this.documentResizeListener=e=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&typeof window<"u"&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.Qsj),s.Y36(ae))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-carousel"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,$k,5),s.Suo(r,jk,5),s.Suo(r,xl,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.headerFacet=o.first),s.iGM(o=s.CRH())&&(i.footerFacet=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(gH,5),2&e){let r;s.iGM(r=s.CRH())&&(i.itemsContainer=r.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[s.TTD],ngContentSelectors:BH,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(e,i){1&e&&(s.F$t(FH),s.TgZ(0,"div",0),s.YNc(1,_H,3,1,"div",1),s.TgZ(2,"div",2)(3,"div",3),s.YNc(4,bH,2,8,"button",4),s.TgZ(5,"div",5)(6,"div",6,7),s.NdJ("transitionend",function(){return i.onTransitionEnd()})("touchend",function(o){return i.onTouchEnd(o)})("touchstart",function(o){return i.onTouchStart(o)})("touchmove",function(o){return i.onTouchMove(o)}),s.YNc(8,TH,2,9,"div",8),s.YNc(9,CH,2,9,"div",8),s.YNc(10,SH,2,9,"div",8),s.qZA()(),s.YNc(11,MH,2,8,"button",4),s.qZA(),s.YNc(12,PH,2,5,"ul",9),s.qZA(),s.YNc(13,RH,3,1,"div",10),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(17,LH,i.isVertical(),!i.isVertical()))("ngStyle",i.style),s.uIk("id",i.id),s.xp6(1),s.Q6J("ngIf",i.headerFacet||i.headerTemplate),s.xp6(1),s.Tol(i.contentClass),s.Q6J("ngClass","p-carousel-content"),s.xp6(2),s.Q6J("ngIf",i.showNavigators),s.xp6(1),s.Q6J("ngStyle",s.VKq(20,VH,i.isVertical()?i.verticalViewPortHeight:"auto")),s.xp6(3),s.Q6J("ngForOf",i.clonedItemsForStarting),s.xp6(1),s.Q6J("ngForOf",i.value),s.xp6(1),s.Q6J("ngForOf",i.clonedItemsForFinishing),s.xp6(1),s.Q6J("ngIf",i.showNavigators),s.xp6(1),s.Q6J("ngIf",i.showIndicators),s.xp6(1),s.Q6J("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[Ct,hn,Jt,ni,En,Q_],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),n})(),HH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Qs,J_,Mn,Qs]}),n})();const dg={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let iE=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1,this._internalClasses=Object.values(dg)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get htmlElement(){return this.el.nativeElement}ngAfterViewInit(){Ke.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const e=[dg.button,dg.component];return this.icon&&!this.label&&Pn.isEmpty(this.htmlElement.textContent)&&e.push(dg.iconOnly),this.loading&&(e.push(dg.disabled,dg.loading),!this.icon&&this.label&&e.push(dg.labelOnly)),e}setStyleClass(){const e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(this.label){let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",e.appendChild(document.createTextNode(this.label)),this.htmlElement.appendChild(e)}}createIcon(){if(this.icon||this.loading){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&Ke.addClass(e,i);let r=this.getIconClass();r&&Ke.addMultipleClasses(e,r),this.htmlElement.insertBefore(e,this.htmlElement.firstChild)}}updateLabel(){let e=Ke.findSingle(this.htmlElement,".p-button-label");this.label?e?e.textContent=this.label:this.createLabel():e&&this.htmlElement.removeChild(e)}updateIcon(){let e=Ke.findSingle(this.htmlElement,".p-button-icon");this.icon||this.loading?e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():e&&this.htmlElement.removeChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),Zk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,J_]}),n})();class qk{}class $H{}const Ju="*";function Kk(n,t){return{type:7,name:n,definitions:t,options:{}}}function rE(n,t=null){return{type:4,styles:t,timings:n}}function Yk(n,t=null){return{type:2,steps:n,options:t}}function X_(n){return{type:6,styles:n,offset:null}}function sE(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Qk(n,t=null){return{type:8,animation:n,options:t}}function Jk(n,t=null){return{type:10,animation:n,options:t}}function Xk(n){Promise.resolve().then(n)}class Lb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class eR{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Xk(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const jH=["mask"],zH=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},WH=function(n){return{value:"visible",params:n}};function ZH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-galleriaContent",6),s.NdJ("@animation.start",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onAnimationStart(r))})("@animation.done",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onAnimationEnd(r))})("maskHide",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onMaskHide())})("activeItemChange",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onActiveItemChange(r))}),s.qZA()}if(2&n){const e=s.oxw(3);s.Q6J("@animation",s.VKq(8,WH,s.WLB(5,zH,e.showTransitionOptions,e.hideTransitionOptions)))("value",e.value)("activeIndex",e.activeIndex)("numVisible",e.numVisible)("ngStyle",e.containerStyle)}}const qH=function(n){return{"p-galleria-mask p-component-overlay p-component-overlay-enter":!0,"p-galleria-visible":n}};function KH(n,t){if(1&n&&(s.TgZ(0,"div",3,4),s.YNc(2,ZH,1,10,"p-galleriaContent",5),s.qZA()),2&n){const e=s.oxw(2);s.Tol(e.maskClass),s.Q6J("ngClass",s.VKq(4,qH,e.visible)),s.xp6(2),s.Q6J("ngIf",e.visible)}}function YH(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,KH,3,6,"div",2),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.maskVisible)}}function QH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-galleriaContent",7),s.NdJ("activeItemChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onActiveItemChange(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("value",e.value)("activeIndex",e.activeIndex)("numVisible",e.numVisible)}}function JH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.maskHide.emit())}),s._UZ(1,"span",9),s.qZA()}}function XH(n,t){if(1&n&&(s.TgZ(0,"div",10),s._UZ(1,"p-galleriaItemSlot",11),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("templates",e.galleria.templates)}}function e3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-galleriaThumbnails",12),s.NdJ("onActiveIndexChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onActiveIndexChange(r))})("stopSlideShow",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.stopSlideShow())}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("containerId",e.id)("value",e.value)("activeIndex",e.activeIndex)("templates",e.galleria.templates)("numVisible",e.numVisible)("responsiveOptions",e.galleria.responsiveOptions)("circular",e.galleria.circular)("isVertical",e.isVertical())("contentHeight",e.galleria.verticalThumbnailViewPortHeight)("showThumbnailNavigators",e.galleria.showThumbnailNavigators)("slideShowActive",e.slideShowActive)}}function t3(n,t){if(1&n&&(s.TgZ(0,"div",13),s._UZ(1,"p-galleriaItemSlot",14),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("templates",e.galleria.templates)}}const n3=function(n,t,e){return{"p-galleria p-component":!0,"p-galleria-fullscreen":n,"p-galleria-indicator-onitem":t,"p-galleria-item-nav-onhover":e}},r3=function(){return{}};function s3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,JH,2,0,"button",2),s.YNc(2,XH,2,1,"div",3),s.TgZ(3,"div",4)(4,"p-galleriaItem",5),s.NdJ("onActiveIndexChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onActiveIndexChange(r))})("startSlideShow",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.startSlideShow())})("stopSlideShow",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.stopSlideShow())}),s.qZA(),s.YNc(5,e3,1,11,"p-galleriaThumbnails",6),s.qZA(),s.YNc(6,t3,2,1,"div",7),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.galleriaClass()),s.Q6J("ngClass",s.kEZ(20,n3,e.galleria.fullScreen,e.galleria.showIndicatorsOnItem,e.galleria.showItemNavigatorsOnHover&&!e.galleria.fullScreen))("ngStyle",e.galleria.fullScreen?s.DdM(24,r3):e.galleria.containerStyle),s.uIk("id",e.id),s.xp6(1),s.Q6J("ngIf",e.galleria.fullScreen),s.xp6(1),s.Q6J("ngIf",e.galleria.templates&&e.galleria.headerFacet),s.xp6(2),s.Q6J("value",e.value)("activeIndex",e.activeIndex)("circular",e.galleria.circular)("templates",e.galleria.templates)("showIndicators",e.galleria.showIndicators)("changeItemOnIndicatorHover",e.galleria.changeItemOnIndicatorHover)("indicatorFacet",e.galleria.indicatorFacet)("captionFacet",e.galleria.captionFacet)("showItemNavigators",e.galleria.showItemNavigators)("autoPlay",e.galleria.autoPlay)("slideShowActive",e.slideShowActive),s.xp6(1),s.Q6J("ngIf",e.galleria.showThumbnails),s.xp6(1),s.Q6J("ngIf",e.galleria.templates&&e.galleria.footerFacet)}}function o3(n,t){1&n&&s.GkF(0)}function a3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,o3,1,0,"ng-container",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",e.context)}}const l3=function(n){return{"p-galleria-item-prev p-galleria-item-nav p-link":!0,"p-disabled":n}};function c3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navBackward(r))}),s._UZ(1,"span",7),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,l3,e.isNavBackwardDisabled()))("disabled",e.isNavBackwardDisabled())}}const u3=function(n){return{"p-galleria-item-next p-galleria-item-nav p-link":!0,"p-disabled":n}};function d3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navForward(r))}),s._UZ(1,"span",8),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,u3,e.isNavForwardDisabled()))("disabled",e.isNavForwardDisabled())}}function h3(n,t){if(1&n&&(s.TgZ(0,"div",9),s._UZ(1,"p-galleriaItemSlot",10),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("item",e.activeItem)("templates",e.templates)}}function p3(n,t){1&n&&s._UZ(0,"button",16)}const f3=function(n){return{"p-galleria-indicator":!0,"p-highlight":n}};function g3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",13),s.NdJ("click",function(){const o=s.CHM(e).index,u=s.oxw(2);return s.KtG(u.onIndicatorClick(o))})("mouseenter",function(){const o=s.CHM(e).index,u=s.oxw(2);return s.KtG(u.onIndicatorMouseEnter(o))})("keydown.enter",function(){const o=s.CHM(e).index,u=s.oxw(2);return s.KtG(u.onIndicatorKeyDown(o))}),s.YNc(1,p3,1,0,"button",14),s._UZ(2,"p-galleriaItemSlot",15),s.qZA()}if(2&n){const e=t.index,i=s.oxw(2);s.Q6J("ngClass",s.VKq(4,f3,i.isIndicatorItemActive(e))),s.xp6(1),s.Q6J("ngIf",!i.indicatorFacet),s.xp6(1),s.Q6J("index",e)("templates",i.templates)}}function m3(n,t){if(1&n&&(s.TgZ(0,"ul",11),s.YNc(1,g3,3,6,"li",12),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)}}const _3=["itemsContainer"],y3=function(n){return{"p-galleria-thumbnail-prev p-link":!0,"p-disabled":n}},v3=function(n,t){return{"p-galleria-thumbnail-prev-icon pi":!0,"pi-chevron-left":n,"pi-chevron-up":t}};function b3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navBackward(r))}),s._UZ(1,"span",8),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,y3,e.isNavBackwardDisabled()))("disabled",e.isNavBackwardDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,v3,!e.isVertical,e.isVertical))}}const w3=function(n,t,e,i){return{"p-galleria-thumbnail-item":!0,"p-galleria-thumbnail-item-current":n,"p-galleria-thumbnail-item-active":t,"p-galleria-thumbnail-item-start":e,"p-galleria-thumbnail-item-end":i}};function T3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",8)(1,"div",9),s.NdJ("click",function(){const o=s.CHM(e).index,u=s.oxw();return s.KtG(u.onItemClick(o))})("keydown.enter",function(){const o=s.CHM(e).index,u=s.oxw();return s.KtG(u.onItemClick(o))}),s._UZ(2,"p-galleriaItemSlot",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngClass",s.l5B(4,w3,r.activeIndex===i,r.isItemActive(i),r.firstItemAciveIndex()===i,r.lastItemActiveIndex()===i)),s.xp6(1),s.uIk("tabindex",r.getTabIndex(i)),s.xp6(1),s.Q6J("item",e)("templates",r.templates)}}const I3=function(n){return{"p-galleria-thumbnail-next p-link":!0,"p-disabled":n}},E3=function(n,t){return{"p-galleria-thumbnail-next-icon pi":!0,"pi-chevron-right":n,"pi-chevron-down":t}};function C3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navForward(r))}),s._UZ(1,"span",8),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,I3,e.isNavForwardDisabled()))("disabled",e.isNavForwardDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,E3,!e.isVertical,e.isVertical))}}const D3=function(n){return{height:n}};let tR=(()=>{class n{constructor(e,i,r){this.element=e,this.cd=i,this.config=r,this.fullScreen=!1,this.numVisible=3,this.showItemNavigators=!1,this.showThumbnailNavigators=!0,this.showItemNavigatorsOnHover=!1,this.changeItemOnIndicatorHover=!1,this.circular=!1,this.autoPlay=!1,this.transitionInterval=4e3,this.showThumbnails=!0,this.thumbnailsPosition="bottom",this.verticalThumbnailViewPortHeight="300px",this.showIndicators=!1,this.showIndicatorsOnItem=!1,this.indicatorsPosition="bottom",this.baseZIndex=0,this.showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.activeIndexChange=new s.vpe,this.visibleChange=new s.vpe,this._visible=!1,this._activeIndex=0,this.maskVisible=!1}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerFacet=e.template;break;case"footer":this.footerFacet=e.template;break;case"indicator":this.indicatorFacet=e.template;break;case"caption":this.captionFacet=e.template}})}ngOnChanges(e){e.value&&e.value.currentValue?.length<this.numVisible&&(this.numVisible=e.value.currentValue.length)}onMaskHide(){this.visible=!1,this.visibleChange.emit(!1)}onActiveItemChange(e){this.activeIndex!==e&&(this.activeIndex=e,this.activeIndexChange.emit(e))}onAnimationStart(e){switch(e.toState){case"visible":this.enableModality();break;case"void":Ke.addClass(this.mask.nativeElement,"p-component-overlay-leave")}}onAnimationEnd(e){"void"===e.toState&&this.disableModality()}enableModality(){Ke.addClass(document.body,"p-overflow-hidden"),this.cd.markForCheck(),this.mask&&Vh.set("modal",this.mask.nativeElement,this.baseZIndex||this.config.zIndex.modal)}disableModality(){Ke.removeClass(document.body,"p-overflow-hidden"),this.maskVisible=!1,this.cd.markForCheck(),this.mask&&Vh.clear(this.mask.nativeElement)}ngOnDestroy(){this.fullScreen&&Ke.removeClass(document.body,"p-overflow-hidden"),this.mask&&this.disableModality()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Y_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-galleria"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,xl,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(jH,5),2&e){let r;s.iGM(r=s.CRH())&&(i.mask=r.first)}},hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",fullScreen:"fullScreen",id:"id",value:"value",numVisible:"numVisible",responsiveOptions:"responsiveOptions",showItemNavigators:"showItemNavigators",showThumbnailNavigators:"showThumbnailNavigators",showItemNavigatorsOnHover:"showItemNavigatorsOnHover",changeItemOnIndicatorHover:"changeItemOnIndicatorHover",circular:"circular",autoPlay:"autoPlay",transitionInterval:"transitionInterval",showThumbnails:"showThumbnails",thumbnailsPosition:"thumbnailsPosition",verticalThumbnailViewPortHeight:"verticalThumbnailViewPortHeight",showIndicators:"showIndicators",showIndicatorsOnItem:"showIndicatorsOnItem",indicatorsPosition:"indicatorsPosition",baseZIndex:"baseZIndex",maskClass:"maskClass",containerClass:"containerClass",containerStyle:"containerStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",visible:"visible"},outputs:{activeIndexChange:"activeIndexChange",visibleChange:"visibleChange"},features:[s.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["windowed",""],[3,"ngClass","class",4,"ngIf"],[3,"ngClass"],["mask",""],[3,"value","activeIndex","numVisible","ngStyle","maskHide","activeItemChange",4,"ngIf"],[3,"value","activeIndex","numVisible","ngStyle","maskHide","activeItemChange"],[3,"value","activeIndex","numVisible","activeItemChange"]],template:function(e,i){if(1&e&&(s.YNc(0,YH,2,1,"div",0),s.YNc(1,QH,1,3,"ng-template",null,1,s.W1O)),2&e){const r=s.MAs(2);s.Q6J("ngIf",i.fullScreen)("ngIfElse",r)}},dependencies:function(){return[Ct,Jt,En,S3]},styles:[".p-galleria-content{display:flex;flex-direction:column}.p-galleria-item-wrapper{display:flex;flex-direction:column;position:relative}.p-galleria-item-container{position:relative;display:flex;height:100%}.p-galleria-item-nav{position:absolute;top:50%;margin-top:-.5rem;display:inline-flex;justify-content:center;align-items:center;overflow:hidden}.p-galleria-item-prev{left:0;border-top-left-radius:0;border-bottom-left-radius:0}.p-galleria-item-next{right:0;border-top-right-radius:0;border-bottom-right-radius:0}.p-galleria-item{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.p-galleria-item-nav-onhover .p-galleria-item-nav{pointer-events:none;opacity:0;transition:opacity .2s ease-in-out}.p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav{pointer-events:all;opacity:1}.p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav.p-disabled{pointer-events:none}.p-galleria-caption{position:absolute;bottom:0;left:0;width:100%}.p-galleria-thumbnail-wrapper{display:flex;flex-direction:column;overflow:auto;flex-shrink:0}.p-galleria-thumbnail-prev,.p-galleria-thumbnail-next{align-self:center;flex:0 0 auto;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-galleria-thumbnail-prev span,.p-galleria-thumbnail-next span{display:flex;justify-content:center;align-items:center}.p-galleria-thumbnail-container{display:flex;flex-direction:row}.p-galleria-thumbnail-items-container{overflow:hidden;width:100%}.p-galleria-thumbnail-items{display:flex}.p-galleria-thumbnail-item{overflow:auto;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:.5}.p-galleria-thumbnail-item:hover{opacity:1;transition:opacity .3s}.p-galleria-thumbnail-item-current{opacity:1}.p-galleria-thumbnails-left .p-galleria-content,.p-galleria-thumbnails-right .p-galleria-content,.p-galleria-thumbnails-left .p-galleria-item-wrapper,.p-galleria-thumbnails-right .p-galleria-item-wrapper{flex-direction:row}.p-galleria-thumbnails-left p-galleriaitem,.p-galleria-thumbnails-top p-galleriaitem{order:2}.p-galleria-thumbnails-left p-galleriathumbnails,.p-galleria-thumbnails-top p-galleriathumbnails{order:1}.p-galleria-thumbnails-left .p-galleria-thumbnail-container,.p-galleria-thumbnails-right .p-galleria-thumbnail-container{flex-direction:column;flex-grow:1}.p-galleria-thumbnails-left .p-galleria-thumbnail-items,.p-galleria-thumbnails-right .p-galleria-thumbnail-items{flex-direction:column;height:100%}.p-galleria-thumbnails-left .p-galleria-thumbnail-wrapper,.p-galleria-thumbnails-right .p-galleria-thumbnail-wrapper{height:100%}.p-galleria-indicators{display:flex;align-items:center;justify-content:center}.p-galleria-indicator>button{display:inline-flex;align-items:center}.p-galleria-indicators-left .p-galleria-item-wrapper,.p-galleria-indicators-right .p-galleria-item-wrapper{flex-direction:row;align-items:center}.p-galleria-indicators-left .p-galleria-item-container,.p-galleria-indicators-top .p-galleria-item-container{order:2}.p-galleria-indicators-left .p-galleria-indicators,.p-galleria-indicators-top .p-galleria-indicators{order:1}.p-galleria-indicators-left .p-galleria-indicators,.p-galleria-indicators-right .p-galleria-indicators{flex-direction:column}.p-galleria-indicator-onitem .p-galleria-indicators{position:absolute;display:flex;z-index:1}.p-galleria-indicator-onitem.p-galleria-indicators-top .p-galleria-indicators{top:0;left:0;width:100%;align-items:flex-start}.p-galleria-indicator-onitem.p-galleria-indicators-right .p-galleria-indicators{right:0;top:0;height:100%;align-items:flex-end}.p-galleria-indicator-onitem.p-galleria-indicators-bottom .p-galleria-indicators{bottom:0;left:0;width:100%;align-items:flex-end}.p-galleria-indicator-onitem.p-galleria-indicators-left .p-galleria-indicators{left:0;top:0;height:100%;align-items:flex-start}.p-galleria-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:transparent;transition-property:background-color}.p-galleria-close{position:absolute;top:0;right:0;display:flex;justify-content:center;align-items:center;overflow:hidden}.p-galleria-mask .p-galleria-item-nav{position:fixed;top:50%;margin-top:-.5rem}.p-galleria-mask.p-galleria-mask-leave{background-color:transparent}.p-items-hidden .p-galleria-thumbnail-item{visibility:hidden}.p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active{visibility:visible}\n"],encapsulation:2,data:{animation:[Kk("animation",[sE("void => visible",[X_({transform:"scale(0.7)",opacity:0}),rE("{{showTransitionParams}}")]),sE("visible => void",[rE("{{hideTransitionParams}}",X_({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0}),n})(),S3=(()=>{class n{constructor(e,i,r){this.galleria=e,this.cd=i,this.differs=r,this.value=[],this.maskHide=new s.vpe,this.activeItemChange=new s.vpe,this.id=this.galleria.id||$A(),this._activeIndex=0,this.slideShowActive=!0,this.differ=this.differs.find(this.galleria).create()}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}ngDoCheck(){this.differ.diff(this.galleria)?.forEachItem.length>0&&this.cd.markForCheck()}galleriaClass(){const e=this.galleria.showThumbnails&&this.getPositionClass("p-galleria-thumbnails",this.galleria.thumbnailsPosition),i=this.galleria.showIndicators&&this.getPositionClass("p-galleria-indicators",this.galleria.indicatorsPosition);return(this.galleria.containerClass?this.galleria.containerClass+" ":"")+(e?e+" ":"")+(i?i+" ":"")}startSlideShow(){this.interval=setInterval(()=>{let e=this.galleria.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1;this.onActiveIndexChange(e),this.activeIndex=e},this.galleria.transitionInterval),this.slideShowActive=!0}stopSlideShow(){this.interval&&clearInterval(this.interval),this.slideShowActive=!1}getPositionClass(e,i){const o=["top","left","bottom","right"].find(u=>u===i);return o?`${e}-${o}`:""}isVertical(){return"left"===this.galleria.thumbnailsPosition||"right"===this.galleria.thumbnailsPosition}onActiveIndexChange(e){this.activeIndex!==e&&(this.activeIndex=e,this.activeItemChange.emit(this.activeIndex))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(tR),s.Y36(s.sBO),s.Y36(s.aQg))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-galleriaContent"]],inputs:{activeIndex:"activeIndex",value:"value",numVisible:"numVisible"},outputs:{maskHide:"maskHide",activeItemChange:"activeItemChange"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["type","button","class","p-galleria-close p-link","pRipple","",3,"click",4,"ngIf"],["class","p-galleria-header",4,"ngIf"],[1,"p-galleria-content"],[3,"value","activeIndex","circular","templates","showIndicators","changeItemOnIndicatorHover","indicatorFacet","captionFacet","showItemNavigators","autoPlay","slideShowActive","onActiveIndexChange","startSlideShow","stopSlideShow"],[3,"containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive","onActiveIndexChange","stopSlideShow",4,"ngIf"],["class","p-galleria-footer",4,"ngIf"],["type","button","pRipple","",1,"p-galleria-close","p-link",3,"click"],[1,"p-galleria-close-icon","pi","pi-times"],[1,"p-galleria-header"],["type","header",3,"templates"],[3,"containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive","onActiveIndexChange","stopSlideShow"],[1,"p-galleria-footer"],["type","footer",3,"templates"]],template:function(e,i){1&e&&s.YNc(0,s3,7,25,"div",0),2&e&&s.Q6J("ngIf",i.value&&i.value.length>0)},dependencies:function(){return[Ct,Jt,En,Q_,ZA,x3,A3]},encapsulation:2,changeDetection:0}),n})(),ZA=(()=>{class n{get item(){return this._item}set item(e){this._item=e,this.templates&&this.templates.forEach(i=>{if(i.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=i.template}})}ngAfterContentInit(){this.templates.forEach(e=>{if(e.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=e.template;break;case"indicator":this.context={$implicit:this.index},this.contentTemplate=e.template;break;default:this.context={},this.contentTemplate=e.template}})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-galleriaItemSlot"]],inputs:{templates:"templates",index:"index",item:"item",type:"type"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&s.YNc(0,a3,2,2,"ng-container",0),2&e&&s.Q6J("ngIf",i.contentTemplate)},dependencies:[Jt,ni],encapsulation:2,changeDetection:0}),n})(),x3=(()=>{class n{constructor(){this.circular=!1,this.showItemNavigators=!1,this.showIndicators=!0,this.slideShowActive=!0,this.changeItemOnIndicatorHover=!0,this.autoPlay=!1,this.startSlideShow=new s.vpe,this.stopSlideShow=new s.vpe,this.onActiveIndexChange=new s.vpe,this._activeIndex=0}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}get activeItem(){return this.value[this._activeIndex]}ngOnChanges({autoPlay:e}){e?.currentValue&&this.startSlideShow.emit(),e&&!1===e.currentValue&&this.stopTheSlideShow()}next(){this.onActiveIndexChange.emit(this.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1)}prev(){this.onActiveIndexChange.emit(this.circular&&0===this.activeIndex?this.value.length-1:0!==this.activeIndex?this.activeIndex-1:0)}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}navForward(e){this.stopTheSlideShow(),this.next(),e&&e.cancelable&&e.preventDefault()}navBackward(e){this.stopTheSlideShow(),this.prev(),e&&e.cancelable&&e.preventDefault()}onIndicatorClick(e){this.stopTheSlideShow(),this.onActiveIndexChange.emit(e)}onIndicatorMouseEnter(e){this.changeItemOnIndicatorHover&&(this.stopTheSlideShow(),this.onActiveIndexChange.emit(e))}onIndicatorKeyDown(e){this.stopTheSlideShow(),this.onActiveIndexChange.emit(e)}isNavForwardDisabled(){return!this.circular&&this.activeIndex===this.value.length-1}isNavBackwardDisabled(){return!this.circular&&0===this.activeIndex}isIndicatorItemActive(e){return this.activeIndex===e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-galleriaItem"]],inputs:{circular:"circular",value:"value",showItemNavigators:"showItemNavigators",showIndicators:"showIndicators",slideShowActive:"slideShowActive",changeItemOnIndicatorHover:"changeItemOnIndicatorHover",autoPlay:"autoPlay",templates:"templates",indicatorFacet:"indicatorFacet",captionFacet:"captionFacet",activeIndex:"activeIndex"},outputs:{startSlideShow:"startSlideShow",stopSlideShow:"stopSlideShow",onActiveIndexChange:"onActiveIndexChange"},features:[s.TTD],decls:7,vars:6,consts:[[1,"p-galleria-item-wrapper"],[1,"p-galleria-item-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],["type","item",1,"p-galleria-item",3,"item","templates"],["class","p-galleria-caption",4,"ngIf"],["class","p-galleria-indicators p-reset",4,"ngIf"],["type","button","pRipple","",3,"ngClass","disabled","click"],[1,"p-galleria-item-prev-icon","pi","pi-chevron-left"],[1,"p-galleria-item-next-icon","pi","pi-chevron-right"],[1,"p-galleria-caption"],["type","caption",3,"item","templates"],[1,"p-galleria-indicators","p-reset"],["tabindex","0",3,"ngClass","click","mouseenter","keydown.enter",4,"ngFor","ngForOf"],["tabindex","0",3,"ngClass","click","mouseenter","keydown.enter"],["type","button","tabIndex","-1","class","p-link",4,"ngIf"],["type","indicator",3,"index","templates"],["type","button","tabIndex","-1",1,"p-link"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,c3,2,4,"button",2),s._UZ(3,"p-galleriaItemSlot",3),s.YNc(4,d3,2,4,"button",2),s.YNc(5,h3,2,2,"div",4),s.qZA(),s.YNc(6,m3,2,1,"ul",5),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",i.showItemNavigators),s.xp6(1),s.Q6J("item",i.activeItem)("templates",i.templates),s.xp6(1),s.Q6J("ngIf",i.showItemNavigators),s.xp6(1),s.Q6J("ngIf",i.captionFacet),s.xp6(1),s.Q6J("ngIf",i.showIndicators))},dependencies:[Ct,hn,Jt,Q_,ZA],encapsulation:2,changeDetection:0}),n})(),A3=(()=>{class n{constructor(e){this.cd=e,this.isVertical=!1,this.slideShowActive=!1,this.circular=!1,this.contentHeight="300px",this.showThumbnailNavigators=!0,this.onActiveIndexChange=new s.vpe,this.stopSlideShow=new s.vpe,this.startPos=null,this.thumbnailsStyle=null,this.sortedResponsiveOptions=null,this.totalShiftedItems=0,this.page=0,this._numVisible=0,this.d_numVisible=0,this._oldNumVisible=0,this._activeIndex=0,this._oldactiveIndex=0}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e,this._oldNumVisible=this.d_numVisible,this.d_numVisible=e}get activeIndex(){return this._activeIndex}set activeIndex(e){this._oldactiveIndex=this._activeIndex,this._activeIndex=e}ngOnInit(){this.createStyle(),this.responsiveOptions&&this.bindDocumentListeners()}ngAfterContentChecked(){let e=this.totalShiftedItems;(this._oldNumVisible!==this.d_numVisible||this._oldactiveIndex!==this._activeIndex)&&this.itemsContainer&&(e=this._activeIndex<=this.getMedianItemIndex()?0:this.value.length-this.d_numVisible+this.getMedianItemIndex()<this._activeIndex?this.d_numVisible-this.value.length:this.value.length-this.d_numVisible<this._activeIndex&&this.d_numVisible%2==0?-1*this._activeIndex+this.getMedianItemIndex()+1:-1*this._activeIndex+this.getMedianItemIndex(),e!==this.totalShiftedItems&&(this.totalShiftedItems=e),this.itemsContainer&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${e*(100/this.d_numVisible)}%, 0)`:`translate3d(${e*(100/this.d_numVisible)}%, 0, 0)`),this._oldactiveIndex!==this._activeIndex&&(Ke.removeClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this._oldactiveIndex=this._activeIndex,this._oldNumVisible=this.d_numVisible)}ngAfterViewInit(){this.calculatePosition()}createStyle(){this.thumbnailsStyle||(this.thumbnailsStyle=document.createElement("style"),this.thumbnailsStyle.type="text/css",document.body.appendChild(this.thumbnailsStyle));let e=`\n            #${this.containerId} .p-galleria-thumbnail-item {\n                flex: 1 0 ${100/this.d_numVisible}%\n            }\n        `;if(this.responsiveOptions){this.sortedResponsiveOptions=[...this.responsiveOptions],this.sortedResponsiveOptions.sort((i,r)=>{const o=i.breakpoint,u=r.breakpoint;let h=null;return h=null==o&&null!=u?-1:null!=o&&null==u?1:null==o&&null==u?0:"string"==typeof o&&"string"==typeof u?o.localeCompare(u,void 0,{numeric:!0}):o<u?-1:o>u?1:0,-1*h});for(let i=0;i<this.sortedResponsiveOptions.length;i++){let r=this.sortedResponsiveOptions[i];e+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.containerId} .p-galleria-thumbnail-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.thumbnailsStyle.innerHTML=e}calculatePosition(){if(this.itemsContainer&&this.sortedResponsiveOptions){let e=window.innerWidth,i={numVisible:this._numVisible};for(let r=0;r<this.sortedResponsiveOptions.length;r++){let o=this.sortedResponsiveOptions[r];parseInt(o.breakpoint,10)>=e&&(i=o)}this.d_numVisible!==i.numVisible&&(this.d_numVisible=i.numVisible,this.cd.markForCheck())}}getTabIndex(e){return this.isItemActive(e)?0:null}navForward(e){this.stopTheSlideShow();let i=this._activeIndex+1;i+this.totalShiftedItems>this.getMedianItemIndex()&&(-1*this.totalShiftedItems<this.getTotalPageNumber()-1||this.circular)&&this.step(-1),this.onActiveIndexChange.emit(this.circular&&this.value.length-1===this._activeIndex?0:i),e.cancelable&&e.preventDefault()}navBackward(e){this.stopTheSlideShow();let i=0!==this._activeIndex?this._activeIndex-1:0;this.d_numVisible-(i+this.totalShiftedItems)-1>this.getMedianItemIndex()&&(-1*this.totalShiftedItems!=0||this.circular)&&this.step(1),this.onActiveIndexChange.emit(this.circular&&0===this._activeIndex?this.value.length-1:i),e.cancelable&&e.preventDefault()}onItemClick(e){this.stopTheSlideShow();let i=e;if(i!==this._activeIndex){const r=i+this.totalShiftedItems;let o=0;i<this._activeIndex?(o=this.d_numVisible-r-1-this.getMedianItemIndex(),o>0&&-1*this.totalShiftedItems!=0&&this.step(o)):(o=this.getMedianItemIndex()-r,o<0&&-1*this.totalShiftedItems<this.getTotalPageNumber()-1&&this.step(o)),this.activeIndex=i,this.onActiveIndexChange.emit(this.activeIndex)}}step(e){let i=this.totalShiftedItems+e;e<0&&-1*i+this.d_numVisible>this.value.length-1?i=this.d_numVisible-this.value.length:e>0&&i>0&&(i=0),this.circular&&(e<0&&this.value.length-1===this._activeIndex?i=0:e>0&&0===this._activeIndex&&(i=this.d_numVisible-this.value.length)),this.itemsContainer&&(Ke.removeClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${i*(100/this.d_numVisible)}%, 0)`:`translate3d(${i*(100/this.d_numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=i}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}changePageOnTouch(e,i){i<0?this.navForward(e):this.navBackward(e)}getTotalPageNumber(){return this.value.length>this.d_numVisible?this.value.length-this.d_numVisible+1:0}getMedianItemIndex(){let e=Math.floor(this.d_numVisible/2);return this.d_numVisible%2?e:e-1}onTransitionEnd(){this.itemsContainer&&this.itemsContainer.nativeElement&&(Ke.addClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="")}onTouchEnd(e){let i=e.changedTouches[0];this.changePageOnTouch(e,this.isVertical?i.pageY-this.startPos.y:i.pageX-this.startPos.x)}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}isNavBackwardDisabled(){return!this.circular&&0===this._activeIndex||this.value.length<=this.d_numVisible}isNavForwardDisabled(){return!this.circular&&this._activeIndex===this.value.length-1||this.value.length<=this.d_numVisible}firstItemAciveIndex(){return-1*this.totalShiftedItems}lastItemActiveIndex(){return this.firstItemAciveIndex()+this.d_numVisible-1}isItemActive(e){return this.firstItemAciveIndex()<=e&&this.lastItemActiveIndex()>=e}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=()=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.thumbnailsStyle&&this.thumbnailsStyle.parentNode.removeChild(this.thumbnailsStyle)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-galleriaThumbnails"]],viewQuery:function(e,i){if(1&e&&s.Gf(_3,5),2&e){let r;s.iGM(r=s.CRH())&&(i.itemsContainer=r.first)}},inputs:{containerId:"containerId",value:"value",isVertical:"isVertical",slideShowActive:"slideShowActive",circular:"circular",responsiveOptions:"responsiveOptions",contentHeight:"contentHeight",showThumbnailNavigators:"showThumbnailNavigators",templates:"templates",numVisible:"numVisible",activeIndex:"activeIndex"},outputs:{onActiveIndexChange:"onActiveIndexChange",stopSlideShow:"stopSlideShow"},decls:8,vars:6,consts:[[1,"p-galleria-thumbnail-wrapper"],[1,"p-galleria-thumbnail-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-galleria-thumbnail-items-container",3,"ngStyle"],[1,"p-galleria-thumbnail-items",3,"transitionend","touchstart","touchmove","touchend"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],["type","button","pRipple","",3,"ngClass","disabled","click"],[3,"ngClass"],[1,"p-galleria-thumbnail-item-content",3,"click","keydown.enter"],["type","thumbnail",3,"item","templates"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,b3,2,8,"button",2),s.TgZ(3,"div",3)(4,"div",4,5),s.NdJ("transitionend",function(){return i.onTransitionEnd()})("touchstart",function(o){return i.onTouchStart(o)})("touchmove",function(o){return i.onTouchMove(o)})("touchend",function(o){return i.onTouchEnd(o)}),s.YNc(6,T3,3,9,"div",6),s.qZA()(),s.YNc(7,C3,2,8,"button",2),s.qZA()()),2&e&&(s.xp6(2),s.Q6J("ngIf",i.showThumbnailNavigators),s.xp6(1),s.Q6J("ngStyle",s.VKq(4,D3,i.isVertical?i.contentHeight:"")),s.xp6(3),s.Q6J("ngForOf",i.value),s.xp6(1),s.Q6J("ngIf",i.showThumbnailNavigators))},dependencies:[Ct,hn,Jt,En,Q_,ZA],encapsulation:2,changeDetection:0}),n})(),M3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Qs,J_,Mn,Qs]}),n})();function O3(n,t){1&n&&s._UZ(0,"img",5),2&n&&s.MGl("src","https://image.tmdb.org/t/p/original",t.$implicit.file_path,"",s.LSH)}function N3(n,t){if(1&n&&(s.TgZ(0,"div",6),s._UZ(1,"img",7),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.MGl("src","https://image.tmdb.org/t/p/original",e.file_path,"",s.LSH)}}function P3(n,t){if(1&n&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.hij("Note moyenne : ",e.vote_average,"/10")}}function k3(n,t){1&n&&(s.TgZ(0,"p"),s._uU(1,"Aucun vote n'a \xe9t\xe9 attribu\xe9 \xe0 cette affiche"),s.qZA())}function R3(n,t){if(1&n&&(s.YNc(0,P3,2,1,"p",8),s.YNc(1,k3,2,0,"p",8)),2&n){const e=t.$implicit;s.Q6J("ngIf",0!=e.vote_count),s.xp6(1),s.Q6J("ngIf",0==e.vote_count)}}const F3=function(){return{"max-width":"500px"}};class Vb{constructor(){this.displayImgGallerie=!1}}Vb.\u0275fac=function(t){return new(t||Vb)},Vb.\u0275cmp=s.Xpm({type:Vb,selectors:[["app-gallerie-img"]],inputs:{images:"images"},decls:6,vars:12,consts:[[3,"value","visible","responsiveOptions","containerStyle","numVisible","circular","fullScreen","showItemNavigators","showThumbnails","baseZIndex","visibleChange"],["pTemplate","item"],["pTemplate","thumbnail"],["pTemplate","caption"],["icon","pi pi-external-link",2,"text-decoration","underline","color","#0d6efd","cursor","pointer","margin","0",3,"click"],[2,"width","700px","height","700px",3,"src"],[1,"grid","grid-nogutter","justify-content-center"],[2,"width","70px","height","70px",3,"src"],[4,"ngIf"]],template:function(t,e){1&t&&(s.TgZ(0,"p-galleria",0),s.NdJ("visibleChange",function(r){return e.displayImgGallerie=r}),s.YNc(1,O3,1,1,"ng-template",1),s.YNc(2,N3,2,1,"ng-template",2),s.YNc(3,R3,2,2,"ng-template",3),s.qZA(),s.TgZ(4,"p",4),s.NdJ("click",function(){return e.displayImgGallerie=!0}),s._uU(5),s.qZA()),2&t&&(s.Q6J("value",e.images)("visible",e.displayImgGallerie)("responsiveOptions",e.responsiveOptions)("containerStyle",s.DdM(11,F3))("numVisible",7)("circular",!0)("fullScreen",!0)("showItemNavigators",!0)("showThumbnails",!0)("baseZIndex",1e5),s.xp6(5),s.hij("Voir les affiches du films (",e.images.length,")"))},dependencies:[Jt,tR,xl]});var L3=L(1144);const V3=["addListener","removeListener"],B3=["addEventListener","removeEventListener"],U3=["on","off"];function ps(n,t,e,i){if((0,Yn.m)(e)&&(i=e,e=void 0),i)return ps(n,t,e).pipe(se(i));const[r,o]=function $3(n){return(0,Yn.m)(n.addEventListener)&&(0,Yn.m)(n.removeEventListener)}(n)?B3.map(u=>h=>n[u](t,h,e)):function H3(n){return(0,Yn.m)(n.addListener)&&(0,Yn.m)(n.removeListener)}(n)?V3.map(nR(n,t)):function G3(n){return(0,Yn.m)(n.on)&&(0,Yn.m)(n.off)}(n)?U3.map(nR(n,t)):[];if(!r&&(0,L3.z)(n))return(0,Vi.z)(u=>ps(u,t,e))((0,lr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new jn.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return r(h),()=>o(h)})}function nR(n,t){return e=>i=>n[e](t,i)}var j3=L(3532);const{isArray:W3}=Array;function iR(n){return 1===n.length&&W3(n[0])?n[0]:n}var oE=L(5032);function aE(...n){const t=(0,$n.jO)(n),e=iR(n);return e.length?new jn.y(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let u=0;!i.closed&&u<e.length;u++)(0,lr.Xf)(e[u]).subscribe((0,Se.x)(i,h=>{if(r[u].push(h),r.every(g=>g.length)){const g=r.map(y=>y.shift());i.next(t?t(...g):g),r.some((y,w)=>!y.length&&o[w])&&i.complete()}},()=>{o[u]=!0,!r[u].length&&i.complete()}));return()=>{r=o=null}}):Sr.E}function Xi(n){return(0,Yi.e)((t,e)=>{(0,lr.Xf)(n).subscribe((0,Se.x)(e,()=>e.complete(),oE.Z)),!e.closed&&t.subscribe(e)})}function KA(...n){const t=(0,$n.jO)(n);return(0,Yi.e)((e,i)=>{const r=n.length,o=new Array(r);let u=n.map(()=>!1),h=!1;for(let g=0;g<r;g++)(0,lr.Xf)(n[g]).subscribe((0,Se.x)(i,y=>{o[g]=y,!h&&!u[g]&&(u[g]=!0,(h=u.every(C.y))&&(u=null))},oE.Z));e.subscribe((0,Se.x)(i,g=>{if(h){const y=[g,...o];i.next(t?t(...y):y)}}))})}new jn.y(oE.Z);let aR=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),hg=(()=>{class n extends aR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const fs=new s.OlP("NgValueAccessor"),eG={provide:fs,useExisting:(0,s.Gpc)(()=>ey),multi:!0},nG=new s.OlP("CompositionEventMode");let ey=(()=>{class n extends aR{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function tG(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(nG,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([eG]),s.qOj]}),n})();const gs=new s.OlP("NgValidators"),Uh=new s.OlP("NgAsyncValidators");function yR(n){return null!=n}function vR(n){return(0,s.QGY)(n)?(0,Tn.D)(n):n}function bR(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function wR(n,t){return t.map(e=>e(n))}function TR(n){return n.map(t=>function sG(n){return!n.validate}(t)?t:e=>t.validate(e))}function YA(n){return null!=n?function IR(n){if(!n)return null;const t=n.filter(yR);return 0==t.length?null:function(e){return bR(wR(e,t))}}(TR(n)):null}function QA(n){return null!=n?function ER(n){if(!n)return null;const t=n.filter(yR);return 0==t.length?null:function(e){return function J3(...n){const t=(0,$n.jO)(n),{args:e,keys:i}=Xl(n),r=new jn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let g=u,y=u;for(let w=0;w<u;w++){let S=!1;(0,lr.Xf)(e[w]).subscribe((0,Se.x)(o,M=>{S||(S=!0,y--),h[w]=M},()=>g--,void 0,()=>{(!g||!S)&&(y||o.next(i?de(i,h):h),o.complete())}))}});return t?r.pipe(se(t)):r}(wR(e,t).map(vR)).pipe((0,D.U)(bR))}}(TR(n)):null}function CR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function JA(n){return n?Array.isArray(n)?n:[n]:[]}function cE(n,t){return Array.isArray(n)?n.includes(t):n===t}function xR(n,t){const e=JA(t);return JA(n).forEach(r=>{cE(e,r)||e.push(r)}),e}function AR(n,t){return JA(t).filter(e=>!cE(n,e))}class MR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=YA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=QA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Js extends MR{get formDirective(){return null}get path(){return null}}class Hh extends MR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class OR{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Bb=(()=>{class n extends OR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hh,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),XA=(()=>{class n extends OR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Js,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const Ub="VALID",dE="INVALID",ty="PENDING",Hb="DISABLED";function iM(n){return(hE(n)?n.validators:n)||null}function rM(n,t){return(hE(t)?t.asyncValidators:n)||null}function hE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class RR{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ub}get invalid(){return this.status===dE}get pending(){return this.status==ty}get disabled(){return this.status===Hb}get enabled(){return this.status!==Hb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(xR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(xR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(AR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(AR(t,this._rawAsyncValidators))}hasValidator(t){return cE(this._rawValidators,t)}hasAsyncValidator(t){return cE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ty,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Hb,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ub,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ub||this.status===ty)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hb:Ub}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ty,this._hasOwnPendingAsyncValidator=!0;const e=vR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Hb:this.errors?dE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ty)?ty:this._anyControlsHaveStatus(dE)?dE:Ub}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function hG(n){return Array.isArray(n)?YA(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function pG(n){return Array.isArray(n)?QA(n):n||null}(this._rawAsyncValidators)}}class sM extends RR{constructor(t,e,i){super(iM(e),rM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function kR(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function PR(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Gb=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>oM}),oM="always";function $b(n,t,e=oM){aM(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function mG(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&FR(n,t)})}(n,t),function yG(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function _G(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&FR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function gG(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function gE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function aM(n,t){const e=function DR(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(CR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function SR(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(CR(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();gE(t._rawValidators,r),gE(t._rawAsyncValidators,r)}function FR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const IG={provide:Js,useExisting:(0,s.Gpc)(()=>zb)},jb=(()=>Promise.resolve())();let zb=(()=>{class n extends Js{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new sM({},YA(e),QA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){jb.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),$b(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){jb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){jb.then(()=>{const i=this._findContainer(e.path),r=new sM({});(function LR(n,t){aM(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){jb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){jb.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function VR(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gs,10),s.Y36(Uh,10),s.Y36(Gb,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([IG]),s.qOj]}),n})();function BR(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function UR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const HR=class extends RR{constructor(t=null,e,i){super(iM(e),rM(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=UR(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){BR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){BR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){UR(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},DG={provide:Hh,useExisting:(0,s.Gpc)(()=>pg)},jR=(()=>Promise.resolve())();let pg=(()=>{class n extends Hh{constructor(e,i,r,o,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new HR,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function uM(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===ey?e=o:function wG(n){return Object.getPrototypeOf(n.constructor)===hg}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function cM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$b(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){jR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);jR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function pE(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Js,9),s.Y36(gs,10),s.Y36(Uh,10),s.Y36(fs,10),s.Y36(s.sBO,8),s.Y36(Gb,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([DG]),s.qOj,s.TTD]}),n})(),dM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),WR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),YG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[WR]}),n})(),yM=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Gb,useValue:e.callSetDisabledState??oM}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[YG]}),n})();Math,Math,Math;const wE=["*"],G$=["dialog"];function Jb(n){return"string"==typeof n}function _g(n){return null!=n}function ay(n){return(n||document.body).getBoundingClientRect()}const MF={animation:!0,transitionTimerDelayMs:5},Yj=()=>{},{transitionTimerDelayMs:Qj}=MF,Xb=new Map,qr=(n,t,e,i)=>{let r=i.context||{};const o=Xb.get(t);if(o)switch(i.runningTransition){case"continue":return Sr.E;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Xb.delete(t)}const u=e(t,i.animation,r)||Yj;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>u()),gt(void 0).pipe(function qj(n){return t=>new jn.y(e=>t.subscribe({next:u=>n.run(()=>e.next(u)),error:u=>n.run(()=>e.error(u)),complete:()=>n.run(()=>e.complete())}))}(n));const h=new vn.x,g=new vn.x,y=h.pipe(function q3(...n){return t=>Fn(t,gt(...n))}(!0));Xb.set(t,{transition$:h,complete:()=>{g.next(),g.complete()},context:r});const w=function Kj(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const S=ps(t,"transitionend").pipe(Xi(y),Ln(({target:R})=>R===t));(function rR(...n){return 1===(n=iR(n)).length?(0,lr.Xf)(n[0]):new jn.y(function Z3(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,lr.Xf)(n[i]).subscribe((0,Se.x)(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))})(function qA(n=0,t,e=Cv.P){let i=-1;return null!=t&&((0,j3.K)(t)?e=t:i=t),new jn.y(r=>{let o=function z3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(w+Qj).pipe(Xi(y)),S,g).pipe(Xi(y)).subscribe(()=>{Xb.delete(t),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let ly=(()=>{class n{constructor(){this.animation=MF.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _n=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(_n||(_n={})),_n))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const HF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function GF(n){const t=Array.from(n.querySelectorAll(HF)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class Tg{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let a4=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Li(1)).subscribe(()=>{qr(this._zone,this._el.nativeElement,(e,i)=>{i&&ay(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return qr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(s.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),s.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[s.jDz],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class rL{close(t){}dismiss(t){}}class l4{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new vn.x,this._dismissed=new vn.x,this._hidden=new vn.x,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,u)=>{this._resolve=o,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Xi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Xi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function SF(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():gt(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),aE(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Ig=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(Ig||(Ig={})),Ig))();let c4=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new vn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new vn.x,this.hidden=new vn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Jb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Li(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=aE(qr(this._zone,e,()=>e.classList.remove("show"),i),qr(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const e={animation:this.animation,runningTransition:"continue"};aE(qr(this._zone,this._elRef.nativeElement,(o,u)=>{u&&ay(o),o.classList.add("show")},e),qr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ps(e,"keydown").pipe(Xi(this._closed$),Ln(r=>r.which===_n.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Ig.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ps(this._dialogEl.nativeElement,"mousedown").pipe(Xi(this._closed$),(0,cr.b)(()=>i=!1),pi(()=>ps(e,"mouseup").pipe(Xi(this._closed$),Li(1))),Ln(({target:r})=>e===r)).subscribe(()=>{i=!0}),ps(e,"click").pipe(Xi(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Ig.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=GF(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&qr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ae),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&s.Gf(G$,7),2&e){let r;s.iGM(r=s.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),s.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),s.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[s.jDz],ngContentSelectors:wE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&e&&s.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),u4=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:u}=r;if(e>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=u),r.overflow=o}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d4=(()=>{class n{constructor(e,i,r,o,u,h,g){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=u,this._rendererFactory=h,this._ngZone=g,this._activeWindowCmptHasChanged=new vn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=ps(t,"focusin").pipe(Xi(e),(0,D.U)(o=>o.target));ps(t,"keydown").pipe(Xi(e),Ln(o=>o.which===_n.Tab),KA(r)).subscribe(([o,u])=>{const[h,g]=GF(t);(u===h||u===t)&&o.shiftKey&&(g.focus(),o.preventDefault()),u===g&&!o.shiftKey&&(h.focus(),o.preventDefault())}),i&&ps(t,"click").pipe(Xi(e),KA(r),(0,D.U)(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:_g(r.container)?this._document.querySelector(r.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new rL,g=(e=r.injector||e).get(s.lqb,null)||this._environmentInjector,y=this._getContentRef(e,g,i,h,r);let w=!1!==r.backdrop?this._attachBackdrop(o):void 0,S=this._attachWindowComponent(o,y.nodes),M=new l4(S,y,w,r.beforeDismiss);return this._registerModalRef(M),this._registerWindowCmpt(S),M.hidden.pipe(Li(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=R=>{M.close(R)},h.dismiss=R=>{M.dismiss(R)},this._applyWindowOptions(S.instance,r),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,r),w.changeDetectorRef.detectChanges()),S.changeDetectorRef.detectChanges(),M}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,s.LMc)(a4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=(0,s.LMc)(c4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{_g(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{_g(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o,u){return r?r instanceof s.Rgc?this._createFromTemplateRef(r,o):Jb(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,u):new Tg([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(o),new Tg([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Tg([[i]])}_createFromComponent(e,i,r,o,u){const h=s.zs3.create({providers:[{provide:rL,useValue:o}],parent:e}),g=(0,s.LMc)(r,{environmentInjector:i,elementInjector:h}),y=g.location.nativeElement;return u.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new Tg([[y]],g.hostView,g)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(s.lqb),s.LFG(ae),s.LFG(u4),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h4=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ly))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sL=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(d4),s.LFG(h4))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Q4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"Bande annonce du film"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.KtG(o.dismiss("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6),s._UZ(5,"iframe",7),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("src",e.safeURL,s.uOi)}}new s.OlP("live announcer delay",{providedIn:"root",factory:function K4(){return 100}});class iw{constructor(t){this.modalService=t,this.closeResult=""}open(t){this.modalService.open(t,{windowClass:"modal-holder",size:"lg",centered:!0}).result.then(e=>{this.closeResult=`Closed with: ${e}`},e=>{this.closeResult=`Dismissed ${this.getDismissReason(e)}`})}getDismissReason(t){return t===Ig.ESC?"by pressing ESC":t===Ig.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}}iw.\u0275fac=function(t){return new(t||iw)(s.Y36(sL))},iw.\u0275cmp=s.Xpm({type:iw,selectors:[["app-trailer-modal"]],inputs:{safeURL:"safeURL"},decls:5,vars:0,consts:[["src","https://lottie.host/302a8d53-a2f4-4a09-8e70-d84e11205ae3/YkLTKNEFht.json","background","transparent","speed","1","loop","","hover","",2,"width","160px","height","160px",3,"click"],[2,"font-style","italic"],["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["allowfullscreen","","frameborder","0","allow","autoplay","width","100%","height","500",3,"src"]],template:function(t,e){if(1&t){const i=s.EpF();s.TgZ(0,"lottie-player",0),s.NdJ("click",function(){s.CHM(i);const o=s.MAs(4);return s.KtG(e.open(o))}),s.qZA(),s.TgZ(1,"p",1),s._uU(2,"Voir la bande annonce"),s.qZA(),s.YNc(3,Q4,6,1,"ng-template",null,2,s.W1O)}}});class hy{getimage(t){return null==t?"../../assets/user.jpg":"https://image.tmdb.org/t/p/original/"+t}getNom(t){return t.replace("(uncredited)","")}}hy.\u0275fac=function(t){return new(t||hy)},hy.\u0275cmp=s.Xpm({type:hy,selectors:[["app-people-card"]],inputs:{peo:"peo"},decls:10,vars:3,consts:[[1,"cardPeople"],[1,"outerPeople"],["width","200px",3,"src"]],template:function(t,e){1&t&&(s.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"p"),s._UZ(4,"img",2),s.qZA(),s.TgZ(5,"p")(6,"b"),s._uU(7),s.qZA()(),s.TgZ(8,"p"),s._uU(9),s.qZA()()()()),2&t&&(s.xp6(4),s.s9C("src",e.getimage(e.peo.profile_path),s.LSH),s.xp6(3),s.Oqu(e.peo.name),s.xp6(2),s.Oqu(e.getNom(e.peo.character)))},styles:["p[_ngcontent-%COMP%]{padding:2px}.cardPeople[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;cursor:pointer}.outerPeople[_ngcontent-%COMP%]{margin:10px}"]});const J4=function(n){return["/peopleDetail",n]};function X4(n,t){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"app-people-card",2),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("peo",e)("routerLink",s.VKq(2,J4,e.id))}}class py{constructor(t,e){this.dataService=t,this.router=e}ngOnInit(){this.router.params.subscribe(t=>{this.id=t.id,this.getPeopleById(this.id)})}getPeopleById(t){this.dataService.getPerson(t).subscribe(e=>{this.people=e.cast,this.total=e.getTotal})}getAuteurs(){return this.people.length>0?"Acteurs ("+this.people.length+")":"Acteur"}}py.\u0275fac=function(t){return new(t||py)(s.Y36(_a),s.Y36(Mo))},py.\u0275cmp=s.Xpm({type:py,selectors:[["app-people"]],inputs:{id:"id"},decls:5,vars:2,consts:[[1,"scrollPeoplecontainer"],[4,"ngFor","ngForOf"],[3,"peo","routerLink"]],template:function(t,e){1&t&&(s.TgZ(0,"h2"),s._uU(1),s.qZA(),s.TgZ(2,"section")(3,"div",0),s.YNc(4,X4,2,4,"div",1),s.qZA()()),2&t&&(s.xp6(1),s.Oqu(e.getAuteurs()),s.xp6(3),s.Q6J("ngForOf",e.people))},dependencies:[ol,hn,hy],styles:[".scrollPeoplecontainer[_ngcontent-%COMP%]{scrollbar-width:thin;overflow:auto;display:flex;flex-direction:line}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:5px;background-color:#000}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#394159;border-radius:10px}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#303544}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:hover{background-color:#000}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:active{background-color:#000}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:horizontal:active{background-color:#d4d4d4}"]});class rw{constructor(t){this.cd=t,this.comValueChange=new s.vpe,this.repValueChange=new s.vpe,this.repToRepValueChange=new s.vpe,this.inRepValueChange=new s.vpe,this.inputFocused=new s.vpe,this.content="",this.isFor="com",this.isFocus=!1}ngOnInit(){this.initData&&(this.content=this.initData),this.whatOut=this.comValueChange}focused(){this.isFocus=!0,this.inputFocused.emit(!0),this.cd.detectChanges()}onTextareaChange(t){this.whatOut.emit(t),this.cd.detectChanges()}}rw.\u0275fac=function(t){return new(t||rw)(s.Y36(s.sBO))},rw.\u0275cmp=s.Xpm({type:rw,selectors:[["app-comment-input"]],inputs:{initData:"initData",isFor:"isFor"},outputs:{comValueChange:"comValueChange",repValueChange:"repValueChange",repToRepValueChange:"repToRepValueChange",inRepValueChange:"inRepValueChange",inputFocused:"inputFocused"},decls:5,vars:1,consts:[["appearance","outline","floatLabel","never"],["matInput","","matTextareaAutosize","","matAutosizeMinRows","1","placeholder","Ecrire",1,"editorTextArea",3,"ngModel","ngModelChange","focus"],["myTextArea",""]],template:function(t,e){1&t&&(s.TgZ(0,"div")(1,"mat-form-field",0)(2,"textarea",1,2),s.NdJ("ngModelChange",function(r){return e.onTextareaChange(r)})("focus",function(){return e.focused()}),s._uU(4,"            "),s.qZA()()()),2&t&&(s.xp6(2),s.Q6J("ngModel",e.content))},dependencies:[ey,Bb,pg],styles:[".editorTextArea[_ngcontent-%COMP%]{background-color:#161824;color:#fff;border:none;outline:none;padding:10px;height:120px;box-shadow:none;width:100%;resize:none}"]});const eW=function(){return{"flex-grow":"1"}};class sw{constructor(t,e,i){this.authService=t,this.cd=e,this.db=i,this.commentBody="",this.disableCommentButton=!1}ngOnInit(){this.authService.readUser().subscribe(t=>{t&&(this.displayName=t.displayName,this.notDisplayName=t.email,this.photoURL=t.photoURL,this.notPhotoURl="assets/user.jpg",this.user_id=t.uid)})}addComment(){this.cd.detectChanges();const t={content:this.commentBody,created_at:(new Date).toLocaleDateString(),id:this.id,author_details:{username:this.checkUserName(this.displayName),avatar_path:null!=this.photoURL?this.photoURL:this.notPhotoURl,user_id:this.user_id}};this.db.addComment(t)}checkUserName(t){return null==this.displayName?this.notDisplayName.substring(0,this.notDisplayName.indexOf("@")):this.displayName}comValueChange(t){this.commentBody=t}}function tW(n,t){1&n&&(s.TgZ(0,"h4"),s._uU(1,"Commentaire provenant de "),s.TgZ(2,"strong"),s._uU(3,"MovieNews"),s.qZA()())}function nW(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",3),s._UZ(2,"img",4),s.TgZ(3,"div",5)(4,"div",6)(5,"p")(6,"strong"),s._uU(7),s.qZA(),s._uU(8," a ecrit le "),s.TgZ(9,"i"),s._uU(10),s.qZA(),s._uU(11," : "),s.qZA()(),s.TgZ(12,"p"),s._uU(13),s.qZA()()(),s._UZ(14,"br"),s.qZA()),2&n){const e=t.$implicit;s.xp6(2),s.s9C("src",e.author_details.avatar_path,s.LSH),s.xp6(5),s.Oqu(e.author_details.username),s.xp6(3),s.Oqu(e.created_at),s.xp6(3),s.hij('"',e.content,'"')}}function iW(n,t){1&n&&(s.TgZ(0,"h4"),s._uU(1,"Commentaire provenant de "),s.TgZ(2,"strong"),s._uU(3,"The Movie DataBase"),s.qZA()())}function rW(n,t){if(1&n&&(s.TgZ(0,"p"),s._UZ(1,"img",7),s._uU(2),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(2),s.hij(" ",e.author_details.rating,"/10")}}function sW(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",3),s._UZ(2,"img",4),s.TgZ(3,"div",5)(4,"div",6)(5,"p")(6,"strong"),s._uU(7),s.qZA(),s._uU(8," a ecrit le "),s.TgZ(9,"i"),s._uU(10),s.ALo(11,"date"),s.qZA(),s._uU(12," : "),s.qZA(),s.YNc(13,rW,3,1,"p",1),s.qZA(),s.TgZ(14,"p"),s._uU(15),s.qZA()()(),s._UZ(16,"br"),s.qZA()),2&n){const e=t.$implicit;s.xp6(2),s.MGl("src","https://www.gravatar.com/avatar/",e.author_details.avatar_path,"",s.LSH),s.xp6(5),s.Oqu(e.author_details.username),s.xp6(3),s.Oqu(s.xi3(11,5,e.created_at,"dd/MM/yyyy")),s.xp6(3),s.Q6J("ngIf",null!=e.author_details.rating),s.xp6(2),s.hij('"',e.content,'"')}}sw.\u0275fac=function(t){return new(t||sw)(s.Y36(Sl),s.Y36(s.sBO),s.Y36(Qu))},sw.\u0275cmp=s.Xpm({type:sw,selectors:[["app-add-comment"]],inputs:{id:"id"},decls:5,vars:4,consts:[[1,"comments"],[1,"comment-input",3,"comValueChange"],["myInput",""],["pButton","","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0)(1,"app-comment-input",1,2),s.NdJ("comValueChange",function(r){return e.comValueChange(r)}),s.qZA(),s.TgZ(3,"button",3),s.NdJ("click",function(){return e.addComment()}),s._uU(4,"Envoy\xe9"),s.qZA()()),2&t&&(s.xp6(1),s.Akn(s.DdM(3,eW)),s.xp6(2),s.Q6J("disabled",e.disableCommentButton))},dependencies:[iE,rw],styles:[".comments[_ngcontent-%COMP%]{display:flex;margin:20px 0;flex-wrap:wrap;align-items:center}.comment-input[_ngcontent-%COMP%]{margin-right:30px}"]});class ow{constructor(t){this.db=t,this.commentsDB=[],this.commentsAPI=[]}ngOnInit(){}update(){this.display=!this.display}}ow.\u0275fac=function(t){return new(t||ow)(s.Y36(Qu))},ow.\u0275cmp=s.Xpm({type:ow,selectors:[["app-comments-list"]],inputs:{id:"id",commentsDB:"commentsDB",commentsAPI:"commentsAPI"},decls:5,vars:5,consts:[[3,"id"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"review-card"],["width","80","height","80","alt","",3,"src"],[1,"review-user"],[1,"review-user-informations"],["src","../../assets/starIcon.png","width","18","height","18","alt","",2,"margin","0"]],template:function(t,e){1&t&&(s._UZ(0,"app-add-comment",0),s.YNc(1,tW,4,0,"h4",1),s.YNc(2,nW,15,4,"div",2),s.YNc(3,iW,4,0,"h4",1),s.YNc(4,sW,17,8,"div",2)),2&t&&(s.Q6J("id",e.id),s.xp6(1),s.Q6J("ngIf",e.commentsDB.length>0),s.xp6(1),s.Q6J("ngForOf",e.commentsDB),s.xp6(1),s.Q6J("ngIf",e.commentsAPI.length>0),s.xp6(1),s.Q6J("ngForOf",e.commentsAPI))},dependencies:[hn,Jt,sw,hi],styles:[".comments-section[_ngcontent-%COMP%]{display:flex}.review-card[_ngcontent-%COMP%]{padding:20px;border-radius:15px;background-color:#161824;display:flex}.review-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:20px}.review-user-informations[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:15px}.review-header[_ngcontent-%COMP%]{display:flex;align-items:baseline}.down[_ngcontent-%COMP%]{transform:rotate(45deg);-webkit-transform:rotate(45deg)}.arrow[_ngcontent-%COMP%]{cursor:pointer;border:solid white;border-width:0 5px 5px 0;display:inline-block;padding:5px;margin-left:20px}.up[_ngcontent-%COMP%]{transform:rotate(-135deg);-webkit-transform:rotate(-135deg)}.btn-close[_ngcontent-%COMP%]{background:transparent url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\") center/1em auto no-repeat}form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:20px}form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-right:10px;background-color:#161824;color:#fff;flex:1;padding:10px;border:none;overflow:auto;outline:none;box-shadow:none;resize:none}"]});class aw{transform(t){var i=t/60,r=Math.floor(i),u=Math.round(60*(i-r));return 0==r?u+" minutes":r+"h"+u+"m"}}function oW(n,t){if(1&n&&(s.TgZ(0,"p",4),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.hij("",e.name," ")}}function aW(n,t){if(1&n&&(s.TgZ(0,"p",4),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.hij("",e.name,", ")}}function lW(n,t){if(1&n&&(s.TgZ(0,"div",4),s.YNc(1,oW,2,1,"p",17),s.YNc(2,aW,2,1,"p",17),s.qZA()),2&n){const e=t.last;s.xp6(1),s.Q6J("ngIf",e),s.xp6(1),s.Q6J("ngIf",!e)}}function cW(n,t){if(1&n&&(s.TgZ(0,"p"),s._uU(1),s.ALo(2,"minuteSeconds"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("\u2022 Dur\xe9e : ",s.lcZ(2,1,e.movie.runtime)," ")}}function uW(n,t){if(1&n&&s._UZ(0,"app-gallerie-img",18),2&n){const e=s.oxw();s.Q6J("images",e.images)}}function dW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addFavoriteMovie(r.movie))}),s.qZA()}}function hW(n,t){if(1&n&&(s.TgZ(0,"section",20)(1,"h2"),s._uU(2,"Avis"),s.qZA(),s._UZ(3,"app-comments-list",21),s.qZA()),2&n){const e=s.oxw();s.xp6(3),s.Q6J("commentsDB",e.commentsDB)("commentsAPI",e.commentsAPI)("id",e.id)}}aw.\u0275fac=function(t){return new(t||aw)},aw.\u0275pipe=s.Yjl({name:"minuteSeconds",type:aw,pure:!0});const pW=function(n){return["/movie/",n]};function fW(n,t){if(1&n&&(s.TgZ(0,"div",22)(1,"div",23),s._UZ(2,"app-movie-card",24),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Q6J("movie",e)("routerLink",s.VKq(2,pW,e.id))}}class lw{constructor(t,e,i,r,o){this.dataService=t,this.router=e,this._sanitizer=i,this.authService=r,this.databaseService=o,this.closeResult="",this.video=[],this.similarMovies=[],this.reviews=[],this.display=!0,this.comments=[],this.images=[],this.commentBody="",this.test=[],this.commentsAPI=[],this.commentsDB=[]}ngOnInit(){this.router.params.subscribe(t=>{this.id=t.id,this.getMovieById(this.id),this.getSimilarMovie(this.id),this.getVideo(this.id),this.getImagesByMovieId(this.id),this.getReviewsFromDB(this.id),this.getReviewsFromAPI(this.id)})}getVideo(t){this.dataService.getVideo(t).subscribe(e=>{this.videoKey="https://www.youtube.com/embed/"+e.results[0].key+"?autoplay=1",this.safeURL=this._sanitizer.bypassSecurityTrustResourceUrl(this.videoKey)})}getMovieById(t){this.dataService.getMovie(t).subscribe(e=>{this.movie=e})}getSimilarMovie(t){this.dataService.getSimilarMovies(t).subscribe(e=>{this.similarMovies=e.results})}getReviewsFromAPI(t){this.dataService.getReviews(t).subscribe(e=>{this.commentsAPI=e.results})}getReviewsFromDB(t){this.databaseService.getAllCommentsFromMovieID(t).subscribe(e=>{this.commentsDB=e})}getImagesByMovieId(t){this.dataService.getImages(t).subscribe(e=>{this.images=e.posters})}addFavoriteMovie(t){this.databaseService.addMovie(t)}}lw.\u0275fac=function(t){return new(t||lw)(s.Y36(_a),s.Y36(Mo),s.Y36(Dd),s.Y36(Sl),s.Y36(Qu))},lw.\u0275cmp=s.Xpm({type:lw,selectors:[["app-movie-details"]],decls:30,vars:22,consts:[[1,"banner",3,"src"],[1,"container",2,"margin-top","130px"],[1,"header"],["width","300","height","400","alt","",1,"movie-card-img",3,"src"],[2,"display","inline"],["style","display: inline;",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"images",4,"ngIf"],["pButton","","type","button","icon","pi pi-heart","label","Ajouter en favoris","class","p-button-sm",3,"click",4,"ngIf"],[1,"movie-trailer"],[3,"safeURL"],[1,"movie-overview"],[3,"id"],["class","avis",4,"ngIf"],[1,"similar-movies"],[3,"value","autoplayInterval","numVisible","numScroll","circular","responsiveOptions"],["pTemplate","item"],["style","display: inline;",4,"ngIf"],[3,"images"],["pButton","","type","button","icon","pi pi-heart","label","Ajouter en favoris",1,"p-button-sm",3,"click"],[1,"avis"],[3,"commentsDB","commentsAPI","id"],[1,"product-item"],[1,"product-item-content"],[3,"movie","routerLink"]],template:function(t,e){1&t&&(s._UZ(0,"img",0),s.TgZ(1,"div",1)(2,"section",2),s._UZ(3,"img",3),s.TgZ(4,"div")(5,"h1"),s._uU(6),s.qZA(),s.TgZ(7,"p",4),s._uU(8,"\u2022 Genre : "),s.qZA(),s.YNc(9,lW,3,2,"div",5),s.TgZ(10,"div"),s.YNc(11,cW,3,3,"p",6),s.qZA(),s.YNc(12,uW,1,1,"app-gallerie-img",7),s.YNc(13,dW,1,0,"button",8),s.ALo(14,"async"),s.qZA(),s.TgZ(15,"div",9),s._UZ(16,"app-trailer-modal",10),s.qZA()(),s.TgZ(17,"section",11)(18,"h2"),s._uU(19,"Synopsis"),s.qZA(),s.TgZ(20,"p"),s._uU(21),s.qZA()(),s._UZ(22,"app-people",12),s.YNc(23,hW,4,3,"section",13),s.ALo(24,"async"),s.TgZ(25,"section",14)(26,"h2"),s._uU(27,"Films similaires"),s.qZA(),s.TgZ(28,"p-carousel",15),s.YNc(29,fW,3,4,"ng-template",16),s.qZA()()()),2&t&&(s.MGl("src","https://image.tmdb.org/t/p/original",e.movie.backdrop_path,"",s.LSH),s.xp6(3),s.MGl("src","https://image.tmdb.org/t/p/original",e.movie.poster_path,"",s.LSH),s.xp6(3),s.AsE("",e.movie.title," (",e.movie.release_date,")"),s.xp6(3),s.Q6J("ngForOf",e.movie.genres),s.xp6(2),s.Q6J("ngIf",e.movie.runtime>0),s.xp6(1),s.Q6J("ngIf",e.images.length>1),s.xp6(1),s.Q6J("ngIf",s.lcZ(14,18,e.authService.user)),s.xp6(3),s.Q6J("safeURL",e.safeURL),s.xp6(5),s.Oqu(e.movie.overview),s.xp6(1),s.Q6J("id",e.id),s.xp6(1),s.Q6J("ngIf",s.lcZ(24,20,e.authService.user)),s.xp6(5),s.Q6J("value",e.similarMovies)("autoplayInterval",3e3)("numVisible",5)("numScroll",3)("circular",!0)("responsiveOptions",e.responsiveOptions))},dependencies:[ol,hn,Jt,xl,UH,iE,_u,Vb,iw,py,ow,Rr,aw],styles:[".container[_ngcontent-%COMP%]{position:relative}.movie-trailer[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center}.banner[_ngcontent-%COMP%]{position:absolute;height:400px;width:100%;opacity:.3;border-bottom:1px solid #0d6efd}.header[_ngcontent-%COMP%]{display:flex;align-items:flex-end;margin-bottom:40px;width:100%}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-left:auto;cursor:pointer}#play-button[_ngcontent-%COMP%]{background:url(play-button.29082b5add54e225.png) no-repeat;background-size:90px 90px;width:90px;height:90px;border:none}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50px;margin-right:20px}section[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:30px}p[_ngcontent-%COMP%]{margin:0;padding:0}h3[_ngcontent-%COMP%]{margin:20px 0}.cards-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.card[_ngcontent-%COMP%]{margin:0 .5em;border:none;border-radius:0;background-color:#000}.carousel-inner[_ngcontent-%COMP%]{padding:1em}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{background-color:#000;width:5vh;height:5vh;border-radius:50%;top:50%;transform:translateY(-50%)}"]});const gW=function(){return["/register"]};class cw{constructor(t,e,i){this.authService=t,this.router=e,this.document=i,this.request=[],this.email="",this.password=""}ngOnInit(){}login(){this.authService.login(this.email,this.password)}signInWithGoogle(){this.authService.oAuthLogin()}}cw.\u0275fac=function(t){return new(t||cw)(s.Y36(Sl),s.Y36(Mo),s.Y36(ae))},cw.\u0275cmp=s.Xpm({type:cw,selectors:[["app-login"]],decls:27,vars:4,consts:[[1,"container"],[1,"vh-100","row","justify-content-center","align-items-center"],[1,"col-md-9","col-lg-8","col-xl-5"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp","alt","Sample image",1,"img-fluid"],[1,"col-md-8","col-lg-6","col-xl-5","offset-xl-1"],[1,"d-flex","flex-row","align-items-center","justify-content-lg-start"],[1,"form-outline","mb-4"],[1,"form-label"],["type","email","name","email","placeholder","Adresse mail",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"form-outline","mb-3"],["type","password","name","password","placeholder","Mot de passe",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"d-flex","text-center","text-lg-start","mt-4","pt-2"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[2,"border-radius","10px","padding","5px","margin-left","15px",3,"click"],["width","20px","alt","Google sign-in","src","https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png",2,"margin-bottom","3px","margin-right","5px"],[1,"small","fw-bold","mt-2","pt-1","mb-0"],["href","#!",1,"link-danger",3,"routerLink"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"div",4)(5,"form")(6,"div",5)(7,"h1"),s._uU(8,"Connexion"),s.qZA()(),s.TgZ(9,"div",6)(10,"label",7),s._uU(11,"Adresse mail"),s.qZA(),s.TgZ(12,"input",8),s.NdJ("ngModelChange",function(r){return e.email=r}),s.qZA()(),s.TgZ(13,"div",9)(14,"label",7),s._uU(15,"Mot de passe"),s.qZA(),s.TgZ(16,"input",10),s.NdJ("ngModelChange",function(r){return e.password=r}),s.qZA()(),s.TgZ(17,"div",11)(18,"button",12),s.NdJ("click",function(){return e.login()}),s._uU(19,"Se connecter"),s.qZA(),s.TgZ(20,"button",13),s.NdJ("click",function(){return e.signInWithGoogle()}),s._UZ(21,"img",14),s._uU(22,"Se connecter avec Google"),s.qZA()(),s.TgZ(23,"p",15),s._uU(24,"Vous n'avez pas encore de compte ? "),s.TgZ(25,"a",16),s._uU(26,"Creer un compte"),s.qZA()()()()()()),2&t&&(s.xp6(12),s.Q6J("ngModel",e.email),s.xp6(4),s.Q6J("ngModel",e.password),s.xp6(9),s.Q6J("routerLink",s.DdM(3,gW)))},dependencies:[ol,dM,ey,Bb,XA,pg,zb]});class uw{constructor(t,e){this.authService=t,this.router=e,this.email="",this.password=""}ngOnInit(){}register(){this.authService.register(this.email,this.password)}}uw.\u0275fac=function(t){return new(t||uw)(s.Y36(Sl),s.Y36(Mo))},uw.\u0275cmp=s.Xpm({type:uw,selectors:[["app-register"]],decls:24,vars:2,consts:[[1,"container"],[1,"vh-100","row","justify-content-center","align-items-center"],[1,"col-md-9","col-lg-8","col-xl-5"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp","alt","Sample image",1,"img-fluid"],[1,"col-md-8","col-lg-6","col-xl-5","offset-xl-1"],[1,"d-flex","flex-row","align-items-center","justify-content-lg-start"],[1,"form-outline","mb-4"],["for","form3Example3",1,"form-label"],["type","email","name","email","id","form3Example3","placeholder","Adresse mail",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"form-outline","mb-3"],["for","form3Example4",1,"form-label"],["type","password","name","password","id","form3Example4","placeholder","Mot de passe",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"text-lg-start","mt-4","pt-2"],["type","button",1,"btn","btn-primary","btn-lg",2,"padding-left","2.5rem","padding-right","2.5rem",3,"click"],[1,"small","fw-bold","mt-2","pt-1","mb-0"],["href","#!",1,"link-danger"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"div",4)(5,"form")(6,"div",5)(7,"h1"),s._uU(8,"Creer un compte"),s.qZA()(),s.TgZ(9,"div",6)(10,"label",7),s._uU(11,"Adresse mail"),s.qZA(),s.TgZ(12,"input",8),s.NdJ("ngModelChange",function(r){return e.email=r}),s.qZA()(),s.TgZ(13,"div",9)(14,"label",10),s._uU(15,"Mot de passe"),s.qZA(),s.TgZ(16,"input",11),s.NdJ("ngModelChange",function(r){return e.password=r}),s.qZA()(),s.TgZ(17,"div",12)(18,"button",13),s.NdJ("click",function(){return e.register()}),s._uU(19,"Creer un compte"),s.qZA(),s.TgZ(20,"p",14),s._uU(21,"Vous avez deja un compte ? "),s.TgZ(22,"a",15),s._uU(23,"Se connecter"),s.qZA()()()()()()()),2&t&&(s.xp6(12),s.Q6J("ngModel",e.email),s.xp6(4),s.Q6J("ngModel",e.password))},dependencies:[dM,ey,Bb,XA,pg,zb]});const mW=function(){return["/movies"]};class dw{}dw.\u0275fac=function(t){return new(t||dw)},dw.\u0275cmp=s.Xpm({type:dw,selectors:[["app-home"]],decls:13,vars:2,consts:[[1,"grid","grid-nogutter","surface-section","text-900"],[1,"col-10","md:col-6","p-6","text-center","md:text-left","flex","align-items-center"],[1,"block","text-6xl","font-bold","mb-1"],[1,"text-3xl","text-primary","font-bold","mb-3"],[1,"mt-0","mb-4","text-700","line-height-3"],["type","button",1,"btn","btn-primary","btn-lg",3,"routerLink"],[1,"col-10","md:col-6",2,"overflow","hidden"],["src","assets/bannerImg.jpg","alt","Image",1,"md:ml-auto","block","md:h-full",2,"clip-path","polygon(8% 0, 100% 0%, 100% 100%, 0 100%)"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"section")(3,"span",2),s._uU(4,"Movie News"),s.qZA(),s.TgZ(5,"div",3),s._uU(6,"Venez d\xe9couvrir des films"),s.qZA(),s.TgZ(7,"p",4),s._uU(8,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),s.qZA(),s.TgZ(9,"button",5),s._uU(10,"Voir les films"),s.qZA()()(),s.TgZ(11,"div",6),s._UZ(12,"img",7),s.qZA()()),2&t&&(s.xp6(9),s.Q6J("routerLink",s.DdM(1,mW)))},dependencies:[ol],styles:[".grid[_ngcontent-%COMP%]{height:auto;width:100%;position:absolute;top:110px;bottom:0}"]});var _W=L(1764);let yW=(()=>{class n{constructor(e){this.host=e,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const e=Ke.getFocusableElements(this.host.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),n})(),vW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();const bW=["overlay"],wW=["content"];function TW(n,t){1&n&&s.GkF(0)}const IW=function(n,t,e){return{showTransitionParams:n,hideTransitionParams:t,transform:e}},EW=function(n){return{value:"visible",params:n}},CW=function(n){return{mode:n}},DW=function(n){return{$implicit:n}};function SW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1,3),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onOverlayContentAnimationDone(r))}),s.Hsn(2),s.YNc(3,TW,1,0,"ng-container",4),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.contentStyleClass),s.Q6J("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",s.VKq(11,EW,s.kEZ(7,IW,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),s.xp6(3),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.VKq(15,DW,s.VKq(13,CW,e.overlayMode)))}}const xW=function(n,t,e,i,r,o,u,h,g,y,w,S,M,R){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":o,"p-overlay-bottom-start":u,"p-overlay-bottom-end":h,"p-overlay-left":g,"p-overlay-left-start":y,"p-overlay-left-end":w,"p-overlay-right":S,"p-overlay-right-start":M,"p-overlay-right-end":R}};function AW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1,2),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayClick(r))}),s.YNc(2,SW,4,17,"div",0),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass",s.rFY(5,xW,[e.modal,e.modal&&"center"===e.overlayResponsiveDirection,e.modal&&"top"===e.overlayResponsiveDirection,e.modal&&"top-start"===e.overlayResponsiveDirection,e.modal&&"top-end"===e.overlayResponsiveDirection,e.modal&&"bottom"===e.overlayResponsiveDirection,e.modal&&"bottom-start"===e.overlayResponsiveDirection,e.modal&&"bottom-end"===e.overlayResponsiveDirection,e.modal&&"left"===e.overlayResponsiveDirection,e.modal&&"left-start"===e.overlayResponsiveDirection,e.modal&&"left-end"===e.overlayResponsiveDirection,e.modal&&"right"===e.overlayResponsiveDirection,e.modal&&"right-start"===e.overlayResponsiveDirection,e.modal&&"right-end"===e.overlayResponsiveDirection])),s.xp6(2),s.Q6J("ngIf",e.visible)}}const MW=["*"],OW={provide:fs,useExisting:(0,s.Gpc)(()=>TL),multi:!0},NW=Qk([X_({transform:"{{transform}}",opacity:0}),rE("{{showTransitionParams}}")]),PW=Qk([rE("{{hideTransitionParams}}",X_({transform:"{{transform}}",opacity:0}))]);let TL=(()=>{class n{constructor(e,i,r,o,u,h){this.document=e,this.el=i,this.renderer=r,this.config=o,this.overlayService=u,this.zone=h,this.visibleChange=new s.vpe,this.onBeforeShow=new s.vpe,this.onShow=new s.vpe,this.onBeforeHide=new s.vpe,this.onHide=new s.vpe,this.onAnimationStart=new s.vpe,this.onAnimationDone=new s.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return Pn.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return Pn.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return Pn.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return Pn.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){const e=this._target||this.overlayOptions?.target;return void 0===e?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){const e=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===e||e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){const e=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===e?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){const e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===e?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){const e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===e?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}get modal(){return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return Ke.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(e=>{e.getType(),this.contentTemplate=e.template})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&Ke.focus(this.targetEl),this.modal&&Ke.addClass(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&Ke.focus(this.targetEl),this.modal&&Ke.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&Ke.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(e){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Vh.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),Ke.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&Ke.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){const i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.show(i,!0),this.bindListeners();break;case"void":this.hide(i,!0),this.unbindListeners(),Ke.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Vh.clear(i),this.modalVisible=!1}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&this.config?.overlayOptions[e]&&this.config?.overlayOptions[e](i)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new zk(this.targetEl,e=>{(!this.listener||this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{const r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target))||this.isOverlayContentClicked);(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:3!==e.which&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!Ke.isTouchDevice()}):!Ke.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{this.overlayOptions.hideOnEscape&&27===e.keyCode&&(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!Ke.isTouchDevice()}):!Ke.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(Ke.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Vh.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ae),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Y_),s.Y36(fH),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-overlay"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,xl,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(bW,5),s.Gf(wW,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.overlayViewChild=r.first),s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[s._Bn([OW])],ngContentSelectors:MW,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,AW,3,20,"div",0)),2&e&&s.Q6J("ngIf",i.modalVisible)},dependencies:[Ct,Jt,ni,En],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[Kk("overlayContentAnimation",[sE(":enter",[Jk(NW)]),sE(":leave",[Jk(PW)])])]},changeDetection:0}),n})(),IL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Qs,Qs]}),n})();const kW=["element"],RW=["content"];function FW(n,t){1&n&&s.GkF(0)}const jM=function(n,t){return{$implicit:n,options:t}};function LW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,FW,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.WLB(2,jM,e.loadedItems,e.getContentOptions()))}}function VW(n,t){1&n&&s.GkF(0)}function BW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,VW,1,0,"ng-container",7),s.BQk()),2&n){const e=t.$implicit,i=t.index,r=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(2,jM,e,r.getOptions(i)))}}const UW=function(n){return{"p-scroller-loading":n}};function HW(n,t){if(1&n&&(s.TgZ(0,"div",8,9),s.YNc(2,BW,2,5,"ng-container",10),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("ngClass",s.VKq(4,UW,e.d_loading))("ngStyle",e.contentStyle),s.xp6(2),s.Q6J("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function GW(n,t){if(1&n&&s._UZ(0,"div",11),2&n){const e=s.oxw(2);s.Q6J("ngStyle",e.spacerStyle)}}function $W(n,t){1&n&&s.GkF(0)}const jW=function(n){return{numCols:n}},EL=function(n){return{options:n}};function zW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,$W,1,0,"ng-container",7),s.BQk()),2&n){const e=t.index,i=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",s.VKq(4,EL,i.getLoaderOptions(e,i.both&&s.VKq(2,jW,i._numItemsInViewport.cols))))}}function WW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,zW,2,6,"ng-container",14),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.loaderArr)}}function ZW(n,t){1&n&&s.GkF(0)}const qW=function(){return{styleClass:"p-scroller-loading-icon"}};function KW(n,t){if(1&n&&(s.ynx(0),s.YNc(1,ZW,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",s.VKq(3,EL,s.DdM(2,qW)))}}function YW(n,t){1&n&&s._UZ(0,"i",16)}function QW(n,t){if(1&n&&(s.YNc(0,KW,2,5,"ng-container",0),s.YNc(1,YW,1,0,"ng-template",null,15,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw(3);s.Q6J("ngIf",i.loaderIconTemplate)("ngIfElse",e)}}const JW=function(n){return{"p-component-overlay":n}};function XW(n,t){if(1&n&&(s.TgZ(0,"div",12),s.YNc(1,WW,2,1,"ng-container",0),s.YNc(2,QW,3,2,"ng-template",null,13,s.W1O),s.qZA()),2&n){const e=s.MAs(3),i=s.oxw(2);s.Q6J("ngClass",s.VKq(3,JW,!i.loaderTemplate)),s.xp6(1),s.Q6J("ngIf",i.loaderTemplate)("ngIfElse",e)}}const eZ=function(n,t,e){return{"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":t,"p-horizontal-scroll":e}};function tZ(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",2,3),s.NdJ("scroll",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onContainerScroll(r))}),s.YNc(3,LW,2,5,"ng-container",0),s.YNc(4,HW,3,6,"ng-template",null,4,s.W1O),s.YNc(6,GW,1,1,"div",5),s.YNc(7,XW,4,5,"div",6),s.qZA(),s.BQk()}if(2&n){const e=s.MAs(5),i=s.oxw();s.xp6(1),s.Tol(i._styleClass),s.Q6J("ngStyle",i._style)("ngClass",s.kEZ(10,eZ,i.inline,i.both,i.horizontal)),s.uIk("id",i._id)("tabindex",i.tabindex),s.xp6(2),s.Q6J("ngIf",i.contentTemplate)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i._showSpacer),s.xp6(1),s.Q6J("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function nZ(n,t){1&n&&s.GkF(0)}const iZ=function(n,t){return{rows:n,columns:t}};function rZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,nZ,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.WLB(5,jM,e.items,s.WLB(2,iZ,e._items,e.loadedColumns)))}}function sZ(n,t){if(1&n&&(s.Hsn(0),s.YNc(1,rZ,2,8,"ng-container",17)),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.contentTemplate)}}const oZ=["*"];let aZ=(()=>{class n{constructor(e,i){this.cd=e,this.zone=i,this.onLazyLoad=new s.vpe,this.onScroll=new s.vpe,this.onScrollIndexChange=new s.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.isRangeChanged=!1,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){const{previousValue:r,currentValue:o}=e.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){const{previousValue:r,currentValue:o}=e.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(e.options){const{previousValue:r,currentValue:o}=e.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading,i=!0),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Ke.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=Ke.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=Ke.getHeight(this.elementViewChild.nativeElement),this.defaultContentWidth=Ke.getWidth(this.contentEl),this.defaultContentHeight=Ke.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||Ke.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(e){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){const{numToleratedItems:r}=this.calculateNumItems(),o=this.getContentPosition(),u=(w=0,S)=>w<=S?0:w,h=(w,S,M)=>w*S+M,g=(w=0,S=0)=>this.scrollTo({left:w,top:S,behavior:i});let y=0;this.both?(y={rows:u(e[0],r[0]),cols:u(e[1],r[1])},g(h(y.cols,this._itemSize[1],o.left),h(y.rows,this._itemSize[0],o.top))):(y=u(e,r),this.horizontal?g(h(y,this._itemSize,o.left),0):g(0,h(y,this._itemSize,o.top))),this.isRangeChanged=this.first!==y,this.first=y}scrollInView(e,i,r="auto"){if(i){const{first:o,viewport:u}=this.getRenderedRange(),h=(w=0,S=0)=>this.scrollTo({left:w,top:S,behavior:r}),y="to-end"===i;if("to-start"===i){if(this.both)u.first.rows-o.rows>e[0]?h(u.first.cols*this._itemSize[1],(u.first.rows-1)*this._itemSize[0]):u.first.cols-o.cols>e[1]&&h((u.first.cols-1)*this._itemSize[1],u.first.rows*this._itemSize[0]);else if(u.first-o>e){const w=(u.first-1)*this._itemSize;this.horizontal?h(w,0):h(0,w)}}else if(y)if(this.both)u.last.rows-o.rows<=e[0]+1?h(u.first.cols*this._itemSize[1],(u.first.rows+1)*this._itemSize[0]):u.last.cols-o.cols<=e[1]+1&&h((u.first.cols+1)*this._itemSize[1],u.first.rows*this._itemSize[0]);else if(u.last-o<=e+1){const w=(u.first+1)*this._itemSize;this.horizontal?h(w,0):h(0,w)}}else this.scrollToIndex(e,r)}getRenderedRange(){const e=(o,u)=>Math.floor(o/(u||o));let i=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:o,scrollLeft:u}=this.elementViewChild.nativeElement;this.both?(i={rows:e(o,this._itemSize[0]),cols:e(u,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=e(this.horizontal?u:o,this._itemSize),r=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){const e=this.getContentPosition(),i=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0,r=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0,o=(y,w)=>Math.ceil(y/(w||y)),u=y=>Math.ceil(y/2),h=this.both?{rows:o(r,this._itemSize[0]),cols:o(i,this._itemSize[1])}:o(this.horizontal?i:r,this._itemSize);return{numItemsInViewport:h,numToleratedItems:this.d_numToleratedItems||(this.both?[u(h.rows),u(h.cols)]:u(h))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),r=(h,g,y,w=!1)=>this.getLast(h+g+(h<y?2:3)*y,w),o=this.first,u=this.both?{rows:r(this.first.rows,e.rows,i[0]),cols:r(this.first.cols,e.cols,i[1],!0)}:r(this.first,e,i);this.last=u,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:o.cols}:0:o,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[e,i]=[Ke.getWidth(this.contentEl),Ke.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[r,o]=[Ke.getWidth(this.elementViewChild.nativeElement),Ke.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=o<this.defaultHeight?o+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),u=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:r,top:o,bottom:u,x:i+r,y:o+u}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,o=(u,h)=>this.elementViewChild.nativeElement.style[u]=h;this.both||this.horizontal?(o("height",r),o("width",i)):o("height",r)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),i=(r,o,u,h=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(o||[]).length*u+h+"px"};this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){const i=e?e.first:this.first,r=(u,h)=>u*h,o=(u=0,h=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${u}px, ${h}px, 0)`};if(this.both)o(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const u=r(i,this._itemSize);this.horizontal?o(u,0):o(0,u)}}}onScrollPositionChange(e){const i=e.target,r=this.getContentPosition(),o=(te,_e)=>te?te>_e?te-_e:te:0,u=(te,_e)=>Math.floor(te/(_e||te)),h=(te,_e,Pe,je,He,We)=>te<=He?He:We?Pe-je-He:_e+He-1,g=(te,_e,Pe,je,He,We,Ye)=>te<=We?0:Math.max(0,Ye?te<_e?Pe:te-We:te>_e?Pe:te-2*We),y=(te,_e,Pe,je,He,We=!1)=>{let Ye=_e+je+2*He;return te>=He&&(Ye+=He+1),this.getLast(Ye,We)},w=o(i.scrollTop,r.top),S=o(i.scrollLeft,r.left);let M=this.both?{rows:0,cols:0}:0,R=this.last,U=!1,Y=this.lastScrollPos;if(this.both){const te=this.lastScrollPos.top<=w,_e=this.lastScrollPos.left<=S;if(!this._appendOnly||this._appendOnly&&(te||_e)){const Pe={rows:u(w,this._itemSize[0]),cols:u(S,this._itemSize[1])},je={rows:h(Pe.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],te),cols:h(Pe.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_e)};M={rows:g(Pe.rows,je.rows,this.first.rows,0,0,this.d_numToleratedItems[0],te),cols:g(Pe.cols,je.cols,this.first.cols,0,0,this.d_numToleratedItems[1],_e)},R={rows:y(Pe.rows,M.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:y(Pe.cols,M.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},U=M.rows!==this.first.rows||R.rows!==this.last.rows||M.cols!==this.first.cols||R.cols!==this.last.cols||this.isRangeChanged,Y={top:w,left:S}}}else{const te=this.horizontal?S:w,_e=this.lastScrollPos<=te;if(!this._appendOnly||this._appendOnly&&_e){const Pe=u(te,this._itemSize);M=g(Pe,h(Pe,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,_e),this.first,0,0,this.d_numToleratedItems,_e),R=y(Pe,M,0,this.numItemsInViewport,this.d_numToleratedItems),U=M!==this.first||R!==this.last||this.isRangeChanged,Y=te}}return{first:M,last:R,isRangeChanged:U,scrollPos:Y}}onScrollChange(e){const{first:i,last:r,isRangeChanged:o,scrollPos:u}=this.onScrollPositionChange(e);if(o){const h={first:i,last:r};if(this.setContentPosition(h),this.first=i,this.last=r,this.lastScrollPos=u,this.handleEvents("onScrollIndexChange",h),this._lazy&&this.isPageChanged){const g={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==g.first||this.lazyLoadState.last!==g.last)&&this.handleEvents("onLazyLoad",g),this.lazyLoadState=g}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(e);(i||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(Ke.isVisible(this.elementViewChild?.nativeElement)){const[e,i]=[Ke.getWidth(this.elementViewChild.nativeElement),Ke.getHeight(this.elementViewChild.nativeElement)],[r,o]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical&&o)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.defaultContentWidth=Ke.getWidth(this.contentEl),this.defaultContentHeight=Ke.getHeight(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const i=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(e,i){const r=this.loaderArr.length;return{index:e,count:r,first:0===e,last:e===r-1,even:e%2==0,odd:e%2!=0,...i}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-scroller"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,xl,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(kW,5),s.Gf(RW,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.elementViewChild=r.first),s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[s.TTD],ngContentSelectors:oZ,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(e,i){if(1&e&&(s.F$t(),s.YNc(0,tZ,8,14,"ng-container",0),s.YNc(1,sZ,2,1,"ng-template",null,1,s.W1O)),2&e){const r=s.MAs(2);s.Q6J("ngIf",!i._disabled)("ngIfElse",r)}},dependencies:[Ct,hn,Jt,ni,En],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),n})(),CL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})(),lZ=(()=>{class n{constructor(e,i,r,o,u){this.el=e,this.zone=i,this.config=r,this.renderer=o,this.changeDetector=u,this.escape=!0,this.autoHide=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0,autoHide:!0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){(this.isAutoHide()||!(Ke.hasClass(e.toElement,"p-tooltip")||Ke.hasClass(e.toElement,"p-tooltip-arrow")||Ke.hasClass(e.toElement,"p-tooltip-text")||Ke.hasClass(e.relatedTarget,"p-tooltip")))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Ke.appendChild(this.container,this.el.nativeElement):Ke.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()||this.bindContainerMouseleaveListener()}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",i=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),Ke.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Vh.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Vh.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+Ke.getWindowScrollLeft(),top:e.top+Ke.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+Ke.getOuterWidth(this.el.nativeElement),r=e.top+(Ke.getOuterHeight(this.el.nativeElement)-Ke.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-Ke.getOuterWidth(this.container),r=e.top+(Ke.getOuterHeight(this.el.nativeElement)-Ke.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(Ke.getOuterWidth(this.el.nativeElement)-Ke.getOuterWidth(this.container))/2,r=e.top-Ke.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(Ke.getOuterWidth(this.el.nativeElement)-Ke.getOuterWidth(this.container))/2,r=e.top+Ke.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return Ke.hasClass(e,"p-inputwrapper")?Ke.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=Ke.getOuterWidth(this.container),u=Ke.getOuterHeight(this.container),h=Ke.getViewport();return r+o>h.width||r<0||i<0||i+u>h.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new zk(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Ke.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Vh.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Y_),s.Y36(s.Qsj),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();function cZ(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();let i;s.xp6(1),s.Oqu(null!==(i=e.label)&&void 0!==i?i:"empty")}}function uZ(n,t){1&n&&s.GkF(0)}const hw=function(n){return{height:n}},dZ=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},zM=function(n){return{$implicit:n}},hZ=["container"],pZ=["filter"],fZ=["in"],gZ=["editableInput"],mZ=["items"],_Z=["scroller"],yZ=["overlay"];function vZ(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function bZ(n,t){1&n&&s.GkF(0)}const wZ=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function TZ(n,t){if(1&n&&(s.TgZ(0,"span",14),s.YNc(1,vZ,2,1,"ng-container",15),s.YNc(2,bZ,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,wZ,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,zM,e.selectedOption))}}const IZ=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function EZ(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,IZ,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function CZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",18,19),s.NdJ("input",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onEditableInputChange(r))})("focus",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onEditableInputFocus(r))})("blur",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onInputBlur(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function DZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",20),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.clear(r))}),s.qZA()}}function SZ(n,t){1&n&&s.GkF(0)}function xZ(n,t){1&n&&s.GkF(0)}const SL=function(n){return{options:n}};function AZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,xZ,1,0,"ng-container",16),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",s.VKq(2,SL,e.filterOptions))}}function MZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",30)(1,"input",31,32),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onKeydown(r,!1))})("input",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onFilterInputChange(r))}),s.qZA(),s._UZ(3,"span",33),s.qZA()}if(2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function OZ(n,t){if(1&n&&(s.TgZ(0,"div",27),s.NdJ("click",function(i){return i.stopPropagation()}),s.YNc(1,AZ,2,4,"ng-container",28),s.YNc(2,MZ,4,4,"ng-template",null,29,s.W1O),s.qZA()),2&n){const e=s.MAs(3),i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",i.filterTemplate)("ngIfElse",e)}}function NZ(n,t){1&n&&s.GkF(0)}const xL=function(n,t){return{$implicit:n,options:t}};function PZ(n,t){if(1&n&&s.YNc(0,NZ,1,0,"ng-container",16),2&n){const e=t.$implicit,i=t.options;s.oxw(2);const r=s.MAs(7);s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(2,xL,e,i))}}function kZ(n,t){1&n&&s.GkF(0)}function RZ(n,t){if(1&n&&s.YNc(0,kZ,1,0,"ng-container",16),2&n){const e=t.options,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,SL,e))}}function FZ(n,t){1&n&&(s.ynx(0),s.YNc(1,RZ,1,4,"ng-template",36),s.BQk())}function LZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-scroller",34,35),s.NdJ("onLazyLoad",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onLazyLoad.emit(r))}),s.YNc(2,PZ,1,5,"ng-template",13),s.YNc(3,FZ,2,0,"ng-container",15),s.qZA()}if(2&n){const e=s.oxw(2);s.Akn(s.VKq(8,hw,e.scrollHeight)),s.Q6J("items",e.optionsToDisplay)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",e.loaderTemplate)}}function VZ(n,t){1&n&&s.GkF(0)}const BZ=function(){return{}};function UZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,VZ,1,0,"ng-container",16),s.BQk()),2&n){s.oxw();const e=s.MAs(7),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(3,xL,i.optionsToDisplay,s.DdM(2,BZ)))}}function HZ(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(4);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function GZ(n,t){1&n&&s.GkF(0)}function $Z(n,t){1&n&&s.GkF(0)}const AL=function(n,t){return{$implicit:n,selectedOption:t}};function jZ(n,t){if(1&n&&(s.TgZ(0,"li",42),s.YNc(1,HZ,2,1,"span",15),s.YNc(2,GZ,1,0,"ng-container",16),s.qZA(),s.YNc(3,$Z,1,0,"ng-container",16)),2&n){const e=t.$implicit,i=s.oxw(2).options,r=s.MAs(5),o=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,hw,i.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!o.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",s.VKq(8,zM,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(10,AL,o.getOptionGroupChildren(e),o.selectedOption))}}function zZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,jZ,4,13,"ng-template",41),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function WZ(n,t){1&n&&s.GkF(0)}function ZZ(n,t){if(1&n&&(s.ynx(0),s.YNc(1,WZ,1,0,"ng-container",16),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.MAs(5),r=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(2,AL,e,r.selectedOption))}}function qZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdownItem",43),s.NdJ("onClick",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onItemClick(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw().selectedOption,r=s.oxw(3);s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function KZ(n,t){1&n&&s.YNc(0,qZ,1,5,"ng-template",41),2&n&&s.Q6J("ngForOf",t.$implicit)}function YZ(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function QZ(n,t){1&n&&s.GkF(0,null,45)}function JZ(n,t){if(1&n&&(s.TgZ(0,"li",44),s.YNc(1,YZ,2,1,"ng-container",28),s.YNc(2,QZ,2,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,hw,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function XZ(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function eq(n,t){1&n&&s.GkF(0,null,46)}function tq(n,t){if(1&n&&(s.TgZ(0,"li",44),s.YNc(1,XZ,2,1,"ng-container",28),s.YNc(2,eq,2,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,hw,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",i.emptyTemplate)}}function nq(n,t){if(1&n&&(s.TgZ(0,"ul",37,38),s.YNc(2,zZ,2,1,"ng-container",15),s.YNc(3,ZZ,2,5,"ng-container",15),s.YNc(4,KZ,1,1,"ng-template",null,39,s.W1O),s.YNc(6,JZ,3,6,"li",40),s.YNc(7,tq,3,6,"li",40),s.qZA()),2&n){const e=t.options,i=s.oxw(2);s.Akn(e.contentStyle),s.Q6J("ngClass",e.contentStyleClass),s.uIk("id",i.listId),s.xp6(2),s.Q6J("ngIf",i.group),s.xp6(1),s.Q6J("ngIf",!i.group),s.xp6(3),s.Q6J("ngIf",i.filterValue&&i.isEmpty()),s.xp6(1),s.Q6J("ngIf",!i.filterValue&&i.isEmpty())}}function iq(n,t){1&n&&s.GkF(0)}function rq(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,SZ,1,0,"ng-container",22),s.YNc(2,OZ,4,2,"div",23),s.TgZ(3,"div",24),s.YNc(4,LZ,4,10,"p-scroller",25),s.YNc(5,UZ,2,6,"ng-container",15),s.YNc(6,nq,8,8,"ng-template",null,26,s.W1O),s.qZA(),s.YNc(8,iq,1,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",e.virtualScroll),s.xp6(1),s.Q6J("ngIf",!e.virtualScroll),s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const sq=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},oq={provide:fs,useExisting:(0,s.Gpc)(()=>WM),multi:!0};let aq=(()=>{class n{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(o){return i.onOptionClick(o)}),s.YNc(1,cZ,2,1,"span",1),s.YNc(2,uZ,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,hw,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,dZ,i.selected,i.disabled)),s.uIk("aria-label",i.label)("aria-selected",i.selected),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(13,zM,i.option)))},dependencies:[Ct,Jt,ni,En,Q_],encapsulation:2}),n})(),WM=(()=>{class n{constructor(e,i,r,o,u,h){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=u,this.config=h,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onLazyLoad=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=$A()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&Pn.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return"number"==typeof this.selectedOption&&(this.selectedOption=this.selectedOption.toString()),this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(jA.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(jA.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?Pn.resolveFieldData(e,this.optionLabel):e&&void 0!==e.label?e.label:e}getOptionValue(e){return this.optionValue?Pn.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}isOptionDisabled(e){return this.optionDisabled?Pn.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?Pn.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Pn.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=Ke.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,"li.p-highlight");e&&Ke.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(e){return Ke.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){if("visible"===e.toState){if(this.itemsWrapper=Ke.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==i&&this.scroller.scrollToIndex(i)}else{let i=Ke.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}"void"===e.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<e;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let u=this.optionsToDisplay[r.groupIndex-1];u&&(this.selectItem(e,this.getOptionGroupChildren(u)[this.getOptionGroupChildren(u).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&17!==e.which&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=e.groupIndex===r?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}for(let r=0;r<=e.groupIndex;r++)for(let o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||Pn.equals(e,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let u=0;u<i.length&&(r=u,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[u])),-1===o);u++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(e,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let u of i)if(o=this.findOption(e,this.getOptionGroupChildren(u),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push({...r,[this.optionGroupChildren]:o})}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Ke.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Ke.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Gk),s.Y36(Y_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,xl,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(hZ,5),s.Gf(pZ,5),s.Gf(fZ,5),s.Gf(gZ,5),s.Gf(mZ,5),s.Gf(_Z,5),s.Gf(yZ,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterViewChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.editableInputViewChild=r.first),s.iGM(r=s.CRH())&&(i.itemsViewChild=r.first),s.iGM(r=s.CRH())&&(i.scroller=r.first),s.iGM(r=s.CRH())&&(i.overlayViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[s._Bn([oq])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return i.onMouseclick(o)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),s.qZA()(),s.YNc(5,TZ,3,13,"span",5),s.YNc(6,EZ,2,4,"span",6),s.YNc(7,CZ,2,4,"input",7),s.YNc(8,DZ,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.TgZ(11,"p-overlay",11,12),s.NdJ("visibleChange",function(o){return i.overlayVisible=o})("onAnimationStart",function(o){return i.onOverlayAnimationStart(o)})("onHide",function(){return i.hide()}),s.YNc(13,rq,9,11,"ng-template",13),s.qZA()()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(27,sq,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled)("autofocus",i.autofocus),s.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("aria-activedescendant",i.overlayVisible?i.labelId:null),s.xp6(2),s.Q6J("ngIf",!i.editable&&null!=i.label),s.xp6(1),s.Q6J("ngIf",!i.editable&&null==i.label),s.xp6(1),s.Q6J("ngIf",i.editable),s.xp6(1),s.Q6J("ngIf",i.isVisibleClearIcon),s.xp6(1),s.uIk("aria-expanded",i.overlayVisible),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("visible",i.overlayVisible)("options",i.overlayOptions)("target","@parent")("appendTo",i.appendTo)("autoZIndex",i.autoZIndex)("baseZIndex",i.baseZIndex)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions))},dependencies:[Ct,hn,Jt,ni,En,TL,xl,lZ,aZ,yW,aq],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),n})(),ZM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,IL,Qs,DL,J_,CL,vW,IL,Qs,CL]}),n})(),lq=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(pg,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)}),2&e&&s.ekj("p-filled",i.filled)}}),n})(),cq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();const uq=["input"];function dq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.clear())}),s.qZA()}}const ML=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},OL=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function hq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonKeyUp())}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonKeyUp())}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,ML))("icon",e.incrementButtonIcon)("disabled",e.disabled),s.xp6(1),s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,OL))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function pq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonKeyUp())}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,ML))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function fq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonKeyUp())}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,OL))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const gq=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},mq={provide:fs,useExisting:(0,s.Gpc)(()=>NL),multi:!0};let NL=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},o),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.parseValue(this.input.nativeElement.value)||0,u=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(u).length||(this.updateInput(u,null,"spin",null),this.updateModel(e,u),this.handleOnInput(e,o,u))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,u=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(o.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(o.charAt(i))||e.preventDefault();break;case 13:u=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(u),this.input.nativeElement.setAttribute("aria-valuenow",u),this.updateModel(e,u);break;case 8:if(e.preventDefault(),i===r){const h=o.charAt(i-1),{decimalCharIndex:g,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const w=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,u=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(h))this._decimal.lastIndex=0,w?this.input.nativeElement.setSelectionRange(i-1,i-1):u=o.slice(0,i-1)+o.slice(i);else if(g>0&&i>g){const S=this.isDecimalMode()&&(this.minFractionDigits||0)<w?"":"0";u=o.slice(0,i-1)+S+o.slice(i)}else 1===y?(u=o.slice(0,i-1)+"0"+o.slice(i),u=this.parseValue(u)>0?u:""):u=o.slice(0,i-1)+o.slice(i)}this.updateValue(e,u,null,"delete-single")}else u=this.deleteRange(o,i,r),this.updateValue(e,u,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const h=o.charAt(i),{decimalCharIndex:g,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const w=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,u=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,w?this.input.nativeElement.setSelectionRange(i+1,i+1):u=o.slice(0,i)+o.slice(i+1);else if(g>0&&i>g){const S=this.isDecimalMode()&&(this.minFractionDigits||0)<w?"":"0";u=o.slice(0,i)+S+o.slice(i+1)}else 1===y?(u=o.slice(0,i)+"0"+o.slice(i+1),u=this.parseValue(u)>0?u:""):u=o.slice(0,i)+o.slice(i+1)}this.updateValue(e,u,null,"delete-back-single")}else u=this.deleteRange(o,i,r),this.updateValue(e,u,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let i=e.which||e.keyCode,r=String.fromCharCode(i);const o=this.isDecimalSign(r),u=this.isMinusSign(r);13!=i&&e.preventDefault(),(48<=i&&i<=57||u||o)&&this.insert(e,r,{isDecimalSign:o,isMinusSign:u})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const o=e.search(this._suffix);this._suffix.lastIndex=0;const u=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:u}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let u=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd,g=this.input.nativeElement.value.trim();const{decimalCharIndex:y,minusCharIndex:w,suffixCharIndex:S,currencyCharIndex:M}=this.getCharIndexes(g);let R;if(r.isMinusSign)0===u&&(R=g,(-1===w||0!==h)&&(R=this.insertText(g,i,0,h)),this.updateValue(e,R,i,"insert"));else if(r.isDecimalSign)y>0&&u===y?this.updateValue(e,g,i,"insert"):(y>u&&y<h||-1===y&&this.maxFractionDigits)&&(R=this.insertText(g,i,u,h),this.updateValue(e,R,i,"insert"));else{const U=this.numberFormat.resolvedOptions().maximumFractionDigits,Y=u!==h?"range-insert":"insert";if(y>0&&u>y){if(u+i.length-(y+1)<=U){const te=M>=u?M-1:S>=u?S:g.length;R=g.slice(0,u)+i+g.slice(u+i.length,te)+g.slice(te),this.updateValue(e,R,i,Y)}}else R=this.insertText(g,i,u,h),this.updateValue(e,R,i,Y)}}insertText(e,i,r,o){if(2===("."===i?i:i.split(".")).length){const h=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,h>0?e.slice(0,r)+this.formatValue(i)+e.slice(o):e||this.formatValue(i)}return o-r===e.length?this.formatValue(i):0===r?i+e.slice(o):o===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(o)}deleteRange(e,i,r){let o;return o=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),o}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,o=null,u=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=u;let h=i.charAt(e);if(this.isNumeralChar(h))return e+u;let g=e-1;for(;g>=0;){if(h=i.charAt(g),this.isNumeralChar(h)){o=g+u;break}g--}if(null!==o)this.input.nativeElement.setSelectionRange(o+1,o+1);else{for(g=e;g<r;){if(h=i.charAt(g),this.isNumeralChar(h)){o=g+u;break}g++}null!==o&&this.input.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==Ke.getSelection()&&this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,o){let u=this.input.nativeElement.value,h=null;null!=i&&(h=this.parseValue(i),h=h||this.allowEmpty?h:0,this.updateInput(h,r,o,i),this.handleOnInput(e,u,h))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r,formattedValue:i})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,o){i=i||"";let u=this.input.nativeElement.value,h=this.formatValue(e),g=u.length;if(h!==o&&(h=this.concatValues(h,o)),0===g){this.input.nativeElement.value=h,this.input.nativeElement.setSelectionRange(0,0);const w=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(w,w)}else{let y=this.input.nativeElement.selectionStart,w=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<h.length)return;this.input.nativeElement.value=h;let S=h.length;if("range-insert"===r){const M=this.parseValue((u||"").slice(0,y)),U=(null!==M?M.toString():"").split("").join(`(${this.groupChar})?`),Y=new RegExp(U,"g");Y.test(h);const te=i.split("").join(`(${this.groupChar})?`),_e=new RegExp(te,"g");_e.test(h.slice(Y.lastIndex)),w=Y.lastIndex+_e.lastIndex,this.input.nativeElement.setSelectionRange(w,w)}else if(S===g)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(w+1,w+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(w-1,w-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(w,w);else if("delete-back-single"===r){let M=u.charAt(w-1),R=u.charAt(w),U=g-S,Y=this._group.test(R);Y&&1===U?w+=1:!Y&&this.isNumeralChar(M)&&(w+=-1*U+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(w,w)}else if("-"===u&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const R=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(R,R)}else w+=S-g,this.input.nativeElement.setSelectionRange(w,w)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?e.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(r)+this.suffixChar:-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&s.Gf(uq,5),2&e){let r;s.iGM(r=s.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([mq]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","tabindex","-1",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(o){return i.onUserInput(o)})("keydown",function(o){return i.onInputKeyDown(o)})("keypress",function(o){return i.onInputKeyPress(o)})("paste",function(o){return i.onPaste(o)})("click",function(){return i.onInputClick()})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),s.qZA(),s.YNc(3,dq,1,0,"i",3),s.YNc(4,hq,3,12,"span",4),s.YNc(5,pq,1,6,"button",5),s.YNc(6,fq,1,6,"button",5),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.kEZ(28,gq,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),s.xp6(1),s.Tol(i.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),s.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),s.xp6(2),s.Q6J("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},dependencies:[Ct,Jt,En,lq,iE],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),PL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,cq,Zk]}),n})();function _q(n,t){1&n&&s.GkF(0)}const qM=function(n){return{$implicit:n}};function yq(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,_q,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",s.VKq(2,qM,e.paginatorState))}}function vq(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.currentPageReport)}}const kE=function(n){return{"p-disabled":n}};function bq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePageToFirst(r))}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(2,kE,e.isFirstPage()||e.empty()))}}const wq=function(n){return{"p-highlight":n}};function Tq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(r){const u=s.CHM(e).$implicit,h=s.oxw(3);return s.KtG(h.onPageLinkClick(r,u-1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("ngClass",s.VKq(2,wq,e-1==i.getPage())),s.xp6(1),s.hij(" ",e," ")}}function Iq(n,t){if(1&n&&(s.TgZ(0,"span",20),s.YNc(1,Tq,2,4,"button",21),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.pageLinks)}}function Eq(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw(3);s.Oqu(e.currentPageReport)}}function Cq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",23),s.NdJ("onChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onPageDropdownChange(r))}),s.YNc(1,Eq,1,1,"ng-template",24),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function Dq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePageToLast(r))}),s._UZ(1,"span",26),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(2,kE,e.isLastPage()||e.empty()))}}function Sq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-inputNumber",27),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePage(r-1))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function xq(n,t){1&n&&s.GkF(0)}function Aq(n,t){if(1&n&&s.YNc(0,xq,1,0,"ng-container",16),2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,qM,e))}}function Mq(n,t){1&n&&(s.ynx(0),s.YNc(1,Aq,1,4,"ng-template",30),s.BQk())}function Oq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",28),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.rows=r)})("onChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onRppChange(r))}),s.YNc(1,Mq,2,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",e.dropdownItemTemplate)}}function Nq(n,t){1&n&&s.GkF(0)}function Pq(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,Nq,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",s.VKq(2,qM,e.paginatorState))}}function kq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,yq,2,4,"div",2),s.YNc(2,vq,2,1,"span",3),s.YNc(3,bq,2,4,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.changePageToPrev(r))}),s._UZ(5,"span",6),s.qZA(),s.YNc(6,Iq,2,1,"span",7),s.YNc(7,Cq,2,5,"p-dropdown",8),s.TgZ(8,"button",9),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.changePageToNext(r))}),s._UZ(9,"span",10),s.qZA(),s.YNc(10,Dq,2,4,"button",11),s.YNc(11,Sq,1,2,"p-inputNumber",12),s.YNc(12,Oq,2,6,"p-dropdown",13),s.YNc(13,Pq,2,4,"div",14),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",e.templateLeft),s.xp6(1),s.Q6J("ngIf",e.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(17,kE,e.isFirstPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showPageLinks),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(19,kE,e.isLastPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",e.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",e.templateRight)}}let Rq=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new s.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(o-r+1))),[r,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let o=e[0];o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&s.YNc(0,kq,14,21,"div",0),2&e&&s.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},dependencies:[Ct,hn,Jt,ni,En,WM,xl,NL,Bb,pg,Q_],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),Fq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,ZM,PL,yM,Qs,J_,ZM,PL,yM,Qs]}),n})();function Lq(n,t){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11),s._UZ(2,"i"),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Tol("p-dataview-loading-icon pi-spin "+e.loadingIcon)}}function Vq(n,t){1&n&&s.GkF(0)}function Bq(n,t){if(1&n&&(s.TgZ(0,"div",12),s.Hsn(1),s.YNc(2,Vq,1,0,"ng-container",13),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}function Uq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",14),s.NdJ("onPageChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.paginate(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function Hq(n,t){1&n&&s.GkF(0)}const Gq=function(n,t){return{$implicit:n,rowIndex:t}};function $q(n,t){if(1&n&&s.YNc(0,Hq,1,0,"ng-container",15),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(2,Gq,e,i))}}function jq(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function zq(n,t){1&n&&s.GkF(0,null,19)}function Wq(n,t){if(1&n&&(s.TgZ(0,"div",16)(1,"div",17),s.YNc(2,jq,2,1,"ng-container",18),s.YNc(3,zq,2,0,"ng-container",13),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",!e.emptyMessageTemplate)("ngIfElse",e.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyMessageTemplate)}}function Zq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",20),s.NdJ("onPageChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.paginate(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function qq(n,t){1&n&&s.GkF(0)}function Kq(n,t){if(1&n&&(s.TgZ(0,"div",21),s.Hsn(1,1),s.YNc(2,qq,1,0,"ng-container",13),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Yq=[[["p-header"]],[["p-footer"]]],Qq=function(n,t){return{"p-dataview p-component":!0,"p-dataview-list":n,"p-dataview-grid":t}},Jq=["p-header","p-footer"];let Xq=(()=>{class n{constructor(e,i,r,o){this.el=e,this.cd=i,this.filterService=r,this.config=o,this.pageLinks=5,this.paginatorPosition="bottom",this.alwaysShowPaginator=!0,this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.emptyMessage="",this.onLazyLoad=new s.vpe,this.gridStyleClass="",this.trackBy=(u,h)=>h,this.loadingIcon="pi pi-spinner",this.first=0,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onChangeLayout=new s.vpe,this._layout="list"}get layout(){return this._layout}set layout(e){this._layout=e,this.initialized&&this.changeLayout(e)}ngOnInit(){this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.initialized=!0}ngOnChanges(e){e.value&&(this._value=e.value.currentValue,this.updateTotalRecords(),!this.lazy&&this.hasFilter()&&this.filter(this.filterValue)),(e.sortField||e.sortOrder)&&(!this.lazy||this.initialized)&&this.sort()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"listItem":this.listItemTemplate=e.template;break;case"gridItem":this.gridItemTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"empty":this.emptyMessageTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}}),this.updateItemTemplate()}updateItemTemplate(){switch(this.layout){case"list":this.itemTemplate=this.listItemTemplate;break;case"grid":this.itemTemplate=this.gridItemTemplate}}changeLayout(e){this._layout=e,this.onChangeLayout.emit({layout:this.layout}),this.updateItemTemplate(),this.cd.markForCheck()}updateTotalRecords(){this.totalRecords=this.lazy?this.totalRecords:this._value?this._value.length:0}paginate(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows})}sort(){this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.value.sort((e,i)=>{let r=Pn.resolveFieldData(e,this.sortField),o=Pn.resolveFieldData(i,this.sortField),u=null;return u=null==r&&null!=o?-1:null!=r&&null==o?1:null==r&&null==o?0:"string"==typeof r&&"string"==typeof o?r.localeCompare(o):r<o?-1:r>o?1:0,this.sortOrder*u}),this.hasFilter()&&this.filter(this.filterValue)),this.onSort.emit({sortField:this.sortField,sortOrder:this.sortOrder})}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder}}getBlockableElement(){return this.el.nativeElement.children[0]}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(jA.EMPTY_MESSAGE)}filter(e,i="contains"){if(this.filterValue=e,this.value&&this.value.length){let r=this.filterBy.split(",");this.filteredValue=this.filterService.filter(this.value,r,e,i,this.filterLocale),this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.first=0,this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0),this.cd.markForCheck()}}hasFilter(){return this.filterValue&&this.filterValue.trim().length>0}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Gk),s.Y36(Y_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dataView"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,$k,5),s.Suo(r,jk,5),s.Suo(r,xl,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.header=o.first),s.iGM(o=s.CRH())&&(i.footer=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{paginator:"paginator",rows:"rows",totalRecords:"totalRecords",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",paginatorPosition:"paginatorPosition",alwaysShowPaginator:"alwaysShowPaginator",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",lazy:"lazy",emptyMessage:"emptyMessage",style:"style",styleClass:"styleClass",gridStyleClass:"gridStyleClass",trackBy:"trackBy",filterBy:"filterBy",filterLocale:"filterLocale",loading:"loading",loadingIcon:"loadingIcon",first:"first",sortField:"sortField",sortOrder:"sortOrder",value:"value",layout:"layout"},outputs:{onLazyLoad:"onLazyLoad",onPage:"onPage",onSort:"onSort",onChangeLayout:"onChangeLayout"},features:[s.TTD],ngContentSelectors:Jq,decls:11,vars:20,consts:[[3,"ngClass","ngStyle"],["class","p-dataview-loading",4,"ngIf"],["class","p-dataview-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],[1,"p-dataview-content"],[1,"p-grid","p-nogutter","grid","grid-nogutter",3,"ngClass"],["ngFor","",3,"ngForOf","ngForTrackBy"],["class","p-col col",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-dataview-footer",4,"ngIf"],[1,"p-dataview-loading"],[1,"p-dataview-loading-overlay","p-component-overlay"],[1,"p-dataview-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-col","col"],[1,"p-dataview-emptymessage"],[4,"ngIf","ngIfElse"],["emptyFilter",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-dataview-footer"]],template:function(e,i){1&e&&(s.F$t(Yq),s.TgZ(0,"div",0),s.YNc(1,Lq,3,2,"div",1),s.YNc(2,Bq,3,1,"div",2),s.YNc(3,Uq,1,16,"p-paginator",3),s.TgZ(4,"div",4)(5,"div",5),s.YNc(6,$q,1,5,"ng-template",6),s.ALo(7,"slice"),s.YNc(8,Wq,4,3,"div",7),s.qZA()(),s.YNc(9,Zq,1,16,"p-paginator",8),s.YNc(10,Kq,3,1,"div",9),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(17,Qq,"list"===i.layout,"grid"===i.layout))("ngStyle",i.style),s.xp6(1),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.header||i.headerTemplate),s.xp6(1),s.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(2),s.Q6J("ngClass",i.gridStyleClass),s.xp6(1),s.Q6J("ngForOf",i.paginator?s.Dn7(7,13,i.filteredValue||i.value,i.lazy?0:i.first,(i.lazy?0:i.first)+i.rows):i.filteredValue||i.value)("ngForTrackBy",i.trackBy),s.xp6(2),s.Q6J("ngIf",i.isEmpty()&&!i.loading),s.xp6(1),s.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",i.footer||i.footerTemplate))},dependencies:[Ct,hn,Jt,ni,En,Rq,Rs],styles:[".p-dataview{position:relative}.p-dataview .p-dataview-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}\n"],encapsulation:2,changeDetection:0}),n})(),e5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Qs,Fq,Qs]}),n})();function t5(n,t){if(1&n&&s._UZ(0,"img",10),2&n){const e=s.oxw();s.s9C("src",e.photoURL,s.LSH)}}function n5(n,t){if(1&n&&s._UZ(0,"img",10),2&n){const e=s.oxw();s.s9C("src",e.notPhotoURL,s.LSH)}}function i5(n,t){1&n&&(s.TgZ(0,"p"),s._uU(1,"Aucuns films n'a \xe9t\xe9 ajout\xe9 en favoris pour l'instant"),s.qZA())}function r5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",17)(1,"span",18)(2,"input",19),s.NdJ("input",function(r){s.CHM(e),s.oxw();const o=s.MAs(2);return s.KtG(o.filter(r.target.value))}),s.qZA()(),s.TgZ(3,"p-dropdown",20),s.NdJ("onChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onSortChange(r))}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(3),s.Q6J("options",e.sortOptions)}}function s5(n,t){if(1&n&&(s.TgZ(0,"div",21)(1,"div",22),s._UZ(2,"img",23),s.TgZ(3,"div",24)(4,"div",25),s._uU(5),s.qZA(),s.TgZ(6,"div",26),s._uU(7),s.qZA()()()()),2&n){const e=t.$implicit;s.xp6(2),s.Q6J("src","https://primefaces.org/cdn/primeng/images/demo/product/"+e.image,s.LSH)("alt",e.name),s.xp6(3),s.Oqu(e.original_title),s.xp6(2),s.Oqu(e.description)}}function o5(n,t){if(1&n&&(s.TgZ(0,"p",39),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.hij("",e.name," ")}}function a5(n,t){if(1&n&&(s.TgZ(0,"p",39),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.hij("",e.name,", ")}}function l5(n,t){if(1&n&&(s.TgZ(0,"div",37),s.YNc(1,o5,2,1,"p",38),s.YNc(2,a5,2,1,"p",38),s.qZA()),2&n){const e=t.last;s.xp6(1),s.Q6J("ngIf",e),s.xp6(1),s.Q6J("ngIf",!e)}}const c5=function(n){return["/movie/",n]},u5=function(n){return{color:n}};function d5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",27)(1,"div",28),s._UZ(2,"div",29),s.TgZ(3,"div",30),s._UZ(4,"img",31),s.TgZ(5,"div"),s._uU(6),s.qZA(),s.TgZ(7,"div",25),s._uU(8),s.qZA(),s.YNc(9,l5,3,2,"div",32),s.TgZ(10,"p"),s._UZ(11,"img",33),s._uU(12),s.qZA()(),s.TgZ(13,"div",34)(14,"p",35),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.filmWatched(o))}),s._uU(15),s.qZA(),s.TgZ(16,"button",36),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.deleteFavoriteMovie(o))}),s.qZA()()()()}if(2&n){const e=t.$implicit;s.xp6(3),s.Q6J("routerLink",s.VKq(9,c5,e.movieId)),s.xp6(1),s.MGl("src","https://image.tmdb.org/t/p/original",e.poster_path,"",s.LSH),s.Q6J("alt",e.name),s.xp6(2),s.Oqu(e.average_note),s.xp6(2),s.Oqu(e.original_title),s.xp6(1),s.Q6J("ngForOf",e.genre),s.xp6(3),s.hij(" ",e.vote_average,"/10"),s.xp6(2),s.Q6J("ngStyle",s.VKq(11,u5,e.watched?"#2196f3":"white")),s.xp6(1),s.Oqu(e.watched?"Film vu":"Film non vu")}}function h5(n,t){if(1&n&&(s.TgZ(0,"div",11)(1,"p-dataView",12,13),s.YNc(3,r5,4,1,"ng-template",14),s.YNc(4,s5,8,4,"ng-template",15),s.YNc(5,d5,17,13,"ng-template",16),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("value",e.favoriteMovies)("paginator",!0)("sortField",e.sortField)("sortOrder",e.sortOrder)("rows",6)}}class pw{constructor(t,e,i){this.authService=t,this.router=e,this.db=i,this.favoriteMovies=[],this.isWatched=!1,this.filmWatchedStatus="Film non vu",this.sortOptions=[],this.comments=[]}ngOnInit(){this.authService.readUser().subscribe(t=>{t&&(this.displayName=t.displayName,this.email=t.email,this.photoURL=t.photoURL,this.notPhotoURL="assets/user.jpg",this.creationTime=_W(t.metadata.creationTime).format("YYYY-MM-D HH:mm:ss"),this.user_id=t.uid,this.showFavoriteMovies()),this.sortOptions=[{label:"Film vu",value:"watched"},{label:"Film non vu",value:"!watched"}]})}showFavoriteMovies(){this.db.getAllFavoriteMovies().subscribe(t=>{this.getFavoriteMovies=t,this.favoriteMovies=this.getFavoriteMovies.map(e=>e)})}deleteFavoriteMovie(t){this.db.deleteFavoriteMovieByID(t)}filmWatched(t){t.watched=!t.watched,this.db.updateWatchedFilm(t)}onSortChange(t){let e=t.value;0===e.indexOf("!")?(this.sortOrder=1,this.sortField=e.substring(1,e.length)):this.sortOrder=-1}}pw.\u0275fac=function(t){return new(t||pw)(s.Y36(Sl),s.Y36(zr),s.Y36(Qu))},pw.\u0275cmp=s.Xpm({type:pw,selectors:[["app-account"]],decls:25,vars:8,consts:[[1,"container","mt-6"],[1,"account"],[1,"account--informations"],[1,"account--informations-avatar"],[3,"ngIf"],[1,"account--informations-details"],[1,"account--informations-statistiques"],[1,"account--informations-favmovies"],[4,"ngIf"],["class","card",4,"ngIf"],["width","120px","height","120px","alt","profile",3,"src"],[1,"card"],["filterBy","original_title","layout","grid",3,"value","paginator","sortField","sortOrder","rows"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],["pTemplate","gridItem"],[1,"flex","flex-column","md:flex-row","md:justify-content-between"],[1,"p-input-icon-left","mb-2","md:mb-0"],["type","search","pInputText","","placeholder","Rechercher par titre de film",3,"input"],["placeholder","Trier","styleClass","mb-2 md:mb-0",3,"options","onChange"],[1,"col-5"],[1,"product-list-item"],[3,"src","alt"],[1,"product-list-detail"],[1,"product-name"],[1,"product-description"],[1,"col-12","md:col-3"],[1,"product-grid-item","card",2,"background","transparent","border-style","solid","border-width","1px","border-color","#272935",";\n                            border-radius","0.3rem"],[1,"product-grid-item-top"],[1,"product-grid-item-content",3,"routerLink"],["width","190","height","220",2,"border-radius","25px",3,"src","alt"],["style","display: inline;font-size: 2px;font-style: italic;",4,"ngFor","ngForOf"],["src","assets/starIcon.png","width","18","height","18","alt",""],[1,"product-grid-item-bottom"],[1,"p-button-sm",2,"cursor","pointer",3,"ngStyle","click"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-sm","p-button-rounded",3,"click"],[2,"display","inline","font-size","2px","font-style","italic"],["style","display: inline;",4,"ngIf"],[2,"display","inline"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0)(1,"h2"),s._uU(2,"Mon compte"),s.qZA(),s.TgZ(3,"div",1)(4,"div",2)(5,"div",3),s.YNc(6,t5,1,1,"ng-template",4),s.YNc(7,n5,1,1,"ng-template",4),s.qZA(),s.TgZ(8,"div",5)(9,"p"),s._uU(10),s.qZA(),s.TgZ(11,"p"),s._uU(12),s.qZA(),s.TgZ(13,"p"),s._uU(14),s.qZA()()(),s.TgZ(15,"h3"),s._uU(16,"Votre compte en quelques chiffres"),s.qZA(),s.TgZ(17,"div",6)(18,"p"),s._uU(19),s.qZA()(),s.TgZ(20,"div",7)(21,"h3"),s._uU(22,"Vos films favoris"),s.qZA(),s.YNc(23,i5,2,0,"p",8),s.YNc(24,h5,6,5,"div",9),s.qZA()()()),2&t&&(s.xp6(6),s.Q6J("ngIf",e.photoURL),s.xp6(1),s.Q6J("ngIf",!e.photoURL),s.xp6(3),s.Oqu(e.displayName),s.xp6(2),s.hij("Adresse mail : ",e.email,""),s.xp6(2),s.hij("Compte cr\xe9e le ",e.creationTime,""),s.xp6(5),s.hij("Nombe de films favoris : ",e.favoriteMovies.length,""),s.xp6(4),s.Q6J("ngIf",0==e.favoriteMovies.length),s.xp6(1),s.Q6J("ngIf",0!=e.favoriteMovies.length))},dependencies:[ol,hn,Jt,En,xl,WM,Xq,iE],styles:[".account--informations[_ngcontent-%COMP%]{display:flex;align-items:center;margin:20px}.account--informations-statistiques[_ngcontent-%COMP%]{padding:20px}.account--informations-avatar[_ngcontent-%COMP%]{margin-right:10px}.product-grid-item[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:10px}.product-grid-item-content[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]     .p-dataview{border:0,2px solid white}.card[_ngcontent-%COMP%]{border:1;background-color:#0f111d;color:#fff}[_nghost-%COMP%]     .p-dataview-header{background-color:#161824;border:none}[_nghost-%COMP%]     .p-dataview-content{background-color:#0f111d}[_nghost-%COMP%]     .p-paginator-bottom{background-color:#0f111d;border:none}input[_ngcontent-%COMP%]{padding:7px 7px 7px 40px;border-radius:25px;border:none;color:#fff;background:url(search-icon.9fd73d47a958560a.png) no-repeat 15px;background-color:#272935;background-size:17px}input[_ngcontent-%COMP%]{margin:.4rem}textarea[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:none}.product-grid-item-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px;align-items:baseline}.product-grid-item-top[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.product-name[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.account--informations-favmovies[_ngcontent-%COMP%]{padding-bottom:200px}"]});class fw{constructor(t,e){this.router=t,this.dataService=e,this.movies=[]}ngOnInit(){this.router.params.subscribe(t=>{this.peoId=t.id,this.peo=this.getPeopleById(this.peoId)})}getPeopleById(t){this.dataService.getPeopleById(t).subscribe(e=>{this.peo=e})}getGender(t){return this.genre=t,2==t?"Homme":1==t?"Femme":"Autre"}getDescription(t){return""==t?1==this.genre?"Pas d'autres informations sur cette actrice...":"Pas d'autres informations sur cet acteur...":t}getProfession(t){return"Acting"==t?"Femme"==this.getGender(this.genre)?"Actrice":"Acteur":t}getimage(t){return null==t?"../../assets/user.jpg":"https://image.tmdb.org/t/p/original/"+t}getBirth(){return null==this.peo.birthday?"--/--/----":this.peo.birthday}getDeath(){return null==this.peo.deathday?"":" - "+this.peo.deathday}getDate(){return this.getBirth()+this.getDeath()}}fw.\u0275fac=function(t){return new(t||fw)(s.Y36(Mo),s.Y36(_a))},fw.\u0275cmp=s.Xpm({type:fw,selectors:[["app-people-detail"]],decls:11,vars:6,consts:[["width","500px",1,"image",3,"src"],[1,"description"]],template:function(t,e){1&t&&(s.TgZ(0,"section"),s._UZ(1,"img",0),s.TgZ(2,"div",1)(3,"strong")(4,"h1"),s._uU(5),s.qZA()(),s._UZ(6,"br"),s.TgZ(7,"p"),s._uU(8),s.qZA(),s.TgZ(9,"p"),s._uU(10),s.qZA()()()),2&t&&(s.xp6(1),s.s9C("src",e.getimage(e.peo.profile_path),s.LSH),s.xp6(4),s.lnq("",e.peo.name," (",e.getGender(e.peo.gender),") ",e.getProfession(e.peo.known_for_department),""),s.xp6(3),s.Oqu(e.getDate()),s.xp6(2),s.Oqu(e.getDescription(e.peo.biography)))},styles:["section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;align-items:center;margin-right:10%;margin-left:10%;margin-top:10%}.image[_ngcontent-%COMP%]{padding:10%}p[_ngcontent-%COMP%]{margin:0}.description[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:20px;box-shadow:0 0 10px #0003}.scrollMoviecontainer[_ngcontent-%COMP%]{scrollbar-width:thin;overflow:auto;display:flex;flex-direction:line;width:100%}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:5px;background-color:#000}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#394159;border-radius:10px}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#303544}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:hover{background-color:#000}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:active{background-color:#000}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:horizontal:active{background-color:#d4d4d4}.cardPeople[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.outerPeople[_ngcontent-%COMP%]{margin:10px}.cards-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.card[_ngcontent-%COMP%]{margin:0 .5em;border:none;border-radius:0;background-color:#000}.carousel-inner[_ngcontent-%COMP%]{padding:1em}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{background-color:#000;width:5vh;height:5vh;border-radius:50%;top:50%;transform:translateY(-50%)}"]});class gw{constructor(t){this.dataService=t,this.moviesData=[],this.p=1,this.total=0,this.adult=!1,this.star=!0}ngOnInit(){this.getTopRatedMovies()}getMoviesList(t){this.star?0===t.target.value.length||0===this.total?this.getTopRatedMovies():this.dataService.getQuerry(t.target.value,this.adult).subscribe(e=>{this.moviesData=e,this.total=e.total_results}):0===t.target.value.length||0===this.total?this.getToplastedMovies():this.dataService.getLatest(this.adult,t.target.value).subscribe(e=>{this.moviesData=e,this.total=e.total_results})}getToplastedMovies(){this.dataService.getLatest(this.adult,"a").subscribe(t=>{this.moviesData=t,this.total=t.total_results})}getTopRatedMovies(){this.dataService.getTopRatedMovies(this.p,this.adult).subscribe(t=>{this.moviesData=t,this.total=t.total_results})}setwithAdult(){this.adult?document.getElementById("adult")?.setAttribute("src","../../assets/family.png"):document.getElementById("adult")?.setAttribute("src","../../assets/pegi18.png"),this.adult=!this.adult}setTopFilm(){this.star||(document.getElementById("filter")?.setAttribute("src","../../assets/etoile.png"),this.getTopRatedMovies()),this.star=!this.star}setTopRecently(){this.star&&(document.getElementById("filter")?.setAttribute("src","../../assets/reveil.png"),this.getToplastedMovies()),this.star=!this.star}}gw.\u0275fac=function(t){return new(t||gw)(s.Y36(_a))},gw.\u0275cmp=s.Xpm({type:gw,selectors:[["app-filter"]],decls:17,vars:3,consts:[[1,"movies-header"],[1,"dropdown"],[1,"dropbtn"],["id","filter","src","assets/etoile.png","width","40","height","40"],[1,"dropdown-content"],["src","assets/etoile.png","width","40","height","40",3,"click"],["src","assets/reveil.png","width","40","height","40",3,"click"],["id","search","type","text","name","search","placeholder","Rechercher un film",3,"keyup"],["id","adult","src","assets/family.png","width","50","height","50","alt","image qui indique si c'est pour adulte",1,"filter__espace__img",3,"click"],[3,"moviesData","p","total"]],template:function(t,e){1&t&&(s.TgZ(0,"section",0)(1,"div")(2,"div",1)(3,"button",2),s._UZ(4,"img",3),s._uU(5," Filtres"),s.qZA(),s.TgZ(6,"div",4)(7,"p")(8,"img",5),s.NdJ("click",function(){return e.setTopFilm()}),s.qZA(),s._uU(9,"Popularit\xe9"),s.qZA(),s.TgZ(10,"p")(11,"img",6),s.NdJ("click",function(){return e.setTopRecently()}),s.qZA(),s._uU(12,"Actualit\xe9"),s.qZA()()(),s.TgZ(13,"input",7),s.NdJ("keyup",function(r){return e.getMoviesList(r)}),s.qZA(),s.TgZ(14,"img",8),s.NdJ("click",function(){return e.setwithAdult()}),s.qZA()()(),s.TgZ(15,"div"),s._UZ(16,"app-movies",9),s.qZA()),2&t&&(s.xp6(16),s.Q6J("moviesData",e.moviesData)("p",e.p)("total",e.total))},dependencies:[yu],styles:[".filter__component[_ngcontent-%COMP%]{text-align:center;width:200px;display:flex;padding:15px 0;justify-content:center;align-items:center;cursor:pointer;position:relative}.filter_img[_ngcontent-%COMP%]{padding-right:10px;margin-bottom:20px}.filter__espace__img[_ngcontent-%COMP%]{border-radius:10px;margin-left:50px}.movies-header[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:90px;padding-bottom:90px;text-align:center}input[_ngcontent-%COMP%]{padding:7px 7px 7px 40px;border-radius:25px;border:none;color:#fff;background:url(search-icon.9fd73d47a958560a.png) no-repeat 15px;background-color:#272935;background-size:17px}.dropbtn[_ngcontent-%COMP%]{background-color:#222336;color:#fff;font-size:15px;padding-right:10px;border:none;cursor:pointer;border-radius:30px;margin-right:20px}.dropdown[_ngcontent-%COMP%]{position:relative;display:inline-block}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#394159;min-width:160px;z-index:1;border-radius:30px}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:10px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%]{background-color:#394159}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:25px;margin-right:10px}"]});const p5=[{path:"",component:dw},{path:"home",redirectTo:"home",pathMatch:"full"},{path:"movies",component:yu},{path:"movie/:id",component:lw},{path:"login",component:cw},{path:"register",component:uw},{path:"account",component:pw},{path:"people",component:py},{path:"peopleCard",component:hy},{path:"peopleDetail/:id",component:fw},{path:"filter",component:gw}];class fy{}function f5(n,t){if(1&n&&(s.TgZ(0,"span",4),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label)}}function g5(n,t){if(1&n&&s._UZ(0,"span",6),2&n){const e=s.oxw(2);s.Tol(e.icon),s.Q6J("ngClass","p-avatar-icon")}}function m5(n,t){if(1&n&&s.YNc(0,g5,1,3,"span",5),2&n){const e=s.oxw(),i=s.MAs(6);s.Q6J("ngIf",e.icon)("ngIfElse",i)}}function _5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"img",8),s.NdJ("error",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.imageError(r))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("src",e.image,s.LSH)}}function y5(n,t){if(1&n&&s.YNc(0,_5,1,1,"img",7),2&n){const e=s.oxw();s.Q6J("ngIf",e.image)}}fy.\u0275fac=function(t){return new(t||fy)},fy.\u0275mod=s.oAB({type:fy}),fy.\u0275inj=s.cJS({imports:[Yp.forRoot(p5),Yp]});const v5=["*"];let b5=(()=>{class n{constructor(){this.size="normal",this.shape="square",this.onImageError=new s.vpe}containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":null!=this.image,"p-avatar-circle":"circle"===this.shape,"p-avatar-lg":"large"===this.size,"p-avatar-xl":"xlarge"===this.size}}imageError(e){this.onImageError.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass"},outputs:{onImageError:"onImageError"},ngContentSelectors:v5,decls:7,vars:6,consts:[[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],["iconTemplate",""],["imageTemplate",""],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"src","error"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.YNc(2,f5,2,1,"span",1),s.YNc(3,m5,1,2,"ng-template",null,2,s.W1O),s.YNc(5,y5,1,1,"ng-template",null,3,s.W1O),s.qZA()),2&e){const r=s.MAs(4);s.Tol(i.styleClass),s.Q6J("ngClass",i.containerClass())("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",i.label)("ngIfElse",r)}},dependencies:[Ct,Jt,En],styles:[".p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}\n"],encapsulation:2,changeDetection:0}),n})(),w5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();const T5=function(){return["/login"]};function I5(n,t){1&n&&(s.TgZ(0,"button",13),s._uU(1,"Se connecter"),s.qZA()),2&n&&s.Q6J("routerLink",s.DdM(1,T5))}const kL=function(){return["/register"]};function E5(n,t){1&n&&(s.TgZ(0,"button",14),s._uU(1,"Creer un compte"),s.qZA()),2&n&&s.Q6J("routerLink",s.DdM(1,kL))}const RL=function(){return["/account"]};function C5(n,t){if(1&n&&s._UZ(0,"p-avatar",15),2&n){const e=s.oxw();s.s9C("image",e.photoURL),s.Q6J("routerLink",s.DdM(2,RL))}}function D5(n,t){if(1&n&&s._UZ(0,"p-avatar",16),2&n){const e=s.oxw();s.s9C("image",e.notPhotoUrl),s.Q6J("routerLink",s.DdM(2,RL))}}function S5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onLogout())}),s._uU(1,"Se deconnecter"),s.qZA()}2&n&&s.Q6J("routerLink",s.DdM(1,kL))}const FL=function(){return["/"]},x5=function(){return["/filter"]};class mw{constructor(t){this.authService=t}ngOnInit(){this.authService.readUser().subscribe(t=>{t&&(this.photoURL=t.photoURL,this.notPhotoUrl="assets/user.jpg")})}loggedIn(){return localStorage.getItem("token")}onLogout(){localStorage.removeItem("token"),this.authService.signOut()}}mw.\u0275fac=function(t){return new(t||mw)(s.Y36(Sl))},mw.\u0275cmp=s.Xpm({type:mw,selectors:[["app-header"]],decls:17,vars:11,consts:[[1,"navbar","navbar-expand-lg",2,"background-color","#161824"],[1,"navbar-brand","me-2"],["src","assets/brand-logo.png","height","80","width","120",3,"routerLink"],["id","navbarButtonsExample",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"d-flex","align-items-center"],["type","button","class","btn",3,"routerLink",4,"ngIf"],["type","button","class","btn btn-primary me-3",3,"routerLink",4,"ngIf"],["style","margin-right: 10px;","type","button",3,"image","routerLink",4,"ngIf"],["style","margin-right: 10px;","type","button",3,"routerLink","image",4,"ngIf"],["type","button","class","btn btn-primary me-3",3,"routerLink","click",4,"ngIf"],["type","button",1,"btn",3,"routerLink"],["type","button",1,"btn","btn-primary","me-3",3,"routerLink"],["type","button",2,"margin-right","10px",3,"image","routerLink"],["type","button",2,"margin-right","10px",3,"routerLink","image"],["type","button",1,"btn","btn-primary","me-3",3,"routerLink","click"]],template:function(t,e){1&t&&(s.TgZ(0,"nav",0)(1,"a",1),s._UZ(2,"img",2),s.qZA(),s.TgZ(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),s._uU(7,"Accueil"),s.qZA()(),s.TgZ(8,"li",5)(9,"a",6),s._uU(10,"Films"),s.qZA()()(),s.TgZ(11,"div",7),s.YNc(12,I5,2,2,"button",8),s.YNc(13,E5,2,2,"button",9),s.YNc(14,C5,1,3,"p-avatar",10),s.YNc(15,D5,1,3,"p-avatar",11),s.YNc(16,S5,2,2,"button",12),s.qZA()()()),2&t&&(s.xp6(2),s.Q6J("routerLink",s.DdM(8,FL)),s.xp6(4),s.Q6J("routerLink",s.DdM(9,FL)),s.xp6(3),s.Q6J("routerLink",s.DdM(10,x5)),s.xp6(3),s.Q6J("ngIf",!e.loggedIn()),s.xp6(1),s.Q6J("ngIf",!e.loggedIn()),s.xp6(1),s.Q6J("ngIf",e.loggedIn()&&e.photoURL),s.xp6(1),s.Q6J("ngIf",e.loggedIn()&&!e.photoURL),s.xp6(1),s.Q6J("ngIf",e.loggedIn()))},dependencies:[ol,Jt,b5],styles:[".nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}"]});class _w{}function A5(n,t){1&n&&s._UZ(0,"app-footer")}_w.\u0275fac=function(t){return new(t||_w)},_w.\u0275cmp=s.Xpm({type:_w,selectors:[["app-footer"]],decls:1,vars:0,template:function(t,e){1&t&&s._UZ(0,"footer")},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{background:#fcfcfc;font-family:sans-serif}footer[_ngcontent-%COMP%]{background-color:#161824;width:100%;height:100px}"]});class yw{constructor(t){this.router=t,this.title="MovieProject"}}yw.\u0275fac=function(t){return new(t||yw)(s.Y36(zr))},yw.\u0275cmp=s.Xpm({type:yw,selectors:[["app-root"]],decls:12,vars:1,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href","/"],[4,"ngif"]],template:function(t,e){1&t&&(s.TgZ(0,"html",0)(1,"head"),s._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"base",4),s.TgZ(6,"title"),s._uU(7,"Document"),s.qZA()(),s.TgZ(8,"body"),s._UZ(9,"app-header")(10,"router-outlet"),s.YNc(11,A5,1,0,"app-footer",5),s.qZA()()),2&t&&(s.xp6(11),s.Q6J("ngif","home"!==e.router.url))},dependencies:[Vy,mw,_w],styles:["*[_ngcontent-%COMP%]{background-color:#0f111d;color:#fff;box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}"]});let F5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Qs]}),n})();function LL(n){return new s.vHH(3e3,!1)}function _8(){return typeof window<"u"&&typeof window.document<"u"}function KM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function jh(n){switch(n.length){case 0:return new Lb;case 1:return n[0];default:return new eR(n)}}function VL(n,t,e,i,r=new Map,o=new Map){const u=[],h=[];let g=-1,y=null;if(i.forEach(w=>{const S=w.get("offset"),M=S==g,R=M&&y||new Map;w.forEach((U,Y)=>{let te=Y,_e=U;if("offset"!==Y)switch(te=t.normalizePropertyName(te,u),_e){case"!":_e=r.get(Y);break;case Ju:_e=o.get(Y);break;default:_e=t.normalizeStyleValue(Y,te,_e,u)}R.set(te,_e)}),M||h.push(R),y=R,g=S}),u.length)throw function s8(n){return new s.vHH(3502,!1)}();return h}function YM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&QM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&QM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&QM(e,"destroy",n)))}}function QM(n,t,e){const o=JM(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function JM(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Vo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function BL(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let XM=(n,t)=>!1,UL=(n,t,e)=>[],HL=null;function eO(n){const t=n.parentNode||n.host;return t===HL?null:t}(KM()||typeof Element<"u")&&(_8()?(HL=(()=>document.documentElement)(),XM=(n,t)=>{for(;t;){if(t===n)return!0;t=eO(t)}return!1}):XM=(n,t)=>n.contains(t),UL=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Eg=null,GL=!1;const $L=XM,jL=UL;let zL=(()=>{class n{validateStyleProperty(e){return function v8(n){Eg||(Eg=function b8(){return typeof document<"u"?document.body:null}()||{},GL=!!Eg.style&&"WebkitAppearance"in Eg.style);let t=!0;return Eg.style&&!function y8(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Eg.style,!t&&GL&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Eg.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return $L(e,i)}getParentElement(e){return eO(e)}query(e,i,r){return jL(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],g){return new Lb(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),tO=(()=>{class n{}return n.NOOP=new zL,n})();const nO="ng-enter",RE="ng-leave",FE="ng-trigger",LE=".ng-trigger",ZL="ng-animating",iO=".ng-animating";function ed(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:rO(parseFloat(t[1]),t[2])}function rO(n,t){return"s"===t?1e3*n:n}function VE(n,t,e){return n.hasOwnProperty("duration")?n:function I8(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(LL()),{duration:0,delay:0,easing:""};r=rO(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(o=rO(parseFloat(g),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!e){let h=!1,g=t.length;r<0&&(t.push(function L5(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function V5(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(g,0,LL())}return{duration:r,delay:o,easing:u}}(n,t,e)}function vw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function qL(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function zh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function YL(n,t,e){return e?t+":"+e+";":""}function QL(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=YL(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=YL(0,S8(e),n.style[e]));n.setAttribute("style",t)}function xc(n,t,e){n.style&&(t.forEach((i,r)=>{const o=oO(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),KM()&&QL(n))}function Cg(n,t){n.style&&(t.forEach((e,i)=>{const r=oO(i);n.style[r]=""}),KM()&&QL(n))}function bw(n){return Array.isArray(n)?1==n.length?n[0]:Yk(n):n}const sO=new RegExp("{{\\s*(.+?)\\s*}}","g");function JL(n){let t=[];if("string"==typeof n){let e;for(;e=sO.exec(n);)t.push(e[1]);sO.lastIndex=0}return t}function ww(n,t,e){const i=n.toString(),r=i.replace(sO,(o,u)=>{let h=t[u];return null==h&&(e.push(function U5(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function BE(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const D8=/-+([a-z0-9])/g;function oO(n){return n.replace(D8,(...t)=>t[1].toUpperCase())}function S8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function H5(n){return new s.vHH(3004,!1)}()}}function XL(n,t){return window.getComputedStyle(n)[t]}function P8(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function k8(n,t,e){if(":"==n[0]){const g=function R8(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function t8(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function e8(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(e2(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(e2(u,r))}(i,e,t)):e.push(n),e}const $E=new Set(["true","1"]),jE=new Set(["false","0"]);function e2(n,t){const e=$E.has(n)||jE.has(n),i=$E.has(t)||jE.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?$E.has(n):jE.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?$E.has(t):jE.has(t)),u&&h}}const F8=new RegExp("s*:selfs*,?","g");function aO(n,t,e,i){return new L8(n).build(t,e,i)}class L8{constructor(t){this._driver=t}build(t,e,i){const r=new U8(e);return this._resetContextStyleTimingState(r),Bo(this,bw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function $5(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const g=h,y=g.name;y.toString().split(/\s*,\s*/).forEach(w=>{g.name=w,o.push(this.visitState(g,e))}),g.name=y}else if(1==h.type){const g=this.visitTransition(h,e);i+=g.queryCount,r+=g.depCount,u.push(g)}else e.errors.push(function j5(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{JL(g).forEach(y=>{u.hasOwnProperty(y)||o.add(y)})})}),o.size&&(BE(o.values()),e.errors.push(function z5(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Bo(this,bw(t.animation),e);return{type:1,matchers:P8(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Dg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Bo(this,i,e)),options:Dg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Bo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Dg(t.options)}}visitAnimate(t,e){const i=function G8(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return lO(VE(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=lO(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=VE(e,t);return lO(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:X_({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=X_(y)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,e);g.isEmptyStep=h,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Ju?i.push(h):e.errors.push(new s.vHH(3002,!1)):i.push(qL(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let g of h.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,g)=>{const y=e.collectedStyles.get(e.currentQuerySelector),w=y.get(g);let S=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(e.errors.push(function Z5(n,t,e,i,r){return new s.vHH(3010,!1)}()),S=!1),o=w.startTime),S&&y.set(g,{startTime:o,endTime:r}),e.options&&function C8(n,t,e){const i=t.params||{},r=JL(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function B5(n){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function q5(){return new s.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,g=!1,y=0;const w=t.steps.map(_e=>{const Pe=this._makeStyleAst(_e,e);let je=null!=Pe.offset?Pe.offset:function H8(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Pe.styles),He=0;return null!=je&&(o++,He=Pe.offset=je),g=g||He<0||He>1,h=h||He<y,y=He,u.push(He),Pe});g&&e.errors.push(function K5(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function Y5(){return new s.vHH(3200,!1)}());const S=t.steps.length;let M=0;o>0&&o<S?e.errors.push(function Q5(){return new s.vHH(3202,!1)}()):0==o&&(M=1/(S-1));const R=S-1,U=e.currentTime,Y=e.currentAnimateTimings,te=Y.duration;return w.forEach((_e,Pe)=>{const je=M>0?Pe==R?1:M*Pe:u[Pe],He=je*te;e.currentTime=U+Y.delay+He,Y.duration=He,this._validateStyleAst(_e,e),_e.offset=je,i.styles.push(_e)}),i}visitReference(t,e){return{type:8,animation:Bo(this,bw(t.animation),e),options:Dg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Dg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Dg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function V8(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(F8,"")),n=n.replace(/@\*/g,LE).replace(/@\w+/g,e=>LE+"-"+e.slice(1)).replace(/:animating/g,iO),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Vo(e.collectedStyles,e.currentQuerySelector,new Map);const h=Bo(this,bw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Dg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function J5(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:VE(t.timings,e.errors,!0);return{type:12,animation:Bo(this,bw(t.animation),e),timings:i,options:null}}}class U8{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Dg(n){return n?(n=vw(n)).params&&(n.params=function B8(n){return n?vw(n):null}(n.params)):n={},n}function lO(n,t,e){return{duration:n,delay:t,easing:e}}function cO(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class zE{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const z8=new RegExp(":enter","g"),Z8=new RegExp(":leave","g");function uO(n,t,e,i,r,o=new Map,u=new Map,h,g,y=[]){return(new q8).buildKeyframes(n,t,e,i,r,o,u,h,g,y)}class q8{buildKeyframes(t,e,i,r,o,u,h,g,y,w=[]){y=y||new zE;const S=new dO(t,e,y,r,o,w,[]);S.options=g;const M=g.delay?ed(g.delay):0;S.currentTimeline.delayNextStep(M),S.currentTimeline.setStyles([u],null,S.errors,g),Bo(this,i,S);const R=S.timelines.filter(U=>U.containsAnimation());if(R.length&&h.size){let U;for(let Y=R.length-1;Y>=0;Y--){const te=R[Y];if(te.element===e){U=te;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,S.errors,g)}return R.length?R.map(U=>U.buildKeyframes()):[cO(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const u="number"==typeof o?o:ed(ww(o,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?ed(i.duration):null,h=null!=i.delay?ed(i.delay):null;return 0!==u&&t.forEach(g=>{const y=e.appendInstructionToTimeline(g,u,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Bo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=WE);const u=ed(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Bo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?ed(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Bo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return VE(e.params?ww(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(g=>{h.forwardTime((g.offset||0)*o),h.setStyles(g.styles,g.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?ed(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=WE);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let g=null;h.forEach((y,w)=>{e.currentQueryIndex=w;const S=e.createSubContext(t.options,y);o&&S.delayNextStep(o),y===e.element&&(g=S.currentTimeline),Bo(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let g=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const w=e.currentTimeline;g&&w.delayNextStep(g);const S=w.currentTime;Bo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const WE={};class dO{constructor(t,e,i,r,o,u,h,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=WE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new ZE(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=ed(i.duration)),null!=i.delay&&(r.delay=ed(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=ww(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new dO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=WE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new K8(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(z8,"."+this._enterClassName)).replace(Z8,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&u.push(function X5(n){return new s.vHH(3014,!1)}()),h}}class ZE{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ZE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ju),this._currentKeyframe.set(e,Ju);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function Y8(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Ju)}else zh(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,g]of u){const y=ww(g,o,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Ju),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const y=zh(h,new Map,this._backFill);y.forEach((w,S)=>{"!"===w?t.add(S):w===Ju&&e.add(S)}),i||y.set("offset",g/this.duration),r.push(y)});const o=t.size?BE(t.values()):[],u=e.size?BE(e.values()):[];if(i){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return cO(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class K8 extends ZE{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,g=zh(t[0]);g.set("offset",0),o.push(g);const y=zh(t[0]);y.set("offset",r2(h)),o.push(y);const w=t.length-1;for(let S=1;S<=w;S++){let M=zh(t[S]);const R=M.get("offset");M.set("offset",r2((e+R*i)/u)),o.push(M)}i=u,e=0,r="",t=o}return cO(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function r2(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class hO{}const Q8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class J8 extends hO{normalizePropertyName(t,e){return oO(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(Q8.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function G5(n,t){return new s.vHH(3005,!1)}())}return u+o}}function s2(n,t,e,i,r,o,u,h,g,y,w,S,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:g,preStyleProps:y,postStyleProps:w,totalTime:S,errors:M}}const pO={};class o2{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function X8(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,h,g,y,w){const S=[],M=this.ast.options&&this.ast.options.params||pO,U=this.buildStyles(i,h&&h.params||pO,S),Y=g&&g.params||pO,te=this.buildStyles(r,Y,S),_e=new Set,Pe=new Map,je=new Map,He="void"===r,We={params:eK(Y,M),delay:this.ast.options?.delay},Ye=w?[]:uO(t,e,this.ast.animation,o,u,U,te,We,y,S);let xt=0;if(Ye.forEach(Vn=>{xt=Math.max(Vn.duration+Vn.delay,xt)}),S.length)return s2(e,this._triggerName,i,r,He,U,te,[],[],Pe,je,xt,S);Ye.forEach(Vn=>{const Bn=Vn.element,Ai=Vo(Pe,Bn,new Set);Vn.preStyleProps.forEach(Gi=>Ai.add(Gi));const _s=Vo(je,Bn,new Set);Vn.postStyleProps.forEach(Gi=>_s.add(Gi)),Bn!==e&&_e.add(Bn)});const rn=BE(_e.values());return s2(e,this._triggerName,i,r,He,U,te,Ye,rn,Pe,je,xt)}}function eK(n,t){const e=vw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class tK{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=vw(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=ww(u,r,e));const g=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,g,u,e),i.set(h,u)})}),i}}class iK{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new tK(r.style,r.options&&r.options.params||{},i))}),a2(this.states,"true","1"),a2(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new o2(t,r,this.states))}),this.fallbackTransition=function rK(n,t,e){return new o2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function a2(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const sK=new zE;class oK{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=aO(this._driver,e,i,[]);if(i.length)throw function o8(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=VL(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=uO(this._driver,e,o,nO,RE,new Map,new Map,i,sK,r),u.forEach(w=>{const S=Vo(h,w.element,new Map);w.postStyleProps.forEach(M=>S.set(M,null))})):(r.push(function a8(){return new s.vHH(3300,!1)}()),u=[]),r.length)throw function l8(n){return new s.vHH(3504,!1)}();h.forEach((w,S)=>{w.forEach((M,R)=>{w.set(R,this._driver.computeStyle(S,R,Ju))})});const y=jh(u.map(w=>{const S=h.get(w.element);return this._buildPlayer(w,new Map,S)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function c8(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=JM(e,"","","");return YM(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const l2="ng-animate-queued",fO="ng-animate-disabled",dK=[],c2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sa="__ng_removed";class gO{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function mK(n){return n??null}(i?t.value:t),i){const o=vw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Tw="void",mO=new gO(Tw);class pK{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,xa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function u8(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function d8(n){return new s.vHH(3303,!1)}();if(!function _K(n){return"start"==n||"done"==n}(i))throw function h8(n,t){return new s.vHH(3400,!1)}();const o=Vo(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=Vo(this._engine.statesByElement,t,new Map);return h.has(e)||(xa(t,FE),xa(t,FE+"-"+e),h.set(e,mO)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(u);g>=0&&o.splice(g,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function p8(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new _O(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(xa(t,FE),xa(t,FE+"-"+e),this._engine.statesByElement.set(t,h=new Map));let g=h.get(e);const y=new gO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),h.set(e,y),g||(g=mO),y.value!==Tw&&g.value===y.value){if(!function bK(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(g.params,y.params)){const Y=[],te=o.matchStyles(g.value,g.params,Y),_e=o.matchStyles(y.value,y.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{Cg(t,te),xc(t,_e)})}return}const M=Vo(this._engine.playersByElement,t,[]);M.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let R=o.matchTransition(g.value,y.value,t,y.params),U=!1;if(!R){if(!r)return;R=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:g,toState:y,player:u,isFallbackTransition:U}),U||(xa(t,l2),u.onStart(()=>{gy(t,l2)})),u.onDone(()=>{let Y=this.players.indexOf(u);Y>=0&&this.players.splice(Y,1);const te=this._engine.playersByElement.get(t);if(te){let _e=te.indexOf(u);_e>=0&&te.splice(_e,1)}}),this.players.push(u),M.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,LE,!0);i.forEach(r=>{if(r[Sa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((g,y)=>{if(u.set(y,g.value),this._triggers.has(y)){const w=this.trigger(t,y,Tw,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&jh(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,y=i.get(u)||mO,w=new gO(Tw),S=new _O(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:g,fromState:y,toState:w,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Sa];(!o||o===c2)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){xa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const g=JM(o,i.triggerName,i.fromState.value,i.toState.value);g._data=t,YM(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class fK{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new pK(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const g=r.get(h);if(g){const y=i.indexOf(g);i.splice(y+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(qE(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!qE(e))return;const o=e[Sa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),xa(t,fO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),gy(t,fO))}removeNode(t,e,i,r){if(qE(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Sa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return qE(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,LE,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,iO,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return jh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Sa];if(e&&e.setForRemoval){if(t[Sa]=c2,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(fO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)xa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?jh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function f8(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new zE,r=[],o=new Map,u=[],h=new Map,g=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(rt=>{w.add(rt);const wt=this.driver.query(rt,".ng-animate-queued",!0);for(let Bt=0;Bt<wt.length;Bt++)w.add(wt[Bt])});const S=this.bodyNode,M=Array.from(this.statesByElement.keys()),R=h2(M,this.collectedEnterElements),U=new Map;let Y=0;R.forEach((rt,wt)=>{const Bt=nO+Y++;U.set(wt,Bt),rt.forEach(ln=>xa(ln,Bt))});const te=[],_e=new Set,Pe=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const wt=this.collectedLeaveElements[rt],Bt=wt[Sa];Bt&&Bt.setForRemoval&&(te.push(wt),_e.add(wt),Bt.hasAnimation?this.driver.query(wt,".ng-star-inserted",!0).forEach(ln=>_e.add(ln)):Pe.add(wt))}const je=new Map,He=h2(M,Array.from(_e));He.forEach((rt,wt)=>{const Bt=RE+Y++;je.set(wt,Bt),rt.forEach(ln=>xa(ln,Bt))}),t.push(()=>{R.forEach((rt,wt)=>{const Bt=U.get(wt);rt.forEach(ln=>gy(ln,Bt))}),He.forEach((rt,wt)=>{const Bt=je.get(wt);rt.forEach(ln=>gy(ln,Bt))}),te.forEach(rt=>{this.processLeaveNode(rt)})});const We=[],Ye=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(e).forEach(Bt=>{const ln=Bt.player,$i=Bt.element;if(We.push(ln),this.collectedEnterElements.length){const yr=$i[Sa];if(yr&&yr.setForMove){if(yr.previousTriggersValues&&yr.previousTriggersValues.has(Bt.triggerName)){const Xs=yr.previousTriggersValues.get(Bt.triggerName),As=this.statesByElement.get(Bt.element);if(As&&As.has(Bt.triggerName)){const _y=As.get(Bt.triggerName);_y.value=Xs,As.set(Bt.triggerName,_y)}}return void ln.destroy()}}const _o=!S||!this.driver.containsElement(S,$i),$r=je.get($i),Uo=U.get($i),kn=this._buildInstruction(Bt,i,Uo,$r,_o);if(kn.errors&&kn.errors.length)return void Ye.push(kn);if(_o)return ln.onStart(()=>Cg($i,kn.fromStyles)),ln.onDestroy(()=>xc($i,kn.toStyles)),void r.push(ln);if(Bt.isFallbackTransition)return ln.onStart(()=>Cg($i,kn.fromStyles)),ln.onDestroy(()=>xc($i,kn.toStyles)),void r.push(ln);const Nl=[];kn.timelines.forEach(yr=>{yr.stretchStartingKeyframe=!0,this.disabledNodes.has(yr.element)||Nl.push(yr)}),kn.timelines=Nl,i.append($i,kn.timelines),u.push({instruction:kn,player:ln,element:$i}),kn.queriedElements.forEach(yr=>Vo(h,yr,[]).push(ln)),kn.preStyleProps.forEach((yr,Xs)=>{if(yr.size){let As=g.get(Xs);As||g.set(Xs,As=new Set),yr.forEach((_y,xg)=>As.add(xg))}}),kn.postStyleProps.forEach((yr,Xs)=>{let As=y.get(Xs);As||y.set(Xs,As=new Set),yr.forEach((_y,xg)=>As.add(xg))})});if(Ye.length){const rt=[];Ye.forEach(wt=>{rt.push(function g8(n,t){return new s.vHH(3505,!1)}())}),We.forEach(wt=>wt.destroy()),this.reportError(rt)}const xt=new Map,rn=new Map;u.forEach(rt=>{const wt=rt.element;i.has(wt)&&(rn.set(wt,wt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,xt))}),r.forEach(rt=>{const wt=rt.element;this._getPreviousPlayers(wt,!1,rt.namespaceId,rt.triggerName,null).forEach(ln=>{Vo(xt,wt,[]).push(ln),ln.destroy()})});const Vn=te.filter(rt=>f2(rt,g,y)),Bn=new Map;d2(Bn,this.driver,Pe,y,Ju).forEach(rt=>{f2(rt,g,y)&&Vn.push(rt)});const _s=new Map;R.forEach((rt,wt)=>{d2(_s,this.driver,new Set(rt),g,"!")}),Vn.forEach(rt=>{const wt=Bn.get(rt),Bt=_s.get(rt);Bn.set(rt,new Map([...Array.from(wt?.entries()??[]),...Array.from(Bt?.entries()??[])]))});const Gi=[],Ac=[],Mc={};u.forEach(rt=>{const{element:wt,player:Bt,instruction:ln}=rt;if(i.has(wt)){if(w.has(wt))return Bt.onDestroy(()=>xc(wt,ln.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(ln.totalTime),void r.push(Bt);let $i=Mc;if(rn.size>1){let $r=wt;const Uo=[];for(;$r=$r.parentNode;){const kn=rn.get($r);if(kn){$i=kn;break}Uo.push($r)}Uo.forEach(kn=>rn.set(kn,$i))}const _o=this._buildAnimation(Bt.namespaceId,ln,xt,o,_s,Bn);if(Bt.setRealPlayer(_o),$i===Mc)Gi.push(Bt);else{const $r=this.playersByElement.get($i);$r&&$r.length&&(Bt.parentPlayer=jh($r)),r.push(Bt)}}else Cg(wt,ln.fromStyles),Bt.onDestroy(()=>xc(wt,ln.toStyles)),Ac.push(Bt),w.has(wt)&&r.push(Bt)}),Ac.forEach(rt=>{const wt=o.get(rt.element);if(wt&&wt.length){const Bt=jh(wt);rt.setRealPlayer(Bt)}}),r.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<te.length;rt++){const wt=te[rt],Bt=wt[Sa];if(gy(wt,RE),Bt&&Bt.hasAnimation)continue;let ln=[];if(h.size){let _o=h.get(wt);_o&&_o.length&&ln.push(..._o);let $r=this.driver.query(wt,iO,!0);for(let Uo=0;Uo<$r.length;Uo++){let kn=h.get($r[Uo]);kn&&kn.length&&ln.push(...kn)}}const $i=ln.filter(_o=>!_o.destroyed);$i.length?yK(this,wt,$i):this.processLeaveNode(wt)}return te.length=0,Gi.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const wt=this.players.indexOf(rt);this.players.splice(wt,1)}),rt.play()}),Gi}elementContainsData(t,e){let i=!1;const r=e[Sa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const g=!o||o==Tw;h.forEach(y=>{y.queued||!g&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const y=g.element,w=y!==o,S=Vo(i,y,[]);this._getPreviousPlayers(y,w,u,h,e.toState).forEach(R=>{const U=R.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),R.destroy(),S.push(R)})}Cg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,g=e.element,y=[],w=new Set,S=new Set,M=e.timelines.map(U=>{const Y=U.element;w.add(Y);const te=Y[Sa];if(te&&te.removedBeforeQueried)return new Lb(U.duration,U.delay);const _e=Y!==g,Pe=function vK(n){const t=[];return p2(n,t),t}((i.get(Y)||dK).map(xt=>xt.getRealPlayer())).filter(xt=>!!xt.element&&xt.element===Y),je=o.get(Y),He=u.get(Y),We=VL(0,this._normalizer,0,U.keyframes,je,He),Ye=this._buildPlayer(U,We,Pe);if(U.subTimeline&&r&&S.add(Y),_e){const xt=new _O(t,h,Y);xt.setRealPlayer(Ye),y.push(xt)}return Ye});y.forEach(U=>{Vo(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function gK(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,U.element,U))}),w.forEach(U=>xa(U,ZL));const R=jh(M);return R.onDestroy(()=>{w.forEach(U=>gy(U,ZL)),xc(g,e.toStyles)}),S.forEach(U=>{Vo(r,U,[]).push(R)}),R}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Lb(t.duration,t.delay)}}class _O{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Lb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>YM(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Vo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function qE(n){return n&&1===n.nodeType}function u2(n,t){const e=n.style.display;return n.style.display=t??"none",e}function d2(n,t,e,i,r){const o=[];e.forEach(g=>o.push(u2(g)));const u=[];i.forEach((g,y)=>{const w=new Map;g.forEach(S=>{const M=t.computeStyle(y,S,r);w.set(S,M),(!M||0==M.length)&&(y[Sa]=hK,u.push(y))}),n.set(y,w)});let h=0;return e.forEach(g=>u2(g,o[h++])),u}function h2(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let g=o.get(h);if(g)return g;const y=h.parentNode;return g=e.has(y)?y:r.has(y)?1:u(y),o.set(h,g),g}return t.forEach(h=>{const g=u(h);1!==g&&e.get(g).push(h)}),e}function xa(n,t){n.classList?.add(t)}function gy(n,t){n.classList?.remove(t)}function yK(n,t,e){jh(e).onDone(()=>n.processLeaveNode(t))}function p2(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof eR?p2(i.players,t):t.push(i)}}function f2(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class KE{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new fK(t,e,i),this._timelineEngine=new oK(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const g=[],w=aO(this._driver,o,g,[]);if(g.length)throw function r8(n,t){return new s.vHH(3404,!1)}();h=function nK(n,t,e){return new iK(n,t,e)}(r,w,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=BL(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=BL(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let TK=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&xc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xc(this._element,this._initialStyles),this._endStyles&&(xc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cg(this._element,this._endStyles),this._endStyles=null),xc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function yO(n){let t=null;return n.forEach((e,i)=>{(function IK(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class g2{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:XL(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class EK{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return $L(t,e)}getParentElement(t){return eO(t)}query(t,e,i){return jL(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const y=new Map,w=u.filter(R=>R instanceof g2);(function x8(n,t){return 0===n||0===t})(i,r)&&w.forEach(R=>{R.currentSnapshot.forEach((U,Y)=>y.set(Y,U))});let S=function E8(n){return n.length?n[0]instanceof Map?n:n.map(t=>qL(t)):[]}(e).map(R=>zh(R));S=function A8(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(h=>u.set(h,XL(n,h)))}}return t}(t,S,y);const M=function wK(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=yO(t[0]),t.length>1&&(i=yO(t[t.length-1]))):t instanceof Map&&(e=yO(t)),e||i?new TK(n,e,i):null}(t,S);return new g2(t,S,g,M)}}let CK=(()=>{class n extends qk{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Yk(e):e;return m2(this._renderer,null,i,"register",[r]),new DK(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class DK extends $H{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new SK(this._id,t,e||{},this._renderer)}}class SK{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return m2(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function m2(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const _2="@.disabled";let xK=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(o);return w||(w=new y2("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,w)),w}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=w=>{Array.isArray(w)?w.forEach(g):this.engine.registerTrigger(u,h,e,w.name,w)};return i.data.animation.forEach(g),new AK(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(KE),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class y2{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==_2?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class AK extends y2{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==_2?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function MK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function OK(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let NK=(()=>{class n extends KE{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(tO),s.LFG(hO),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const v2=[{provide:qk,useClass:CK},{provide:hO,useFactory:function PK(){return new J8}},{provide:KE,useClass:NK},{provide:s.FYo,useFactory:function kK(n,t,e){return new xK(n,t,e)},deps:[za,KE,s.R0b]}],vO=[{provide:tO,useFactory:()=>new EK},{provide:s.QbO,useValue:"BrowserAnimations"},...v2],b2=[{provide:tO,useClass:zL},{provide:s.QbO,useValue:"NoopAnimations"},...v2];let RK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?b2:vO}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:vO,imports:[cp]}),n})(),WK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Qs,DL,J_,Qs]}),n})();class my{}my.\u0275fac=function(t){return new(t||my)},my.\u0275mod=s.oAB({type:my,bootstrap:[yw]}),my.\u0275inj=s.cJS({imports:[fy,M3,Yp,cp,cD,ZM,yM,HH,e5,zn.hO.initializeApp({apiKey:"AIzaSyAocn01-CB0WZsRKdl6tAxjKMRdqikJXeM",authDomain:"movienews-dc00e.firebaseapp.com",projectId:"movienews-dc00e",storageBucket:"movienews-dc00e.appspot.com",messagingSenderId:"958733125958",appId:"1:958733125958:web:95826e6bc8c5cfca6c7d47",measurementId:"G-C4JFX3FBY7"}),bD,hH,w5,Zk,WK,RK,F5]}),ao().bootstrapModule(my).catch(n=>console.error(n))},1764:function(pt){pt.exports=function(){"use strict";var L=6e4,s=36e5,j="millisecond",k="second",le="minute",he="hour",ae="day",Ie="week",pe="month",we="quarter",Z="year",q="date",ie="Invalid Date",ze=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Re=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Qe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ne){var re=["th","st","nd","rd"],H=ne%100;return"["+ne+(re[(H-20)%10]||re[H]||re[0])+"]"}},st=function(ne,re,H){var W=String(ne);return!W||W.length>=re?ne:""+Array(re+1-W.length).join(H)+ne},be={s:st,z:function(ne){var re=-ne.utcOffset(),H=Math.abs(re),W=Math.floor(H/60),Q=H%60;return(re<=0?"+":"-")+st(W,2,"0")+":"+st(Q,2,"0")},m:function ne(re,H){if(re.date()<H.date())return-ne(H,re);var W=12*(H.year()-re.year())+(H.month()-re.month()),Q=re.clone().add(W,pe),X=H-Q<0,ve=re.clone().add(W+(X?-1:1),pe);return+(-(W+(H-Q)/(X?Q-ve:ve-Q))||0)},a:function(ne){return ne<0?Math.ceil(ne)||0:Math.floor(ne)},p:function(ne){return{M:pe,y:Z,w:Ie,d:ae,D:q,h:he,m:le,s:k,ms:j,Q:we}[ne]||String(ne||"").toLowerCase().replace(/s$/,"")},u:function(ne){return void 0===ne}},Oe="en",xe={};xe[Oe]=Qe;var Fe=function(ne){return ne instanceof Ge},Le=function ne(re,H,W){var Q;if(!re)return Oe;if("string"==typeof re){var X=re.toLowerCase();xe[X]&&(Q=X),H&&(xe[X]=H,Q=X);var ve=re.split("-");if(!Q&&ve.length>1)return ne(ve[0])}else{var De=re.name;xe[De]=re,Q=De}return!W&&Q&&(Oe=Q),Q||!W&&Oe},Ce=function(ne,re){if(Fe(ne))return ne.clone();var H="object"==typeof re?re:{};return H.date=ne,H.args=arguments,new Ge(H)},ye=be;ye.l=Le,ye.i=Fe,ye.w=function(ne,re){return Ce(ne,{locale:re.$L,utc:re.$u,x:re.$x,$offset:re.$offset})};var Ge=function(){function ne(H){this.$L=Le(H.locale,null,!0),this.parse(H)}var re=ne.prototype;return re.parse=function(H){this.$d=function(W){var Q=W.date,X=W.utc;if(null===Q)return new Date(NaN);if(ye.u(Q))return new Date;if(Q instanceof Date)return new Date(Q);if("string"==typeof Q&&!/Z$/i.test(Q)){var ve=Q.match(ze);if(ve){var De=ve[2]-1||0,Xe=(ve[7]||"0").substring(0,3);return X?new Date(Date.UTC(ve[1],De,ve[3]||1,ve[4]||0,ve[5]||0,ve[6]||0,Xe)):new Date(ve[1],De,ve[3]||1,ve[4]||0,ve[5]||0,ve[6]||0,Xe)}}return new Date(Q)}(H),this.$x=H.x||{},this.init()},re.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},re.$utils=function(){return ye},re.isValid=function(){return this.$d.toString()!==ie},re.isSame=function(H,W){var Q=Ce(H);return this.startOf(W)<=Q&&Q<=this.endOf(W)},re.isAfter=function(H,W){return Ce(H)<this.startOf(W)},re.isBefore=function(H,W){return this.endOf(W)<Ce(H)},re.$g=function(H,W,Q){return ye.u(H)?this[W]:this.set(Q,H)},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this.$d.getTime()},re.startOf=function(H,W){var Q=this,X=!!ye.u(W)||W,ve=ye.p(H),De=function(Sn,At){var dt=ye.w(Q.$u?Date.UTC(Q.$y,At,Sn):new Date(Q.$y,At,Sn),Q);return X?dt:dt.endOf(ae)},Xe=function(Sn,At){return ye.w(Q.toDate()[Sn].apply(Q.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(At)),Q)},St=this.$W,Ht=this.$M,Tt=this.$D,kt="set"+(this.$u?"UTC":"");switch(ve){case Z:return X?De(1,0):De(31,11);case pe:return X?De(1,Ht):De(0,Ht+1);case Ie:var ft=this.$locale().weekStart||0,en=(St<ft?St+7:St)-ft;return De(X?Tt-en:Tt+(6-en),Ht);case ae:case q:return Xe(kt+"Hours",0);case he:return Xe(kt+"Minutes",1);case le:return Xe(kt+"Seconds",2);case k:return Xe(kt+"Milliseconds",3);default:return this.clone()}},re.endOf=function(H){return this.startOf(H,!1)},re.$set=function(H,W){var Q,X=ye.p(H),ve="set"+(this.$u?"UTC":""),De=(Q={},Q[ae]=ve+"Date",Q[q]=ve+"Date",Q[pe]=ve+"Month",Q[Z]=ve+"FullYear",Q[he]=ve+"Hours",Q[le]=ve+"Minutes",Q[k]=ve+"Seconds",Q[j]=ve+"Milliseconds",Q)[X],Xe=X===ae?this.$D+(W-this.$W):W;if(X===pe||X===Z){var St=this.clone().set(q,1);St.$d[De](Xe),St.init(),this.$d=St.set(q,Math.min(this.$D,St.daysInMonth())).$d}else De&&this.$d[De](Xe);return this.init(),this},re.set=function(H,W){return this.clone().$set(H,W)},re.get=function(H){return this[ye.p(H)]()},re.add=function(H,W){var Q,X=this;H=Number(H);var ve=ye.p(W),De=function(Ht){var Tt=Ce(X);return ye.w(Tt.date(Tt.date()+Math.round(Ht*H)),X)};if(ve===pe)return this.set(pe,this.$M+H);if(ve===Z)return this.set(Z,this.$y+H);if(ve===ae)return De(1);if(ve===Ie)return De(7);var Xe=(Q={},Q[le]=L,Q[he]=s,Q[k]=1e3,Q)[ve]||1,St=this.$d.getTime()+H*Xe;return ye.w(St,this)},re.subtract=function(H,W){return this.add(-1*H,W)},re.format=function(H){var W=this,Q=this.$locale();if(!this.isValid())return Q.invalidDate||ie;var X=H||"YYYY-MM-DDTHH:mm:ssZ",ve=ye.z(this),De=this.$H,Xe=this.$m,St=this.$M,Ht=Q.weekdays,Tt=Q.months,kt=function(At,dt,tr,yi){return At&&(At[dt]||At(W,X))||tr[dt].slice(0,yi)},ft=function(At){return ye.s(De%12||12,At,"0")},en=Q.meridiem||function(At,dt,tr){var yi=At<12?"AM":"PM";return tr?yi.toLowerCase():yi},Sn={YY:String(this.$y).slice(-2),YYYY:this.$y,M:St+1,MM:ye.s(St+1,2,"0"),MMM:kt(Q.monthsShort,St,Tt,3),MMMM:kt(Tt,St),D:this.$D,DD:ye.s(this.$D,2,"0"),d:String(this.$W),dd:kt(Q.weekdaysMin,this.$W,Ht,2),ddd:kt(Q.weekdaysShort,this.$W,Ht,3),dddd:Ht[this.$W],H:String(De),HH:ye.s(De,2,"0"),h:ft(1),hh:ft(2),a:en(De,Xe,!0),A:en(De,Xe,!1),m:String(Xe),mm:ye.s(Xe,2,"0"),s:String(this.$s),ss:ye.s(this.$s,2,"0"),SSS:ye.s(this.$ms,3,"0"),Z:ve};return X.replace(Re,function(At,dt){return dt||Sn[At]||ve.replace(":","")})},re.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},re.diff=function(H,W,Q){var X,ve=ye.p(W),De=Ce(H),Xe=(De.utcOffset()-this.utcOffset())*L,St=this-De,Ht=ye.m(this,De);return Ht=(X={},X[Z]=Ht/12,X[pe]=Ht,X[we]=Ht/3,X[Ie]=(St-Xe)/6048e5,X[ae]=(St-Xe)/864e5,X[he]=St/s,X[le]=St/L,X[k]=St/1e3,X)[ve]||St,Q?Ht:ye.a(Ht)},re.daysInMonth=function(){return this.endOf(pe).$D},re.$locale=function(){return xe[this.$L]},re.locale=function(H,W){if(!H)return this.$L;var Q=this.clone(),X=Le(H,W,!0);return X&&(Q.$L=X),Q},re.clone=function(){return ye.w(this.$d,this)},re.toDate=function(){return new Date(this.valueOf())},re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toISOString=function(){return this.$d.toISOString()},re.toString=function(){return this.$d.toUTCString()},ne}(),oe=Ge.prototype;return Ce.prototype=oe,[["$ms",j],["$s",k],["$m",le],["$H",he],["$W",ae],["$M",pe],["$y",Z],["$D",q]].forEach(function(ne){oe[ne[1]]=function(re){return this.$g(re,ne[0],ne[1])}}),Ce.extend=function(ne,re){return ne.$i||(ne(re,Ge,Ce),ne.$i=!0),Ce},Ce.locale=Le,Ce.isDayjs=Fe,Ce.unix=function(ne){return Ce(1e3*ne)},Ce.en=xe[Oe],Ce.Ls=xe,Ce.p={},Ce}()},9751:(pt,Me,L)=>{"use strict";L.d(Me,{y:()=>pe});var s=L(930),j=L(727),k=L(8822),le=L(9635),he=L(2416),ae=L(576),Ie=L(2806);let pe=(()=>{class ie{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Qe=new ie;return Qe.source=this,Qe.operator=Re,Qe}subscribe(Re,Qe,st){const be=function q(ie){return ie&&ie instanceof s.Lv||function Z(ie){return ie&&(0,ae.m)(ie.next)&&(0,ae.m)(ie.error)&&(0,ae.m)(ie.complete)}(ie)&&(0,j.Nn)(ie)}(Re)?Re:new s.Hp(Re,Qe,st);return(0,Ie.x)(()=>{const{operator:Oe,source:xe}=this;be.add(Oe?Oe.call(be,xe):xe?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Qe){Re.error(Qe)}}forEach(Re,Qe){return new(Qe=we(Qe))((st,be)=>{const Oe=new s.Hp({next:xe=>{try{Re(xe)}catch(Fe){be(Fe),Oe.unsubscribe()}},error:be,complete:st});this.subscribe(Oe)})}_subscribe(Re){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Re)}[k.L](){return this}pipe(...Re){return(0,le.U)(Re)(this)}toPromise(Re){return new(Re=we(Re))((Qe,st)=>{let be;this.subscribe(Oe=>be=Oe,Oe=>st(Oe),()=>Qe(be))})}}return ie.create=ze=>new ie(ze),ie})();function we(ie){var ze;return null!==(ze=ie??he.v.Promise)&&void 0!==ze?ze:Promise}},7579:(pt,Me,L)=>{"use strict";L.d(Me,{x:()=>Ie});var s=L(9751),j=L(727);const le=(0,L(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=L(8737),ae=L(2806);let Ie=(()=>{class we extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ie=new pe(this,this);return ie.operator=q,ie}_throwIfClosed(){if(this.closed)throw new le}next(q){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(q)}})}error(q){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ie}=this;for(;ie.length;)ie.shift().error(q)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ie,isStopped:ze,observers:Re}=this;return ie||ze?j.Lc:(this.currentObservers=null,Re.push(q),new j.w0(()=>{this.currentObservers=null,(0,he.P)(Re,q)}))}_checkFinalizedStatuses(q){const{hasError:ie,thrownError:ze,isStopped:Re}=this;ie?q.error(ze):Re&&q.complete()}asObservable(){const q=new s.y;return q.source=this,q}}return we.create=(Z,q)=>new pe(Z,q),we})();class pe extends Ie{constructor(Z,q){super(),this.destination=Z,this.source=q}next(Z){var q,ie;null===(ie=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ie||ie.call(q,Z)}error(Z){var q,ie;null===(ie=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ie||ie.call(q,Z)}complete(){var Z,q;null===(q=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===q||q.call(Z)}_subscribe(Z){var q,ie;return null!==(ie=null===(q=this.source)||void 0===q?void 0:q.subscribe(Z))&&void 0!==ie?ie:j.Lc}}},930:(pt,Me,L)=>{"use strict";L.d(Me,{Hp:()=>st,Lv:()=>ie});var s=L(576),j=L(727),k=L(2416),le=L(7849),he=L(5032);const ae=we("C",void 0,void 0);function we(Le,Ce,ye){return{kind:Le,value:Ce,error:ye}}var Z=L(3410),q=L(2806);class ie extends j.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,j.Nn)(Ce)&&Ce.add(this)):this.destination=Fe}static create(Ce,ye,Ge){return new st(Ce,ye,Ge)}next(Ce){this.isStopped?xe(function pe(Le){return we("N",Le,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?xe(function Ie(Le){return we("E",void 0,Le)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?xe(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Re(Le,Ce){return ze.call(Le,Ce)}class Qe{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:ye}=this;if(ye.next)try{ye.next(Ce)}catch(Ge){be(Ge)}}error(Ce){const{partialObserver:ye}=this;if(ye.error)try{ye.error(Ce)}catch(Ge){be(Ge)}else be(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(ye){be(ye)}}}class st extends ie{constructor(Ce,ye,Ge){let oe;if(super(),(0,s.m)(Ce)||!Ce)oe={next:Ce??void 0,error:ye??void 0,complete:Ge??void 0};else{let ne;this&&k.v.useDeprecatedNextContext?(ne=Object.create(Ce),ne.unsubscribe=()=>this.unsubscribe(),oe={next:Ce.next&&Re(Ce.next,ne),error:Ce.error&&Re(Ce.error,ne),complete:Ce.complete&&Re(Ce.complete,ne)}):oe=Ce}this.destination=new Qe(oe)}}function be(Le){k.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Le):(0,le.h)(Le)}function xe(Le,Ce){const{onStoppedNotification:ye}=k.v;ye&&Z.z.setTimeout(()=>ye(Le,Ce))}const Fe={closed:!0,next:he.Z,error:function Oe(Le){throw Le},complete:he.Z}},727:(pt,Me,L)=>{"use strict";L.d(Me,{Lc:()=>ae,w0:()=>he,Nn:()=>Ie});var s=L(576);const k=(0,L(3888).d)(we=>function(q){we(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ie,ze)=>`${ze+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var le=L(8737);class he{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Re of q)Re.remove(this);else q.remove(this);const{initialTeardown:ie}=this;if((0,s.m)(ie))try{ie()}catch(Re){Z=Re instanceof k?Re.errors:[Re]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Re of ze)try{pe(Re)}catch(Qe){Z=Z??[],Qe instanceof k?Z=[...Z,...Qe.errors]:Z.push(Qe)}}if(Z)throw new k(Z)}}add(Z){var q;if(Z&&Z!==this)if(this.closed)pe(Z);else{if(Z instanceof he){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(Z)}}_hasParent(Z){const{_parentage:q}=this;return q===Z||Array.isArray(q)&&q.includes(Z)}_addParent(Z){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(Z),q):q?[q,Z]:Z}_removeParent(Z){const{_parentage:q}=this;q===Z?this._parentage=null:Array.isArray(q)&&(0,le.P)(q,Z)}remove(Z){const{_finalizers:q}=this;q&&(0,le.P)(q,Z),Z instanceof he&&Z._removeParent(this)}}he.EMPTY=(()=>{const we=new he;return we.closed=!0,we})();const ae=he.EMPTY;function Ie(we){return we instanceof he||we&&"closed"in we&&(0,s.m)(we.remove)&&(0,s.m)(we.add)&&(0,s.m)(we.unsubscribe)}function pe(we){(0,s.m)(we)?we():we.unsubscribe()}},2416:(pt,Me,L)=>{"use strict";L.d(Me,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Me,L)=>{"use strict";L.d(Me,{E:()=>j});const j=new(L(9751).y)(he=>he.complete())},8996:(pt,Me,L)=>{"use strict";L.d(Me,{D:()=>Ce});var s=L(8421),j=L(3819),k=L(9468),ae=L(9751),pe=L(2202),we=L(576),Z=L(9672);function ie(ye,Ge){if(!ye)throw new Error("Iterable cannot be null");return new ae.y(oe=>{(0,Z.f)(oe,Ge,()=>{const ne=ye[Symbol.asyncIterator]();(0,Z.f)(oe,Ge,()=>{ne.next().then(re=>{re.done?oe.complete():oe.next(re.value)})},0,!0)})})}var ze=L(3670),Re=L(8239),Qe=L(1144),st=L(6495),be=L(2206),Oe=L(4532),xe=L(3260);function Ce(ye,Ge){return Ge?function Le(ye,Ge){if(null!=ye){if((0,ze.c)(ye))return function le(ye,Ge){return(0,s.Xf)(ye).pipe((0,k.R)(Ge),(0,j.Q)(Ge))}(ye,Ge);if((0,Qe.z)(ye))return function Ie(ye,Ge){return new ae.y(oe=>{let ne=0;return Ge.schedule(function(){ne===ye.length?oe.complete():(oe.next(ye[ne++]),oe.closed||this.schedule())})})}(ye,Ge);if((0,Re.t)(ye))return function he(ye,Ge){return(0,s.Xf)(ye).pipe((0,k.R)(Ge),(0,j.Q)(Ge))}(ye,Ge);if((0,be.D)(ye))return ie(ye,Ge);if((0,st.T)(ye))return function q(ye,Ge){return new ae.y(oe=>{let ne;return(0,Z.f)(oe,Ge,()=>{ne=ye[pe.h](),(0,Z.f)(oe,Ge,()=>{let re,H;try{({value:re,done:H}=ne.next())}catch(W){return void oe.error(W)}H?oe.complete():oe.next(re)},0,!0)}),()=>(0,we.m)(ne?.return)&&ne.return()})}(ye,Ge);if((0,xe.L)(ye))return function Fe(ye,Ge){return ie((0,xe.Q)(ye),Ge)}(ye,Ge)}throw(0,Oe.z)(ye)}(ye,Ge):(0,s.Xf)(ye)}},8421:(pt,Me,L)=>{"use strict";L.d(Me,{Xf:()=>ze});var s=L(655),j=L(1144),k=L(8239),le=L(9751),he=L(3670),ae=L(2206),Ie=L(4532),pe=L(6495),we=L(3260),Z=L(576),q=L(7849),ie=L(8822);function ze(Le){if(Le instanceof le.y)return Le;if(null!=Le){if((0,he.c)(Le))return function Re(Le){return new le.y(Ce=>{const ye=Le[ie.L]();if((0,Z.m)(ye.subscribe))return ye.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,j.z)(Le))return function Qe(Le){return new le.y(Ce=>{for(let ye=0;ye<Le.length&&!Ce.closed;ye++)Ce.next(Le[ye]);Ce.complete()})}(Le);if((0,k.t)(Le))return function st(Le){return new le.y(Ce=>{Le.then(ye=>{Ce.closed||(Ce.next(ye),Ce.complete())},ye=>Ce.error(ye)).then(null,q.h)})}(Le);if((0,ae.D)(Le))return Oe(Le);if((0,pe.T)(Le))return function be(Le){return new le.y(Ce=>{for(const ye of Le)if(Ce.next(ye),Ce.closed)return;Ce.complete()})}(Le);if((0,we.L)(Le))return function xe(Le){return Oe((0,we.Q)(Le))}(Le)}throw(0,Ie.z)(Le)}function Oe(Le){return new le.y(Ce=>{(function Fe(Le,Ce){var ye,Ge,oe,ne;return(0,s.mG)(this,void 0,void 0,function*(){try{for(ye=(0,s.KL)(Le);!(Ge=yield ye.next()).done;)if(Ce.next(Ge.value),Ce.closed)return}catch(re){oe={error:re}}finally{try{Ge&&!Ge.done&&(ne=ye.return)&&(yield ne.call(ye))}finally{if(oe)throw oe.error}}Ce.complete()})})(Le,Ce).catch(ye=>Ce.error(ye))})}},6451:(pt,Me,L)=>{"use strict";L.d(Me,{T:()=>ae});var s=L(8189),j=L(8421),k=L(515),le=L(3269),he=L(8996);function ae(...Ie){const pe=(0,le.yG)(Ie),we=(0,le._6)(Ie,1/0),Z=Ie;return Z.length?1===Z.length?(0,j.Xf)(Z[0]):(0,s.J)(we)((0,he.D)(Z,pe)):k.E}},5403:(pt,Me,L)=>{"use strict";L.d(Me,{x:()=>j});var s=L(930);function j(le,he,ae,Ie,pe){return new k(le,he,ae,Ie,pe)}class k extends s.Lv{constructor(he,ae,Ie,pe,we,Z){super(he),this.onFinalize=we,this.shouldUnsubscribe=Z,this._next=ae?function(q){try{ae(q)}catch(ie){he.error(ie)}}:super._next,this._error=pe?function(q){try{pe(q)}catch(ie){he.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(q){he.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4004:(pt,Me,L)=>{"use strict";L.d(Me,{U:()=>k});var s=L(4482),j=L(5403);function k(le,he){return(0,s.e)((ae,Ie)=>{let pe=0;ae.subscribe((0,j.x)(Ie,we=>{Ie.next(le.call(he,we,pe++))}))})}},8189:(pt,Me,L)=>{"use strict";L.d(Me,{J:()=>k});var s=L(5577),j=L(4671);function k(le=1/0){return(0,s.z)(j.y,le)}},5577:(pt,Me,L)=>{"use strict";L.d(Me,{z:()=>pe});var s=L(4004),j=L(8421),k=L(4482),le=L(9672),he=L(5403),Ie=L(576);function pe(we,Z,q=1/0){return(0,Ie.m)(Z)?pe((ie,ze)=>(0,s.U)((Re,Qe)=>Z(ie,Re,ze,Qe))((0,j.Xf)(we(ie,ze))),q):("number"==typeof Z&&(q=Z),(0,k.e)((ie,ze)=>function ae(we,Z,q,ie,ze,Re,Qe,st){const be=[];let Oe=0,xe=0,Fe=!1;const Le=()=>{Fe&&!be.length&&!Oe&&Z.complete()},Ce=Ge=>Oe<ie?ye(Ge):be.push(Ge),ye=Ge=>{Re&&Z.next(Ge),Oe++;let oe=!1;(0,j.Xf)(q(Ge,xe++)).subscribe((0,he.x)(Z,ne=>{ze?.(ne),Re?Ce(ne):Z.next(ne)},()=>{oe=!0},void 0,()=>{if(oe)try{for(Oe--;be.length&&Oe<ie;){const ne=be.shift();Qe?(0,le.f)(Z,Qe,()=>ye(ne)):ye(ne)}Le()}catch(ne){Z.error(ne)}}))};return we.subscribe((0,he.x)(Z,Ce,()=>{Fe=!0,Le()})),()=>{st?.()}}(ie,ze,we,q)))}},3819:(pt,Me,L)=>{"use strict";L.d(Me,{Q:()=>le});var s=L(9672),j=L(4482),k=L(5403);function le(he,ae=0){return(0,j.e)((Ie,pe)=>{Ie.subscribe((0,k.x)(pe,we=>(0,s.f)(pe,he,()=>pe.next(we),ae),()=>(0,s.f)(pe,he,()=>pe.complete(),ae),we=>(0,s.f)(pe,he,()=>pe.error(we),ae)))})}},3099:(pt,Me,L)=>{"use strict";L.d(Me,{B:()=>he});var s=L(8421),j=L(7579),k=L(930),le=L(4482);function he(Ie={}){const{connector:pe=(()=>new j.x),resetOnError:we=!0,resetOnComplete:Z=!0,resetOnRefCountZero:q=!0}=Ie;return ie=>{let ze,Re,Qe,st=0,be=!1,Oe=!1;const xe=()=>{Re?.unsubscribe(),Re=void 0},Fe=()=>{xe(),ze=Qe=void 0,be=Oe=!1},Le=()=>{const Ce=ze;Fe(),Ce?.unsubscribe()};return(0,le.e)((Ce,ye)=>{st++,!Oe&&!be&&xe();const Ge=Qe=Qe??pe();ye.add(()=>{st--,0===st&&!Oe&&!be&&(Re=ae(Le,q))}),Ge.subscribe(ye),!ze&&st>0&&(ze=new k.Hp({next:oe=>Ge.next(oe),error:oe=>{Oe=!0,xe(),Re=ae(Fe,we,oe),Ge.error(oe)},complete:()=>{be=!0,xe(),Re=ae(Fe,Z),Ge.complete()}}),(0,s.Xf)(Ce).subscribe(ze))})(ie)}}function ae(Ie,pe,...we){if(!0===pe)return void Ie();if(!1===pe)return;const Z=new k.Hp({next:()=>{Z.unsubscribe(),Ie()}});return(0,s.Xf)(pe(...we)).subscribe(Z)}},9468:(pt,Me,L)=>{"use strict";L.d(Me,{R:()=>j});var s=L(4482);function j(k,le=0){return(0,s.e)((he,ae)=>{ae.add(k.schedule(()=>he.subscribe(ae),le))})}},8505:(pt,Me,L)=>{"use strict";L.d(Me,{b:()=>he});var s=L(576),j=L(4482),k=L(5403),le=L(4671);function he(ae,Ie,pe){const we=(0,s.m)(ae)||Ie||pe?{next:ae,error:Ie,complete:pe}:ae;return we?(0,j.e)((Z,q)=>{var ie;null===(ie=we.subscribe)||void 0===ie||ie.call(we);let ze=!0;Z.subscribe((0,k.x)(q,Re=>{var Qe;null===(Qe=we.next)||void 0===Qe||Qe.call(we,Re),q.next(Re)},()=>{var Re;ze=!1,null===(Re=we.complete)||void 0===Re||Re.call(we),q.complete()},Re=>{var Qe;ze=!1,null===(Qe=we.error)||void 0===Qe||Qe.call(we,Re),q.error(Re)},()=>{var Re,Qe;ze&&(null===(Re=we.unsubscribe)||void 0===Re||Re.call(we)),null===(Qe=we.finalize)||void 0===Qe||Qe.call(we)}))}):le.y}},4408:(pt,Me,L)=>{"use strict";L.d(Me,{o:()=>he});var s=L(727);class j extends s.w0{constructor(Ie,pe){super()}schedule(Ie,pe=0){return this}}const k={setInterval(ae,Ie,...pe){const{delegate:we}=k;return we?.setInterval?we.setInterval(ae,Ie,...pe):setInterval(ae,Ie,...pe)},clearInterval(ae){const{delegate:Ie}=k;return(Ie?.clearInterval||clearInterval)(ae)},delegate:void 0};var le=L(8737);class he extends j{constructor(Ie,pe){super(Ie,pe),this.scheduler=Ie,this.work=pe,this.pending=!1}schedule(Ie,pe=0){var we;if(this.closed)return this;this.state=Ie;const Z=this.id,q=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(q,Z,pe)),this.pending=!0,this.delay=pe,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(q,this.id,pe),this}requestAsyncId(Ie,pe,we=0){return k.setInterval(Ie.flush.bind(Ie,this),we)}recycleAsyncId(Ie,pe,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return pe;null!=pe&&k.clearInterval(pe)}execute(Ie,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(Ie,pe);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,pe){let Z,we=!1;try{this.work(Ie)}catch(q){we=!0,Z=q||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:pe}=this,{actions:we}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(we,this),null!=Ie&&(this.id=this.recycleAsyncId(pe,Ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Me,L)=>{"use strict";L.d(Me,{v:()=>k});var s=L(6063);class j{constructor(he,ae=j.now){this.schedulerActionCtor=he,this.now=ae}schedule(he,ae=0,Ie){return new this.schedulerActionCtor(this,he).schedule(Ie,ae)}}j.now=s.l.now;class k extends j{constructor(he,ae=j.now){super(he,ae),this.actions=[],this._active=!1}flush(he){const{actions:ae}=this;if(this._active)return void ae.push(he);let Ie;this._active=!0;do{if(Ie=he.execute(he.state,he.delay))break}while(he=ae.shift());if(this._active=!1,Ie){for(;he=ae.shift();)he.unsubscribe();throw Ie}}}},4986:(pt,Me,L)=>{"use strict";L.d(Me,{P:()=>le,z:()=>k});var s=L(4408);const k=new(L(7565).v)(s.o),le=k},6063:(pt,Me,L)=>{"use strict";L.d(Me,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(pt,Me,L)=>{"use strict";L.d(Me,{z:()=>s});const s={setTimeout(j,k,...le){const{delegate:he}=s;return he?.setTimeout?he.setTimeout(j,k,...le):setTimeout(j,k,...le)},clearTimeout(j){const{delegate:k}=s;return(k?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(pt,Me,L)=>{"use strict";L.d(Me,{h:()=>j});const j=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Me,L)=>{"use strict";L.d(Me,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,Me,L)=>{"use strict";L.d(Me,{_6:()=>ae,jO:()=>le,yG:()=>he});var s=L(576),j=L(3532);function k(Ie){return Ie[Ie.length-1]}function le(Ie){return(0,s.m)(k(Ie))?Ie.pop():void 0}function he(Ie){return(0,j.K)(k(Ie))?Ie.pop():void 0}function ae(Ie,pe){return"number"==typeof k(Ie)?Ie.pop():pe}},8737:(pt,Me,L)=>{"use strict";function s(j,k){if(j){const le=j.indexOf(k);0<=le&&j.splice(le,1)}}L.d(Me,{P:()=>s})},3888:(pt,Me,L)=>{"use strict";function s(j){const le=j(he=>{Error.call(he),he.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}L.d(Me,{d:()=>s})},2806:(pt,Me,L)=>{"use strict";L.d(Me,{O:()=>le,x:()=>k});var s=L(2416);let j=null;function k(he){if(s.v.useDeprecatedSynchronousErrorHandling){const ae=!j;if(ae&&(j={errorThrown:!1,error:null}),he(),ae){const{errorThrown:Ie,error:pe}=j;if(j=null,Ie)throw pe}}else he()}function le(he){s.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=he)}},9672:(pt,Me,L)=>{"use strict";function s(j,k,le,he=0,ae=!1){const Ie=k.schedule(function(){le(),ae?j.add(this.schedule(null,he)):this.unsubscribe()},he);if(j.add(Ie),!ae)return Ie}L.d(Me,{f:()=>s})},4671:(pt,Me,L)=>{"use strict";function s(j){return j}L.d(Me,{y:()=>s})},1144:(pt,Me,L)=>{"use strict";L.d(Me,{z:()=>s});const s=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(pt,Me,L)=>{"use strict";L.d(Me,{D:()=>j});var s=L(576);function j(k){return Symbol.asyncIterator&&(0,s.m)(k?.[Symbol.asyncIterator])}},576:(pt,Me,L)=>{"use strict";function s(j){return"function"==typeof j}L.d(Me,{m:()=>s})},3670:(pt,Me,L)=>{"use strict";L.d(Me,{c:()=>k});var s=L(8822),j=L(576);function k(le){return(0,j.m)(le[s.L])}},6495:(pt,Me,L)=>{"use strict";L.d(Me,{T:()=>k});var s=L(2202),j=L(576);function k(le){return(0,j.m)(le?.[s.h])}},8239:(pt,Me,L)=>{"use strict";L.d(Me,{t:()=>j});var s=L(576);function j(k){return(0,s.m)(k?.then)}},3260:(pt,Me,L)=>{"use strict";L.d(Me,{L:()=>le,Q:()=>k});var s=L(655),j=L(576);function k(he){return(0,s.FC)(this,arguments,function*(){const Ie=he.getReader();try{for(;;){const{value:pe,done:we}=yield(0,s.qq)(Ie.read());if(we)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(pe)}}finally{Ie.releaseLock()}})}function le(he){return(0,j.m)(he?.getReader)}},3532:(pt,Me,L)=>{"use strict";L.d(Me,{K:()=>j});var s=L(576);function j(k){return k&&(0,s.m)(k.schedule)}},4482:(pt,Me,L)=>{"use strict";L.d(Me,{A:()=>j,e:()=>k});var s=L(576);function j(le){return(0,s.m)(le?.lift)}function k(le){return he=>{if(j(he))return he.lift(function(ae){try{return le(ae,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,Me,L)=>{"use strict";function s(){}L.d(Me,{Z:()=>s})},9635:(pt,Me,L)=>{"use strict";L.d(Me,{U:()=>k,z:()=>j});var s=L(4671);function j(...le){return k(le)}function k(le){return 0===le.length?s.y:1===le.length?le[0]:function(ae){return le.reduce((Ie,pe)=>pe(Ie),ae)}}},7849:(pt,Me,L)=>{"use strict";L.d(Me,{h:()=>k});var s=L(2416),j=L(3410);function k(le){j.z.setTimeout(()=>{const{onUnhandledError:he}=s.v;if(!he)throw le;he(le)})}},4532:(pt,Me,L)=>{"use strict";function s(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Me,{z:()=>s})},655:(pt,Me,L)=>{"use strict";function le(H,W){var Q={};for(var X in H)Object.prototype.hasOwnProperty.call(H,X)&&W.indexOf(X)<0&&(Q[X]=H[X]);if(null!=H&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(X=Object.getOwnPropertySymbols(H);ve<X.length;ve++)W.indexOf(X[ve])<0&&Object.prototype.propertyIsEnumerable.call(H,X[ve])&&(Q[X[ve]]=H[X[ve]])}return Q}function pe(H,W,Q,X){return new(Q||(Q=Promise))(function(De,Xe){function St(kt){try{Tt(X.next(kt))}catch(ft){Xe(ft)}}function Ht(kt){try{Tt(X.throw(kt))}catch(ft){Xe(ft)}}function Tt(kt){kt.done?De(kt.value):function ve(De){return De instanceof Q?De:new Q(function(Xe){Xe(De)})}(kt.value).then(St,Ht)}Tt((X=X.apply(H,W||[])).next())})}function be(H){return this instanceof be?(this.v=H,this):new be(H)}function Oe(H,W,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,X=Q.apply(H,W||[]),De=[];return ve={},Xe("next"),Xe("throw"),Xe("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function Xe(en){X[en]&&(ve[en]=function(Sn){return new Promise(function(At,dt){De.push([en,Sn,At,dt])>1||St(en,Sn)})})}function St(en,Sn){try{!function Ht(en){en.value instanceof be?Promise.resolve(en.value.v).then(Tt,kt):ft(De[0][2],en)}(X[en](Sn))}catch(At){ft(De[0][3],At)}}function Tt(en){St("next",en)}function kt(en){St("throw",en)}function ft(en,Sn){en(Sn),De.shift(),De.length&&St(De[0][0],De[0][1])}}function Fe(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,W=H[Symbol.asyncIterator];return W?W.call(H):(H=function ie(H){var W="function"==typeof Symbol&&Symbol.iterator,Q=W&&H[W],X=0;if(Q)return Q.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&X>=H.length&&(H=void 0),{value:H&&H[X++],done:!H}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}(H),Q={},X("next"),X("throw"),X("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function X(De){Q[De]=H[De]&&function(Xe){return new Promise(function(St,Ht){!function ve(De,Xe,St,Ht){Promise.resolve(Ht).then(function(Tt){De({value:Tt,done:St})},Xe)}(St,Ht,(Xe=H[De](Xe)).done,Xe.value)})}}}L.d(Me,{FC:()=>Oe,KL:()=>Fe,_T:()=>le,mG:()=>pe,qq:()=>be})},4650:(pt,Me,L)=>{"use strict";L.d(Me,{$8M:()=>Jc,$WT:()=>ti,$Z:()=>E1,AFp:()=>Zf,ALo:()=>D0,AaK:()=>pe,Akn:()=>uo,AsE:()=>$m,BQk:()=>lf,CHM:()=>Xh,CRH:()=>N0,CZH:()=>Bu,CqO:()=>uf,D6c:()=>vI,DdM:()=>fh,Dn7:()=>gi,EJc:()=>q0,EiD:()=>dC,EpF:()=>Ov,F$t:()=>Qd,F4k:()=>Pv,FYo:()=>ev,FiY:()=>da,Gf:()=>f_,GfV:()=>Jw,GkF:()=>cf,Gpc:()=>q,Hsn:()=>z1,Ikx:()=>Eu,JOm:()=>$t,JVY:()=>Nw,JZr:()=>st,KtG:()=>od,L6k:()=>Pw,LAX:()=>Mo,LFG:()=>qe,LMc:()=>FS,LSH:()=>Gy,Lbi:()=>QT,Lck:()=>Nt,MAs:()=>sf,MGl:()=>Rm,MMx:()=>et,MR2:()=>mC,MT6:()=>Zm,NdJ:()=>df,OlP:()=>on,Oqu:()=>If,P3R:()=>$w,PXZ:()=>Yf,Q6J:()=>Om,QGY:()=>Nv,QbO:()=>JT,Qsj:()=>EC,QtT:()=>MT,R0b:()=>Ft,RDi:()=>iC,Rgc:()=>bl,SBq:()=>$d,SDv:()=>Be,Sil:()=>nI,Suo:()=>g_,TTD:()=>Zo,TgZ:()=>js,Tol:()=>Xd,Udp:()=>mf,VKq:()=>yl,W1O:()=>zT,WLB:()=>RT,X6Q:()=>wS,XFs:()=>lt,Xpm:()=>Ho,Xts:()=>jy,Y36:()=>zd,YKP:()=>Jn,YNc:()=>Br,Yjl:()=>$o,Yz7:()=>dt,Z0I:()=>Un,ZZ4:()=>mb,_Bn:()=>Au,_UZ:()=>Mv,_Vd:()=>Gd,_c5:()=>_b,_uU:()=>Zv,aQg:()=>Dl,c2e:()=>XT,cJS:()=>yi,cg1:()=>Cu,dDg:()=>oI,dqk:()=>Ut,eBb:()=>oC,eFA:()=>nb,ekj:()=>_f,eoX:()=>aI,f3M:()=>it,g9A:()=>YT,h0i:()=>Mu,hGG:()=>yb,hij:()=>Ef,iGM:()=>Pu,ifc:()=>Ve,ip1:()=>Xn,jDz:()=>u_,kEZ:()=>gc,kL8:()=>Jv,l5B:()=>T0,lG2:()=>Pl,lcZ:()=>LT,lnq:()=>Tu,lqb:()=>fu,lri:()=>sI,mCW:()=>Fd,n5z:()=>Qc,oAB:()=>Go,oxw:()=>Rv,pB0:()=>kw,pQV:()=>o_,q3G:()=>fi,q4F:()=>Xw,qLn:()=>$p,qOj:()=>wv,qZA:()=>Yd,qzn:()=>Es,rFY:()=>FT,rWj:()=>J0,s9C:()=>vu,sBO:()=>TS,s_b:()=>Ta,soG:()=>Il,tb:()=>Hu,tp0:()=>D,uIk:()=>Sv,uOi:()=>Vp,vHH:()=>be,vpe:()=>Zs,wAp:()=>Ot,xi3:()=>vl,xp6:()=>zp,ynx:()=>hl,z2F:()=>Qf,z3N:()=>Ao,zSh:()=>sc,zs3:()=>oc});var s=L(7579),j=L(727),k=L(9751),le=L(6451),he=L(3099);function ae(a){for(let l in a)if(a[l]===ae)return l;throw Error("Could not find renamed property on target object.")}function Ie(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function pe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(pe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function we(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Z=ae({__forward_ref__:ae});function q(a){return a.__forward_ref__=q,a.toString=function(){return pe(this())},a}function ie(a){return ze(a)?a():a}function ze(a){return"function"==typeof a&&a.hasOwnProperty(Z)&&a.__forward_ref__===q}function Re(a){return a&&!!a.\u0275providers}const st="https://g.co/ng/security#xss";class be extends Error{constructor(l,c){super(function Oe(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function xe(a){return"string"==typeof a?a:null==a?"":String(a)}function Ge(a,l){throw new be(-201,!1)}function ft(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}function dt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function yi(a){return{providers:a.providers||[],imports:a.imports||[]}}function ji(a){return ys(a,Nr)||ys(a,bn)}function Un(a){return null!==ji(a)}function ys(a,l){return a.hasOwnProperty(l)?a[l]:null}function li(a){return a&&(a.hasOwnProperty(Yr)||a.hasOwnProperty(Mi))?a[Yr]:null}const Nr=ae({\u0275prov:ae}),Yr=ae({\u0275inj:ae}),bn=ae({ngInjectableDef:ae}),Mi=ae({ngInjectorDef:ae});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Oi;function ci(a){const l=Oi;return Oi=a,l}function ui(a,l,c){const d=ji(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&lt.Optional?null:void 0!==l?l:void Ge(pe(a))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vi={},Hn="__NG_DI_FLAG__",Pr="ngTempTokenPath",Qr=/\n/gm,Jr="__source";let tn;function nr(a){const l=tn;return tn=a,l}function ei(a,l=lt.Default){if(void 0===tn)throw new be(-203,!1);return null===tn?ui(a,void 0,l):tn.get(a,l&lt.Optional?null:void 0,l)}function qe(a,l=lt.Default){return(function zi(){return Oi}()||ei)(ie(a),l)}function it(a,l=lt.Default){return qe(a,Mt(l))}function Mt(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Rt(a){const l=[];for(let c=0;c<a.length;c++){const d=ie(a[c]);if(Array.isArray(d)){if(0===d.length)throw new be(900,!1);let p,f=lt.Default;for(let v=0;v<d.length;v++){const T=d[v],E=K(T);"number"==typeof E?-1===E?p=T.token:f|=E:p=T}l.push(qe(p,f))}else l.push(qe(d))}return l}function sn(a,l){return a[Hn]=l,a.prototype[Hn]=l,a}function K(a){return a[Hn]}function G(a){return{toString:a}.toString()}var P=(()=>((P=P||{})[P.OnPush=0]="OnPush",P[P.Default=1]="Default",P))(),Ve=(()=>{return(a=Ve||(Ve={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Ve;var a})();const ht={},Je=[],zt=ae({\u0275cmp:ae}),vt=ae({\u0275dir:ae}),Dn=ae({\u0275pipe:ae}),Ni=ae({\u0275mod:ae}),Gt=ae({\u0275fac:ae}),ir=ae({__NG_ELEMENT_ID__:ae});let Oc=0;function Ho(a){return G(()=>{const c=!0===a.standalone,d={},p={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Je,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Ve.Emulated,id:"c"+Oc++,styles:a.styles||Je,_:null,setInput:null,schemas:a.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},f=a.dependencies,v=a.features;return p.inputs=kc(a.inputs,d),p.outputs=kc(a.outputs),v&&v.forEach(T=>T(p)),p.directiveDefs=f?()=>("function"==typeof f?f():f).map(Pc).filter(Pi):null,p.pipeDefs=f?()=>("function"==typeof f?f():f).map(Wi).filter(Pi):null,p})}function Pc(a){return dn(a)||Rn(a)}function Pi(a){return null!==a}function Go(a){return G(()=>({type:a.type,bootstrap:a.bootstrap||Je,declarations:a.declarations||Je,imports:a.imports||Je,exports:a.exports||Je,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function kc(a,l){if(null==a)return ht;const c={};for(const d in a)if(a.hasOwnProperty(d)){let p=a[d],f=p;Array.isArray(p)&&(f=p[1],p=p[0]),c[p]=d,l&&(l[p]=f)}return c}const Pl=Ho;function $o(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function dn(a){return a[zt]||null}function Rn(a){return a[vt]||null}function Wi(a){return a[Dn]||null}function ti(a){const l=dn(a)||Rn(a)||Wi(a);return null!==l&&l.standalone}function rr(a,l){const c=a[Ni]||null;if(!c&&!0===l)throw new Error(`Type ${pe(a)} does not have '\u0275mod' property.`);return c}function Fr(a){return Array.isArray(a)&&"object"==typeof a[1]}function Lr(a){return Array.isArray(a)&&!0===a[1]}function Ps(a){return 0!=(4&a.flags)}function Oa(a){return a.componentOffset>-1}function Fc(a){return 1==(1&a.flags)}function hi(a){return null!==a.template}function Og(a){return 0!=(256&a[2])}function yo(a,l){return a.hasOwnProperty(Gt)?a[Gt]:null}class Wo{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Zo(){return qo}function qo(a){return a.type.prototype.ngOnChanges&&(a.setInput=vo),Hl}function Hl(){const a=Gl(this),l=a?.current;if(l){const c=a.previous;if(c===ht)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function vo(a,l,c,d){const p=this.declaredInputs[c],f=Gl(a)||function $l(a,l){return a[Ko]=l}(a,{previous:ht,current:null}),v=f.current||(f.current={}),T=f.previous,E=T[p];v[p]=new Wo(E&&E.currentValue,l,T===ht),a[d]=l}Zo.ngInherit=!0;const Ko="__ngSimpleChanges__";function Gl(a){return a[Ko]||null}function qn(a){for(;Array.isArray(a);)a=a[0];return a}function to(a,l){return qn(l[a])}function Fi(a,l){return qn(l[a.index])}function jl(a,l){return a.data[l]}function Fs(a,l){return a[l]}function Ti(a,l){const c=l[a];return Fr(c)?c:c[0]}function wo(a){return 64==(64&a[2])}function Xr(a,l){return null==l?null:a[l]}function Uc(a){a[18]=0}function To(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Wt={lFrame:Rg(null),bindingsEnabled:!0};function sd(){return Wt.bindingsEnabled}function Ee(){return Wt.lFrame.lView}function an(){return Wt.lFrame.tView}function Xh(a){return Wt.lFrame.contextLView=a,a[8]}function od(a){return Wt.lFrame.contextLView=null,a}function Ii(){let a=Gc();for(;null!==a&&64===a.type;)a=a.parent;return a}function Gc(){return Wt.lFrame.currentTNode}function Qo(){const a=Wt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function es(a,l){const c=Wt.lFrame;c.currentTNode=a,c.isParent=l}function Jo(){return Wt.lFrame.isParent}function ad(){Wt.lFrame.isParent=!1}function qi(){const a=Wt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function sr(){return Wt.lFrame.bindingIndex}function Ls(){return Wt.lFrame.bindingIndex++}function no(a){const l=Wt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function ta(a){Wt.lFrame.inI18n=a}function $c(a,l){const c=Wt.lFrame;c.bindingIndex=c.bindingRootIndex=a,io(l)}function io(a){Wt.lFrame.currentDirectiveIndex=a}function np(){return Wt.lFrame.currentQueryIndex}function jc(a){Wt.lFrame.currentQueryIndex=a}function cd(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function ip(a,l,c){if(c&lt.SkipSelf){let p=l,f=a;for(;!(p=p.parent,null!==p||c&lt.Host||(p=cd(f),null===p||(f=f[15],10&p.type))););if(null===p)return!1;l=p,a=f}const d=Wt.lFrame=kg();return d.currentTNode=l,d.lView=a,!0}function Zl(a){const l=kg(),c=a[1];Wt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function kg(){const a=Wt.lFrame,l=null===a?null:a.child;return null===l?Rg(a):l}function Rg(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Fg(){const a=Wt.lFrame;return Wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const ud=Fg;function Lg(){const a=Fg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Tr(){return Wt.lFrame.selectedIndex}function Vs(a){Wt.lFrame.selectedIndex=a}function yn(){const a=Wt.lFrame;return jl(a.tView,a.selectedIndex)}function Ba(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const f=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:E,ngAfterViewChecked:x,ngOnDestroy:N}=f;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),T&&((a.contentHooks||(a.contentHooks=[])).push(c,T),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,T)),E&&(a.viewHooks||(a.viewHooks=[])).push(-c,E),x&&((a.viewHooks||(a.viewHooks=[])).push(c,x),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,x)),null!=N&&(a.destroyHooks||(a.destroyHooks=[])).push(c,N)}}function na(a,l,c){fd(a,l,3,c)}function Bs(a,l,c,d){(3&a[2])===c&&fd(a,l,c,d)}function ws(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function fd(a,l,c,d){const f=d??-1,v=l.length-1;let T=0;for(let E=void 0!==d?65535&a[18]:0;E<v;E++)if("number"==typeof l[E+1]){if(T=l[E],null!=d&&T>=d)break}else l[E]<0&&(a[18]+=65536),(T<f||-1==f)&&(ql(a,c,l,E),a[18]=(4294901760&a[18])+E+2),E++}function ql(a,l,c,d){const p=c[d]<0,f=c[d+1],T=a[p?-c[d]:c[d]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{f.call(T)}finally{}}}else try{f.call(T)}finally{}}class Ua{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Io(a,l,c){let d=0;for(;d<c.length;){const p=c[d];if("number"==typeof p){if(0!==p)break;d++;const f=c[d++],v=c[d++],T=c[d++];a.setAttribute(l,v,T,f)}else{const f=p,v=c[++d];$a(f)?a.setProperty(l,f,v):a.setAttribute(l,f,v),d++}}return d}function Eo(a){return 3===a||4===a||6===a}function $a(a){return 64===a.charCodeAt(0)}function ts(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const p=l[d];"number"==typeof p?c=p:0===c||zc(a,c,p,null,-1===c||2===c?l[++d]:null)}}return a}function zc(a,l,c,d,p){let f=0,v=a.length;if(-1===l)v=-1;else for(;f<a.length;){const T=a[f++];if("number"==typeof T){if(T===l){v=-1;break}if(T>l){v=f-1;break}}}for(;f<a.length;){const T=a[f];if("number"==typeof T)break;if(T===c){if(null===d)return void(null!==p&&(a[f+1]=p));if(d===a[f+1])return void(a[f+2]=p)}f++,null!==d&&f++,null!==p&&f++}-1!==v&&(a.splice(v,0,l),f=v+1),a.splice(f++,0,c),null!==d&&a.splice(f++,0,d),null!==p&&a.splice(f++,0,p)}function Wc(a){return-1!==a}function ja(a){return 32767&a}function Co(a,l){let c=function Zc(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let ra=!0;function Ts(a){const l=ra;return ra=a,l}let gd=0;const or={};function oo(a,l){const c=qc(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,oa(d.data,a),oa(l,null),oa(d.blueprint,null));const p=Wa(a,l),f=a.injectorIndex;if(Wc(p)){const v=ja(p),T=Co(p,l),E=T[1].data;for(let x=0;x<8;x++)l[f+x]=T[v+x]|E[v+x]}return l[f+8]=p,f}function oa(a,l){a.push(0,0,0,0,0,0,0,0,l)}function qc(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Wa(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,p=l;for(;null!==p;){if(d=up(p),null===d)return-1;if(c++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function _d(a,l,c){!function md(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(ir)&&(d=c[ir]),null==d&&(d=c[ir]=gd++);const p=255&d;l.data[a+(p>>5)]|=1<<p}(a,l,c)}function yd(a,l,c){if(c&lt.Optional||void 0!==a)return a;Ge()}function aa(a,l,c,d){if(c&lt.Optional&&void 0===d&&(d=null),!(c&(lt.Self|lt.Host))){const p=a[9],f=ci(void 0);try{return p?p.get(l,d,c&lt.Optional):ui(l,d,c&lt.Optional)}finally{ci(f)}}return yd(d,0,c)}function ap(a,l,c,d=lt.Default,p){if(null!==a){if(1024&l[2]){const v=function cp(a,l,c,d,p){let f=a,v=l;for(;null!==f&&null!==v&&1024&v[2]&&!(256&v[2]);){const T=ns(f,v,c,d|lt.Self,or);if(T!==or)return T;let E=f.parent;if(!E){const x=v[21];if(x){const N=x.get(c,or,d);if(N!==or)return N}E=up(v),v=v[15]}f=E}return p}(a,l,c,d,or);if(v!==or)return v}const f=ns(a,l,c,d,or);if(f!==or)return f}return aa(l,c,d,p)}function ns(a,l,c,d,p){const f=function vd(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(ir)?a[ir]:void 0;return"number"==typeof l?l>=0?255&l:lp:l}(c);if("function"==typeof f){if(!ip(l,a,d))return d&lt.Host?yd(p,0,d):aa(l,c,d,p);try{const v=f(d);if(null!=v||d&lt.Optional)return v;Ge()}finally{ud()}}else if("number"==typeof f){let v=null,T=qc(a,l),E=-1,x=d&lt.Host?l[16][6]:null;for((-1===T||d&lt.SkipSelf)&&(E=-1===T?Wa(a,l):l[T+8],-1!==E&&Er(d,!1)?(v=l[1],T=ja(E),l=Co(E,l)):T=-1);-1!==T;){const N=l[1];if(Yc(f,T,N.data)){const V=Kc(T,l,c,v,d,x);if(V!==or)return V}E=l[T+8],-1!==E&&Er(d,l[1].data[T+8]===x)&&Yc(f,T,l)?(v=N,T=ja(E),l=Co(E,l)):T=-1}}return p}function Kc(a,l,c,d,p,f){const v=l[1],T=v.data[a+8],N=Za(T,v,c,null==d?Oa(T)&&ra:d!=v&&0!=(3&T.type),p&lt.Host&&f===T);return null!==N?is(l,v,N,T):or}function Za(a,l,c,d,p){const f=a.providerIndexes,v=l.data,T=1048575&f,E=a.directiveStart,N=f>>20,J=p?T+N:a.directiveEnd;for(let ce=d?T:T+N;ce<J;ce++){const Ae=v[ce];if(ce<E&&c===Ae||ce>=E&&Ae.type===c)return ce}if(p){const ce=v[E];if(ce&&hi(ce)&&ce.type===c)return E}return null}function is(a,l,c,d){let p=a[c];const f=l.data;if(function Ir(a){return a instanceof Ua}(p)){const v=p;v.resolving&&function Le(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new be(-200,`Circular dependency in DI detected for ${a}${c}`)}(function Fe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():xe(a)}(f[c]));const T=Ts(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?ci(v.injectImpl):null;ip(a,d,lt.Default);try{p=a[c]=v.factory(void 0,f,a,d),l.firstCreatePass&&c>=d.directiveStart&&function pd(a,l,c){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:f}=l.type.prototype;if(d){const v=qo(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,p),f&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,f),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,f))}(c,f[c],l)}finally{null!==E&&ci(E),Ts(T),v.resolving=!1,ud()}}return p}function Yc(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Er(a,l){return!(a&lt.Self||a&lt.Host&&l)}class ao{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return ap(this._tNode,this._lView,l,Mt(d),c)}}function lp(){return new ao(Ii(),Ee())}function Qc(a){return G(()=>{const l=a.prototype.constructor,c=l[Gt]||la(l),d=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==d;){const f=p[Gt]||la(p);if(f&&f!==c)return f;p=Object.getPrototypeOf(p)}return f=>new f})}function la(a){return ze(a)?()=>{const l=la(ie(a));return l&&l()}:yo(a)}function up(a){const l=a[1],c=l.type;return 2===c?l.declTNode:1===c?a[6]:null}function Jc(a){return function Kl(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let p=0;for(;p<d;){const f=c[p];if(Eo(f))break;if(0===f)p+=2;else if("number"==typeof f)for(p++;p<d&&"string"==typeof c[p];)p++;else{if(f===l)return c[p+1];p+=2}}}return null}(Ii(),a)}const qa="__parameters__";function Yl(a,l,c){return G(()=>{const d=function bd(a){return function(...c){if(a){const d=a(...c);for(const p in d)this[p]=d[p]}}}(l);function p(...f){if(this instanceof p)return d.apply(this,f),this;const v=new p(...f);return T.annotation=v,T;function T(E,x,N){const V=E.hasOwnProperty(qa)?E[qa]:Object.defineProperty(E,qa,{value:[]})[qa];for(;V.length<=N;)V.push(null);return(V[N]=V[N]||[]).push(v),E}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class on{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=dt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Us(a,l){a.forEach(c=>Array.isArray(c)?Us(c,l):l(c))}function tu(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Ya(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function lo(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Cr(a,l,c){let d=$n(a,l);return d>=0?a[1|d]=c:(d=~d,function Ug(a,l,c,d){let p=a.length;if(p==l)a.push(c,d);else if(1===p)a.push(d,a[0]),a[0]=c;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function Tn(a,l){const c=$n(a,l);if(c>=0)return a[1|c]}function $n(a,l){return function vn(a,l,c){let d=0,p=a.length>>c;for(;p!==d;){const f=d+(p-d>>1),v=a[f<<c];if(l===v)return f<<c;v>l?p=f:d=f+1}return~(p<<c)}(a,l,1)}const da=sn(Yl("Optional"),8),D=sn(Yl("SkipSelf"),4);var $t=(()=>(($t=$t||{})[$t.Important=1]="Important",$t[$t.DashCase=2]="DashCase",$t))();const ru=/^>|^->|<!--|-->|--!>|<!-$/g,Ey=/(<|>)/;const Tp=new Map;let Is=0;const Od="__ngContext__";function dr(a,l){Fr(l)?(a[Od]=l[20],function Ip(a){Tp.set(a[20],a)}(l)):a[Od]=l}let ue;function ke(a,l){return ue(a,l)}function It(a){const l=a[3];return Lr(l)?l[3]:l}function ss(a){return ou(a[13])}function os(a){return ou(a[4])}function ou(a){for(;null!==a&&!Lr(a);)a=a[4];return a}function xo(a,l,c,d,p){if(null!=d){let f,v=!1;Lr(d)?f=d:Fr(d)&&(v=!0,d=d[0]);const T=qn(d);0===a&&null!==c?null==p?Iw(l,c,T):cu(l,c,T,p||null,!0):1===a&&null!==c?cu(l,c,T,p||null,!0):2===a?My(l,T,v):3===a&&l.destroyNode(T),null!=f&&function Pp(a,l,c,d,p){const f=c[7];f!==qn(c)&&xo(l,a,d,f,p);for(let T=10;T<c.length;T++){const E=c[T];Np(E[1],E,a,l,d,f)}}(l,a,f,c,p)}}function pa(a,l){return a.createText(l)}function Nd(a,l,c){a.setValue(l,c)}function Sp(a,l){return a.createComment(function Md(a){return a.replace(ru,l=>l.replace(Ey,"\u200b$1\u200b"))}(l))}function au(a,l,c){return a.createElement(l,c)}function Qg(a,l){const c=a[9],d=c.indexOf(l),p=l[3];512&l[2]&&(l[2]&=-513,To(p,-1)),c.splice(d,1)}function Dy(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const p=d[17];null!==p&&p!==a&&Qg(p,d),l>0&&(a[c-1][4]=d[4]);const f=Ya(a,10+l);!function qg(a,l){Np(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=f[19];null!==v&&v.detachView(f[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Jg(a,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&Np(a,l,c,3,null,null),function Yg(a){let l=a[13];if(!l)return Pd(a[1],a);for(;l;){let c=null;if(Fr(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Fr(l)&&Pd(l[1],l),l=l[3];null===l&&(l=a),Fr(l)&&Pd(l[1],l),c=l&&l[4]}l=c}}(l)}}function Pd(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function lu(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const p=l[c[d]];if(!(p instanceof Ua)){const f=c[d+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const T=p[f[v]],E=f[v+1];try{E.call(T)}finally{}}else try{f.call(p)}finally{}}}}(a,l),function JE(a,l){const c=a.cleanup,d=l[7];let p=-1;if(null!==c)for(let f=0;f<c.length-1;f+=2)if("string"==typeof c[f]){const v=c[f+3];v>=0?d[p=v]():d[p=-v].unsubscribe(),f+=2}else{const v=d[p=c[f+1]];c[f].call(v)}if(null!==d){for(let f=p+1;f<d.length;f++)(0,d[f])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&Lr(l[3])){c!==l[3]&&Qg(c,l);const d=l[19];null!==d&&d.detachView(a)}!function jg(a){Tp.delete(a[20])}(l)}}function Xg(a,l,c){return XE(a,l.parent,c)}function XE(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];{const{componentOffset:p}=d;if(p>-1){const{encapsulation:f}=a.data[d.directiveStart+p];if(f===Ve.None||f===Ve.Emulated)return null}return Fi(d,c)}}function cu(a,l,c,d,p){a.insertBefore(l,c,d,p)}function Iw(a,l,c){a.appendChild(l,c)}function Ew(a,l,c,d,p){null!==d?cu(a,l,c,d,p):Iw(a,l,c)}function il(a,l){return a.parentNode(l)}function Sy(a,l,c){return uu(a,l,c)}function xy(a,l,c){return 40&a.type?Fi(a,c):null}let Ay,Rp,Py,rm,uu=xy;function Dw(a,l){uu=a,Ay=l}function Mp(a,l,c,d){const p=Xg(a,d,l),f=l[11],T=Sy(d.parent||l[6],d,l);if(null!=p)if(Array.isArray(c))for(let E=0;E<c.length;E++)Ew(f,p,c[E],T,!1);else Ew(f,p,c,T,!1);void 0!==Ay&&Ay(f,d,l,c,p)}function tm(a,l){if(null!==l){const c=l.type;if(3&c)return Fi(l,a);if(4&c)return du(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return tm(a,d);{const p=a[l.index];return Lr(p)?du(-1,p):qn(p)}}if(32&c)return ke(l,a)()||qn(a[l.index]);{const d=nm(a,l);return null!==d?Array.isArray(d)?d[0]:tm(It(a[16]),d):tm(a,l.next)}}return null}function nm(a,l){return null!==l?a[16][6].projection[l.projection]:null}function du(a,l){const c=10+a+1;if(c<l.length){const d=l[c],p=d[1].firstChild;if(null!==p)return tm(d,p)}return l[7]}function My(a,l,c){const d=il(a,l);d&&function Ap(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}function Op(a,l,c,d,p,f,v){for(;null!=c;){const T=d[c.index],E=c.type;if(v&&0===l&&(T&&dr(qn(T),d),c.flags|=2),32!=(32&c.flags))if(8&E)Op(a,l,c.child,d,p,f,!1),xo(l,a,p,T,f);else if(32&E){const x=ke(c,d);let N;for(;N=x();)xo(l,a,p,N,f);xo(l,a,p,T,f)}else 16&E?Oy(a,l,d,c,p,f):xo(l,a,p,T,f);c=v?c.projectionNext:c.next}}function Np(a,l,c,d,p,f){Op(c,d,a.firstChild,l,p,f,!1)}function Oy(a,l,c,d,p,f){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let x=0;x<E.length;x++)xo(l,a,p,E[x],f);else Op(a,l,E,v[3],p,f,!0)}function rc(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function kp(a,l,c){const{mergedAttrs:d,classes:p,styles:f}=c;null!==d&&Io(a,l,d),null!==p&&rc(a,l,p),null!==f&&function Ny(a,l,c){a.setAttribute(l,"style",c)}(a,l,f)}function hu(a){return function im(){if(void 0===Rp&&(Rp=null,Ut.trustedTypes))try{Rp=Ut.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Rp}()?.createHTML(a)||a}function iC(a){Py=a}function Mw(a){return function ky(){if(void 0===rm&&(rm=null,Ut.trustedTypes))try{rm=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return rm}()?.createScriptURL(a)||a}class kd{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}class rC extends kd{getTypeName(){return"HTML"}}class TO extends kd{getTypeName(){return"Style"}}class sC extends kd{getTypeName(){return"Script"}}class Ow extends kd{getTypeName(){return"URL"}}class Fy extends kd{getTypeName(){return"ResourceURL"}}function Ao(a){return a instanceof kd?a.changingThisBreaksApplicationSecurity:a}function Es(a,l){const c=function Rd(a){return a instanceof kd&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see ${st})`)}return c===l}function Nw(a){return new rC(a)}function Pw(a){return new TO(a)}function oC(a){return new sC(a)}function Mo(a){return new Ow(a)}function kw(a){return new Fy(a)}function Rw(a){const l=new Fw(a);return function Ly(){try{return!!(new window.DOMParser).parseFromString(hu(""),"text/html")}catch{return!1}}()?new sm(l):l}class sm{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(hu(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class Fw{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=hu(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=hu(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let p=c.length-1;0<p;p--){const v=c.item(p).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Lw=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Fd(a){return(a=String(a)).match(Lw)?a:"unsafe:"+a}function Oo(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Fp(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Ld=Oo("area,br,col,hr,img,wbr"),Vw=Oo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bw=Oo("rp,rt"),om=Fp(Ld,Fp(Vw,Oo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fp(Bw,Oo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fp(Bw,Vw)),am=Oo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lp=Fp(am,Oo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Oo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vy=Oo("script,style,template");class cC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let p=this.checkClobberedElement(c,c.nextSibling);if(p){c=p;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!om.hasOwnProperty(c))return this.sanitizedSomething=!0,!Vy.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let p=0;p<d.length;p++){const f=d.item(p),v=f.name,T=v.toLowerCase();if(!Lp.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let E=f.value;am[T]&&(E=Fd(E)),this.buf.push(" ",v,'="',Uy(E),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();om.hasOwnProperty(c)&&!Ld.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Uy(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const uC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,By=/([^\#-~ |!])/g;function Uy(a){return a.replace(/&/g,"&amp;").replace(uC,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(By,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hy;function dC(a,l){let c=null;try{Hy=Hy||Rw(a);let d=l?String(l):"";c=Hy.getInertBodyElement(d);let p=5,f=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=f,f=c.innerHTML,c=Hy.getInertBodyElement(d)}while(d!==f);return hu((new cC).sanitizeChildren(Hw(c)||c))}finally{if(c){const d=Hw(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Hw(a){return"content"in a&&function EO(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var fi=(()=>((fi=fi||{})[fi.NONE=0]="NONE",fi[fi.HTML=1]="HTML",fi[fi.STYLE=2]="STYLE",fi[fi.SCRIPT=3]="SCRIPT",fi[fi.URL=4]="URL",fi[fi.RESOURCE_URL=5]="RESOURCE_URL",fi))();function Gy(a){const l=Up();return l?l.sanitize(fi.URL,a)||"":Es(a,"URL")?Ao(a):Fd(xe(a))}function Vp(a){const l=Up();if(l)return Mw(l.sanitize(fi.RESOURCE_URL,a)||"");if(Es(a,"ResourceURL"))return Mw(Ao(a));throw new be(904,!1)}function $w(a,l,c){return function fC(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?Vp:Gy}(l,c)(a)}function Up(){const a=Ee();return a&&a[12]}const jy=new on("ENVIRONMENT_INITIALIZER"),pu=new on("INJECTOR",-1),Vd=new on("INJECTOR_DEF_TYPES");class jw{get(l,c=vi){if(c===vi){const d=new Error(`NullInjectorError: No provider for ${pe(l)}!`);throw d.name="NullInjectorError",d}return c}}function mC(a){return{\u0275providers:a}}function Hp(...a){return{\u0275providers:Bd(0,a),\u0275fromNgModule:!0}}function Bd(a,...l){const c=[],d=new Set;let p;return Us(l,f=>{const v=f;zy(v,c,[],d)&&(p||(p=[]),p.push(v))}),void 0!==p&&zw(p,c),c}function zw(a,l){for(let c=0;c<a.length;c++){const{providers:p}=a[c];Wy(p,f=>{l.push(f)})}}function zy(a,l,c,d){if(!(a=ie(a)))return!1;let p=null,f=li(a);const v=!f&&dn(a);if(f||v){if(v&&!v.standalone)return!1;p=a}else{const E=a.ngModule;if(f=li(E),!f)return!1;p=E}const T=d.has(p);if(v){if(T)return!1;if(d.add(p),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of E)zy(x,l,c,d)}}else{if(!f)return!1;{if(null!=f.imports&&!T){let x;d.add(p);try{Us(f.imports,N=>{zy(N,l,c,d)&&(x||(x=[]),x.push(N))})}finally{}void 0!==x&&zw(x,l)}if(!T){const x=yo(p)||(()=>new p);l.push({provide:p,useFactory:x,deps:Je},{provide:Vd,useValue:p,multi:!0},{provide:jy,useValue:()=>qe(p),multi:!0})}const E=f.providers;null==E||T||Wy(E,N=>{l.push(N)})}}return p!==a&&void 0!==a.providers}function Wy(a,l){for(let c of a)Re(c)&&(c=c.\u0275providers),Array.isArray(c)?Wy(c,l):l(c)}const _C=ae({provide:String,useValue:ae});function Zy(a){return null!==a&&"object"==typeof a&&_C in a}function rl(a){return"function"==typeof a}const sc=new on("Set Injector scope."),um={},vC={};let qy;function dm(){return void 0===qy&&(qy=new jw),qy}class fu{}class Zw extends fu{get destroyed(){return this._destroyed}constructor(l,c,d,p){super(),this.parent=c,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hd(l,v=>this.processProvider(v)),this.records.set(pu,Ud(void 0,this)),p.has("environment")&&this.records.set(fu,Ud(void 0,this));const f=this.records.get(sc);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Vd.multi,Je,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=nr(this),d=ci(void 0);try{return l()}finally{nr(c),ci(d)}}get(l,c=vi,d=lt.Default){this.assertNotDestroyed(),d=Mt(d);const p=nr(this),f=ci(void 0);try{if(!(d&lt.SkipSelf)){let T=this.records.get(l);if(void 0===T){const E=function Jy(a){return"function"==typeof a||"object"==typeof a&&a instanceof on}(l)&&ji(l);T=E&&this.injectableDefInScope(E)?Ud(Ky(l),um):null,this.records.set(l,T)}if(null!=T)return this.hydrate(l,T)}return(d&lt.Self?dm():this.parent).get(l,c=d&lt.Optional&&c===vi?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Pr]=v[Pr]||[]).unshift(pe(l)),p)throw v;return function z(a,l,c,d){const p=a[Pr];throw l[Jr]&&p.unshift(l[Jr]),a.message=function ee(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let p=pe(l);if(Array.isArray(l))p=l.map(pe).join(" -> ");else if("object"==typeof l){let f=[];for(let v in l)if(l.hasOwnProperty(v)){let T=l[v];f.push(v+":"+("string"==typeof T?JSON.stringify(T):pe(T)))}p=`{${f.join(", ")}}`}return`${c}${d?"("+d+")":""}[${p}]: ${a.replace(Qr,"\n  ")}`}("\n"+a.message,p,c,d),a.ngTokenPath=p,a[Pr]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{ci(f),nr(p)}}resolveInjectorInitializers(){const l=nr(this),c=ci(void 0);try{const d=this.get(jy.multi,Je,lt.Self);for(const p of d)p()}finally{nr(l),ci(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(pe(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(l){let c=rl(l=ie(l))?l:ie(l&&l.provide);const d=function wC(a){return Zy(a)?Ud(void 0,a.useValue):Ud(Yy(a),um)}(l);if(rl(l)||!0!==l.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=Ud(void 0,um,!0),p.factory=()=>Rt(p.multi),this.records.set(c,p)),c=l,p.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===um&&(c.value=vC,c.value=c.factory()),"object"==typeof c.value&&c.value&&function qw(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ie(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Ky(a){const l=ji(a),c=null!==l?l.factory:yo(a);if(null!==c)return c;if(a instanceof on)throw new be(204,!1);if(a instanceof Function)return function bC(a){const l=a.length;if(l>0)throw lo(l,"?"),new be(204,!1);const c=function eo(a){const l=a&&(a[Nr]||a[bn]);if(l){const c=function Kr(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new be(204,!1)}function Yy(a,l,c){let d;if(rl(a)){const p=ie(a);return yo(p)||Ky(p)}if(Zy(a))d=()=>ie(a.useValue);else if(function Ww(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Rt(a.deps||[]));else if(function yC(a){return!(!a||!a.useExisting)}(a))d=()=>qe(ie(a.useExisting));else{const p=ie(a&&(a.useClass||a.provide));if(!function Qy(a){return!!a.deps}(a))return yo(p)||Ky(p);d=()=>new p(...Rt(a.deps))}return d}function Ud(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Hd(a,l){for(const c of a)Array.isArray(c)?Hd(c,l):c&&Re(c)?Hd(c.\u0275providers,l):l(c)}class TC{}class Kw{}class Qw{resolveComponentFactory(l){throw function IC(a){const l=Error(`No component factory found for ${pe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Gd=(()=>{class a{}return a.NULL=new Qw,a})();function hm(){return sl(Ii(),Ee())}function sl(a,l){return new $d(Fi(a,l))}let $d=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=hm,a})();function Gp(a){return a instanceof $d?a.nativeElement:a}class ev{}let EC=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function CC(){const a=Ee(),c=Ti(Ii().index,a);return(Fr(c)?c:a)[11]}(),a})(),DC=(()=>{class a{}return a.\u0275prov=dt({token:a,providedIn:"root",factory:()=>null}),a})();class Jw{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Xw=new Jw("15.1.1"),pm={};function nv(a){return a.ngOriginalError}class $p{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&nv(l);for(;c&&nv(c);)c=nv(c);return c||null}}function ga(a){return a instanceof Function?a():a}function o1(a,l,c){let d=a.length;for(;;){const p=a.indexOf(l,c);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const f=l.length;if(p+f===d||a.charCodeAt(p+f)<=32)return p}c=p+1}}const iv="ng-template";function rv(a,l,c){let d=0;for(;d<a.length;){let p=a[d++];if(c&&"class"===p){if(p=a[d],-1!==o1(p.toLowerCase(),l,0))return!0}else if(1===p){for(;d<a.length&&"string"==typeof(p=a[d++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function a1(a){return 4===a.type&&a.value!==iv}function l1(a,l,c){return l===(4!==a.type||c?a.value:iv)}function jd(a,l,c){let d=4;const p=a.attrs||[],f=function gm(a){for(let l=0;l<a.length;l++)if(Eo(a[l]))return l;return a.length}(p);let v=!1;for(let T=0;T<l.length;T++){const E=l[T];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!l1(a,E,c)||""===E&&1===l.length){if(Gs(d))return!1;v=!0}}else{const x=8&d?E:l[++T];if(8&d&&null!==a.attrs){if(!rv(a.attrs,x,c)){if(Gs(d))return!1;v=!0}continue}const V=PC(8&d?"class":E,p,a1(a),c);if(-1===V){if(Gs(d))return!1;v=!0;continue}if(""!==x){let J;J=V>f?"":p[V+1].toLowerCase();const ce=8&d?J:null;if(ce&&-1!==o1(ce,x,0)||2&d&&x!==J){if(Gs(d))return!1;v=!0}}}}else{if(!v&&!Gs(d)&&!Gs(E))return!1;if(v&&Gs(E))continue;v=!1,d=E|1&d}}return Gs(d)||v}function Gs(a){return 0==(1&a)}function PC(a,l,c,d){if(null===l)return-1;let p=0;if(d||!c){let f=!1;for(;p<l.length;){const v=l[p];if(v===a)return p;if(3===v||6===v)f=!0;else{if(1===v||2===v){let T=l[++p];for(;"string"==typeof T;)T=l[++p];continue}if(4===v)break;if(0===v){p+=4;continue}}p+=f?1:2}return-1}return function c1(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function sv(a,l,c=!1){for(let d=0;d<l.length;d++)if(jd(a,l[d],c))return!0;return!1}function u1(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let p=0;p<a.length;p++)if(a[p]!==d[p])continue e;return!0}}return!1}function d1(a,l){return a?":not("+l.trim()+")":l}function kC(a){let l=a[0],c=1,d=2,p="",f=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const T=a[++c];p+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&d?p+="."+v:4&d&&(p+=" "+v);else""!==p&&!Gs(v)&&(l+=d1(f,p),p=""),d=v,f=f||!Gs(d);c++}return""!==p&&(l+=d1(f,p)),l}const Xt={};function zp(a){h1(an(),Ee(),Tr()+a,!1)}function h1(a,l,c,d){if(!d)if(3==(3&l[2])){const f=a.preOrderCheckHooks;null!==f&&na(l,f,c)}else{const f=a.preOrderHooks;null!==f&&Bs(l,f,0,c)}Vs(c)}function _1(a,l=null,c=null,d){const p=y1(a,l,c,d);return p.resolveInjectorInitializers(),p}function y1(a,l=null,c=null,d,p=new Set){const f=[c||Je,Hp(a)];return d=d||("object"==typeof a?void 0:pe(a)),new Zw(f,l||dm(),d||null,p)}let oc=(()=>{class a{static create(c,d){if(Array.isArray(c))return _1({name:""},d,c,"");{const p=c.name??"";return _1({name:p},c.parent,c.providers,p)}}}return a.THROW_IF_NOT_FOUND=vi,a.NULL=new jw,a.\u0275prov=dt({token:a,providedIn:"any",factory:()=>qe(pu)}),a.__NG_ELEMENT_ID__=-1,a})();function zd(a,l=lt.Default){const c=Ee();return null===c?qe(a,l):ap(Ii(),c,ie(a),l)}function E1(){throw new Error("invalid")}function hv(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d+1];if(-1!==f){const v=a.data[f];jc(c[d]),v.contentQueries(2,l[f],f)}}}function gu(a,l,c,d,p,f,v,T,E,x,N){const V=l.blueprint.slice();return V[0]=p,V[2]=76|d,(null!==N||a&&1024&a[2])&&(V[2]|=1024),Uc(V),V[3]=V[15]=a,V[8]=c,V[10]=v||a&&a[10],V[11]=T||a&&a[11],V[12]=E||a&&a[12]||null,V[9]=x||a&&a[9]||null,V[6]=f,V[20]=function $g(){return Is++}(),V[21]=N,V[16]=2==l.type?a[16]:V,V}function lc(a,l,c,d,p){let f=a.data[l];if(null===f)f=No(a,l,c,d,p),function ld(){return Wt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=c,f.value=d,f.attrs=p;const v=Qo();f.injectorIndex=null===v?-1:v.injectorIndex}return es(f,!0),f}function No(a,l,c,d,p){const f=Gc(),v=Jo(),E=a.data[l]=function S1(a,l,c,d,p,f){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,c,l,d,p);return null===a.firstChild&&(a.firstChild=E),null!==f&&(v?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}function mm(a,l,c,d){if(0===c)return-1;const p=l.length;for(let f=0;f<c;f++)l.push(d),a.blueprint.push(d),a.data.push(null);return p}function pv(a,l,c){Zl(l);try{const d=a.viewQuery;null!==d&&bv(1,d,c);const p=a.template;null!==p&&C1(a,l,p,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&hv(a,l),a.staticViewQueries&&bv(2,a.viewQuery,c);const f=a.components;null!==f&&function kO(a,l){for(let c=0;c<l.length;c++)vv(a,l[c])}(l,f)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Lg()}}function _m(a,l,c,d){const p=l[2];if(128!=(128&p)){Zl(l);try{Uc(l),function ea(a){return Wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&C1(a,l,c,2,d);const v=3==(3&p);if(v){const x=a.preOrderCheckHooks;null!==x&&na(l,x,null)}else{const x=a.preOrderHooks;null!==x&&Bs(l,x,0,null),ws(l,0)}if(function iD(a){for(let l=ss(a);null!==l;l=os(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const p=c[d];512&p[2]||To(p[3],1),p[2]|=512}}}(l),function UO(a){for(let l=ss(a);null!==l;l=os(l))for(let c=10;c<l.length;c++){const d=l[c],p=d[1];wo(d)&&_m(p,d,p.template,d[8])}}(l),null!==a.contentQueries&&hv(a,l),v){const x=a.contentCheckHooks;null!==x&&na(l,x)}else{const x=a.contentHooks;null!==x&&Bs(l,x,1),ws(l,1)}!function qC(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const p=c[d];if(p<0)Vs(~p);else{const f=p,v=c[++d],T=c[++d];$c(v,f),T(2,l[f])}}}finally{Vs(-1)}}(a,l);const T=a.components;null!==T&&function KC(a,l){for(let c=0;c<l.length;c++)rD(a,l[c])}(l,T);const E=a.viewQuery;if(null!==E&&bv(2,E,d),v){const x=a.viewCheckHooks;null!==x&&na(l,x)}else{const x=a.viewHooks;null!==x&&Bs(l,x,2),ws(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,To(l[3],-1))}finally{Lg()}}}function C1(a,l,c,d,p){const f=Tr(),v=2&d;try{Vs(-1),v&&l.length>22&&h1(a,l,22,!1),c(d,p)}finally{Vs(f)}}function fv(a,l,c){if(Ps(l)){const p=l.directiveEnd;for(let f=l.directiveStart;f<p;f++){const v=a.data[f];v.contentQueries&&v.contentQueries(1,c[f],f)}}}function ym(a,l,c){sd()&&(function eD(a,l,c,d){const p=c.directiveStart,f=c.directiveEnd;Oa(c)&&function BO(a,l,c){const d=Fi(l,a),p=al(c),f=a[10],v=ef(a,gu(a,p,null,c.onPush?32:16,d,l,f,f.createRenderer(d,c),null,null,null));a[l.index]=v}(l,c,a.data[p+c.componentOffset]),a.firstCreatePass||oo(c,l),dr(d,l);const v=c.initialInputs;for(let T=p;T<f;T++){const E=a.data[T],x=is(l,a,T,c);dr(x,l),null!==v&&nD(0,T-p,x,E,0,v),hi(E)&&(Ti(c.index,l)[8]=is(l,a,T,c))}}(a,l,c,Fi(c,l)),64==(64&c.flags)&&M1(a,l,c))}function Wd(a,l,c=Fi){const d=l.localNames;if(null!==d){let p=l.index+1;for(let f=0;f<d.length;f+=2){const v=d[f+1],T=-1===v?c(l,a):a[v];a[p++]=T}}}function al(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=D1(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function D1(a,l,c,d,p,f,v,T,E,x){const N=22+d,V=N+p,J=function YC(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Xt);return c}(N,V),ce="function"==typeof x?x():x;return J[1]={type:a,blueprint:J,template:c,queries:null,viewQuery:T,declTNode:l,data:J.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:ce,incompleteFirstPass:!1}}function gv(a,l,c,d){const p=oD(l);null===c?p.push(d):(p.push(c),a.firstCreatePass&&Ei(a).push(d,p.length-1))}function mv(a,l,c,d){for(let p in a)if(a.hasOwnProperty(p)){c=null===c?{}:c;const f=a[p];null===d?x1(c,l,p,f):d.hasOwnProperty(p)&&x1(c,l,d[p],f)}return c}function x1(a,l,c,d){a.hasOwnProperty(c)?a[c].push(l,d):a[c]=[l,d]}function as(a,l,c,d,p,f,v,T){const E=Fi(l,c);let N,x=l.inputs;!T&&null!=x&&(N=x[d])?(R1(a,c,N,d,p),Oa(l)&&vm(c,l.index)):3&l.type&&(d=function Qi(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),p=null!=v?v(p,l.value||"",d):p,f.setProperty(E,d,p))}function vm(a,l){const c=Ti(l,a);16&c[2]||(c[2]|=32)}function Jp(a,l,c,d){let p=!1;if(sd()){const f=null===d?null:{"":-1},v=function tD(a,l){const c=a.directiveRegistry;let d=null,p=null;if(c)for(let f=0;f<c.length;f++){const v=c[f];if(sv(l,v.selectors,!1))if(d||(d=[]),hi(v))if(null!==v.findHostDirectiveDefs){const T=[];p=p||new Map,v.findHostDirectiveDefs(v,T,p),d.unshift(...T,v),wm(a,l,T.length)}else d.unshift(v),wm(a,l,0);else p=p||new Map,v.findHostDirectiveDefs?.(v,d,p),d.push(v)}return null===d?null:[d,p]}(a,c);let T,E;null===v?T=E=null:[T,E]=v,null!==T&&(p=!0,_v(a,l,c,T,f,E)),f&&function RO(a,l,c){if(l){const d=a.localNames=[];for(let p=0;p<l.length;p+=2){const f=c[l[p+1]];if(null==f)throw new be(-301,!1);d.push(l[p],f)}}}(c,d,f)}return c.mergedAttrs=ts(c.mergedAttrs,c.attrs),p}function _v(a,l,c,d,p,f){for(let x=0;x<d.length;x++)_d(oo(c,l),a,d[x].type);!function LO(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}(c,a.data.length,d.length);for(let x=0;x<d.length;x++){const N=d[x];N.providersResolver&&N.providersResolver(N)}let v=!1,T=!1,E=mm(a,l,d.length,null);for(let x=0;x<d.length;x++){const N=d[x];c.mergedAttrs=ts(c.mergedAttrs,N.hostAttrs),VO(a,c,l,E,N),FO(E,N,p),null!==N.contentQueries&&(c.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=64);const V=N.type.prototype;!v&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),v=!0),!T&&(V.ngOnChanges||V.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),T=!0),E++}!function Qp(a,l,c){const p=l.directiveEnd,f=a.data,v=l.attrs,T=[];let E=null,x=null;for(let N=l.directiveStart;N<p;N++){const V=f[N],J=c?c.get(V):null,Ae=J?J.outputs:null;E=mv(V.inputs,N,E,J?J.inputs:null),x=mv(V.outputs,N,x,Ae);const Ze=null===E||null===v||a1(l)?null:O1(E,N,v);T.push(Ze)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=8),E.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=T,l.inputs=E,l.outputs=x}(a,c,f)}function M1(a,l,c){const d=c.directiveStart,p=c.directiveEnd,f=c.index,v=function tp(){return Wt.lFrame.currentDirectiveIndex}();try{Vs(f);for(let T=d;T<p;T++){const E=a.data[T],x=l[T];io(T),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Xp(E,x)}}finally{Vs(-1),io(v)}}function Xp(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function wm(a,l,c){l.componentOffset=c,(a.components||(a.components=[])).push(l.index)}function FO(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;hi(l)&&(c[""]=a)}}function VO(a,l,c,d,p){a.data[d]=p;const f=p.factory||(p.factory=yo(p.type)),v=new Ua(f,hi(p),zd);a.blueprint[d]=v,c[d]=v,function A1(a,l,c,d,p){const f=p.hostBindings;if(f){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const T=~l.index;(function XC(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(v)!=T&&v.push(T),v.push(c,d,f)}}(a,l,d,mm(a,c,p.hostVars,Xt),p)}function yv(a,l,c,d,p,f,v){if(null==f)a.removeAttribute(l,p,c);else{const T=null==v?xe(f):v(f,d||"",p);a.setAttribute(l,p,T,c)}}function nD(a,l,c,d,p,f){const v=f[l];if(null!==v){const T=d.setInput;for(let E=0;E<v.length;){const x=v[E++],N=v[E++],V=v[E++];null!==T?d.setInput(c,V,x,N):c[N]=V}}}function O1(a,l,c){let d=null,p=0;for(;p<c.length;){const f=c[p];if(0!==f)if(5!==f){if("number"==typeof f)break;if(a.hasOwnProperty(f)){null===d&&(d=[]);const v=a[f];for(let T=0;T<v.length;T+=2)if(v[T]===l){d.push(f,v[T+1],c[p+1]);break}}p+=2}else p+=2;else p+=4}return d}function N1(a,l,c,d){return[a,!0,!1,l,null,0,d,c,null,null]}function rD(a,l){const c=Ti(l,a);if(wo(c)){const d=c[1];48&c[2]?_m(d,c,d.template,c[8]):c[5]>0&&Tm(c)}}function Tm(a){for(let d=ss(a);null!==d;d=os(d))for(let p=10;p<d.length;p++){const f=d[p];if(wo(f))if(512&f[2]){const v=f[1];_m(v,f,v.template,f[8])}else f[5]>0&&Tm(f)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const p=Ti(c[d],a);wo(p)&&p[5]>0&&Tm(p)}}function vv(a,l){const c=Ti(l,a),d=c[1];(function P1(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),pv(d,c,c[8])}function ef(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Im(a){for(;a;){a[2]|=32;const l=It(a);if(Og(a)&&!l)return a;a=l}return null}function tf(a,l,c,d=!0){const p=l[10];p.begin&&p.begin();try{_m(a,l,a.template,c)}catch(v){throw d&&k1(l,v),v}finally{p.end&&p.end()}}function bv(a,l,c){jc(0),l(a,c)}function oD(a){return a[7]||(a[7]=[])}function Ei(a){return a.cleanup||(a.cleanup=[])}function k1(a,l){const c=a[9],d=c?c.get($p,null):null;d&&d.handleError(l)}function R1(a,l,c,d,p){for(let f=0;f<c.length;){const v=c[f++],T=c[f++],E=l[v],x=a.data[v];null!==x.setInput?x.setInput(E,p,d,T):E[T]=p}}function ma(a,l,c){const d=to(l,a);Nd(a[11],d,c)}function Em(a,l,c){let d=c?a.styles:null,p=c?a.classes:null,f=0;if(null!==l)for(let v=0;v<l.length;v++){const T=l[v];"number"==typeof T?f=T:1==f?p=we(p,T):2==f&&(d=we(d,T+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=p:a.classesWithoutHost=p}function Cm(a,l,c,d,p=!1){for(;null!==c;){const f=l[c.index];if(null!==f&&d.push(qn(f)),Lr(f))for(let T=10;T<f.length;T++){const E=f[T],x=E[1].firstChild;null!==x&&Cm(E[1],E,x,d)}const v=c.type;if(8&v)Cm(a,l,c.child,d);else if(32&v){const T=ke(c,l);let E;for(;E=T();)d.push(E)}else if(16&v){const T=nm(l,c);if(Array.isArray(T))d.push(...T);else{const E=It(l[16]);Cm(E[1],E,T,d,!0)}}c=p?c.projectionNext:c.next}return d}class Dm{get rootNodes(){const l=this._lView,c=l[1];return Cm(c,l,c.firstChild,[])}constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Lr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(Dy(l,d),Ya(c,d))}this._attachedToViewContainer=!1}Jg(this._lView[1],this._lView)}onDestroy(l){gv(this._lView[1],this._lView,null,l)}markForCheck(){Im(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){tf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ic(a,l){Np(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=l}}class GO extends Dm{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;tf(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class aD extends Gd{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=dn(l);return new Sm(c,this.ngModule)}}function lD(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class $O{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){d=Mt(d);const p=this.injector.get(l,pm,d);return p!==pm||c===pm?p:this.parentInjector.get(l,c,d)}}class Sm extends Kw{get inputs(){return lD(this.componentDef.inputs)}get outputs(){return lD(this.componentDef.outputs)}constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function RC(a){return a.map(kC).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}create(l,c,d,p){let f=(p=p||this.ngModule)instanceof fu?p:p?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const v=f?new $O(l,f):l,T=v.get(ev,null);if(null===T)throw new be(407,!1);const E=v.get(DC,null),x=T.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",V=d?function QC(a,l,c){return a.selectRootElement(l,c===Ve.ShadowDom)}(x,d,this.componentDef.encapsulation):au(x,N,function cD(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(N)),J=this.componentDef.onPush?288:272,ce=D1(0,null,null,1,0,null,null,null,null,null),Ae=gu(null,ce,null,J,null,null,T,x,E,v,null);let Ze,tt;Zl(Ae);try{const yt=this.componentDef;let Vt,Ue=null;yt.findHostDirectiveDefs?(Vt=[],Ue=new Map,yt.findHostDirectiveDefs(yt,Vt,Ue),Vt.push(yt)):Vt=[yt];const Zt=function uD(a,l){const c=a[1];return a[22]=l,lc(c,22,2,"#host",null)}(Ae,V),Nn=function dD(a,l,c,d,p,f,v,T){const E=p[1];!function hD(a,l,c,d){for(const p of a)l.mergedAttrs=ts(l.mergedAttrs,p.hostAttrs);null!==l.mergedAttrs&&(Em(l,l.mergedAttrs,!0),null!==c&&kp(d,c,l))}(d,a,l,v);const x=f.createRenderer(l,c),N=gu(p,al(c),null,c.onPush?32:16,p[a.index],a,f,x,T||null,null,null);return E.firstCreatePass&&wm(E,a,d.length-1),ef(p,N),p[a.index]=N}(Zt,V,yt,Vt,Ae,T,x);tt=jl(ce,22),V&&function fD(a,l,c,d){if(d)Io(a,c,["ng-version",Xw.full]);else{const{attrs:p,classes:f}=function FC(a){const l=[],c=[];let d=1,p=2;for(;d<a.length;){let f=a[d];if("string"==typeof f)2===p?""!==f&&l.push(f,a[++d]):8===p&&c.push(f);else{if(!Gs(p))break;p=f}d++}return{attrs:l,classes:c}}(l.selectors[0]);p&&Io(a,c,p),f&&f.length>0&&rc(a,c,f.join(" "))}}(x,yt,V,d),void 0!==c&&function gD(a,l,c){const d=a.projection=[];for(let p=0;p<l.length;p++){const f=c[p];d.push(null!=f?Array.from(f):null)}}(tt,this.ngContentSelectors,c),Ze=function pD(a,l,c,d,p,f){const v=Ii(),T=p[1],E=Fi(v,p);_v(T,p,v,c,null,d);for(let N=0;N<c.length;N++)dr(is(p,T,v.directiveStart+N,v),p);M1(T,p,v),E&&dr(E,p);const x=is(p,T,v.directiveStart+v.componentOffset,v);if(a[8]=p[8]=x,null!==f)for(const N of f)N(x,l);return fv(T,v,a),x}(Nn,yt,Vt,Ue,Ae,[mD]),pv(ce,Ae,null)}finally{Lg()}return new _a(this.componentType,Ze,sl(tt,Ae),Ae,tt)}}class _a extends TC{constructor(l,c,d,p,f){super(),this.location=d,this._rootLView=p,this._tNode=f,this.instance=c,this.hostView=this.changeDetectorRef=new GO(p),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[l])){const f=this._rootLView;R1(f[1],f,p,l,c),vm(f,this._tNode.index)}}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function mD(){const a=Ii();Ba(Ee()[1],a)}function wv(a){let l=function F1(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let p;if(hi(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new be(903,!1);p=l.\u0275dir}if(p){if(c){d.push(p);const v=a;v.inputs=Iv(a.inputs),v.declaredInputs=Iv(a.declaredInputs),v.outputs=Iv(a.outputs);const T=p.hostBindings;T&&WO(a,T);const E=p.viewQuery,x=p.contentQueries;if(E&&_D(a,E),x&&zO(a,x),Ie(a.inputs,p.inputs),Ie(a.declaredInputs,p.declaredInputs),Ie(a.outputs,p.outputs),hi(p)&&p.data.animation){const N=a.data;N.animation=(N.animation||[]).concat(p.data.animation)}}const f=p.features;if(f)for(let v=0;v<f.length;v++){const T=f[v];T&&T.ngInherit&&T(a),T===wv&&(c=!1)}}l=Object.getPrototypeOf(l)}!function Tv(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const p=a[d];p.hostVars=l+=p.hostVars,p.hostAttrs=ts(p.hostAttrs,c=ts(c,p.hostAttrs))}}(d)}function Iv(a){return a===ht?{}:a===Je?[]:a}function _D(a,l){const c=a.viewQuery;a.viewQuery=c?(d,p)=>{l(d,p),c(d,p)}:l}function zO(a,l){const c=a.contentQueries;a.contentQueries=c?(d,p,f)=>{l(d,p,f),c(d,p,f)}:l}function WO(a,l){const c=a.hostBindings;a.hostBindings=c?(d,p)=>{l(d,p),c(d,p)}:l}let xm=null;function cn(){if(!xm){const a=Ut.Symbol;if(a&&a.iterator)xm=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(xm=d)}}}return xm}function Po(a){return!!hr(a)&&(Array.isArray(a)||!(a instanceof Map)&&cn()in a)}function hr(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function $s(a,l,c){return a[l]=c}function zn(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function qd(a,l,c,d){const p=zn(a,l,c);return zn(a,l+1,d)||p}function Mm(a,l,c,d,p){const f=qd(a,l,c,d);return zn(a,l+2,p)||f}function Sv(a,l,c,d){const p=Ee();return zn(p,Ls(),l)&&(an(),function ll(a,l,c,d,p,f){const v=Fi(a,l);yv(l[11],v,f,a.value,c,d,p)}(yn(),p,a,l,c,d)),Sv}function _t(a,l,c,d){return zn(a,Ls(),c)?l+xe(c)+d:Xt}function cc(a,l,c,d,p,f){const T=qd(a,sr(),c,p);return no(2),T?l+xe(c)+d+xe(p)+f:Xt}function Br(a,l,c,d,p,f,v,T){const E=Ee(),x=an(),N=a+22,V=x.firstCreatePass?function G1(a,l,c,d,p,f,v,T,E){const x=l.consts,N=lc(l,a,4,v||null,Xr(x,T));Jp(l,c,N,Xr(x,E)),Ba(l,N);const V=N.tViews=D1(2,N,d,p,f,l.directiveRegistry,l.pipeRegistry,null,l.schemas,x);return null!==l.queries&&(l.queries.template(l,N),V.queries=l.queries.embeddedTView(N)),N}(N,x,E,l,c,d,p,f,v):x.data[N];es(V,!1);const J=E[11].createComment("");Mp(x,E,J,V),dr(J,E),ef(E,E[N]=N1(J,E,J,V)),Fc(V)&&ym(x,E,V),null!=v&&Wd(E,V,T)}function sf(a){return Fs(function Wl(){return Wt.lFrame.contextLView}(),22+a)}function Om(a,l,c){const d=Ee();return zn(d,Ls(),l)&&as(an(),yn(),d,a,l,d[11],c,!1),Om}function af(a,l,c,d,p){const v=p?"class":"style";R1(a,c,l.inputs[v],v,d)}function js(a,l,c,d){const p=Ee(),f=an(),v=22+a,T=p[11],E=p[v]=au(T,l,function Vg(){return Wt.lFrame.currentNamespace}()),x=f.firstCreatePass?function Nm(a,l,c,d,p,f,v){const T=l.consts,x=lc(l,a,2,p,Xr(T,f));return Jp(l,c,x,Xr(T,v)),null!==x.attrs&&Em(x,x.attrs,!1),null!==x.mergedAttrs&&Em(x,x.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,x),x}(v,f,p,0,l,c,d):f.data[v];return es(x,!0),kp(T,E,x),32!=(32&x.flags)&&Mp(f,p,E,x),0===function Fa(){return Wt.lFrame.elementDepthCount}()&&dr(E,p),function Qh(){Wt.lFrame.elementDepthCount++}(),Fc(x)&&(ym(f,p,x),fv(f,x,p)),null!==d&&Wd(p,x),js}function Yd(){let a=Ii();Jo()?ad():(a=a.parent,es(a,!1));const l=a;!function La(){Wt.lFrame.elementDepthCount--}();const c=an();return c.firstCreatePass&&(Ba(c,a),Ps(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Ga(a){return 0!=(8&a.flags)}(l)&&af(c,l,Ee(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function ro(a){return 0!=(16&a.flags)}(l)&&af(c,l,Ee(),l.stylesWithoutHost,!1),Yd}function Mv(a,l,c,d){return js(a,l,c,d),Yd(),Mv}function hl(a,l,c){const d=Ee(),p=an(),f=a+22,v=p.firstCreatePass?function ID(a,l,c,d,p){const f=l.consts,v=Xr(f,d),T=lc(l,a,8,"ng-container",v);return null!==v&&Em(T,v,!0),Jp(l,c,T,Xr(f,p)),null!==l.queries&&l.queries.elementStart(l,T),T}(f,p,d,l,c):p.data[f];es(v,!0);const T=d[f]=d[11].createComment("");return Mp(p,d,T,v),dr(T,d),Fc(v)&&(ym(p,d,v),fv(p,v,d)),null!=c&&Wd(d,v),hl}function lf(){let a=Ii();const l=an();return Jo()?ad():(a=a.parent,es(a,!1)),l.firstCreatePass&&(Ba(l,a),Ps(a)&&l.queries.elementEnd(a)),lf}function cf(a,l,c){return hl(a,l,c),lf(),cf}function Ov(){return Ee()}function Nv(a){return!!a&&"function"==typeof a.then}function Pv(a){return!!a&&"function"==typeof a.subscribe}const uf=Pv;function df(a,l,c,d){const p=Ee(),f=an(),v=Ii();return function $1(a,l,c,d,p,f,v){const T=Fc(d),x=a.firstCreatePass&&Ei(a),N=l[8],V=oD(l);let J=!0;if(3&d.type||v){const Ze=Fi(d,l),tt=v?v(Ze):Ze,yt=V.length,Vt=v?Zt=>v(qn(Zt[d.index])):d.index;let Ue=null;if(!v&&T&&(Ue=function kv(a,l,c,d){const p=a.cleanup;if(null!=p)for(let f=0;f<p.length-1;f+=2){const v=p[f];if(v===c&&p[f+1]===d){const T=l[7],E=p[f+2];return T.length>E?T[E]:null}"string"==typeof v&&(f+=2)}return null}(a,l,p,d.index)),null!==Ue)(Ue.__ngLastListenerFn__||Ue).__ngNextListenerFn__=f,Ue.__ngLastListenerFn__=f,J=!1;else{f=km(d,l,N,f,!1);const Zt=c.listen(tt,p,f);V.push(f,Zt),x&&x.push(p,Vt,yt,yt+1)}}else f=km(d,l,N,f,!1);const ce=d.outputs;let Ae;if(J&&null!==ce&&(Ae=ce[p])){const Ze=Ae.length;if(Ze)for(let tt=0;tt<Ze;tt+=2){const Nn=l[Ae[tt]][Ae[tt+1]].subscribe(f),Si=V.length;V.push(f,Nn),x&&x.push(p,d.index,Si,-(Si+1))}}}(f,p,p[11],v,a,l,d),df}function j1(a,l,c,d){try{return!1!==c(d)}catch(p){return k1(a,p),!1}}function km(a,l,c,d,p){return function f(v){if(v===Function)return d;Im(a.componentOffset>-1?Ti(a.index,l):l);let E=j1(l,0,d,v),x=f.__ngNextListenerFn__;for(;x;)E=j1(l,0,x,v)&&E,x=x.__ngNextListenerFn__;return p&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Rv(a=1){return function yy(a){return(Wt.lFrame.contextLView=function dd(a,l){for(;a>0;)l=l[15],a--;return l}(a,Wt.lFrame.contextLView))[8]}(a)}function ED(a,l){let c=null;const d=function fm(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(!(1&c))return l[c+1]}return null}(a);for(let p=0;p<l.length;p++){const f=l[p];if("*"!==f){if(null===d?sv(a,f,!0):u1(d,f))return p}else c=p}return c}function Qd(a){const l=Ee()[16][6];if(!l.projection){const d=l.projection=lo(a?a.length:1,null),p=d.slice();let f=l.child;for(;null!==f;){const v=a?ED(f,a):0;null!==v&&(p[v]?p[v].projectionNext=f:d[v]=f,p[v]=f),f=f.next}}}function z1(a,l=0,c){const d=Ee(),p=an(),f=lc(p,22+a,16,null,c||null);null===f.projection&&(f.projection=l),ad(),32!=(32&f.flags)&&function Sw(a,l,c){Oy(l[11],0,l,c,Xg(a,c,l),Sy(c.parent||l[6],c,l))}(p,d,f)}function vu(a,l,c){return Rm(a,"",l,"",c),vu}function Rm(a,l,c,d,p){const f=Ee(),v=_t(f,l,c,d);return v!==Xt&&as(an(),yn(),f,a,v,f[11],p,!1),Rm}function Jd(a,l){return a<<17|l<<2}function va(a){return a>>17&32767}function Vm(a){return 2|a}function bu(a){return(131068&a)>>2}function Bm(a,l){return-131069&a|l<<2}function ff(a){return 1|a}function Um(a,l,c,d,p){const f=a[c+1],v=null===l;let T=d?va(f):bu(f),E=!1;for(;0!==T&&(!1===E||v);){const N=a[T+1];Ar(a[T],l)&&(E=!0,a[T+1]=d?ff(N):Vm(N)),T=d?va(N):bu(N)}E&&(a[c+1]=d?Vm(f):ff(f))}function Ar(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&$n(a,l)>=0}const pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gf(a){return a.substring(pn.key,pn.keyEnd)}function Gv(a){return a.substring(pn.value,pn.valueEnd)}function K1(a,l){const c=pn.textEnd;return c===l?-1:(l=pn.keyEnd=function $v(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,pn.key=l,c),wu(a,l,c))}function Q1(a,l){const c=pn.textEnd;let d=pn.key=wu(a,l,c);return c===d?-1:(d=pn.keyEnd=function SD(a,l,c){let d;for(;l<c&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,c),d=Hm(a,d,c),d=pn.value=wu(a,d,c),d=pn.valueEnd=function X1(a,l,c){let d=-1,p=-1,f=-1,v=l,T=v;for(;v<c;){const E=a.charCodeAt(v++);if(59===E)return T;34===E||39===E?T=v=eT(a,E,v,c):l===v-4&&85===f&&82===p&&76===d&&40===E?T=v=eT(a,41,v,c):E>32&&(T=v),f=p,p=d,d=-33&E}return T}(a,d,c),Hm(a,d,c))}function J1(a){pn.key=0,pn.keyEnd=0,pn.value=0,pn.valueEnd=0,pn.textEnd=a.length}function wu(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Hm(a,l,c,d){return(l=wu(a,l,c))<c&&l++,l}function eT(a,l,c,d){let p=-1,f=c;for(;f<d;){const v=a.charCodeAt(f++);if(v==l&&92!==p)return f;p=92==v&&92===p?0:v}throw new Error}function mf(a,l,c){return ho(a,l,c,!1),mf}function _f(a,l){return ho(a,l,null,!0),_f}function uo(a){po(zv,xD,a,!1)}function xD(a,l){for(let c=function Y1(a){return J1(a),Q1(a,wu(a,0,pn.textEnd))}(l);c>=0;c=Q1(l,c))zv(a,gf(l),Gv(l))}function Xd(a){po(Cr,ko,a,!0)}function ko(a,l){for(let c=function DD(a){return J1(a),K1(a,wu(a,0,pn.textEnd))}(l);c>=0;c=K1(l,c))Cr(a,gf(l),!0)}function ho(a,l,c,d){const p=Ee(),f=an(),v=no(2);f.firstUpdatePass&&tT(f,a,v,d),l!==Xt&&zn(p,v,l)&&Wv(f,f.data[Tr()],p,p[11],a,p[v+1]=function wf(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=pe(Ao(a)))),a}(l,c),d,v)}function po(a,l,c,d){const p=an(),f=no(2);p.firstUpdatePass&&tT(p,null,f,d);const v=Ee();if(c!==Xt&&zn(v,f,c)){const T=p.data[Tr()];if(Tf(T,d)&&!yf(p,f)){let E=d?T.classesWithoutHost:T.stylesWithoutHost;null!==E&&(c=we(E,c||"")),af(p,T,v,c,d)}else!function vf(a,l,c,d,p,f,v,T){p===Xt&&(p=Je);let E=0,x=0,N=0<p.length?p[0]:null,V=0<f.length?f[0]:null;for(;null!==N||null!==V;){const J=E<p.length?p[E+1]:void 0,ce=x<f.length?f[x+1]:void 0;let Ze,Ae=null;N===V?(E+=2,x+=2,J!==ce&&(Ae=V,Ze=ce)):null===V||null!==N&&N<V?(E+=2,Ae=N):(x+=2,Ae=V,Ze=ce),null!==Ae&&Wv(a,l,c,d,Ae,Ze,v,T),N=E<p.length?p[E]:null,V=x<f.length?f[x]:null}}(p,T,v,v[11],v[f+1],v[f+1]=function Gm(a,l,c){if(null==c||""===c)return Je;const d=[],p=Ao(c);if(Array.isArray(p))for(let f=0;f<p.length;f++)a(d,p[f],!0);else if("object"==typeof p)for(const f in p)p.hasOwnProperty(f)&&a(d,f,p[f]);else"string"==typeof p&&l(d,p);return d}(a,l,c),d,f)}}function yf(a,l){return l>=a.expandoStartIndex}function tT(a,l,c,d){const p=a.data;if(null===p[c+1]){const f=p[Tr()],v=yf(a,c);Tf(f,d)&&null===l&&!v&&(l=!1),l=function AD(a,l,c,d){const p=function Va(a){const l=Wt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let f=d?l.residualClasses:l.residualStyles;if(null===p)0===(d?l.classBindings:l.styleBindings)&&(c=th(c=pl(null,a,l,c,d),l.attrs,d),f=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==p)if(c=pl(p,a,l,c,d),null===f){let E=function eh(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==bu(d))return a[va(d)]}(a,l,d);void 0!==E&&Array.isArray(E)&&(E=pl(null,a,l,E[1],d),E=th(E,l.attrs,d),function MD(a,l,c,d){a[va(c?l.classBindings:l.styleBindings)]=d}(a,l,d,E))}else f=function OD(a,l,c){let d;const p=l.directiveEnd;for(let f=1+l.directiveStylingLast;f<p;f++)d=th(d,a[f].hostAttrs,c);return th(d,l.attrs,c)}(a,l,d)}return void 0!==f&&(d?l.residualClasses=f:l.residualStyles=f),c}(p,f,l,d),function Uv(a,l,c,d,p,f){let v=f?l.classBindings:l.styleBindings,T=va(v),E=bu(v);a[d]=c;let N,x=!1;if(Array.isArray(c)?(N=c[1],(null===N||$n(c,N)>0)&&(x=!0)):N=c,p)if(0!==E){const J=va(a[T+1]);a[d+1]=Jd(J,T),0!==J&&(a[J+1]=Bm(a[J+1],d)),a[T+1]=function Z1(a,l){return 131071&a|l<<17}(a[T+1],d)}else a[d+1]=Jd(T,0),0!==T&&(a[T+1]=Bm(a[T+1],d)),T=d;else a[d+1]=Jd(E,0),0===T?T=d:a[E+1]=Bm(a[E+1],d),E=d;x&&(a[d+1]=Vm(a[d+1])),Um(a,N,d,!0),Um(a,N,d,!1),function Hv(a,l,c,d,p){const f=p?a.residualClasses:a.residualStyles;null!=f&&"string"==typeof l&&$n(f,l)>=0&&(c[d+1]=ff(c[d+1]))}(l,N,a,d,f),v=Jd(T,E),f?l.classBindings=v:l.styleBindings=v}(p,f,l,c,v,d)}}function pl(a,l,c,d,p){let f=null;const v=c.directiveEnd;let T=c.directiveStylingLast;for(-1===T?T=c.directiveStart:T++;T<v&&(f=l[T],d=th(d,f.hostAttrs,p),f!==a);)T++;return null!==a&&(c.directiveStylingLast=T),d}function th(a,l,c){const d=c?1:2;let p=-1;if(null!==l)for(let f=0;f<l.length;f++){const v=l[f];"number"==typeof v?p=v:p===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Cr(a,v,!!c||l[++f]))}return void 0===a?null:a}function zv(a,l,c){Cr(a,l,Ao(c))}function Wv(a,l,c,d,p,f,v,T){if(!(3&l.type))return;const E=a.data,x=E[T+1],N=function q1(a){return 1==(1&a)}(x)?Wr(E,l,c,p,bu(x),v):void 0;bf(N)||(bf(f)||function Bv(a){return 2==(2&a)}(x)&&(f=Wr(E,null,c,p,T,v)),function fa(a,l,c,d,p){if(l)p?a.addClass(c,d):a.removeClass(c,d);else{let f=-1===d.indexOf("-")?void 0:$t.DashCase;null==p?a.removeStyle(c,d,f):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),f|=$t.Important),a.setStyle(c,d,p,f))}}(d,v,to(Tr(),c),p,f))}function Wr(a,l,c,d,p,f){const v=null===l;let T;for(;p>0;){const E=a[p],x=Array.isArray(E),N=x?E[1]:E,V=null===N;let J=c[p+1];J===Xt&&(J=V?Je:void 0);let ce=V?Tn(J,d):N===d?J:void 0;if(x&&!bf(ce)&&(ce=Tn(E,d)),bf(ce)&&(T=ce,v))return T;const Ae=a[p+1];p=v?va(Ae):bu(Ae)}if(null!==l){let E=f?l.residualClasses:l.residualStyles;null!=E&&(T=Tn(E,d))}return T}function bf(a){return void 0!==a}function Tf(a,l){return 0!=(a.flags&(l?8:16))}function Zv(a,l=""){const c=Ee(),d=an(),p=a+22,f=d.firstCreatePass?lc(d,p,1,l,null):d.data[p],v=c[p]=pa(c[11],l);Mp(d,c,v,f),es(f,!1)}function If(a){return Ef("",a,""),If}function Ef(a,l,c){const d=Ee(),p=_t(d,a,l,c);return p!==Xt&&ma(d,Tr(),p),Ef}function $m(a,l,c,d,p){const f=Ee(),v=cc(f,a,l,c,d,p);return v!==Xt&&ma(f,Tr(),v),$m}function Tu(a,l,c,d,p,f,v){const T=Ee(),E=function jt(a,l,c,d,p,f,v,T){const x=Mm(a,sr(),c,p,v);return no(3),x?l+xe(c)+d+xe(p)+f+xe(v)+T:Xt}(T,a,l,c,d,p,f,v);return E!==Xt&&ma(T,Tr(),E),Tu}function Zm(a,l,c,d,p){po(Cr,ko,cc(Ee(),a,l,c,d,p),!0)}function Eu(a,l,c){const d=Ee();return zn(d,Ls(),l)&&as(an(),yn(),d,a,l,d[11],c,!0),Eu}const hc=void 0;var LD=["en",[["a","p"],["AM","PM"],hc],[["AM","PM"],hc,hc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hc,"{1} 'at' {0}",hc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FD(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let rh={};function Cu(a){const l=function BD(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=Xv(l);if(c)return c;const d=l.split("-")[0];if(c=Xv(d),c)return c;if("en"===d)return LD;throw new be(701,!1)}function Jv(a){return Cu(a)[Ot.PluralCase]}function Xv(a){return a in rh||(rh[a]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[a]),rh[a]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const UD=["zero","one","two","few","many"],sh="en-US",Of={marker:"element"},oh={marker:"ICU"};var ai=(()=>((ai=ai||{})[ai.SHIFT=2]="SHIFT",ai[ai.APPEND_EAGERLY=1]="APPEND_EAGERLY",ai[ai.COMMENT=2]="COMMENT",ai))();let e0=sh;function Ym(a){(function kt(a,l){null==a&&ft(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(e0=a.toLowerCase().replace(/_/g,"-"))}function hT(a,l,c){const d=l.insertBeforeIndex,p=Array.isArray(d)?d[0]:d;return null===p?xy(a,0,c):qn(c[p])}function pT(a,l,c,d,p){const f=l.insertBeforeIndex;if(Array.isArray(f)){let v=d,T=null;if(3&l.type||(T=v,v=p),null!==v&&-1===l.componentOffset)for(let E=1;E<f.length;E++)cu(a,v,c[f[E]],T,!1)}}function Nf(a,l){if(a.push(l),a.length>1)for(let c=a.length-2;c>=0;c--){const d=a[c];ah(d)||Qm(d,l)&&null===t0(d)&&fT(d,l.index)}}function ah(a){return!(64&a.type)}function Qm(a,l){return ah(l)||a.index>l.index}function t0(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function fT(a,l){const c=a.insertBeforeIndex;Array.isArray(c)?c[0]=l:(Dw(hT,pT),a.insertBeforeIndex=l)}function fl(a,l){const c=a.data[l];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function Ci(a,l,c){const d=No(a,c,64,null,null);return Nf(l,d),d}function kf(a,l){const c=l[a.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function gT(a){return a>>>17}function mT(a){return(131070&a)>>>1}let lh=0,ch=0;function n0(a,l,c,d){const p=c[11];let v,f=null;for(let T=0;T<l.length;T++){const E=l[T];if("string"==typeof E){const x=l[++T];null===c[x]&&(c[x]=pa(p,E))}else if("number"==typeof E)switch(1&E){case 0:const x=gT(E);let N,V;if(null===f&&(f=x,v=il(p,d)),x===f?(N=d,V=v):(N=null,V=qn(c[x])),null!==V){const Ze=mT(E);cu(p,V,c[Ze],N,!1);const yt=fl(a,Ze);if(null!==yt&&"object"==typeof yt){const Vt=kf(yt,c);null!==Vt&&n0(a,yt.create[Vt],c,c[yt.anchorIdx])}}break;case 1:const ce=l[++T],Ae=l[++T];yv(p,to(E>>>1,c),null,null,ce,Ae,null)}else switch(E){case oh:const x=l[++T],N=l[++T];null===c[N]&&dr(c[N]=Sp(p,x),c);break;case Of:const V=l[++T],J=l[++T];null===c[J]&&dr(c[J]=au(p,V,null),c)}}}function r0(a,l,c,d,p){for(let f=0;f<c.length;f++){const v=c[f],T=c[++f];if(v&p){let E="";for(let x=f+1;x<=f+T;x++){const N=c[x];if("string"==typeof N)E+=N;else if("number"==typeof N)if(N<0)E+=xe(l[d-N]);else{const V=N>>>2;switch(3&N){case 1:const J=c[++x],ce=c[++x],Ae=a.data[V];"string"==typeof Ae?yv(l[11],l[V],null,Ae,J,E,ce):as(a,Ae,l,J,E,l[11],ce,!1);break;case 0:const Ze=l[V];null!==Ze&&Nd(l[11],Ze,E);break;case 2:Rf(a,fl(a,V),l,E);break;case 3:Xm(a,fl(a,V),d,l)}}}}else{const E=c[f+1];if(E>0&&3==(3&E)){const N=fl(a,E>>>2);l[N.currentCaseLViewIndex]<0&&Xm(a,N,d,l)}}f+=T}}function Xm(a,l,c,d){let p=d[l.currentCaseLViewIndex];if(null!==p){let f=lh;p<0&&(p=d[l.currentCaseLViewIndex]=~p,f=-1),r0(a,d,l.update[p],c,f)}}function Rf(a,l,c,d){const p=function o0(a,l){let c=a.cases.indexOf(l);if(-1===c)switch(a.type){case 1:{const d=function uT(a,l){const c=Jv(l)(parseInt(a,10)),d=UD[c];return void 0!==d?d:"other"}(l,function GD(){return e0}());c=a.cases.indexOf(d),-1===c&&"other"!==d&&(c=a.cases.indexOf("other"));break}case 0:c=a.cases.indexOf("other")}return-1===c?null:c}(l,d);if(kf(l,c)!==p&&(s0(a,l,c),c[l.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const v=c[l.anchorIdx];v&&n0(a,l.create[p],c,v)}}function s0(a,l,c){let d=kf(l,c);if(null!==d){const p=l.remove[d];for(let f=0;f<p.length;f++){const v=p[f];if(v>0){const T=to(v,c);null!==T&&My(c[11],T)}else s0(a,fl(a,~v),c)}}}function e_(){const a=[];let c,d,l=-1;function f(T,E){l=0;const x=kf(T,E);d=null!==x?T.remove[x]:Je}function v(){if(l<d.length){const T=d[l++];return T>0?c[T]:(a.push(l,d),f(c[1].data[~T],c),v())}return 0===a.length?null:(d=a.pop(),l=a.pop(),v())}return function p(T,E){for(c=E;a.length;)a.pop();return f(T.value,E),v}}const Ff=/\ufffd(\d+):?\d*\ufffd/gi,l0=/\ufffd(\d+)\ufffd/,t_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,n_=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,wT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,TT=/\uE500/g;function c0(a,l,c,d,p,f,v){const T=mm(a,d,1,null);let E=T<<ai.SHIFT,x=Qo();l===x&&(x=null),null===x&&(E|=ai.APPEND_EAGERLY),v&&(E|=ai.COMMENT,function at(a){void 0===ue&&(ue=a())}(e_)),p.push(E,null===f?"":f);const N=No(a,T,v?32:1,null===f?"":f,null);Nf(c,N);const V=N.index;return es(N,!1),null!==x&&l!==x&&function $D(a,l){let c=a.insertBeforeIndex;null===c?(Dw(hT,pT),c=a.insertBeforeIndex=[null,l]):(function W(a,l,c){a!=l&&ft(c,a,l,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(l))}(x,V),N}function ET(a,l,c,d,p,f,v){const T=v.match(Ff),E=c0(a,l,c,f,d,T?null:v,!1);T&&Ur(p,v,E.index,null,0,null)}function Ur(a,l,c,d,p,f){const v=a.length,T=v+1;a.push(null,null);const E=v+2,x=l.split(Ff);let N=0;for(let V=0;V<x.length;V++){const J=x[V];if(1&V){const ce=p+parseInt(J,10);a.push(-1-ce),N|=u0(ce)}else""!==J&&a.push(J)}return a.push(c<<2|(d?1:0)),d&&a.push(d,f),a[v]=N,a[T]=a.length-E,N}function u0(a){return 1<<Math.min(a,31)}function DT(a){let l,f,c="",d=0,p=!1;for(;null!==(l=n_.exec(a));)p?l[0]===`\ufffd/*${f}\ufffd`&&(d=l.index,p=!1):(c+=a.substring(d,l.index+l[0].length),f=l[1],p=!0);return c+=a.slice(d),c}function r_(a,l,c,d,p,f){let v=0;const T={type:p.type,currentCaseLViewIndex:mm(a,l,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function AT(a,l,c){a.push(u0(l.mainBinding),2,-1-l.mainBinding,c<<2|2)})(c,p,f),function Pf(a,l,c){const d=a.data[l];null===d?a.data[l]=c:d.value=c}(a,f,T);const E=p.values;for(let x=0;x<E.length;x++){const N=E[x],V=[];for(let J=0;J<N.length;J++){const ce=N[J];if("string"!=typeof ce){const Ae=V.push(ce)-1;N[J]=`\x3c!--\ufffd${Ae}\ufffd--\x3e`}}v=ST(a,T,l,c,d,p.cases[x],N.join(""),V)|v}v&&function Mr(a,l,c){a.push(l,1,c<<2|3)}(c,v,f)}function qD(a){const l=[],c=[];let d=1,p=0;const f=d0(a=a.replace(t_,function(v,T,E){return d="select"===E?0:1,p=parseInt(T.slice(1),10),""}));for(let v=0;v<f.length;){let T=f[v++].trim();1===d&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&l.push(T);const E=d0(f[v++]);l.length>c.length&&c.push(E)}return{type:d,mainBinding:p,cases:l,values:c}}function d0(a){if(!a)return[];let l=0;const c=[],d=[],p=/[{}]/g;let f;for(p.lastIndex=0;f=p.exec(a);){const T=f.index;if("}"==f[0]){if(c.pop(),0==c.length){const E=a.substring(l,T);t_.test(E)?d.push(qD(E)):d.push(E),l=T+1}}else{if(0==c.length){const E=a.substring(l,T);d.push(E),l=T+1}c.push("{")}}const v=a.substring(l);return d.push(v),d}function ST(a,l,c,d,p,f,v,T){const E=[],x=[],N=[];l.cases.push(f),l.create.push(E),l.remove.push(x),l.update.push(N);const J=Rw(function xw(){return void 0!==Py?Py:typeof document<"u"?document:void 0}()).getInertBodyElement(v),ce=Hw(J)||J;return ce?xT(a,l,c,d,E,x,N,ce,p,T,0):0}function xT(a,l,c,d,p,f,v,T,E,x,N){let V=0,J=T.firstChild;for(;J;){const ce=mm(a,c,1,null);switch(J.nodeType){case Node.ELEMENT_NODE:const Ae=J,Ze=Ae.tagName.toLowerCase();if(om.hasOwnProperty(Ze)){pc(p,Of,Ze,E,ce),a.data[ce]=Ze;const Ue=Ae.attributes;for(let Zt=0;Zt<Ue.length;Zt++){const Nn=Ue.item(Zt),Si=Nn.name.toLowerCase();Nn.value.match(Ff)?Lp.hasOwnProperty(Si)&&Ur(v,Nn.value,ce,Nn.name,0,am[Si]?Fd:null):fc(p,ce,Nn)}V=xT(a,l,c,d,p,f,v,J,ce,x,N+1)|V,Lf(f,ce,N)}break;case Node.TEXT_NODE:const tt=J.textContent||"",yt=tt.match(Ff);pc(p,null,yt?"":tt,E,ce),Lf(f,ce,N),yt&&(V=Ur(v,tt,ce,null,0,null)|V);break;case Node.COMMENT_NODE:const Vt=l0.exec(J.textContent||"");if(Vt){const Zt=x[parseInt(Vt[1],10)];pc(p,oh,"",E,ce),r_(a,c,d,E,Zt,ce),KD(f,ce,N)}}J=J.nextSibling}return V}function Lf(a,l,c){0===c&&a.push(l)}function KD(a,l,c){0===c&&(a.push(~l),a.push(l))}function pc(a,l,c,d,p){null!==l&&a.push(l),a.push(c,p,function yT(a,l,c){return a|l<<17|c<<1}(0,d,p))}function fc(a,l,c){a.push(l<<1|1,c.name,c.value)}function nt(a,l,c=-1){const d=an(),p=Ee(),f=22+a,v=Xr(d.consts,l),T=Qo();d.firstCreatePass&&function IT(a,l,c,d,p,f){const v=Qo(),T=[],E=[],x=[[]];p=function ZD(a,l){if(function hh(a){return-1===a}(l))return DT(a);{const c=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,d=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return DT(a.substring(c,d))}}(p,f);const N=function Su(a){return a.replace(TT," ")}(p).split(wT);for(let V=0;V<N.length;V++){let J=N[V];if(1&V){const ce=47===J.charCodeAt(0),Ze=(J.charCodeAt(ce?1:0),22+Number.parseInt(J.substring(ce?2:1)));if(ce)x.shift(),es(Qo(),!1);else{const tt=Ci(a,x[0],Ze);x.unshift([]),es(tt,!0)}}else{const ce=d0(J);for(let Ae=0;Ae<ce.length;Ae++){let Ze=ce[Ae];if(1&Ae){const tt=Ze;if("object"!=typeof tt)throw new Error(`Unable to parse ICU expression in "${p}" message.`);r_(a,c,E,l,tt,c0(a,v,x[0],c,T,"",!0).index)}else""!==Ze&&ET(a,v,x[0],T,E,c,Ze)}}}a.data[d]={create:T,update:E}}(d,null===T?0:T.index,p,f,v,c);const E=d.data[f],N=XE(d,T===p[6]?null:T,p);(function gl(a,l,c,d){const p=a[11];for(let f=0;f<l.length;f++){const v=l[f++],T=l[f],x=(v&ai.APPEND_EAGERLY)===ai.APPEND_EAGERLY,N=v>>>ai.SHIFT;let V=a[N];null===V&&(V=a[N]=(v&ai.COMMENT)===ai.COMMENT?p.createComment(T):pa(p,T)),x&&null!==c&&cu(p,c,V,d,!1)}})(p,E.create,N,T&&8&T.type?p[T.index]:null),ta(!0)}function Be(a,l,c){nt(a,l,c),function me(){ta(!1)}()}function o_(a){return function Jm(a){a&&(lh|=1<<Math.min(ch,31)),ch++}(zn(Ee(),Ls(),a)),o_}function MT(a){!function vT(a,l,c){if(ch>0){const d=a.data[c];r0(a,l,Array.isArray(d)?d:d.update,sr()-ch-1,lh)}lh=0,ch=0}(an(),Ee(),a+22)}function p0(a,l,c,d,p){if(a=ie(a),Array.isArray(a))for(let f=0;f<a.length;f++)p0(a[f],l,c,d,p);else{const f=an(),v=Ee();let T=rl(a)?a:ie(a.provide),E=Yy(a);const x=Ii(),N=1048575&x.providerIndexes,V=x.directiveStart,J=x.providerIndexes>>20;if(rl(a)||!a.multi){const ce=new Ua(E,p,zd),Ae=m0(T,l,p?N:N+J,V);-1===Ae?(_d(oo(x,v),f,T),f0(f,a,l.length),l.push(T),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),c.push(ce),v.push(ce)):(c[Ae]=ce,v[Ae]=ce)}else{const ce=m0(T,l,N+J,V),Ae=m0(T,l,N,N+J),tt=Ae>=0&&c[Ae];if(p&&!tt||!p&&!(ce>=0&&c[ce])){_d(oo(x,v),f,T);const yt=function Qt(a,l,c,d,p){const f=new Ua(a,c,zd);return f.multi=[],f.index=l,f.componentProviders=0,g0(f,p,d&&!c),f}(p?eS:QO,c.length,p,d,E);!p&&tt&&(c[Ae].providerFactory=yt),f0(f,a,l.length,0),l.push(T),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),c.push(yt),v.push(yt)}else f0(f,a,ce>-1?ce:Ae,g0(c[p?Ae:ce],E,!p&&d));!p&&d&&tt&&c[Ae].componentProviders++}}}function f0(a,l,c,d){const p=rl(l),f=function cm(a){return!!a.useClass}(l);if(p||f){const E=(f?ie(l.useClass):l).prototype.ngOnDestroy;if(E){const x=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const N=x.indexOf(c);-1===N?x.push(c,[d,E]):x[N+1].push(d,E)}else x.push(c,E)}}}function g0(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function m0(a,l,c,d){for(let p=c;p<d;p++)if(l[p]===a)return p;return-1}function QO(a,l,c,d){return a_(this.multi,[])}function eS(a,l,c,d){const p=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=is(c,c[1],this.providerFactory.index,d);f=T.slice(0,v),a_(p,f);for(let E=v;E<T.length;E++)f.push(T[E])}else f=[],a_(p,f);return f}function a_(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function Au(a,l=[]){return c=>{c.providersResolver=(d,p)=>function XD(a,l,c){const d=an();if(d.firstCreatePass){const p=hi(a);p0(c,d.data,d.blueprint,p,!0),p0(l,d.data,d.blueprint,p,!1)}}(d,p?p(a):a,l)}}class Mu{}class Jn{}function Nt(a,l){return new fn(a,l??null)}class fn extends Mu{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aD(this);const d=rr(l);this._bootstrapComponents=ga(d.bootstrap),this._r3Injector=y1(l,c,[{provide:Mu,useValue:this},{provide:Gd,useValue:this.componentFactoryResolver}],pe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class _0 extends Jn{constructor(l){super(),this.moduleType=l}create(l){return new fn(this.moduleType,l)}}class Di extends Mu{constructor(l,c,d){super(),this.componentFactoryResolver=new aD(this),this.instance=null;const p=new Zw([...l,{provide:Mu,useValue:this},{provide:Gd,useValue:this.componentFactoryResolver}],c||dm(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function et(a,l,c=null){return new Di(a,l,c).injector}let c_=(()=>{class a{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Bd(0,c.type),p=d.length>0?et([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,p)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=dt({token:a,providedIn:"environment",factory:()=>new a(qe(fu))}),a})();function u_(a){a.getStandaloneInjector=l=>l.get(c_).getOrCreateStandaloneInjector(a)}function fh(a,l,c){const d=qi()+a,p=Ee();return p[d]===Xt?$s(p,d,c?l.call(c):l()):function nf(a,l){return a[l]}(p,d)}function yl(a,l,c,d){return E0(Ee(),qi(),a,l,c,d)}function RT(a,l,c,d,p){return mc(Ee(),qi(),a,l,c,d,p)}function gc(a,l,c,d,p,f){return C0(Ee(),qi(),a,l,c,d,p,f)}function T0(a,l,c,d,p,f,v){return function gh(a,l,c,d,p,f,v,T,E){const x=l+c;return function Te(a,l,c,d,p,f){const v=qd(a,l,c,d);return qd(a,l+2,p,f)||v}(a,x,p,f,v,T)?$s(a,x+4,E?d.call(E,p,f,v,T):d(p,f,v,T)):fo(a,x+4)}(Ee(),qi(),a,l,c,d,p,f,v)}function FT(a,l,c,d){return function mh(a,l,c,d,p,f){let v=l+c,T=!1;for(let E=0;E<p.length;E++)zn(a,v++,p[E])&&(T=!0);return T?$s(a,v,d.apply(f,p)):fo(a,v)}(Ee(),qi(),a,l,c,d)}function fo(a,l){const c=a[l];return c===Xt?void 0:c}function E0(a,l,c,d,p,f){const v=l+c;return zn(a,v,p)?$s(a,v+1,f?d.call(f,p):d(p)):fo(a,v+1)}function mc(a,l,c,d,p,f,v){const T=l+c;return qd(a,T,p,f)?$s(a,T+2,v?d.call(v,p,f):d(p,f)):fo(a,T+2)}function C0(a,l,c,d,p,f,v,T){const E=l+c;return Mm(a,E,p,f,v)?$s(a,E+3,T?d.call(T,p,f,v):d(p,f,v)):fo(a,E+3)}function D0(a,l){const c=an();let d;const p=a+22;c.firstCreatePass?(d=function sS(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[p]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(p,d.onDestroy)):d=c.data[p];const f=d.factory||(d.factory=yo(d.type)),v=ci(zd);try{const T=Ts(!1),E=f();return Ts(T),function TD(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Ee(),p,E),E}finally{ci(v)}}function LT(a,l,c){const d=a+22,p=Ee(),f=Fs(p,d);return _h(p,d)?E0(p,qi(),l,f.transform,c,f):f.transform(c)}function vl(a,l,c,d){const p=a+22,f=Ee(),v=Fs(f,p);return _h(f,p)?mc(f,qi(),l,v.transform,c,d,v):v.transform(c,d)}function gi(a,l,c,d,p){const f=a+22,v=Ee(),T=Fs(v,f);return _h(v,f)?C0(v,qi(),l,T.transform,c,d,p,T):T.transform(c,d,p)}function _h(a,l){return a[1].data[l].pure}function wa(a){return l=>{setTimeout(a,void 0,l)}}const Zs=class Bf extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let p=l,f=c||(()=>null),v=d;if(l&&"object"==typeof l){const E=l;p=E.next?.bind(E),f=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(f=wa(f),p&&(p=wa(p)),v&&(v=wa(v)));const T=super.subscribe({next:p,error:f,complete:v});return l instanceof j.w0&&l.add(T),T}};function Nu(){return this._results[cn()]()}class go{get changes(){return this._changes||(this._changes=new Zs)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=cn(),d=go.prototype;d[c]||(d[c]=Nu)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const p=function ar(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function eu(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let p=a[d],f=l[d];if(c&&(p=c(p),f=c(f)),f!==p)return!1}return!0}(d._results,p,c))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let bl=(()=>{class a{}return a.__NG_ELEMENT_ID__=yh,a})();const _c=bl,VT=class extends _c{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,p=gu(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);p[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(p[19]=v.createEmbeddedView(d)),pv(d,p,l),new Dm(p)}};function yh(){return vh(Ii(),Ee())}function vh(a,l){return 4&a.type?new VT(l,a,sl(a,l)):null}let Ta=(()=>{class a{}return a.__NG_ELEMENT_ID__=x0,a})();function x0(){return wh(Ii(),Ee())}const Uf=Ta,A0=class extends Uf{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){const l=Wa(this._hostTNode,this._hostLView);if(Wc(l)){const c=Co(l,this._hostLView),d=ja(l);return new ao(c[1].data[d+8],c)}return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=M0(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let p,f;"number"==typeof d?p=d:null!=d&&(p=d.index,f=d.injector);const v=l.createEmbeddedView(c||{},f);return this.insert(v,p),v}createComponent(l,c,d,p,f){const v=l&&!function Ql(a){return"function"==typeof a}(l);let T;if(v)T=c;else{const V=c||{};T=V.index,d=V.injector,p=V.projectableNodes,f=V.environmentInjector||V.ngModuleRef}const E=v?l:new Sm(dn(l)),x=d||this.parentInjector;if(!f&&null==E.ngModule){const J=(v?x:this.parentInjector).get(fu,null);J&&(f=J)}const N=E.create(x,p,void 0,f);return this.insert(N.hostView,T),N}insert(l,c){const d=l._lView,p=d[1];if(function Kh(a){return Lr(a[3])}(d)){const N=this.indexOf(l);if(-1!==N)this.detach(N);else{const V=d[3],J=new A0(V,V[6],V[3]);J.detach(J.indexOf(l))}}const f=this._adjustIndex(c),v=this._lContainer;!function Cy(a,l,c,d){const p=10+d,f=c.length;d>0&&(c[p-1][4]=l),d<f-10?(l[4]=c[p],tu(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function xp(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const T=l[19];null!==T&&T.insertView(a),l[2]|=64}(p,d,v,f);const T=du(f,v),E=d[11],x=il(E,v[7]);return null!==x&&function Kg(a,l,c,d,p,f){d[0]=p,d[6]=l,Np(a,d,c,1,p,f)}(p,v[6],E,d,x,T),l.attachToViewContainerRef(),tu(bh(v),f,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=M0(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=Dy(this._lContainer,c);d&&(Ya(bh(this._lContainer),c),Jg(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=Dy(this._lContainer,c);return d&&null!=Ya(bh(this._lContainer),c)?new Dm(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function M0(a){return a[8]}function bh(a){return a[8]||(a[8]=[])}function wh(a,l){let c;const d=l[a.index];if(Lr(d))c=d;else{let p;if(8&a.type)p=qn(d);else{const f=l[11];p=f.createComment("");const v=Fi(a,l);cu(f,il(f,v),p,function Cw(a,l){return a.nextSibling(l)}(f,v),!1)}l[a.index]=c=N1(d,l,p,a),ef(l,c)}return new A0(c,a,l)}class d_{constructor(l){this.queryList=l,this.matches=null}clone(){return new d_(this.queryList)}setDirty(){this.queryList.setDirty()}}class O0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,p=[];for(let f=0;f<d;f++){const v=c.getByIndex(f);p.push(this.queries[v.indexInDeclarationView].clone())}return new O0(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==jT(l,c).matches&&this.queries[c].setDirty()}}class BT{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class h_{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const p=null!==c?c.length:0,f=this.getByIndex(d).embeddedTView(l,p);f&&(f.indexInDeclarationView=d,null!==c?c.push(f):c=[f])}return null!==c?new h_(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class p_{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new p_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const f=d[p];this.matchTNodeWithReadOption(l,c,yc(c,f)),this.matchTNodeWithReadOption(l,c,Za(c,l,f,!1,!1))}else d===bl?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Za(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===$d||p===Ta||p===bl&&4&c.type)this.addMatch(c.index,-2);else{const f=Za(c,l,p,!1,!1);null!==f&&this.addMatch(c.index,f)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function yc(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function HT(a,l,c,d){return-1===c?function UT(a,l){return 11&a.type?sl(a,l):4&a.type?vh(a,l):null}(l,a):-2===c?function GT(a,l,c){return c===$d?sl(l,a):c===bl?vh(l,a):c===Ta?wh(l,a):void 0}(a,l,d):is(a,a[1],c,l)}function un(a,l,c,d){const p=l[19].queries[d];if(null===p.matches){const f=a.data,v=c.matches,T=[];for(let E=0;E<v.length;E+=2){const x=v[E];T.push(x<0?null:HT(l,f[x],v[E+1],c.metadata.read))}p.matches=T}return p.matches}function In(a,l,c,d){const p=a.queries.getByIndex(c),f=p.matches;if(null!==f){const v=un(a,l,p,c);for(let T=0;T<f.length;T+=2){const E=f[T];if(E>0)d.push(v[T/2]);else{const x=f[T+1],N=l[-E];for(let V=10;V<N.length;V++){const J=N[V];J[17]===J[3]&&In(J[1],J,x,d)}if(null!==N[9]){const V=N[9];for(let J=0;J<V.length;J++){const ce=V[J];In(ce[1],ce,x,d)}}}}}return d}function Pu(a){const l=Ee(),c=an(),d=np();jc(d+1);const p=jT(c,d);if(a.dirty&&function zl(a){return 4==(4&a[2])}(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const f=p.crossesNgTemplate?In(c,l,d,[]):un(c,l,p,d);a.reset(f,Gp),a.notifyOnChanges()}return!0}return!1}function f_(a,l,c){const d=an();d.firstCreatePass&&(R0(d,new BT(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),k0(d,Ee(),l)}function g_(a,l,c,d){const p=an();if(p.firstCreatePass){const f=Ii();R0(p,new BT(l,c,d),f.index),function $T(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(p,a),2==(2&c)&&(p.staticContentQueries=!0)}k0(p,Ee(),c)}function N0(){return function P0(a,l){return a[19].queries[l].queryList}(Ee(),np())}function k0(a,l,c){const d=new go(4==(4&c));gv(a,l,d,d.destroy),null===l[19]&&(l[19]=new O0),l[19].queries.push(new d_(d))}function R0(a,l,c){null===a.queries&&(a.queries=new h_),a.queries.track(new p_(l,c))}function jT(a,l){return a.queries.getByIndex(l)}function zT(a,l){return vh(a,l)}function I_(...a){}const Xn=new on("Application Initializer");let Bu=(()=>{class a{constructor(c){this.appInits=c,this.resolve=I_,this.reject=I_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const f=this.appInits[p]();if(Nv(f))c.push(f);else if(uf(f)){const v=new Promise((T,E)=>{f.subscribe({complete:T,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(p=>{this.reject(p)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(qe(Xn,8))},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Zf=new on("AppId",{providedIn:"root",factory:function Z0(){return`${Uu()}${Uu()}${Uu()}`}});function Uu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const YT=new on("Platform Initializer"),QT=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hu=new on("appBootstrapListener"),JT=new on("AnimationModuleType");let XT=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Il=new on("LocaleId",{providedIn:"root",factory:()=>it(Il,lt.Optional|lt.SkipSelf)||function eI(){return typeof $localize<"u"&&$localize.locale||sh}()}),q0=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tI{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let nI=(()=>{class a{compileModuleSync(c){return new _0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),f=ga(rr(c).declarations).reduce((v,T)=>{const E=dn(T);return E&&v.push(new Sm(E)),v},[]);return new tI(d,f)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const iI=(()=>Promise.resolve(0))();function Gu(a){typeof Zone>"u"?iI.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ft{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zs(!1),this.onMicrotaskEmpty=new Zs(!1),this.onStable=new Zs(!1),this.onError=new Zs(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&c,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function _S(){let a=Ut.requestAnimationFrame,l=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Kf(a){const l=()=>{!function qf(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ut,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,xh(a),a.isCheckStableRunning=!0,Sh(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),xh(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,p,f,v,T)=>{try{return Y0(a),c.invokeTask(p,f,v,T)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||a.shouldCoalesceRunChangeDetection)&&l(),Q0(a)}},onInvoke:(c,d,p,f,v,T,E)=>{try{return Y0(a),c.invoke(p,f,v,T,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),Q0(a)}},onHasTask:(c,d,p,f)=>{c.hasTask(p,f),d===p&&("microTask"==f.change?(a._hasPendingMicrotasks=f.microTask,xh(a),Sh(a)):"macroTask"==f.change&&(a.hasPendingMacrotasks=f.macroTask))},onHandleError:(c,d,p,f)=>(c.handleError(p,f),a.runOutsideAngular(()=>a.onError.emit(f)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ft.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Ft.isInAngularZone())throw new be(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,p){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+p,l,yS,I_,I_);try{return f.runTask(v,c,d)}finally{f.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const yS={};function Sh(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function xh(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Y0(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Q0(a){a._nesting--,Sh(a)}class rI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zs,this.onMicrotaskEmpty=new Zs,this.onStable=new Zs,this.onError=new Zs}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,p){return l.apply(c,d)}}const sI=new on(""),J0=new on("");let X0,oI=(()=>{class a{constructor(c,d,p){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,X0||(function vS(a){X0=a}(p),p.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ft.assertNotInAngularZone(),Gu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gu(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,p){let f=-1;d&&d>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:f,updateCb:p})}whenStable(c,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,p){return[]}}return a.\u0275fac=function(c){return new(c||a)(qe(Ft),qe(aI),qe(J0))},a.\u0275prov=dt({token:a,factory:a.\u0275fac}),a})(),aI=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return X0?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Tc=null;const $u=new on("AllowMultipleToken"),E_=new on("PlatformDestroyListeners");class Yf{constructor(l,c){this.name=l,this.token=c}}function nb(a,l,c=[]){const d=`Platform: ${l}`,p=new on(d);return(f=[])=>{let v=rb();if(!v||v.injector.get($u,!1)){const T=[...c,...f,{provide:p,useValue:!0}];a?a(T):function Ia(a){if(Tc&&!Tc.get($u,!1))throw new be(400,!1);Tc=a;const l=a.get(Ah);(function tb(a){const l=a.get(YT,null);l&&l.forEach(c=>c())})(a)}(function ib(a=[],l){return oc.create({name:l,providers:[{provide:sc,useValue:"platform"},{provide:E_,useValue:new Set([()=>Tc=null])},...a]})}(T,d))}return function uI(a){const l=rb();if(!l)throw new be(401,!1);return l}()}}function rb(){return Tc?.get(Ah)??null}let Ah=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const p=function dI(a,l){let c;return c="noop"===a?new rI:("zone.js"===a?void 0:a)||new Ft(l),c}(d?.ngZone,function D_(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),f=[{provide:Ft,useValue:p}];return p.run(()=>{const v=oc.create({providers:f,parent:this.injector,name:c.moduleType.name}),T=c.create(v),E=T.injector.get($p,null);if(!E)throw new be(402,!1);return p.runOutsideAngular(()=>{const x=p.onError.subscribe({next:N=>{E.handleError(N)}});T.onDestroy(()=>{x_(this._modules,T),x.unsubscribe()})}),function sb(a,l,c){try{const d=c();return Nv(d)?d.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(E,p,()=>{const x=T.injector.get(Bu);return x.runInitializers(),x.donePromise.then(()=>(Ym(T.injector.get(Il,sh)||sh),this._moduleDoBootstrap(T),T))})})}bootstrapModule(c,d=[]){const p=S_({},d);return function Ui(a,l,c){const d=new _0(c);return Promise.resolve(d)}(0,0,c).then(f=>this.bootstrapModuleFactory(f,p))}_moduleDoBootstrap(c){const d=c.injector.get(Qf);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new be(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(E_,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(qe(oc))},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function S_(a,l){return Array.isArray(l)?l.reduce(S_,a):{...a,...l}}let Qf=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,p){this._zone=c,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new k.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),v=new k.y(T=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Ft.assertNotInAngularZone(),Gu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ft.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{E.unsubscribe(),x.unsubscribe()}});this.isStable=(0,le.T)(f,v.pipe((0,he.B)()))}bootstrap(c,d){const p=c instanceof Kw;if(!this._injector.get(Bu).done)throw!p&&ti(c),new be(405,false);let v;v=p?c:this._injector.get(Gd).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const T=function cI(a){return a.isBoundToModule}(v)?void 0:this._injector.get(Mu),x=v.create(oc.NULL,[],d||v.selector,T),N=x.location.nativeElement,V=x.injector.get(sI,null);return V?.registerApplication(N),x.onDestroy(()=>{this.detachView(x.hostView),x_(this.components,x),V?.unregisterApplication(N)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;x_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Hu,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>x_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new be(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)(qe(Ft),qe(fu),qe($p))},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function x_(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}function wS(){return!1}let TS=(()=>{class a{}return a.__NG_ELEMENT_ID__=hI,a})();function hI(a){return function us(a,l,c){if(Oa(a)&&!c){const d=Ti(a.index,l);return new Dm(d,d)}return 47&a.type?new Dm(l[16],l):null}(Ii(),Ee(),16==(16&a))}class mI{constructor(){}supports(l){return Po(l)}create(l){return new yI(l)}}const _I=(a,l)=>l;class yI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||_I}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,p=0,f=null;for(;c||d;){const v=!d||c&&c.currentIndex<O_(d,p,f)?c:d,T=O_(v,p,f),E=v.currentIndex;if(v===d)p--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)p++;else{f||(f=[]);const x=T-p,N=E-p;if(x!=N){for(let J=0;J<x;J++){const ce=J<f.length?f[J]:f[J]=0,Ae=ce+J;N<=Ae&&Ae<x&&(f[J]=ce+1)}f[v.previousIndex]=N-x}}T!==E&&l(v,T,E)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Po(l))throw new be(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,f,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let T=0;T<this.length;T++)f=l[T],v=this._trackByFn(T,f),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,f,v,T)),Object.is(c.item,f)||this._addIdentityChange(c,f)):(c=this._mismatch(c,f,v,T),d=!0),c=c._next}else p=0,function Cv(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[cn()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,T=>{v=this._trackByFn(p,T),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,T,v,p)),Object.is(c.item,T)||this._addIdentityChange(c,T)):(c=this._mismatch(c,T,v,p),d=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,p){let f;return null===l?f=this._itTail:(f=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,f,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,f,p)):l=this._addAfter(new AS(c,d),f,p),l}_verifyReinsertion(l,c,d,p){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==f?l=this._reinsertAfter(f,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,f=l._nextRemoved;return null===p?this._removalsHead=f:p._nextRemoved=f,null===f?this._removalsTail=p:f._prevRemoved=p,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const p=null===c?this._itHead:c._next;return l._next=p,l._prev=c,null===p?this._itTail=l:p._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new mr),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mr),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class AS{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pb{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class mr{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new pb,this.map.set(c,d)),d.add(l)}get(l,c){const p=this.map.get(l);return p?p.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function O_(a,l,c){const d=a.previousIndex;if(null===d)return d;let p=0;return c&&d<c.length&&(p=c[d]),d+l+p}class N_{constructor(){}supports(l){return l instanceof Map||hr(l)}create(){return new fb}}class fb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||hr(l)))throw new be(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const f=this._getOrCreateRecordForKey(p,d);c=this._insertBeforeOrAppend(c,f)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,c);const f=p._prev,v=p._next;return f&&(f._next=v),v&&(v._prev=f),p._next=null,p._prev=null,p}const d=new Ic(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class Ic{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gb(){return new mb([new mI])}let mb=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const p=d.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||gb()),deps:[[a,new D,new da]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(null!=d)return d;throw new be(901,!1)}}return a.\u0275prov=dt({token:a,providedIn:"root",factory:gb}),a})();function eg(){return new Dl([new N_])}let Dl=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const p=d.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||eg()),deps:[[a,new D,new da]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new be(901,!1)}}return a.\u0275prov=dt({token:a,providedIn:"root",factory:eg}),a})();const _b=nb(null,"core",[]);let yb=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(qe(Qf))},a.\u0275mod=Go({type:a}),a.\u0275inj=yi({}),a})();function vI(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function FS(a,l){const c=dn(a),d=l.elementInjector||dm();return new Sm(c).create(d,l.projectableNodes,l.hostElement,l.environmentInjector)}},8140:(pt,Me,L)=>{"use strict";L.d(Me,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=L(9681)},1274:(pt,Me,L)=>{"use strict";L.d(Me,{Z:()=>s.Z});var s=L(3942)},8618:(pt,Me,L)=>{"use strict";L.r(Me);var s=L(5861),j=L(3942),k=L(2722),le=L(2090),Ie=(L(9681),L(1877),L(4859));function pe(){return window}function q(){return(q=(0,s.Z)(function*(G,P,B){var fe;const{BuildInfo:Ve}=pe();(0,k.ap)(P.sessionId,"AuthEvent did not contain a session ID");const ht=yield Oe(P.sessionId),Je={};return(0,k.aq)()?Je.ibi=Ve.packageName:(0,k.ar)()?Je.apn=Ve.packageName:(0,k.as)(G,"operation-not-supported-in-this-environment"),Ve.displayName&&(Je.appDisplayName=Ve.displayName),Je.sessionId=ht,(0,k.at)(G,B,P.type,void 0,null!==(fe=P.eventId)&&void 0!==fe?fe:void 0,Je)})).apply(this,arguments)}function ze(){return(ze=(0,s.Z)(function*(G){const{BuildInfo:P}=pe(),B={};(0,k.aq)()?B.iosBundleId=P.packageName:(0,k.ar)()?B.androidPackageName=P.packageName:(0,k.as)(G,"operation-not-supported-in-this-environment"),yield(0,k.au)(G,B)})).apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(G,P,B){const{cordova:fe}=pe();let Ve=()=>{};try{yield new Promise((ht,Je)=>{let zt=null;function vt(){var Gt;ht();const ir=null===(Gt=fe.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof ir&&ir(),"function"==typeof B?.close&&B.close()}function Dn(){zt||(zt=window.setTimeout(()=>{Je((0,k.aw)(G,"redirect-cancelled-by-user"))},2e3))}function Ni(){"visible"===document?.visibilityState&&Dn()}P.addPassiveListener(vt),document.addEventListener("resume",Dn,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",Ni,!1),Ve=()=>{P.removePassiveListener(vt),document.removeEventListener("resume",Dn,!1),document.removeEventListener("visibilitychange",Ni,!1),zt&&window.clearTimeout(zt)}})}finally{Ve()}})).apply(this,arguments)}function Oe(G){return xe.apply(this,arguments)}function xe(){return(xe=(0,s.Z)(function*(G){const P=Fe(G),B=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(B)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fe(G){if((0,k.ap)(/[0-9a-zA-Z]+/.test(G),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(G);const P=new ArrayBuffer(G.length),B=new Uint8Array(P);for(let fe=0;fe<G.length;fe++)B[fe]=G.charCodeAt(fe);return B}class Ce extends k.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(P)),super.onEvent(P)}initialized(){var P=this;return(0,s.Z)(function*(){yield P.initPromise})()}}function oe(G){return ne.apply(this,arguments)}function ne(){return(ne=(0,s.Z)(function*(G){const P=yield W()._get(Q(G));return P&&(yield W()._remove(Q(G))),P})).apply(this,arguments)}function H(){const G=[],P="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const fe=Math.floor(Math.random()*P.length);G.push(P.charAt(fe))}return G.join("")}function W(){return(0,k.az)(k.b)}function Q(G){return(0,k.aA)("authEvent",G.config.apiKey,G.name)}function De(G){if(!G?.includes("?"))return{};const[P,...B]=G.split("?");return(0,le.zd)(B.join("?"))}const Ht=class St{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(P){var B=this;return(0,s.Z)(function*(){const fe=P._key();let Ve=B.eventManagers.get(fe);return Ve||(Ve=new Ce(P),B.eventManagers.set(fe,Ve),B.attachCallbackListeners(P,Ve)),Ve})()}_openPopup(P){(0,k.as)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,B,fe,Ve){var ht=this;return(0,s.Z)(function*(){!function be(G){var P,B,fe,Ve,ht,Je,zt,vt,Dn,Ni;const Gt=pe();(0,k.ax)("function"==typeof(null===(P=Gt?.universalLinks)||void 0===P?void 0:P.subscribe),G,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(typeof(null===(B=Gt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(ht=null===(Ve=null===(fe=Gt?.cordova)||void 0===fe?void 0:fe.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===ht?void 0:ht.openUrl),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(vt=null===(zt=null===(Je=Gt?.cordova)||void 0===Je?void 0:Je.plugins)||void 0===zt?void 0:zt.browsertab)||void 0===vt?void 0:vt.isAvailable),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Ni=null===(Dn=Gt?.cordova)||void 0===Dn?void 0:Dn.InAppBrowser)||void 0===Ni?void 0:Ni.open),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const Je=yield ht._initialize(P);yield Je.initialized(),Je.resetRedirect(),(0,k.aD)(),yield ht._originValidation(P);const zt=function ye(G,P,B=null){return{type:P,eventId:B,urlResponse:null,sessionId:H(),postBody:null,tenantId:G.tenantId,error:(0,k.aw)(G,"no-auth-event")}}(P,fe,Ve);yield function Ge(G,P){return W()._set(Q(G),P)}(P,zt);const vt=yield function Z(G,P,B){return q.apply(this,arguments)}(P,zt,B),Dn=yield function Re(G){const{cordova:P}=pe();return new Promise(B=>{P.plugins.browsertab.isAvailable(fe=>{let Ve=null;fe?P.plugins.browsertab.openUrl(G):Ve=P.InAppBrowser.open(G,(0,k.av)()?"_blank":"_system","location=yes"),B(Ve)})})}(vt);return function Qe(G,P,B){return st.apply(this,arguments)}(P,Je,Dn)})()}_isIframeWebStorageSupported(P,B){throw new Error("Method not implemented.")}_originValidation(P){const B=P._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function ie(G){return ze.apply(this,arguments)}(P)),this.originValidationPromises[B]}attachCallbackListeners(P,B){const{universalLinks:fe,handleOpenURL:Ve,BuildInfo:ht}=pe(),Je=setTimeout((0,s.Z)(function*(){yield oe(P),B.onEvent(Tt())}),500),zt=function(){var Ni=(0,s.Z)(function*(Gt){clearTimeout(Je);const ir=yield oe(P);let Oc=null;ir&&Gt?.url&&(Oc=function re(G,P){var B,fe;const Ve=function ve(G){const P=De(G),B=P.link?decodeURIComponent(P.link):void 0,fe=De(B).link,Ve=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return De(Ve).link||Ve||fe||B||G}(P);if(Ve.includes("/__/auth/callback")){const ht=De(Ve),Je=ht.firebaseError?function X(G){try{return JSON.parse(G)}catch{return null}}(decodeURIComponent(ht.firebaseError)):null,zt=null===(fe=null===(B=Je?.code)||void 0===B?void 0:B.split("auth/"))||void 0===fe?void 0:fe[1],vt=zt?(0,k.aw)(zt):null;return vt?{type:G.type,eventId:G.eventId,tenantId:G.tenantId,error:vt,urlResponse:null,sessionId:null,postBody:null}:{type:G.type,eventId:G.eventId,tenantId:G.tenantId,sessionId:G.sessionId,urlResponse:Ve,postBody:null}}return null}(ir,Gt.url)),B.onEvent(Oc||Tt())});return function(ir){return Ni.apply(this,arguments)}}();typeof fe<"u"&&"function"==typeof fe.subscribe&&fe.subscribe(null,zt);const vt=Ve,Dn=`${ht.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Ni=(0,s.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(Dn)&&zt({url:Gt}),"function"==typeof vt)try{vt(Gt)}catch(ir){console.error(ir)}});return function(Gt){return Ni.apply(this,arguments)}}()}};function Tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function At(){var G;return(null===(G=self?.location)||void 0===G?void 0:G.protocol)||null}function tr(G=(0,le.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!G.toLowerCase().match(/iphone|ipad|ipod|android/))}function eo(){try{const G=self.localStorage,P=k.aI();if(G)return G.setItem(P,"1"),G.removeItem(P),!function ys(G=(0,le.z$)()){return function ji(){return(0,le.w1)()&&11===document?.documentMode}()||function Un(G=(0,le.z$)()){return/Edge\/\d+/.test(G)}(G)}()||(0,le.hl)()}catch{return Kr()&&(0,le.hl)()}return!1}function Kr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function li(){return(function dt(){return"http:"===At()||"https:"===At()}()||(0,le.ru)()||tr())&&!function yi(){return(0,le.b$)()||(0,le.UG)()}()&&eo()&&!Kr()}function Nr(){return tr()&&typeof document<"u"}function bn(){return(bn=(0,s.Z)(function*(){return!!Nr()&&new Promise(G=>{const P=setTimeout(()=>{G(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(P),G(!0)})})})).apply(this,arguments)}const lt={LOCAL:"local",NONE:"none",SESSION:"session"},Oi=k.ax,zi="persistence";function ui(G){return vr.apply(this,arguments)}function vr(){return(vr=(0,s.Z)(function*(G){yield G._initializationPromise;const P=Et(),B=k.aA(zi,G.config.apiKey,G.name);P&&P.setItem(B,G._getPersistence())})).apply(this,arguments)}function Et(){var G;try{return(null===(G=function Mi(){return typeof window<"u"?window:null}())||void 0===G?void 0:G.sessionStorage)||null}catch{return null}}const Lt=k.ax;class wn{constructor(){this.browserResolver=k.az(k.k),this.cordovaResolver=k.az(Ht),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(P){var B=this;return(0,s.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,B,fe,Ve){var ht=this;return(0,s.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openPopup(P,B,fe,Ve)})()}_openRedirect(P,B,fe,Ve){var ht=this;return(0,s.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openRedirect(P,B,fe,Ve)})()}_isIframeWebStorageSupported(P,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,B)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return Nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,s.Z)(function*(){if(P.underlyingResolver)return;const B=yield function Yr(){return bn.apply(this,arguments)}();P.underlyingResolver=B?P.cordovaResolver:P.browserResolver})()}}function vi(G){return G.unwrap()}function Pr(G){return Qr(G)}function Qr(G){const{_tokenResponse:P}=G instanceof le.ZR?G.customData:G;if(!P)return null;if(!(G instanceof le.ZR)&&"temporaryProof"in P&&"phoneNumber"in P)return k.P.credentialFromResult(G);const B=P.providerId;if(!B||B===k.o.PASSWORD)return null;let fe;switch(B){case k.o.GOOGLE:fe=k.Q;break;case k.o.FACEBOOK:fe=k.N;break;case k.o.GITHUB:fe=k.T;break;case k.o.TWITTER:fe=k.W;break;default:const{oauthIdToken:Ve,oauthAccessToken:ht,oauthTokenSecret:Je,pendingToken:zt,nonce:vt}=P;return ht||Je||Ve||zt?zt?B.startsWith("saml.")?k.aL._create(B,zt):k.J._fromParams({providerId:B,signInMethod:B,pendingToken:zt,idToken:Ve,accessToken:ht}):new k.U(B).credential({idToken:Ve,accessToken:ht,rawNonce:vt}):null}return G instanceof le.ZR?fe.credentialFromError(G):fe.credentialFromResult(G)}function Kt(G,P){return P.catch(B=>{throw B instanceof le.ZR&&function bi(G,P){var B;const fe=null===(B=P.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===P?.code)P.resolver=new nr(G,k.an(G,P));else if(fe){const Ve=Qr(P),ht=P;Ve&&(ht.credential=Ve,ht.tenantId=fe.tenantId||void 0,ht.email=fe.email||void 0,ht.phoneNumber=fe.phoneNumber||void 0)}}(G,B),B}).then(B=>{const Ve=B.user;return{operationType:B.operationType,credential:Pr(B),additionalUserInfo:k.al(B),user:ei.getOrCreate(Ve)}})}function Jr(G,P){return tn.apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(G,P){const B=yield P;return{verificationId:B.verificationId,confirm:fe=>Kt(G,B.confirm(fe))}})).apply(this,arguments)}class nr{constructor(P,B){this.resolver=B,this.auth=function Hn(G){return G.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return Kt(vi(this.auth),this.resolver.resolveSignIn(P))}}class ei{constructor(P){this._delegate=P,this.multiFactor=k.ao(P)}static getOrCreate(P){return ei.USER_MAP.has(P)||ei.USER_MAP.set(P,new ei(P)),ei.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var B=this;return(0,s.Z)(function*(){return Kt(B.auth,k.Z(B._delegate,P))})()}linkWithPhoneNumber(P,B){var fe=this;return(0,s.Z)(function*(){return Jr(fe.auth,k.l(fe._delegate,P,B))})()}linkWithPopup(P){var B=this;return(0,s.Z)(function*(){return Kt(B.auth,k.d(B._delegate,P,wn))})()}linkWithRedirect(P){var B=this;return(0,s.Z)(function*(){return yield ui(k.aE(B.auth)),k.g(B._delegate,P,wn)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var B=this;return(0,s.Z)(function*(){return Kt(B.auth,k._(B._delegate,P))})()}reauthenticateWithPhoneNumber(P,B){return Jr(this.auth,k.r(this._delegate,P,B))}reauthenticateWithPopup(P){return Kt(this.auth,k.e(this._delegate,P,wn))}reauthenticateWithRedirect(P){var B=this;return(0,s.Z)(function*(){return yield ui(k.aE(B.auth)),k.h(B._delegate,P,wn)})()}sendEmailVerification(P){return k.ab(this._delegate,P)}unlink(P){var B=this;return(0,s.Z)(function*(){return yield k.ak(B._delegate,P),B})()}updateEmail(P){return k.ag(this._delegate,P)}updatePassword(P){return k.ah(this._delegate,P)}updatePhoneNumber(P){return k.u(this._delegate,P)}updateProfile(P){return k.af(this._delegate,P)}verifyBeforeUpdateEmail(P,B){return k.ac(this._delegate,P,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ei.USER_MAP=new WeakMap;const qe=k.ax;let Ne=(()=>{class G{constructor(B,fe){if(this.app=B,fe.isInitialized())return this._delegate=fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=B.options;qe(Ve,"invalid-api-key",{appName:B.name}),qe(Ve,"invalid-api-key",{appName:B.name});const ht=typeof window<"u"?wn:void 0;this._delegate=fe.initialize({options:{persistence:Mt(Ve,B.name),popupRedirectResolver:ht}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ei.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,fe){k.G(this._delegate,B,fe)}applyActionCode(B){return k.a2(this._delegate,B)}checkActionCode(B){return k.a3(this._delegate,B)}confirmPasswordReset(B,fe){return k.a1(this._delegate,B,fe)}createUserWithEmailAndPassword(B,fe){var Ve=this;return(0,s.Z)(function*(){return Kt(Ve._delegate,k.a5(Ve._delegate,B,fe))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return k.aa(this._delegate,B)}isSignInWithEmailLink(B){return k.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,s.Z)(function*(){qe(li(),B._delegate,"operation-not-supported-in-this-environment");const fe=yield k.j(B._delegate,wn);return fe?Kt(B._delegate,Promise.resolve(fe)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function kt(G,P){(0,k.aE)(G)._logFramework(P)}(this._delegate,B)}onAuthStateChanged(B,fe,Ve){const{next:ht,error:Je,complete:zt}=it(B,fe,Ve);return this._delegate.onAuthStateChanged(ht,Je,zt)}onIdTokenChanged(B,fe,Ve){const{next:ht,error:Je,complete:zt}=it(B,fe,Ve);return this._delegate.onIdTokenChanged(ht,Je,zt)}sendSignInLinkToEmail(B,fe){return k.a7(this._delegate,B,fe)}sendPasswordResetEmail(B,fe){return k.a0(this._delegate,B,fe||void 0)}setPersistence(B){var fe=this;return(0,s.Z)(function*(){let Ve;switch(function ci(G,P){Oi(Object.values(lt).includes(P),G,"invalid-persistence-type"),(0,le.b$)()?Oi(P!==lt.SESSION,G,"unsupported-persistence-type"):(0,le.UG)()?Oi(P===lt.NONE,G,"unsupported-persistence-type"):Kr()?Oi(P===lt.NONE||P===lt.LOCAL&&(0,le.hl)(),G,"unsupported-persistence-type"):Oi(P===lt.NONE||eo(),G,"unsupported-persistence-type")}(fe._delegate,B),B){case lt.SESSION:Ve=k.a;break;case lt.LOCAL:Ve=(yield k.az(k.i)._isAvailable())?k.i:k.b;break;case lt.NONE:Ve=k.L;break;default:return k.as("argument-error",{appName:fe._delegate.name})}return fe._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Kt(this._delegate,k.X(this._delegate))}signInWithCredential(B){return Kt(this._delegate,k.Y(this._delegate,B))}signInWithCustomToken(B){return Kt(this._delegate,k.$(this._delegate,B))}signInWithEmailAndPassword(B,fe){return Kt(this._delegate,k.a6(this._delegate,B,fe))}signInWithEmailLink(B,fe){return Kt(this._delegate,k.a9(this._delegate,B,fe))}signInWithPhoneNumber(B,fe){return Jr(this._delegate,k.s(this._delegate,B,fe))}signInWithPopup(B){var fe=this;return(0,s.Z)(function*(){return qe(li(),fe._delegate,"operation-not-supported-in-this-environment"),Kt(fe._delegate,k.c(fe._delegate,B,wn))})()}signInWithRedirect(B){var fe=this;return(0,s.Z)(function*(){return qe(li(),fe._delegate,"operation-not-supported-in-this-environment"),yield ui(fe._delegate),k.f(fe._delegate,B,wn)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return k.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return G.Persistence=lt,G})();function it(G,P,B){let fe=G;"function"!=typeof G&&({next:fe,error:P,complete:B}=G);const Ve=fe;return{next:Je=>Ve(Je&&ei.getOrCreate(Je)),error:P,complete:B}}function Mt(G,P){const B=function Ut(G,P){const B=Et();if(!B)return[];const fe=k.aA(zi,G,P);switch(B.getItem(fe)){case lt.NONE:return[k.L];case lt.LOCAL:return[k.i,k.a];case lt.SESSION:return[k.a];default:return[]}}(G,P);if(typeof self<"u"&&!B.includes(k.i)&&B.push(k.i),typeof window<"u")for(const fe of[k.b,k.a])B.includes(fe)||B.push(fe);return B.includes(k.L)||B.push(k.L),B}class Rt{constructor(){this.providerId="phone",this._delegate=new k.P(vi(j.Z.auth()))}static credential(P,B){return k.P.credential(P,B)}verifyPhoneNumber(P,B){return this._delegate.verifyPhoneNumber(P,B)}unwrap(){return this._delegate}}Rt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Rt.PROVIDER_ID=k.P.PROVIDER_ID;const sn=k.ax;class K{constructor(P,B,fe=j.Z.app()){var Ve;sn(null===(Ve=fe.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:fe.name}),this._delegate=new k.R(P,B,fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ee(G){G.INTERNAL.registerComponent(new Ie.wA("auth-compat",P=>{const B=P.getProvider("app-compat").getImmediate(),fe=P.getProvider("auth");return new Ne(B,fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:Rt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:K,TwitterAuthProvider:k.W,Auth:Ne,AuthCredential:k.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G.registerVersion("@firebase/auth-compat","0.3.3")}(j.Z)},3942:(pt,Me,L)=>{"use strict";L.d(Me,{Z:()=>Qe});var s=L(2090),j=L(4859),k=L(9681),le=L(1877);class he{constructor(be,Oe){this._delegate=be,this.firebase=Oe,(0,k._addComponent)(be,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(be,Oe=k._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(be);return!Fe.isInitialized()&&"EXPLICIT"===(null===(xe=Fe.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:Oe})}_removeServiceInstance(be,Oe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Oe)}_addComponent(be){(0,k._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,k._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function we(){const st=function pe(st){const be={},Oe={__esModule:!0,initializeApp:function Le(oe,ne={}){const re=k.initializeApp(oe,ne);if((0,s.r3)(be,re.name))return be[re.name];const H=new st(re,Oe);return be[re.name]=H,H},app:Fe,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function ye(oe){const ne=oe.name,re=ne.replace("-compat","");if(k._registerComponent(oe)&&"PUBLIC"===oe.type){const H=(W=Fe())=>{if("function"!=typeof W[re])throw Ie.create("invalid-app-argument",{appName:ne});return W[re]()};void 0!==oe.serviceProps&&(0,s.ZB)(H,oe.serviceProps),Oe[re]=H,st.prototype[re]=function(...W){return this._getService.bind(this,ne).apply(this,oe.multipleInstances?W:[])}}return"PUBLIC"===oe.type?Oe[re]:null},removeApp:function xe(oe){delete be[oe]},useAsService:function Ge(oe,ne){return"serverAuth"===ne?null:ne},modularAPIs:k}};function Fe(oe){if(!(0,s.r3)(be,oe=oe||k._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:oe});return be[oe]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function Ce(){return Object.keys(be).map(oe=>be[oe])}}),Fe.App=st,Oe}(he);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function be(Oe){(0,s.ZB)(st,Oe)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),st}(),q=new le.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=Z;!function Re(st){(0,k.registerVersion)("@firebase/app-compat","0.2.3",st)}()},9681:(pt,Me,L)=>{"use strict";L.r(Me),L.d(Me,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>eo,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>en,_addOrOverwriteComponent:()=>Sn,_apps:()=>kt,_clearComponents:()=>yi,_components:()=>ft,_getProvider:()=>dt,_registerComponent:()=>At,_removeServiceInstance:()=>tr,deleteApp:()=>Yr,getApp:()=>li,getApps:()=>Nr,initializeApp:()=>Kr,onLog:()=>lt,registerVersion:()=>Mi,setLogLevel:()=>Oi});var s=L(5861),j=L(4859),k=L(1877),le=L(2090),he=L(8766);class ae{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function Ie(qe){return"VERSION"===qe.getComponent()?.type}(it)){const Mt=it.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(it=>it).join(" ")}}const pe="@firebase/app",Z=new k.Yd("@firebase/app"),Ht="[DEFAULT]",Tt={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kt=new Map,ft=new Map;function en(qe,Ne){try{qe.container.addComponent(Ne)}catch(it){Z.debug(`Component ${Ne.name} failed to register with FirebaseApp ${qe.name}`,it)}}function Sn(qe,Ne){qe.container.addOrOverwriteComponent(Ne)}function At(qe){const Ne=qe.name;if(ft.has(Ne))return Z.debug(`There were multiple attempts to register component ${Ne}.`),!1;ft.set(Ne,qe);for(const it of kt.values())en(it,qe);return!0}function dt(qe,Ne){const it=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),qe.container.getProvider(Ne)}function tr(qe,Ne,it=Ht){dt(qe,Ne).clearInstance(it)}function yi(){ft.clear()}const Un=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ys{constructor(Ne,it,Mt){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const eo="9.17.1";function Kr(qe,Ne={}){let it=qe;"object"!=typeof Ne&&(Ne={name:Ne});const Mt=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},Ne),Rt=Mt.name;if("string"!=typeof Rt||!Rt)throw Un.create("bad-app-name",{appName:String(Rt)});if(it||(it=(0,le.aH)()),!it)throw Un.create("no-options");const sn=kt.get(Rt);if(sn){if((0,le.vZ)(it,sn.options)&&(0,le.vZ)(Mt,sn.config))return sn;throw Un.create("duplicate-app",{appName:Rt})}const K=new j.H0(Rt);for(const ee of ft.values())K.addComponent(ee);const z=new ys(it,Mt,K);return kt.set(Rt,z),z}function li(qe=Ht){const Ne=kt.get(qe);if(!Ne&&qe===Ht)return Kr();if(!Ne)throw Un.create("no-app",{appName:qe});return Ne}function Nr(){return Array.from(kt.values())}function Yr(qe){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(qe){const Ne=qe.name;kt.has(Ne)&&(kt.delete(Ne),yield Promise.all(qe.container.getProviders().map(it=>it.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function Mi(qe,Ne,it){var Mt;let Rt=null!==(Mt=Tt[qe])&&void 0!==Mt?Mt:qe;it&&(Rt+=`-${it}`);const sn=Rt.match(/\s|\//),K=Ne.match(/\s|\//);if(sn||K){const z=[`Unable to register library "${Rt}" with version "${Ne}":`];return sn&&z.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),sn&&K&&z.push("and"),K&&z.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void Z.warn(z.join(" "))}At(new j.wA(`${Rt}-version`,()=>({library:Rt,version:Ne}),"VERSION"))}function lt(qe,Ne){if(null!==qe&&"function"!=typeof qe)throw Un.create("invalid-log-argument");(0,k.Am)(qe,Ne)}function Oi(qe){(0,k.Ub)(qe)}const ui="firebase-heartbeat-store";let vr=null;function Ut(){return vr||(vr=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(qe,Ne)=>{0===Ne&&qe.createObjectStore(ui)}}).catch(qe=>{throw Un.create("idb-open",{originalErrorMessage:qe.message})})),vr}function Lt(){return(Lt=(0,s.Z)(function*(qe){try{return(yield Ut()).transaction(ui).objectStore(ui).get(Hn(qe))}catch(Ne){if(Ne instanceof le.ZR)Z.warn(Ne.message);else{const it=Un.create("idb-get",{originalErrorMessage:Ne?.message});Z.warn(it.message)}}})).apply(this,arguments)}function wn(qe,Ne){return vi.apply(this,arguments)}function vi(){return(vi=(0,s.Z)(function*(qe,Ne){try{const Mt=(yield Ut()).transaction(ui,"readwrite");return yield Mt.objectStore(ui).put(Ne,Hn(qe)),Mt.done}catch(it){if(it instanceof le.ZR)Z.warn(it.message);else{const Mt=Un.create("idb-set",{originalErrorMessage:it?.message});Z.warn(Mt.message)}}})).apply(this,arguments)}function Hn(qe){return`${qe.name}!${qe.options.appId}`}class Qr{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new tn(it),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Ne=this;return(0,s.Z)(function*(){const Mt=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=Kt();if(null===Ne._heartbeatsCache&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!Ne._heartbeatsCache.heartbeats.some(sn=>sn.date===Rt))return Ne._heartbeatsCache.heartbeats.push({date:Rt,agent:Mt}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(sn=>{const K=new Date(sn.date).valueOf();return Date.now()-K<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,s.Z)(function*(){if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null===Ne._heartbeatsCache||0===Ne._heartbeatsCache.heartbeats.length)return"";const it=Kt(),{heartbeatsToSend:Mt,unsentEntries:Rt}=function Jr(qe,Ne=1024){const it=[];let Mt=qe.slice();for(const Rt of qe){const sn=it.find(K=>K.agent===Rt.agent);if(sn){if(sn.dates.push(Rt.date),nr(it)>Ne){sn.dates.pop();break}}else if(it.push({agent:Rt.agent,dates:[Rt.date]}),nr(it)>Ne){it.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:it,unsentEntries:Mt}}(Ne._heartbeatsCache.heartbeats),sn=(0,le.L)(JSON.stringify({version:2,heartbeats:Mt}));return Ne._heartbeatsCache.lastSentHeartbeatDate=it,Rt.length>0?(Ne._heartbeatsCache.heartbeats=Rt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),sn})()}}function Kt(){return(new Date).toISOString().substring(0,10)}class tn{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,s.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function Et(qe){return Lt.apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var it=this;return(0,s.Z)(function*(){var Mt;if(yield it._canUseIndexedDBPromise){const sn=yield it.read();return wn(it.app,{lastSentHeartbeatDate:null!==(Mt=Ne.lastSentHeartbeatDate)&&void 0!==Mt?Mt:sn.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var it=this;return(0,s.Z)(function*(){var Mt;if(yield it._canUseIndexedDBPromise){const sn=yield it.read();return wn(it.app,{lastSentHeartbeatDate:null!==(Mt=Ne.lastSentHeartbeatDate)&&void 0!==Mt?Mt:sn.lastSentHeartbeatDate,heartbeats:[...sn.heartbeats,...Ne.heartbeats]})}})()}}function nr(qe){return(0,le.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function ei(qe){At(new j.wA("platform-logger",Ne=>new ae(Ne),"PRIVATE")),At(new j.wA("heartbeat",Ne=>new Qr(Ne),"PRIVATE")),Mi(pe,"0.9.3",qe),Mi(pe,"0.9.3","esm2017"),Mi("fire-js","")}("")},4859:(pt,Me,L)=>{"use strict";L.d(Me,{H0:()=>pe,wA:()=>k});var s=L(5861),j=L(2090);class k{constructor(Z,q,ie){this.name=Z,this.instanceFactory=q,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const le="[DEFAULT]";class he{constructor(Z,q){this.name=Z,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(q)){const ie=new j.BH;if(this.instancesDeferred.set(q,ie),this.isInitialized(q)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:q});ze&&ie.resolve(ze)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(Z){var q;const ie=this.normalizeInstanceIdentifier(Z?.identifier),ze=null!==(q=Z?.optional)&&void 0!==q&&q;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Re){if(ze)return null;throw Re}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function Ie(we){return"EAGER"===we.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[q,ie]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(q);try{const Re=this.getOrInitializeService({instanceIdentifier:ze});ie.resolve(Re)}catch{}}}}clearInstance(Z=le){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,s.Z)(function*(){const q=Array.from(Z.instances.values());yield Promise.all([...q.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...q.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=le){return this.instances.has(Z)}getOptions(Z=le){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:q={}}=Z,ie=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ie,options:q});for(const[Re,Qe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Re)&&Qe.resolve(ze);return ze}onInit(Z,q){var ie;const ze=this.normalizeInstanceIdentifier(q),Re=null!==(ie=this.onInitCallbacks.get(ze))&&void 0!==ie?ie:new Set;Re.add(Z),this.onInitCallbacks.set(ze,Re);const Qe=this.instances.get(ze);return Qe&&Z(Qe,ze),()=>{Re.delete(Z)}}invokeOnInitCallbacks(Z,q){const ie=this.onInitCallbacks.get(q);if(ie)for(const ze of ie)try{ze(Z,q)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:q={}}){let ie=this.instances.get(Z);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(we=Z,we===le?void 0:we),options:q}),this.instances.set(Z,ie),this.instancesOptions.set(Z,q),this.invokeOnInitCallbacks(ie,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,ie)}catch{}var we;return ie||null}normalizeInstanceIdentifier(Z=le){return this.component?this.component.multipleInstances?Z:le:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const q=this.getProvider(Z.name);if(q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);q.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const q=new he(Z,this);return this.providers.set(Z,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Me,L)=>{"use strict";L.d(Me,{Am:()=>we,Ub:()=>pe,Yd:()=>Ie,in:()=>j});const s=[];var j=(()=>{return(Z=j||(j={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",j;var Z})();const k={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},le=j.INFO,he={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ae=(Z,q,...ie)=>{if(q<Z.logLevel)return;const ze=(new Date).toISOString(),Re=he[q];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Re](`[${ze}]  ${Z.name}:`,...ie)};class Ie{constructor(q){this.name=q,this._logLevel=le,this._logHandler=ae,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in j))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?k[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...q),this._logHandler(this,j.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...q),this._logHandler(this,j.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,j.INFO,...q),this._logHandler(this,j.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,j.WARN,...q),this._logHandler(this,j.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...q),this._logHandler(this,j.ERROR,...q)}}function pe(Z){s.forEach(q=>{q.setLogLevel(Z)})}function we(Z,q){for(const ie of s){let ze=null;q&&q.level&&(ze=k[q.level]),ie.userLogHandler=null===Z?null:(Re,Qe,...st)=>{const be=st.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");Qe>=(ze??Re.logLevel)&&Z({level:j[Qe].toLowerCase(),message:be,args:st,type:Re.name})}}}},8766:(pt,Me,L)=>{"use strict";L.d(Me,{Lj:()=>Le,X3:()=>Fe});var s=L(5861);let k,le;const Ie=new WeakMap,pe=new WeakMap,we=new WeakMap,Z=new WeakMap,q=new WeakMap;let Re={get(ne,re,H){if(ne instanceof IDBTransaction){if("done"===re)return pe.get(ne);if("objectStoreNames"===re)return ne.objectStoreNames||we.get(ne);if("store"===re)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Oe(ne[re])},set:(ne,re,H)=>(ne[re]=H,!0),has:(ne,re)=>ne instanceof IDBTransaction&&("done"===re||"store"===re)||re in ne};function be(ne){return"function"==typeof ne?function st(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...re){return ne.apply(xe(this),re),Oe(Ie.get(this))}:function(...re){return Oe(ne.apply(xe(this),re))}:function(re,...H){const W=ne.call(xe(this),re,...H);return we.set(W,re.sort?re.sort():[re]),Oe(W)}}(ne):(ne instanceof IDBTransaction&&function ze(ne){if(pe.has(ne))return;const re=new Promise((H,W)=>{const Q=()=>{ne.removeEventListener("complete",X),ne.removeEventListener("error",ve),ne.removeEventListener("abort",ve)},X=()=>{H(),Q()},ve=()=>{W(ne.error||new DOMException("AbortError","AbortError")),Q()};ne.addEventListener("complete",X),ne.addEventListener("error",ve),ne.addEventListener("abort",ve)});pe.set(ne,re)}(ne),((ne,re)=>re.some(H=>ne instanceof H))(ne,function he(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Re):ne)}function Oe(ne){if(ne instanceof IDBRequest)return function ie(ne){const re=new Promise((H,W)=>{const Q=()=>{ne.removeEventListener("success",X),ne.removeEventListener("error",ve)},X=()=>{H(Oe(ne.result)),Q()},ve=()=>{W(ne.error),Q()};ne.addEventListener("success",X),ne.addEventListener("error",ve)});return re.then(H=>{H instanceof IDBCursor&&Ie.set(H,ne)}).catch(()=>{}),q.set(re,ne),re}(ne);if(Z.has(ne))return Z.get(ne);const re=be(ne);return re!==ne&&(Z.set(ne,re),q.set(re,ne)),re}const xe=ne=>q.get(ne);function Fe(ne,re,{blocked:H,upgrade:W,blocking:Q,terminated:X}={}){const ve=indexedDB.open(ne,re),De=Oe(ve);return W&&ve.addEventListener("upgradeneeded",Xe=>{W(Oe(ve.result),Xe.oldVersion,Xe.newVersion,Oe(ve.transaction))}),H&&ve.addEventListener("blocked",()=>H()),De.then(Xe=>{X&&Xe.addEventListener("close",()=>X()),Q&&Xe.addEventListener("versionchange",()=>Q())}).catch(()=>{}),De}function Le(ne,{blocked:re}={}){const H=indexedDB.deleteDatabase(ne);return re&&H.addEventListener("blocked",()=>re()),Oe(H).then(()=>{})}const Ce=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],Ge=new Map;function oe(ne,re){if(!(ne instanceof IDBDatabase)||re in ne||"string"!=typeof re)return;if(Ge.get(re))return Ge.get(re);const H=re.replace(/FromIndex$/,""),W=re!==H,Q=ye.includes(H);if(!(H in(W?IDBIndex:IDBObjectStore).prototype)||!Q&&!Ce.includes(H))return;const X=function(){var ve=(0,s.Z)(function*(De,...Xe){const St=this.transaction(De,Q?"readwrite":"readonly");let Ht=St.store;return W&&(Ht=Ht.index(Xe.shift())),(yield Promise.all([Ht[H](...Xe),Q&&St.done]))[0]});return function(Xe){return ve.apply(this,arguments)}}();return Ge.set(re,X),X}!function Qe(ne){Re=ne(Re)}(ne=>({...ne,get:(re,H,W)=>oe(re,H)||ne.get(re,H,W),has:(re,H)=>!!oe(re,H)||ne.has(re,H)}))},5861:(pt,Me,L)=>{"use strict";function s(k,le,he,ae,Ie,pe,we){try{var Z=k[pe](we),q=Z.value}catch(ie){return void he(ie)}Z.done?le(q):Promise.resolve(q).then(ae,Ie)}function j(k){return function(){var le=this,he=arguments;return new Promise(function(ae,Ie){var pe=k.apply(le,he);function we(q){s(pe,ae,Ie,we,Z,"next",q)}function Z(q){s(pe,ae,Ie,we,Z,"throw",q)}we(void 0)})}}L.d(Me,{Z:()=>j})}},pt=>{pt(pt.s=5363)}]);