(self.webpackChunkMovieProject=self.webpackChunkMovieProject||[]).push([[179],{2011:(pt,Me,L)=>{"use strict";L.d(Me,{Dh:()=>pe,GT:()=>ae,cc:()=>Re,hO:()=>ze,on:()=>q,pX:()=>he,xv:()=>we});var s=L(4650),j=L(1274),k=L(5141);pt=L.hmd(pt);const le=["ngOnDestroy"],he=(Oe,xe,Fe,Le={})=>new Proxy(Oe,{get:(Te,ye)=>Fe.runOutsideAngular(()=>{var Ge;if(Oe[ye])return!(null===(Ge=Le?.spy)||void 0===Ge)&&Ge.get&&Le.spy.get(ye,Oe[ye]),Oe[ye];if(le.indexOf(ye)>-1)return()=>{};const oe=xe.toPromise().then(ne=>{const re=ne&&ne[ye];return"function"==typeof re?re.bind(ne):re&&re.then?re.then(H=>Fe.run(()=>H)):Fe.run(()=>re)});return new Proxy(()=>{},{get:(ne,re)=>oe[re],apply:(ne,re,H)=>oe.then(W=>{var J;const X=W&&W(...H);return!(null===(J=Le?.spy)||void 0===J)&&J.apply&&Le.spy.apply(ye,H,X),X})})})}),ae=(Oe,xe)=>{xe.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(Le=>{Object.defineProperty(Oe.prototype,Le,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,Le))})})};class Ee{constructor(xe){return xe}}const pe=new s.OlP("angularfire2.app.options"),we=new s.OlP("angularfire2.app.name");function q(Oe,xe,Fe){const Te="object"==typeof Fe&&Fe||{};Te.name=Te.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const Ge=j.Z.apps.filter(oe=>oe&&oe.name===Te.name)[0]||xe.runOutsideAngular(()=>j.Z.initializeApp(Oe,Te));try{JSON.stringify(Oe)!==JSON.stringify(Ge.options)&&Z("error",`${Ge.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(Ge)}const Z=(Oe,...xe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Oe](...xe)},ie={provide:Ee,useFactory:q,deps:[pe,s.R0b,[new s.FiY,we]]};let ze=(()=>{class Oe{constructor(Fe){j.Z.registerVersion("angularfire",k.q4.full,"core"),j.Z.registerVersion("angularfire",k.q4.full,"app-compat"),j.Z.registerVersion("angular",s.q4F.full,Fe.toString())}static initializeApp(Fe,Le){return{ngModule:Oe,providers:[{provide:pe,useValue:Fe},{provide:we,useValue:Le}]}}}return Oe.\u0275fac=function(Fe){return new(Fe||Oe)(s.LFG(s.Lbi))},Oe.\u0275mod=s.oAB({type:Oe}),Oe.\u0275inj=s.cJS({providers:[ie]}),Oe})();function Re(Oe,xe,Fe,Le,Te){const[,ye,Ge]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===Oe)||[];if(ye)return function Je(Oe,xe){try{return Oe.toString()===xe.toString()}catch{return Oe===xe}}(Te,Ge)||(be("error",`${xe} was already initialized on the ${Fe} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:Te,was:Ge})),ye;{const oe=Le();return globalThis.\u0275AngularfireInstanceCache.push([Oe,oe,Te]),oe}}const st=!!pt.hot,be=(Oe,...xe)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Oe](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5141:(pt,Me,L)=>{"use strict";L.d(Me,{q4:()=>Zl,iC:()=>Ka,HU:()=>si,vb:()=>In,JM:()=>Tr});var s=L(4650),j=L(8140),k=L(5861),le=L(9681),he=L(2090),ae=L(4859),Ee=L(1877),pe=L(8766);const we="@firebase/installations",q="0.6.3",Z=1e4,ie=`w:${q}`,ze="FIS_v2",Re="https://firebaseinstallations.googleapis.com/v1",Je=36e5,xe=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fe(T){return T instanceof he.ZR&&T.code.includes("request-failed")}function Le({projectId:T}){return`${Re}/projects/${T}/installations`}function Te(T){return{token:T.token,requestStatus:2,expiresIn:W(T.expiresIn),creationTime:Date.now()}}function ye(T,D){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,k.Z)(function*(T,D){const $=(yield D.json()).error;return xe.create("request-failed",{requestName:T,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function oe({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function re(T){return H.apply(this,arguments)}function H(){return(H=(0,k.Z)(function*(T){const D=yield T();return D.status>=500&&D.status<600?T():D})).apply(this,arguments)}function W(T){return Number(T.replace("s","000"))}function ve(){return(ve=(0,k.Z)(function*({appConfig:T,heartbeatServiceProvider:D},{fid:O}){const $=Le(T),se=oe(T),de=D.getImmediate({optional:!0});if(de){const bt=yield de.getHeartbeatsHeader();bt&&se.append("x-firebase-client",bt)}const ct={method:"POST",headers:se,body:JSON.stringify({fid:O,authVersion:ze,appId:T.appId,sdkVersion:ie})},mt=yield re(()=>fetch($,ct));if(mt.ok){const bt=yield mt.json();return{fid:bt.fid||O,registrationStatus:2,refreshToken:bt.refreshToken,authToken:Te(bt.authToken)}}throw yield ye("Create Installation",mt)})).apply(this,arguments)}function De(T){return new Promise(D=>{setTimeout(D,T)})}const St=/^[cdef][\w-]{21}$/,Ht="";function It(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const O=function kt(T){return function Xe(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return St.test(O)?O:Ht}catch{return Ht}}function ft(T){return`${T.appName}!${T.appId}`}const Xt=new Map;function Sn(T,D){const O=ft(T);tr(O,D),function _i(T,D){const O=function Un(){return!ji&&"BroadcastChannel"in self&&(ji=new BroadcastChannel("[Firebase] FID Change"),ji.onmessage=T=>{tr(T.data.key,T.data.fid)}),ji}();O&&O.postMessage({key:T,fid:D}),function ys(){0===Xt.size&&ji&&(ji.close(),ji=null)}()}(O,D)}function tr(T,D){const O=Xt.get(T);if(O)for(const $ of O)$(D)}let ji=null;const eo="firebase-installations-database",Yr=1,li="firebase-installations-store";let Nr=null;function Kr(){return Nr||(Nr=(0,pe.X3)(eo,Yr,{upgrade:(T,D)=>{0===D&&T.createObjectStore(li)}})),Nr}function bn(T,D){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,k.Z)(function*(T,D){const O=ft(T),se=(yield Kr()).transaction(li,"readwrite"),de=se.objectStore(li),Se=yield de.get(O);return yield de.put(D,O),yield se.done,(!Se||Se.fid!==D.fid)&&Sn(T,D.fid),D})).apply(this,arguments)}function lt(T){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,k.Z)(function*(T){const D=ft(T),$=(yield Kr()).transaction(li,"readwrite");yield $.objectStore(li).delete(D),yield $.done})).apply(this,arguments)}function zi(T,D){return ci.apply(this,arguments)}function ci(){return(ci=(0,k.Z)(function*(T,D){const O=ft(T),se=(yield Kr()).transaction(li,"readwrite"),de=se.objectStore(li),Se=yield de.get(O),ct=D(Se);return void 0===ct?yield de.delete(O):yield de.put(ct,O),yield se.done,ct&&(!Se||Se.fid!==ct.fid)&&Sn(T,ct.fid),ct})).apply(this,arguments)}function ui(T){return vr.apply(this,arguments)}function vr(){return vr=(0,k.Z)(function*(T){let D;const O=yield zi(T.appConfig,$=>{const se=function Ut(T){return vi(T||{fid:It(),registrationStatus:0})}($),de=function Ct(T,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(xe.create("app-offline"))};const O={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},$=function Lt(T,D){return wn.apply(this,arguments)}(T,O);return{installationEntry:O,registrationPromise:$}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:yi(T)}:{installationEntry:D}}(T,se);return D=de.registrationPromise,de.installationEntry});return O.fid===Ht?{installationEntry:yield D}:{installationEntry:O,registrationPromise:D}}),vr.apply(this,arguments)}function wn(){return wn=(0,k.Z)(function*(T,D){try{const O=yield function X(T,D){return ve.apply(this,arguments)}(T,D);return bn(T.appConfig,O)}catch(O){throw Fe(O)&&409===O.customData.serverCode?yield lt(T.appConfig):yield bn(T.appConfig,{fid:D.fid,registrationStatus:0}),O}}),wn.apply(this,arguments)}function yi(T){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,k.Z)(function*(T){let D=yield Pr(T.appConfig);for(;1===D.registrationStatus;)yield De(100),D=yield Pr(T.appConfig);if(0===D.registrationStatus){const{installationEntry:O,registrationPromise:$}=yield ui(T);return $||O}return D})).apply(this,arguments)}function Pr(T){return zi(T,D=>{if(!D)throw xe.create("installation-not-found");return vi(D)})}function vi(T){return function Jr(T){return 1===T.registrationStatus&&T.registrationTime+Z<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Qr(){return(Qr=(0,k.Z)(function*({appConfig:T,heartbeatServiceProvider:D},O){const $=function en(T,{fid:D}){return`${Le(T)}/${D}/authTokens:generate`}(T,O),se=function ne(T,{refreshToken:D}){const O=oe(T);return O.append("Authorization",function J(T){return`${ze} ${T}`}(D)),O}(T,O),de=D.getImmediate({optional:!0});if(de){const bt=yield de.getHeartbeatsHeader();bt&&se.append("x-firebase-client",bt)}const ct={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:ie,appId:T.appId}})},mt=yield re(()=>fetch($,ct));if(mt.ok)return Te(yield mt.json());throw yield ye("Generate Auth Token",mt)})).apply(this,arguments)}function nr(T){return ei.apply(this,arguments)}function ei(){return ei=(0,k.Z)(function*(T,D=!1){let O;const $=yield zi(T.appConfig,de=>{if(!sn(de))throw xe.create("not-registered");const Se=de.authToken;if(!D&&function Y(T){return 2===T.requestStatus&&!function z(T){const D=Date.now();return D<T.creationTime||T.creationTime+T.expiresIn<D+Je}(T)}(Se))return de;if(1===Se.requestStatus)return O=function Ze(T,D){return Ne.apply(this,arguments)}(T,D),de;{if(!navigator.onLine)throw xe.create("app-offline");const ct=function ee(T){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:D})}(de);return O=function Mt(T,D){return Rt.apply(this,arguments)}(T,ct),ct}});return O?yield O:$.authToken}),ei.apply(this,arguments)}function Ne(){return(Ne=(0,k.Z)(function*(T,D){let O=yield it(T.appConfig);for(;1===O.authToken.requestStatus;)yield De(100),O=yield it(T.appConfig);const $=O.authToken;return 0===$.requestStatus?nr(T,D):$})).apply(this,arguments)}function it(T){return zi(T,D=>{if(!sn(D))throw xe.create("not-registered");return function G(T){return 1===T.requestStatus&&T.requestTime+Z<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Rt(){return Rt=(0,k.Z)(function*(T,D){try{const O=yield function Yt(T,D){return Qr.apply(this,arguments)}(T,D),$=Object.assign(Object.assign({},D),{authToken:O});return yield bn(T.appConfig,$),O}catch(O){if(!Fe(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const $=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield bn(T.appConfig,$)}else yield lt(T.appConfig);throw O}}),Rt.apply(this,arguments)}function sn(T){return void 0!==T&&2===T.registrationStatus}function B(){return(B=(0,k.Z)(function*(T){const D=T,{installationEntry:O,registrationPromise:$}=yield ui(D);return $?$.catch(console.error):nr(D).catch(console.error),O.fid})).apply(this,arguments)}function Ve(){return Ve=(0,k.Z)(function*(T,D=!1){const O=T;return yield function ht(T){return Qe.apply(this,arguments)}(O),(yield nr(O,D)).token}),Ve.apply(this,arguments)}function Qe(){return(Qe=(0,k.Z)(function*(T){const{registrationPromise:D}=yield ui(T);D&&(yield D)})).apply(this,arguments)}function Mc(T){return xe.create("missing-app-config-values",{valueName:T})}const Oc="installations",Ho=T=>{const D=T.getProvider("app").getImmediate(),O=function Uo(T){if(!T||!T.options)throw Mc("App Configuration");if(!T.name)throw Mc("App Name");const D=["projectId","apiKey","appId"];for(const O of D)if(!T.options[O])throw Mc(O);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(D);return{app:D,appConfig:O,heartbeatServiceProvider:(0,le._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Ku=T=>{const D=T.getProvider("app").getImmediate(),O=(0,le._getProvider)(D,Oc).getImmediate();return{getId:()=>function P(T){return B.apply(this,arguments)}(O),getToken:se=>function fe(T){return Ve.apply(this,arguments)}(O,se)}};(function Nc(){(0,le._registerComponent)(new ae.wA(Oc,Ho,"PUBLIC")),(0,le._registerComponent)(new ae.wA("installations-internal",Ku,"PRIVATE"))})(),(0,le.registerVersion)(we,q),(0,le.registerVersion)(we,q,"esm2017");const Ml="@firebase/remote-config",ti=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Os{constructor(D,O,$,se){this.client=D,this.storage=O,this.storageCache=$,this.logger=se}isCachedDataFresh(D,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-O,se=$<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${se}.`),se}fetch(D){var O=this;return(0,k.Z)(function*(){const[$,se]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(se&&O.isCachedDataFresh(D.cacheMaxAgeMillis,$))return se;D.eTag=se&&se.eTag;const de=yield O.client.fetch(D),Se=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&Se.push(O.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(Se),de})()}}function br(T=navigator){return T.languages&&T.languages[0]||T.language}class Cn{constructor(D,O,$,se,de,Se){this.firebaseInstallations=D,this.sdkVersion=O,this.namespace=$,this.projectId=se,this.apiKey=de,this.appId=Se}fetch(D){var O=this;return(0,k.Z)(function*(){const[$,se]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},mt={sdk_version:O.sdkVersion,app_instance_id:$,app_instance_id_token:se,app_id:O.appId,language_code:br()},bt={method:"POST",headers:ct,body:JSON.stringify(mt)},Zt=fetch(Se,bt),Pt=new Promise((Kn,Dr)=>{D.signal.addEventListener(()=>{const Sr=new Error("The operation was aborted.");Sr.name="AbortError",Dr(Sr)})});let rs;try{yield Promise.race([Zt,Pt]),rs=yield Zt}catch(Kn){let Dr="fetch-client-network";throw"AbortError"===Kn?.name&&(Dr="fetch-timeout"),ti.create(Dr,{originalErrorMessage:Kn?.message})}let Fn=rs.status;const lr=rs.headers.get("ETag")||void 0;let Jl,Ja;if(200===rs.status){let Kn;try{Kn=yield rs.json()}catch(Dr){throw ti.create("fetch-client-parse",{originalErrorMessage:Dr?.message})}Jl=Kn.entries,Ja=Kn.state}if("INSTANCE_STATE_UNSPECIFIED"===Ja?Fn=500:"NO_CHANGE"===Ja?Fn=304:("NO_TEMPLATE"===Ja||"EMPTY_CONFIG"===Ja)&&(Jl={}),304!==Fn&&200!==Fn)throw ti.create("fetch-status",{httpStatus:Fn});return{status:Fn,eTag:lr,config:Jl}})()}}class di{constructor(D,O){this.client=D,this.storage=O}fetch(D){var O=this;return(0,k.Z)(function*(){const $=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(D,$)})()}attemptFetch(D,{throttleEndTimeMillis:O,backoffCount:$}){var se=this;return(0,k.Z)(function*(){yield function ni(T,D){return new Promise((O,$)=>{const se=Math.max(D-Date.now(),0),de=setTimeout(O,se);T.addEventListener(()=>{clearTimeout(de),$(ti.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,O);try{const de=yield se.client.fetch(D);return yield se.storage.deleteThrottleMetadata(),de}catch(de){if(!function An(T){if(!(T instanceof he.ZR&&T.customData))return!1;const D=Number(T.customData.httpStatus);return 429===D||500===D||503===D||504===D}(de))throw de;const Se={throttleEndTimeMillis:Date.now()+(0,he.$s)($),backoffCount:$+1};return yield se.storage.setThrottleMetadata(Se),se.attemptFetch(D,Se)}})()}}class kl{constructor(D,O,$,se,de){this.app=D,this._client=O,this._storageCache=$,this._storage=se,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ns(T,D){const O=T.target.error||void 0;return ti.create(D,{originalErrorMessage:O&&O?.message})}const Rr="app_namespace_store";class Lr{constructor(D,O,$,se=function Fr(){return new Promise((T,D)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=$=>{D(Ns($,"storage-open"))},O.onsuccess=$=>{T($.target.result)},O.onupgradeneeded=$=>{0===$.oldVersion&&$.target.result.createObjectStore(Rr,{keyPath:"compositeKey"})}}catch(O){D(ti.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=D,this.appName=O,this.namespace=$,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var O=this;return(0,k.Z)(function*(){const $=yield O.openDbPromise;return new Promise((se,de)=>{const ct=$.transaction([Rr],"readonly").objectStore(Rr),mt=O.createCompositeKey(D);try{const bt=ct.get(mt);bt.onerror=Zt=>{de(Ns(Zt,"storage-get"))},bt.onsuccess=Zt=>{const Pt=Zt.target.result;se(Pt?Pt.value:void 0)}}catch(bt){de(ti.create("storage-get",{originalErrorMessage:bt?.message}))}})})()}set(D,O){var $=this;return(0,k.Z)(function*(){const se=yield $.openDbPromise;return new Promise((de,Se)=>{const mt=se.transaction([Rr],"readwrite").objectStore(Rr),bt=$.createCompositeKey(D);try{const Zt=mt.put({compositeKey:bt,value:O});Zt.onerror=Pt=>{Se(Ns(Pt,"storage-set"))},Zt.onsuccess=()=>{de()}}catch(Zt){Se(ti.create("storage-set",{originalErrorMessage:Zt?.message}))}})})()}delete(D){var O=this;return(0,k.Z)(function*(){const $=yield O.openDbPromise;return new Promise((se,de)=>{const ct=$.transaction([Rr],"readwrite").objectStore(Rr),mt=O.createCompositeKey(D);try{const bt=ct.delete(mt);bt.onerror=Zt=>{de(Ns(Zt,"storage-delete"))},bt.onsuccess=()=>{se()}}catch(bt){de(ti.create("storage-delete",{originalErrorMessage:bt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ps{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,k.Z)(function*(){const O=D.storage.getLastFetchStatus(),$=D.storage.getLastSuccessfulFetchTimestampMillis(),se=D.storage.getActiveConfig(),de=yield O;de&&(D.lastFetchStatus=de);const Se=yield $;Se&&(D.lastSuccessfulFetchTimestampMillis=Se);const ct=yield se;ct&&(D.activeConfig=ct)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Tg(){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,k.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function Ma(){(0,le._registerComponent)(new ae.wA("remote-config",function T(D,{instanceIdentifier:O}){const $=D.getProvider("app").getImmediate(),se=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ti.create("registration-window");if(!(0,he.hl)())throw ti.create("indexed-db-unavailable");const{projectId:de,apiKey:Se,appId:ct}=$.options;if(!de)throw ti.create("registration-project-id");if(!Se)throw ti.create("registration-api-key");if(!ct)throw ti.create("registration-app-id");const mt=new Lr(ct,$.name,O=O||"firebase"),bt=new Ps(mt),Zt=new Ee.Yd(Ml);Zt.logLevel=Ee.in.ERROR;const Pt=new Cn(se,le.SDK_VERSION,O,de,Se,ct),rs=new di(Pt,mt),Fn=new Os(rs,mt,bt,Zt),lr=new kl($,Fn,bt,mt,Zt);return function xn(T){const D=(0,he.m9)(T);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(lr),lr},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Ml,"0.4.3"),(0,le.registerVersion)(Ml,"0.4.3","esm2017")}();const ks="/firebase-messaging-sw.js",jo="/firebase-cloud-messaging-push-scope",Oa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dg="https://fcmregistrations.googleapis.com/v1",Ju="google.c.a.c_id",Hh="google.c.a.c_l",Gh="google.c.a.ts",Na="google.c.a.e";var bs=(()=>{return(T=bs||(bs={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",bs;var T})();function Rs(T){const D=new Uint8Array(T);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sg(T){const O=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(O),se=new Uint8Array($.length);for(let de=0;de<$.length;++de)se[de]=$.charCodeAt(de);return se}const Mn="fcm_token_details_db",jr=5,Fl="fcm_token_object_Store";function Ll(){return Ll=(0,k.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(Mn))return null;let D=null;return(yield(0,pe.X3)(Mn,jr,{upgrade:($=(0,k.Z)(function*(se,de,Se,ct){var mt;if(de<2||!se.objectStoreNames.contains(Fl))return;const bt=ct.objectStore(Fl),Zt=yield bt.index("fcmSenderId").get(T);if(yield bt.clear(),Zt)if(2===de){const Pt=Zt;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;D={token:Pt.fcmToken,createTime:null!==(mt=Pt.createTime)&&void 0!==mt?mt:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:Rs(Pt.vapidKey)}}}else if(3===de){const Pt=Zt;D={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:Rs(Pt.auth),p256dh:Rs(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:Rs(Pt.vapidKey)}}}else if(4===de){const Pt=Zt;D={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:Rs(Pt.auth),p256dh:Rs(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:Rs(Pt.vapidKey)}}}}),function(de,Se,ct,mt){return $.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Mn),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),function Rc(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:D}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var $}),Ll.apply(this,arguments)}const Xu="firebase-messaging-database",yo=1,zo="firebase-messaging-store";let Wo=null;function qo(){return Wo||(Wo=(0,pe.X3)(Xu,yo,{upgrade:(T,D)=>{0===D&&T.createObjectStore(zo)}})),Wo}function Vl(T){return vo.apply(this,arguments)}function vo(){return vo=(0,k.Z)(function*(T){const D=bo(T),$=yield(yield qo()).transaction(zo).objectStore(zo).get(D);if($)return $;{const se=yield function Qu(T){return Ll.apply(this,arguments)}(T.appConfig.senderId);if(se)return yield Zo(T,se),se}}),vo.apply(this,arguments)}function Zo(T,D){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,k.Z)(function*(T,D){const O=bo(T),se=(yield qo()).transaction(zo,"readwrite");return yield se.objectStore(zo).put(D,O),yield se.done,D})).apply(this,arguments)}function Pa(){return(Pa=(0,k.Z)(function*(T){const D=bo(T),$=(yield qo()).transaction(zo,"readwrite");yield $.objectStore(zo).delete(D),yield $.done})).apply(this,arguments)}function bo({appConfig:T}){return T.appId}const ii=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fc(T,D){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,k.Z)(function*(T,D){const O=yield Fs(T),$=Gl(D),se={method:"POST",headers:O,body:JSON.stringify($)};let de;try{de=yield(yield fetch(Hl(T.appConfig),se)).json()}catch(Se){throw ii.create("token-subscribe-failed",{errorInfo:Se?.toString()})}if(de.error)throw ii.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw ii.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function to(){return(to=(0,k.Z)(function*(T,D){const O=yield Fs(T),$=Gl(D.subscriptionOptions),se={method:"PATCH",headers:O,body:JSON.stringify($)};let de;try{de=yield(yield fetch(`${Hl(T.appConfig)}/${D.token}`,se)).json()}catch(Se){throw ii.create("token-update-failed",{errorInfo:Se?.toString()})}if(de.error)throw ii.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw ii.create("token-update-no-token");return de.token})).apply(this,arguments)}function Fi(T,D){return ka.apply(this,arguments)}function ka(){return(ka=(0,k.Z)(function*(T,D){const $={method:"DELETE",headers:yield Fs(T)};try{const de=yield(yield fetch(`${Hl(T.appConfig)}/${D}`,$)).json();if(de.error)throw ii.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(se){throw ii.create("token-unsubscribe-failed",{errorInfo:se?.toString()})}})).apply(this,arguments)}function Hl({projectId:T}){return`${Dg}/projects/${T}/registrations`}function Fs(T){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,k.Z)(function*({appConfig:T,installations:D}){const O=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Gl({p256dh:T,auth:D,endpoint:O,vapidKey:$}){const se={web:{endpoint:O,auth:D,p256dh:T}};return $!==Oa&&(se.web.applicationPubKey=$),se}const wo=6048e5;function Xr(){return Xr=(0,k.Z)(function*(T){const D=yield function Wh(T,D){return Fa.apply(this,arguments)}(T.swRegistration,T.vapidKey),O={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:D.endpoint,auth:Rs(D.getKey("auth")),p256dh:Rs(D.getKey("p256dh"))},$=yield Vl(T.firebaseDependencies);if($){if(function ed(T,D){return D.vapidKey===T.vapidKey&&D.endpoint===T.endpoint&&D.auth===T.auth&&D.p256dh===T.p256dh}($.subscriptionOptions,O))return Date.now()>=$.createTime+wo?function Wt(T,D){return Yo.apply(this,arguments)}(T,{token:$.token,createTime:Date.now(),subscriptionOptions:O}):$.token;try{yield Fi(T.firebaseDependencies,$.token)}catch(se){console.warn(se)}return zh(T.firebaseDependencies,O)}return zh(T.firebaseDependencies,O)}),Xr.apply(this,arguments)}function Io(){return Io=(0,k.Z)(function*(T){const D=yield Vl(T.firebaseDependencies);D&&(yield Fi(T.firebaseDependencies,D.token),yield function Ul(T){return Pa.apply(this,arguments)}(T.firebaseDependencies));const O=yield T.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),Io.apply(this,arguments)}function Yo(){return Yo=(0,k.Z)(function*(T,D){try{const O=yield function Lc(T,D){return to.apply(this,arguments)}(T.firebaseDependencies,D),$=Object.assign(Object.assign({},D),{token:O,createTime:Date.now()});return yield Zo(T.firebaseDependencies,$),O}catch(O){throw yield function Vc(T){return Io.apply(this,arguments)}(T),O}}),Yo.apply(this,arguments)}function zh(T,D){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,k.Z)(function*(T,D){const $={token:yield Fc(T,D),createTime:Date.now(),subscriptionOptions:D};return yield Zo(T,$),$.token})).apply(this,arguments)}function Fa(){return(Fa=(0,k.Z)(function*(T,D){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sg(D)})})).apply(this,arguments)}function Bc(T){const D={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function qh(T,D){if(!D.notification)return;T.notification={};const O=D.notification.title;O&&(T.notification.title=O);const $=D.notification.body;$&&(T.notification.body=$);const se=D.notification.image;se&&(T.notification.image=se);const de=D.notification.icon;de&&(T.notification.icon=de)}(D,T),function Ce(T,D){D.data&&(T.data=D.data)}(D,T),function an(T,D){var O,$,se,de,Se;if(!(D.fcmOptions||null!==(O=D.notification)&&void 0!==O&&O.click_action))return;T.fcmOptions={};const ct=null!==(se=null===($=D.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==se?se:null===(de=D.notification)||void 0===de?void 0:de.click_action;ct&&(T.fcmOptions.link=ct);const mt=null===(Se=D.fcmOptions)||void 0===Se?void 0:Se.analytics_label;mt&&(T.fcmOptions.analyticsLabel=mt)}(D,T),D}function td(T,D){const O=[];for(let $=0;$<T.length;$++)O.push(T.charAt($)),$<D.length&&O.push(D.charAt($));return O.join("")}function Uc(T){return ii.create("missing-app-config-values",{valueName:T})}td("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),td("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ko{constructor(D,O,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function Ei(T){if(!T||!T.options)throw Uc("App Configuration Object");if(!T.name)throw Uc("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:O}=T;for(const $ of D)if(!O[$])throw Uc($);return{appName:T.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:se,installations:O,analyticsProvider:$}}_delete(){return Promise.resolve()}}function es(T){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,k.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(ks,{scope:jo}),T.swRegistration.update().catch(()=>{})}catch(D){throw ii.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function $l(){return($l=(0,k.Z)(function*(T,D){if(!D&&!T.swRegistration&&(yield es(T)),D||!T.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw ii.create("invalid-sw-registration");T.swRegistration=D}})).apply(this,arguments)}function Qo(){return(Qo=(0,k.Z)(function*(T,D){D?T.vapidKey=D:T.vapidKey||(T.vapidKey=Oa)})).apply(this,arguments)}function sr(){return sr=(0,k.Z)(function*(T,D){if(!navigator)throw ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ii.create("permission-blocked");return yield function Yh(T,D){return Qo.apply(this,arguments)}(T,D?.vapidKey),yield function nd(T,D){return $l.apply(this,arguments)}(T,D?.serviceWorkerRegistration),function jh(T){return Xr.apply(this,arguments)}(T)}),sr.apply(this,arguments)}function Ls(){return(Ls=(0,k.Z)(function*(T,D,O){const $=function no(T){switch(T){case bs.NOTIFICATION_CLICKED:return"notification_open";case bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:O[Ju],message_name:O[Hh],message_time:O[Gh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ea(){return ea=(0,k.Z)(function*(T,D){const O=D.data;if(!O.isFirebaseMessaging)return;T.onMessageHandler&&O.messageType===bs.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Bc(O)):T.onMessageHandler.next(Bc(O)));const $=O.data;(function Zh(T){return"object"==typeof T&&!!T&&Ju in T})($)&&"1"===$[Na]&&(yield function Xo(T,D,O){return Ls.apply(this,arguments)}(T,O.messageType,$))}),ea.apply(this,arguments)}const Hc="@firebase/messaging",io=T=>{const D=new Ko(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function id(T,D){return ea.apply(this,arguments)}(D,O)),D},La=T=>{const D=T.getProvider("messaging").getImmediate();return{getToken:$=>function Zi(T,D){return sr.apply(this,arguments)}(D,$)}};function Gc(){return rd.apply(this,arguments)}function rd(){return(rd=(0,k.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jh(){(0,le._registerComponent)(new ae.wA("messaging",io,"PUBLIC")),(0,le._registerComponent)(new ae.wA("messaging-internal",La,"PRIVATE")),(0,le.registerVersion)(Hc,"0.12.3"),(0,le.registerVersion)(Hc,"0.12.3","esm2017")}();const od="analytics",Ir="firebase_id",Vs="origin",yn=6e4,ad="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xh="https://www.googletagmanager.com/gtag/js",Yi=new Ee.Yd("@firebase/analytics");function ep(T){return Promise.all(T.map(D=>D.catch(O=>O)))}function ta(){return(ta=(0,k.Z)(function*(T,D,O,$,se,de){const Se=$[se];try{if(Se)yield D[Se];else{const mt=(yield ep(O)).find(bt=>bt.measurementId===se);mt&&(yield D[mt.appId])}}catch(ct){Yi.error(ct)}T("config",se,de)})).apply(this,arguments)}function ws(){return(ws=(0,k.Z)(function*(T,D,O,$,se){try{let de=[];if(se&&se.send_to){let Se=se.send_to;Array.isArray(Se)||(Se=[Se]);const ct=yield ep(O);for(const mt of Se){const bt=ct.find(Pt=>Pt.measurementId===mt),Zt=bt&&D[bt.appId];if(!Zt){de=[];break}de.push(Zt)}}0===de.length&&(de=Object.values(D)),yield Promise.all(de),T("event",$,se||{})}catch(de){Yi.error(de)}})).apply(this,arguments)}const Er=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),uy=30,Ha=new class Pg{constructor(D={},O=1e3){this.throttleMetadata=D,this.intervalMillis=O}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,O){this.throttleMetadata[D]=O}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function ro(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Yn(){return(Yn=(0,k.Z)(function*(T){var D;const{appId:O,apiKey:$}=T,se={method:"GET",headers:ro($)},de=ad.replace("{app-id}",O),Se=yield fetch(de,se);if(200!==Se.status&&304!==Se.status){let ct="";try{const mt=yield Se.json();null!==(D=mt.error)&&void 0!==D&&D.message&&(ct=mt.error.message)}catch{}throw Er.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:ct})}return Se.json()})).apply(this,arguments)}function Co(){return(Co=(0,k.Z)(function*(T,D=Ha,O){const{appId:$,apiKey:se,measurementId:de}=T.options;if(!$)throw Er.create("no-app-id");if(!se){if(de)return{measurementId:de,appId:$};throw Er.create("no-api-key")}const Se=D.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new $a;return setTimeout((0,k.Z)(function*(){ct.abort()}),void 0!==O?O:yn),Ga({appId:$,apiKey:se,measurementId:de},Se,ct,D)})).apply(this,arguments)}function Ga(T,D,O){return ts.apply(this,arguments)}function ts(){return ts=(0,k.Z)(function*(T,{throttleEndTimeMillis:D,backoffCount:O},$,se=Ha){var de;const{appId:Se,measurementId:ct}=T;try{yield function $c(T,D){return new Promise((O,$)=>{const se=Math.max(D-Date.now(),0),de=setTimeout(O,se);T.addEventListener(()=>{clearTimeout(de),$(Er.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}($,D)}catch(mt){if(ct)return Yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:Se,measurementId:ct};throw mt}try{const mt=yield function tp(T){return Yn.apply(this,arguments)}(T);return se.deleteThrottleMetadata(Se),mt}catch(mt){const bt=mt;if(!function jc(T){if(!(T instanceof he.ZR&&T.customData))return!1;const D=Number(T.customData.httpStatus);return 429===D||500===D||503===D||504===D}(bt)){if(se.deleteThrottleMetadata(Se),ct)return Yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${bt?.message}]`),{appId:Se,measurementId:ct};throw mt}const Zt=503===Number(null===(de=bt?.customData)||void 0===de?void 0:de.httpStatus)?(0,he.$s)(O,se.intervalMillis,uy):(0,he.$s)(O,se.intervalMillis),Pt={throttleEndTimeMillis:Date.now()+Zt,backoffCount:O+1};return se.setThrottleMetadata(Se,Pt),Yi.debug(`Calling attemptFetch again in ${Zt} millis`),Ga(T,Pt,$,se)}}),ts.apply(this,arguments)}class $a{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let zc,sa;function ia(){return(ia=(0,k.Z)(function*(T,D,O,$,se){if(se&&se.global)T("event",O,$);else{const de=yield D;T("event",O,Object.assign(Object.assign({},$),{send_to:de}))}})).apply(this,arguments)}function Wl(){return(Wl=(0,k.Z)(function*(){if(!(0,he.hl)())return Yi.warn(Er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(T){return Yi.warn(Er.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function oa(){return oa=(0,k.Z)(function*(T,D,O,$,se,de,Se){var ct;const mt=function Eo(T){return Co.apply(this,arguments)}(T);mt.then(Fn=>{O[Fn.measurementId]=Fn.appId,T.options.measurementId&&Fn.measurementId!==T.options.measurementId&&Yi.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fn=>Yi.error(Fn)),D.push(mt);const bt=function hd(){return Wl.apply(this,arguments)}().then(Fn=>{if(Fn)return $.getId()}),[Zt,Pt]=yield Promise.all([mt,bt]);(function na(T){const D=window.document.getElementsByTagName("script");for(const O of Object.values(D))if(O.src&&O.src.includes(Xh)&&O.src.includes(T))return O;return null})(de)||function Ng(T,D){const O=document.createElement("script");O.src=`${Xh}?l=${T}&id=${D}`,O.async=!0,document.head.appendChild(O)}(de,Zt.measurementId),sa&&(se("consent","default",sa),function Wc(T){sa=T}(void 0)),se("js",new Date);const rs=null!==(ct=Se?.config)&&void 0!==ct?ct:{};return rs[Vs]="firebase",rs.update=!0,null!=Pt&&(rs[Ir]=Pt),se("config",Zt.measurementId,rs),zc&&(se("set",zc),function za(T){zc=T}(void 0)),Zt.measurementId}),oa.apply(this,arguments)}class np{constructor(D){this.app=D}_delete(){return delete ns[this.app.options.appId],Promise.resolve()}}let ns={},qc=[];const Wa={};let Zc,Cr,is="dataLayer",fd="gtag",ao=!1;function aa(T,D,O){!function Yc(){const T=[];if((0,he.ru)()&&T.push("This is a browser extension environment."),(0,he.zI)()||T.push("Cookies are not available."),T.length>0){const D=T.map(($,se)=>`(${se+1}) ${$}`).join(" "),O=Er.create("invalid-analytics-context",{errorInfo:D});Yi.warn(O.message)}}();const $=T.options.appId;if(!$)throw Er.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Er.create("no-api-key");Yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ns[$])throw Er.create("already-exists",{id:$});if(!ao){!function ld(T){let D=[];Array.isArray(window[T])?D=window[T]:window[T]=D}(is);const{wrappedGtag:de,gtagCore:Se}=function zl(T,D,O,$,se){let de=function(...Se){window[$].push(arguments)};return window[se]&&"function"==typeof window[se]&&(de=window[se]),window[se]=function cd(T,D,O,$){function de(){return de=(0,k.Z)(function*(Se,ct,mt){try{"event"===Se?yield function Bs(T,D,O,$,se){return ws.apply(this,arguments)}(T,D,O,ct,mt):"config"===Se?yield function Va(T,D,O,$,se,de){return ta.apply(this,arguments)}(T,D,O,$,ct,mt):"consent"===Se?T("consent","update",mt):T("set",ct)}catch(bt){Yi.error(bt)}}),de.apply(this,arguments)}return function se(Se,ct,mt){return de.apply(this,arguments)}}(de,T,D,O),{gtagCore:de,wrappedGtag:window[se]}}(ns,qc,Wa,is,fd);Cr=de,Zc=Se,ao=!0}return ns[$]=function pd(T,D,O,$,se,de,Se){return oa.apply(this,arguments)}(T,qc,Wa,D,Zc,is,O),new np(T)}function Kc(){return Do.apply(this,arguments)}function Do(){return(Do=(0,k.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}const on="@firebase/analytics";!function md(){(0,le._registerComponent)(new ae.wA(od,(D,{options:O})=>aa(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,le._registerComponent)(new ae.wA("analytics-internal",function T(D){try{const O=D.getProvider(od).getImmediate();return{logEvent:($,se,de)=>function ap(T,D,O,$){T=(0,he.m9)(T),function To(T,D,O,$,se){return ia.apply(this,arguments)}(Cr,ns[T.app.options.appId],D,O,$).catch(se=>Yi.error(se))}(O,$,se,de)}}catch(O){throw Er.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,le.registerVersion)(on,"0.9.3"),(0,le.registerVersion)(on,"0.9.3","esm2017")}();var _d=L(4408),yd=L(7565);const dy=new class up extends yd.v{}(class Jc extends _d.o{constructor(D,O){super(D,O),this.scheduler=D,this.work=O}schedule(D,O=0){return O>0?super.schedule(D,O):(this.delay=O,this.state=D,this.scheduler.flush(this),this)}execute(D,O){return O>0||this.closed?super.execute(D,O):this._execute(D,O)}requestAsyncId(D,O,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(D,O,$):(D.flush(this),0)}});var hy=L(4986),Za=L(8505),ri=L(9468),vd=L(5363);const Zl=new s.GfV("7.5.0"),Qc="__angularfire_symbol__analyticsIsSupportedValue",ar="__angularfire_symbol__analyticsIsSupported",Us="__angularfire_symbol__remoteConfigIsSupportedValue",Xc="__angularfire_symbol__remoteConfigIsSupported",Ya="__angularfire_symbol__messagingIsSupportedValue",lo="__angularfire_symbol__messagingIsSupported";function Tr(T,D,O){if(D){if(1===D.length)return D[0];const de=D.filter(Se=>Se.app===O);if(1===de.length)return de[0]}return O.container.getProvider(T).getImmediate({optional:!0})}globalThis[ar]||(globalThis[ar]=Kc().then(T=>globalThis[Qc]=T).catch(()=>globalThis[Qc]=!1)),globalThis[lo]||(globalThis[lo]=Gc().then(T=>globalThis[Ya]=T).catch(()=>globalThis[Ya]=!1)),globalThis[Xc]||(globalThis[Xc]=Tg().then(T=>globalThis[Us]=T).catch(()=>globalThis[Us]=!1));const In=(T,D)=>{const O=D?[D]:(0,j.C6)(),$=[];return O.forEach(se=>{se.container.getProvider(T).instances.forEach(Se=>{$.includes(Se)||$.push(Se)})}),$};function $n(){}class gt{constructor(D,O=dy){this.zone=D,this.delegate=O}now(){return this.delegate.now()}schedule(D,O,$){const se=this.zone;return this.delegate.schedule(function(Se){se.runGuarded(()=>{D.apply(this,[Se])})},O,$)}}class vn{constructor(D){this.zone=D,this.task=null}call(D,O){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$n,{},$n,$n)),O.pipe((0,Za.b)({next:$,complete:$,error:$})).subscribe(D).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let si=(()=>{class T{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new gt(Zone.current)),this.insideAngular=O.run(()=>new gt(Zone.current,hy.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(O){return new(O||T)(s.LFG(s.R0b))},T.\u0275prov=s.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Hs(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Ka(T){return Hs(),function Yl(T){return function(O){return(O=O.lift(new vn(T.ngZone))).pipe((0,ri.R)(T.outsideAngular),(0,vd.Q)(T.insideAngular))}}(Hs())(T)}},2722:(pt,Me,L)=>{"use strict";L.d(Me,{$:()=>Hl,A:()=>Z,B:()=>Re,G:()=>Ku,H:()=>Rn,J:()=>di,L:()=>Y,M:()=>Rl,N:()=>Dg,P:()=>hy,Q:()=>Ju,R:()=>gd,T:()=>Hh,U:()=>Oa,V:()=>bs,W:()=>Rs,X:()=>Qu,Y:()=>wr,Z:()=>Fc,_:()=>Lc,a:()=>Ua,a0:()=>jh,a1:()=>Vc,a2:()=>Wt,a3:()=>zh,a4:()=>Wh,a5:()=>ed,a6:()=>qh,a7:()=>Ce,a8:()=>Zh,a9:()=>td,aA:()=>z,aB:()=>mt,aC:()=>dp,aD:()=>jn,aE:()=>Pi,aI:()=>ro,aL:()=>Na,aa:()=>es,ab:()=>nd,ac:()=>Yh,af:()=>Xo,ag:()=>no,ah:()=>id,ak:()=>zo,al:()=>jl,an:()=>Xh,ao:()=>ta,ap:()=>re,aq:()=>vt,ar:()=>ht,as:()=>Fe,at:()=>Td,au:()=>Kn,av:()=>Dn,aw:()=>Le,ax:()=>oe,ay:()=>Fn,az:()=>W,b:()=>Er,c:()=>Ya,d:()=>kg,e:()=>bd,f:()=>Yl,g:()=>$,h:()=>T,i:()=>Wl,j:()=>Se,k:()=>yp,l:()=>cp,m:()=>ur,o:()=>pe,r:()=>_d,s:()=>lp,u:()=>dy});var s=L(5861),j=L(2090),k=L(9681),le=L(1877),he=L(655),ae=L(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new le.Yd("@firebase/auth");function xe(b,...m){Oe.logLevel<=le.in.ERROR&&Oe.error(`Auth (${k.SDK_VERSION}): ${b}`,...m)}function Fe(b,...m){throw Ge(b,...m)}function Le(b,...m){return Ge(b,...m)}function Te(b,m,_){const E=Object.assign(Object.assign({},Je()),{[m]:_});return new j.LL("auth","Firebase",E).create(m,{appName:b.name})}function ye(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Fe(b,"argument-error"),Te(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(b,...m){if("string"!=typeof b){const _=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(_,...E)}return st.create(b,...m)}function oe(b,m,..._){if(!b)throw Ge(m,..._)}function ne(b){const m="INTERNAL ASSERTION FAILED: "+b;throw xe(m),new Error(m)}function re(b,m){b||ne(m)}const H=new Map;function W(b){re(b instanceof Function,"Expected a class definition");let m=H.get(b);return m?(re(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,H.set(b,m),m)}function ve(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function De(){return"http:"===Xe()||"https:"===Xe()}function Xe(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class It{constructor(m,_){this.shortDelay=m,this.longDelay=_,re(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function St(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(De()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kt(b,m){re(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class ft{static initialize(m,_,E){this.fetchImpl=m,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Sn=new It(3e4,6e4);function At(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function dt(b,m,_,E){return tr.apply(this,arguments)}function tr(){return(tr=(0,s.Z)(function*(b,m,_,E,A={}){return _i(b,A,(0,s.Z)(function*(){let F={},ue={};E&&("GET"===m?ue=E:F={body:JSON.stringify(E)});const ke=(0,j.xO)(Object.assign({key:b.config.apiKey},ue)).slice(1),at=yield b._getAdditionalHeaders();return at["Content-Type"]="application/json",b.languageCode&&(at["X-Firebase-Locale"]=b.languageCode),ft.fetch()(eo(b,b.config.apiHost,_,ke),Object.assign({method:m,headers:at,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function _i(b,m,_){return ji.apply(this,arguments)}function ji(){return(ji=(0,s.Z)(function*(b,m,_){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},Xt),m);try{const A=new Yr(b),F=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const ue=yield F.json();if("needConfirmation"in ue)throw li(b,"account-exists-with-different-credential",ue);if(F.ok&&!("errorMessage"in ue))return ue;{const ke=F.ok?ue.errorMessage:ue.error.message,[at,Et]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw li(b,"credential-already-in-use",ue);if("EMAIL_EXISTS"===at)throw li(b,"email-already-in-use",ue);if("USER_DISABLED"===at)throw li(b,"user-disabled",ue);const Kt=E[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(Et)throw Te(b,Kt,Et);Fe(b,Kt)}}catch(A){if(A instanceof j.ZR)throw A;Fe(b,"network-request-failed")}})).apply(this,arguments)}function Un(b,m,_,E){return ys.apply(this,arguments)}function ys(){return(ys=(0,s.Z)(function*(b,m,_,E,A={}){const F=yield dt(b,m,_,E,A);return"mfaPendingCredential"in F&&Fe(b,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function eo(b,m,_,E){const A=`${m}${_}?${E}`;return b.config.emulator?kt(b.config,A):`${b.config.apiScheme}://${A}`}class Yr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Le(this.auth,"network-request-failed")),Sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function li(b,m,_){const E={appName:b.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const A=Le(b,m,E);return A.customData._tokenResponse=_,A}function Kr(){return(Kr=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Mi(){return(Mi=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Oi(){return(Oi=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function zi(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function vr(){return(vr=(0,s.Z)(function*(b,m=!1){const _=(0,j.m9)(b),E=yield _.getIdToken(m),A=Ct(E);oe(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const F="object"==typeof A.firebase?A.firebase:void 0,ue=F?.sign_in_provider;return{claims:A,token:E,authTime:zi(Ut(A.auth_time)),issuedAtTime:zi(Ut(A.iat)),expirationTime:zi(Ut(A.exp)),signInProvider:ue||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Ut(b){return 1e3*Number(b)}function Ct(b){const[m,_,E]=b.split(".");if(void 0===m||void 0===_||void 0===E)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,j.tV)(_);return A?JSON.parse(A):(xe("Failed to decode base64 JWT payload"),null)}catch(A){return xe("Caught error parsing JWT payload as JSON",A?.toString()),null}}function wn(b,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,s.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(E){throw E instanceof j.ZR&&function Hn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}class Pr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),E)}iteration(){var m=this;return(0,s.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class vi{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=zi(this.lastLoginAt),this.creationTime=zi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jr(b){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,s.Z)(function*(b){var m;const _=b.auth,E=yield b.getIdToken(),A=yield wn(b,function lt(b,m){return Oi.apply(this,arguments)}(_,{idToken:E}));oe(A?.users.length,_,"internal-error");const F=A.users[0];b._notifyReloadListener(F);const ue=null!==(m=F.providerUserInfo)&&void 0!==m&&m.length?function ei(b){return b.map(m=>{var{providerId:_}=m,E=(0,he._T)(m,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(F.providerUserInfo):[],ke=function nr(b,m){return[...b.filter(E=>!m.some(A=>A.providerId===E.providerId)),...m]}(b.providerData,ue),Kt=!!b.isAnonymous&&!(b.email&&F.passwordHash||ke?.length),Tn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:ke,metadata:new vi(F.createdAt,F.lastLoginAt),isAnonymous:Kt};Object.assign(b,Tn)}),Yt.apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(b){const m=(0,j.m9)(b);yield Jr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(b,m){const _=yield _i(b,{},(0,s.Z)(function*(){const E=(0,j.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:A,apiKey:F}=b.config,ue=eo(b,A,"/v1/token",`key=${F}`),ke=yield b._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",ft.fetch()(ue,{method:"POST",headers:ke,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class it{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){oe(m.idToken,"internal-error"),oe(typeof m.idToken<"u","internal-error"),oe(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Lt(b){const m=Ct(b);return oe(m,"internal-error"),oe(typeof m.exp<"u","internal-error"),oe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var E=this;return(0,s.Z)(function*(){return oe(!E.accessToken||E.refreshToken,m,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var E=this;return(0,s.Z)(function*(){const{accessToken:A,refreshToken:F,expiresIn:ue}=yield function Ze(b,m){return Ne.apply(this,arguments)}(m,_);E.updateTokensAndExpiration(A,F,Number(ue))})()}updateTokensAndExpiration(m,_,E){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,_){const{refreshToken:E,accessToken:A,expirationTime:F}=_,ue=new it;return E&&(oe("string"==typeof E,"internal-error",{appName:m}),ue.refreshToken=E),A&&(oe("string"==typeof A,"internal-error",{appName:m}),ue.accessToken=A),F&&(oe("number"==typeof F,"internal-error",{appName:m}),ue.expirationTime=F),ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new it,this.toJSON())}_performRefresh(){return ne("not implemented")}}function Mt(b,m){oe("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class Rt{constructor(m){var{uid:_,auth:E,stsTokenManager:A}=m,F=(0,he._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new vi(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,s.Z)(function*(){const E=yield wn(_,_.stsTokenManager.getToken(_.auth,m));return oe(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(m){return function ui(b){return vr.apply(this,arguments)}(this,m)}reload(){return function Qr(b){return en.apply(this,arguments)}(this)}_assign(m){this!==m&&(oe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Rt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var E=this;return(0,s.Z)(function*(){let A=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),A=!0),_&&(yield Jr(E)),yield E.auth._persistUserIfCurrent(E),A&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,s.Z)(function*(){const _=yield m.getIdToken();return yield wn(m,function Nr(b,m){return Kr.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var E,A,F,ue,ke,at,Et,Kt;const Tn=null!==(E=_.displayName)&&void 0!==E?E:void 0,ss=null!==(A=_.email)&&void 0!==A?A:void 0,os=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,ru=null!==(ue=_.photoURL)&&void 0!==ue?ue:void 0,xo=null!==(ke=_.tenantId)&&void 0!==ke?ke:void 0,ha=null!==(at=_._redirectEventId)&&void 0!==at?at:void 0,Sd=null!==(Et=_.createdAt)&&void 0!==Et?Et:void 0,Ip=null!==(Kt=_.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:su,emailVerified:Gg,isAnonymous:$g,providerData:ec,stsTokenManager:jg}=_;oe(su&&jg,m,"internal-error");const my=it.fromJSON(this.name,jg);oe("string"==typeof su,m,"internal-error"),Mt(Tn,m.name),Mt(ss,m.name),oe("boolean"==typeof Gg,m,"internal-error"),oe("boolean"==typeof $g,m,"internal-error"),Mt(os,m.name),Mt(ru,m.name),Mt(xo,m.name),Mt(ha,m.name),Mt(Sd,m.name),Mt(Ip,m.name);const Ep=new Rt({uid:su,auth:m,email:ss,emailVerified:Gg,displayName:Tn,isAnonymous:$g,photoURL:ru,phoneNumber:os,tenantId:xo,stsTokenManager:my,createdAt:Sd,lastLoginAt:Ip});return ec&&Array.isArray(ec)&&(Ep.providerData=ec.map(zg=>Object.assign({},zg))),ha&&(Ep._redirectEventId=ha),Ep}static _fromIdTokenResponse(m,_,E=!1){return(0,s.Z)(function*(){const A=new it;A.updateFromServerResponse(_);const F=new Rt({uid:_.localId,auth:m,stsTokenManager:A,isAnonymous:E});return yield Jr(F),F})()}}const Y=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,E){var A=this;return(0,s.Z)(function*(){A.storage[_]=E})()}_get(_){var E=this;return(0,s.Z)(function*(){const A=E.storage[_];return void 0===A?null:A})()}_remove(_){var E=this;return(0,s.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return b.type="NONE",b})();function z(b,m,_){return`firebase:${b}:${m}:${_}`}class ee{constructor(m,_,E){this.persistence=m,this.auth=_,this.userKey=E;const{config:A,name:F}=this.auth;this.fullUserKey=z(this.userKey,A.apiKey,F),this.fullPersistenceKey=z("persistence",A.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Rt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,s.Z)(function*(){if(_.persistence===m)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,E="authUser"){return(0,s.Z)(function*(){if(!_.length)return new ee(W(Y),m,E);const A=(yield Promise.all(_.map(function(){var Et=(0,s.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return Et.apply(this,arguments)}}()))).filter(Et=>Et);let F=A[0]||W(Y);const ue=z(E,m.config.apiKey,m.name);let ke=null;for(const Et of _)try{const Kt=yield Et._get(ue);if(Kt){const Tn=Rt._fromJSON(m,Kt);Et!==F&&(ke=Tn),F=Et;break}}catch{}const at=A.filter(Et=>Et._shouldAllowMigration);return F._shouldAllowMigration&&at.length?(F=at[0],ke&&(yield F._set(ue,ke.toJSON())),yield Promise.all(_.map(function(){var Et=(0,s.Z)(function*(Kt){if(Kt!==F)try{yield Kt._remove(ue)}catch{}});return function(Kt){return Et.apply(this,arguments)}}())),new ee(F,m,E)):new ee(F,m,E)})()}}function G(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ve(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(P(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Qe(m))return"Blackberry";if(zt(m))return"Webos";if(B(m))return"Safari";if((m.includes("chrome/")||fe(m))&&!m.includes("edge/"))return"Chrome";if(ht(m))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function P(b=(0,j.z$)()){return/firefox\//i.test(b)}function B(b=(0,j.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function fe(b=(0,j.z$)()){return/crios\//i.test(b)}function Ve(b=(0,j.z$)()){return/iemobile/i.test(b)}function ht(b=(0,j.z$)()){return/android/i.test(b)}function Qe(b=(0,j.z$)()){return/blackberry/i.test(b)}function zt(b=(0,j.z$)()){return/webos/i.test(b)}function vt(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Dn(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ir(b=(0,j.z$)()){return vt(b)||ht(b)||zt(b)||Qe(b)||/windows phone/i.test(b)||Ve(b)}function Uo(b,m=[]){let _;switch(b){case"Browser":_=G((0,j.z$)());break;case"Worker":_=`${G((0,j.z$)())}-${b}`;break;default:_=b}const E=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${E}`}class Mc{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const E=F=>new Promise((ue,ke)=>{try{ue(m(F))}catch(at){ke(at)}});E.onAbort=_,this.queue.push(E);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,s.Z)(function*(){if(_.auth.currentUser===m)return;const E=[];try{for(const A of _.queue)yield A(m),A.onAbort&&E.push(A.onAbort)}catch(A){E.reverse();for(const F of E)try{F()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Oc{constructor(m,_,E){this.app=m,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ho(this),this.idTokenSubscription=new Ho(this),this.beforeStateQueue=new Mc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,_){var E=this;return _&&(this._popupRedirectResolver=W(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var A,F;if(!E._deleted&&(E.persistenceManager=yield ee.create(E,m),!E._deleted)){if(null!==(A=E._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,s.Z)(function*(){var E;const A=yield _.assertedPersistence.getCurrentUser();let F=A,ue=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ke=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,at=F?._redirectEventId,Et=yield _.tryRedirectSignIn(m);(!ke||ke===at)&&Et?.user&&(F=Et.user,ue=!0)}if(!F)return _.directlySetCurrentUser(null);if(!F._redirectEventId){if(ue)try{yield _.beforeStateQueue.runMiddleware(F)}catch(ke){F=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ke))}return F?_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)}return oe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)})()}tryRedirectSignIn(m){var _=this;return(0,s.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,s.Z)(function*(){try{yield Jr(m)}catch(E){if("auth/network-request-failed"!==E?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ht(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,s.Z)(function*(){const E=m?(0,j.m9)(m):null;return E&&oe(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(m,_=!1){var E=this;return(0,s.Z)(function*(){if(!E._deleted)return m&&oe(E.tenantId===m.tenantId,E,"tenant-id-mismatch"),_||(yield E.beforeStateQueue.runMiddleware(m)),E.queue((0,s.Z)(function*(){yield E.directlySetCurrentUser(m),E.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(W(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new j.LL("auth","Firebase",m())}onAuthStateChanged(m,_,E){return this.registerStateListener(this.authStateSubscription,m,_,E)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,E){return this.registerStateListener(this.idTokenSubscription,m,_,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var E=this;return(0,s.Z)(function*(){const A=yield E.getOrInitRedirectPersistenceManager(_);return null===m?A.removeCurrentUser():A.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const E=m&&W(m)||_._popupRedirectResolver;oe(E,_,"argument-error"),_.redirectPersistenceManager=yield ee.create(_,[W(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,s.Z)(function*(){var E,A;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===m?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,s.Z)(function*(){if(m===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,E,A){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),ue=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ue,this,"internal-error"),ue.then(()=>F(this.currentUser)),"function"==typeof _?m.addObserver(_,E,A):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Uo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var _;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const A=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return A&&(E["X-Firebase-Client"]=A),E})()}}function Pi(b){return(0,j.m9)(b)}class Ho{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ku(b,m,_){const E=Pi(b);oe(E._canInitEmulator,E,"emulator-config-failed"),oe(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const A=!!_?.disableWarnings,F=Nc(m),{host:ue,port:ke}=function Ml(b){const m=Nc(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(E);if(A){const F=A[1];return{host:F,port:Go(E.substr(F.length+1))}}{const[F,ue]=E.split(":");return{host:F,port:Go(ue)}}}(m);E.config.emulator={url:`${F}//${ue}${null===ke?"":`:${ke}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ue,port:ke,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function dn(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Nc(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Go(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Rn{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ne("not implemented")}_getIdTokenResponse(m){return ne("not implemented")}_linkToIdToken(m,_){return ne("not implemented")}_getReauthenticationResolver(m){return ne("not implemented")}}function Wi(b,m){return ti.apply(this,arguments)}function ti(){return(ti=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:resetPassword",At(b,m))})).apply(this,arguments)}function rr(b,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Tt(){return(Tt=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:update",At(b,m))})).apply(this,arguments)}function qi(){return(qi=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithPassword",At(b,m))})).apply(this,arguments)}function vs(b,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:sendOobCode",At(b,m))})).apply(this,arguments)}function xn(){return(xn=(0,s.Z)(function*(b,m){return vs(b,m)})).apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(b,m){return vs(b,m)})).apply(this,arguments)}function xa(){return(xa=(0,s.Z)(function*(b,m){return vs(b,m)})).apply(this,arguments)}function Aa(){return(Aa=(0,s.Z)(function*(b,m){return vs(b,m)})).apply(this,arguments)}function ki(){return(ki=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithEmailLink",At(b,m))})).apply(this,arguments)}function Os(){return(Os=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithEmailLink",At(b,m))})).apply(this,arguments)}class br extends Rn{constructor(m,_,E,A=null){super("password",E),this._email=m,this._password=_,this._tenantId=A}static _fromEmailAndPassword(m,_){return new br(m,_,"password")}static _fromEmailAndCode(m,_,E=null){return new br(m,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function Gn(b,m){return qi.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Ms(b,m){return ki.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Fe(m,"internal-error")}})()}_linkToIdToken(m,_){var E=this;return(0,s.Z)(function*(){switch(E.signInMethod){case"password":return rr(m,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Nl(b,m){return Os.apply(this,arguments)}(m,{idToken:_,email:E._email,oobCode:E._password});default:Fe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Cn(b,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithIdp",At(b,m))})).apply(this,arguments)}class di extends Rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new di(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Fe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:A}=_,F=(0,he._T)(_,["providerId","signInMethod"]);if(!E||!A)return null;const ue=new di(E,A);return ue.idToken=F.idToken||void 0,ue.accessToken=F.accessToken||void 0,ue.secret=F.secret,ue.nonce=F.nonce,ue.pendingToken=F.pendingToken||null,ue}_getIdTokenResponse(m){return Cn(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,Cn(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Cn(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,j.xO)(_)}return m}}function Pl(){return(Pl=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:sendVerificationCode",At(b,m))})).apply(this,arguments)}function Ns(){return(Ns=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithPhoneNumber",At(b,m))})).apply(this,arguments)}function Ri(){return(Ri=(0,s.Z)(function*(b,m){const _=yield Un(b,"POST","/v1/accounts:signInWithPhoneNumber",At(b,m));if(_.temporaryProof)throw li(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Cg={USER_NOT_FOUND:"user-not-found"};function Lr(){return(Lr=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithPhoneNumber",At(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Cg)})).apply(this,arguments)}class Ps extends Rn{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Ps({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Ps({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function kl(b,m){return Ns.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Rr(b,m){return Ri.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Fr(b,m){return Lr.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:E,verificationCode:A}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:E,code:A}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:E,phoneNumber:A,temporaryProof:F}=m;return E||_||A||F?new Ps({verificationId:_,verificationCode:E,phoneNumber:A,temporaryProof:F}):null}}class wi{constructor(m){var _,E,A,F,ue,ke;const at=(0,j.zd)((0,j.pd)(m)),Et=null!==(_=at.apiKey)&&void 0!==_?_:null,Kt=null!==(E=at.oobCode)&&void 0!==E?E:null,Tn=function Ma(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=at.mode)&&void 0!==A?A:null);oe(Et&&Kt&&Tn,"argument-error"),this.apiKey=Et,this.operation=Tn,this.code=Kt,this.continueUrl=null!==(F=at.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(ue=at.languageCode)&&void 0!==ue?ue:null,this.tenantId=null!==(ke=at.tenantId)&&void 0!==ke?ke:null}static parseLink(m){const _=function kc(b){const m=(0,j.zd)((0,j.pd)(b)).link,_=m?(0,j.zd)((0,j.pd)(m)).deep_link_id:null,E=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(E?(0,j.zd)((0,j.pd)(E)).link:null)||E||_||m||b}(m);try{return new wi(_)}catch{return null}}}let Rl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,E){return br._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const A=wi.parseLink(E);return oe(A,"argument-error"),br._fromEmailAndCode(_,A.code,A.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ks{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class jo extends ks{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Oa extends jo{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return oe("providerId"in _&&"signInMethod"in _,"argument-error"),di._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return oe(m.idToken||m.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Oa.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Oa.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:A,pendingToken:F,nonce:ue,providerId:ke}=m;if(!E&&!A&&!_&&!F||!ke)return null;try{return new Oa(ke)._credential({idToken:_,accessToken:E,nonce:ue,pendingToken:F})}catch{return null}}}let Dg=(()=>{class b extends jo{constructor(){super("facebook.com")}static credential(_){return di._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ju=(()=>{class b extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return di._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:A}=_;if(!E&&!A)return null;try{return b.credential(E,A)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Hh=(()=>{class b extends jo{constructor(){super("github.com")}static credential(_){return di._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Na extends Rn{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Cn(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,Cn(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Cn(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:A,pendingToken:F}=_;return E&&A&&F&&E===A?new Na(E,F):null}static _create(m,_){return new Na(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bs extends ks{constructor(m){oe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return bs.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return bs.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Na.fromJSON(m);return oe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:E}=m;if(!_||!E)return null;try{return Na._create(E,_)}catch{return null}}}let Rs=(()=>{class b extends jo{constructor(){super("twitter.com")}static credential(_,E){return di._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:A}=_;if(!E||!A)return null;try{return b.credential(E,A)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Sg(b,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signUp",At(b,m))})).apply(this,arguments)}class jr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,E,A=!1){return(0,s.Z)(function*(){const F=yield Rt._fromIdTokenResponse(m,E,A),ue=Fl(E);return new jr({user:F,providerId:ue,_tokenResponse:E,operationType:_})})()}static _forOperation(m,_,E){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const A=Fl(E);return new jr({user:m,providerId:A,_tokenResponse:E,operationType:_})})()}}function Fl(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Qu(b){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,s.Z)(function*(b){var m;const _=Pi(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new jr({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield Sg(_,{returnSecureToken:!0}),A=yield jr._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class Rc extends j.ZR{constructor(m,_,E,A){var F;super(_.code,_.message),this.operationType=E,this.user=A,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,_,E,A){return new Rc(m,_,E,A)}}function Xu(b,m,_,E){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Rc._fromErrorAndOperation(b,F,m,E):F})}function yo(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function zo(b,m){return Wo.apply(this,arguments)}function Wo(){return Wo=(0,s.Z)(function*(b,m){const _=(0,j.m9)(b);yield vo(!0,_,m);const{providerUserInfo:E}=yield function bn(b,m){return Mi.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),A=yo(E||[]);return _.providerData=_.providerData.filter(F=>A.has(F.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Wo.apply(this,arguments)}function qo(b,m){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,s.Z)(function*(b,m,_=!1){const E=yield wn(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return jr._forOperation(b,"link",E)})).apply(this,arguments)}function vo(b,m,_){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,s.Z)(function*(b,m,_){yield Jr(m);const A=!1===b?"provider-already-linked":"no-such-provider";oe(yo(m.providerData).has(_)===b,m.auth,A)})).apply(this,arguments)}function Bl(b,m){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,s.Z)(function*(b,m,_=!1){const{auth:E}=b,A="reauthenticate";try{const F=yield wn(b,Xu(E,A,m,b),_);oe(F.idToken,E,"internal-error");const ue=Ct(F.idToken);oe(ue,E,"internal-error");const{sub:ke}=ue;return oe(b.uid===ke,E,"user-mismatch"),jr._forOperation(b,A,F)}catch(F){throw"auth/user-not-found"===F?.code&&Fe(E,"user-mismatch"),F}})).apply(this,arguments)}function Pa(b,m){return bo.apply(this,arguments)}function bo(){return(bo=(0,s.Z)(function*(b,m,_=!1){const E="signIn",A=yield Xu(b,E,m),F=yield jr._fromIdTokenResponse(b,E,A);return _||(yield b._updateCurrentUser(F.user)),F})).apply(this,arguments)}function wr(b,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,s.Z)(function*(b,m){return Pa(Pi(b),m)})).apply(this,arguments)}function Fc(b,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,s.Z)(function*(b,m){const _=(0,j.m9)(b);return yield vo(!1,_,m.providerId),qo(_,m)})).apply(this,arguments)}function Lc(b,m){return to.apply(this,arguments)}function to(){return(to=(0,s.Z)(function*(b,m){return Bl((0,j.m9)(b),m)})).apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(b,m){return Un(b,"POST","/v1/accounts:signInWithCustomToken",At(b,m))})).apply(this,arguments)}function Hl(b,m){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,s.Z)(function*(b,m){const _=Pi(b),E=yield function Fi(b,m){return ka.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),A=yield jr._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(A.user),A}),Fs.apply(this,arguments)}class Ii{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Gl._fromServerResponse(m,_):Fe(m,"internal-error")}}class Gl extends Ii{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Gl(_)}}function wo(b,m,_){var E;oe((null===(E=_.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),oe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(oe(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(oe(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function jh(b,m,_){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,s.Z)(function*(b,m,_){const E=(0,j.m9)(b),A={requestType:"PASSWORD_RESET",email:m};_&&wo(E,A,_),yield function Ol(b,m){return tn.apply(this,arguments)}(E,A)}),Xr.apply(this,arguments)}function Vc(b,m,_){return Io.apply(this,arguments)}function Io(){return(Io=(0,s.Z)(function*(b,m,_){yield Wi((0,j.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Wt(b,m){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,s.Z)(function*(b,m){yield function ot(b,m){return Tt.apply(this,arguments)}((0,j.m9)(b),{oobCode:m})}),Yo.apply(this,arguments)}function zh(b,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(b,m){const _=(0,j.m9)(b),E=yield Wi(_,{oobCode:m}),A=E.requestType;switch(oe(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(E.mfaInfo,_,"internal-error");default:oe(E.email,_,"internal-error")}let F=null;return E.mfaInfo&&(F=Ii._fromServerResponse(Pi(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:A}})).apply(this,arguments)}function Wh(b,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,s.Z)(function*(b,m){const{data:_}=yield zh((0,j.m9)(b),m);return _.email})).apply(this,arguments)}function ed(b,m,_){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,s.Z)(function*(b,m,_){const E=Pi(b),A=yield Sg(E,{returnSecureToken:!0,email:m,password:_}),F=yield jr._fromIdTokenResponse(E,"signIn",A);return yield E._updateCurrentUser(F.user),F})).apply(this,arguments)}function qh(b,m,_){return wr((0,j.m9)(b),Rl.credential(m,_))}function Ce(b,m,_){return an.apply(this,arguments)}function an(){return an=(0,s.Z)(function*(b,m,_){const E=(0,j.m9)(b),A={requestType:"EMAIL_SIGNIN",email:m};oe(_.handleCodeInApp,E,"argument-error"),_&&wo(E,A,_),yield function nn(b,m){return xa.apply(this,arguments)}(E,A)}),an.apply(this,arguments)}function Zh(b,m){return"EMAIL_SIGNIN"===wi.parseLink(m)?.operation}function td(b,m,_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,s.Z)(function*(b,m,_){const E=(0,j.m9)(b),A=Rl.credentialWithLink(m,_||ve());return oe(A._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),wr(E,A)})).apply(this,arguments)}function Ko(){return(Ko=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:createAuthUri",At(b,m))})).apply(this,arguments)}function es(b,m){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,s.Z)(function*(b,m){const E={identifier:m,continueUri:De()?ve():"http://localhost"},{signinMethods:A}=yield function Uc(b,m){return Ko.apply(this,arguments)}((0,j.m9)(b),E);return A||[]}),Jo.apply(this,arguments)}function nd(b,m){return $l.apply(this,arguments)}function $l(){return $l=(0,s.Z)(function*(b,m){const _=(0,j.m9)(b),A={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&wo(_.auth,A,m);const{email:F}=yield function fn(b,m){return xn.apply(this,arguments)}(_.auth,A);F!==b.email&&(yield b.reload())}),$l.apply(this,arguments)}function Yh(b,m,_){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,s.Z)(function*(b,m,_){const E=(0,j.m9)(b),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&wo(E.auth,F,_);const{email:ue}=yield function $o(b,m){return Aa.apply(this,arguments)}(E.auth,F);ue!==b.email&&(yield b.reload())}),Qo.apply(this,arguments)}function sr(){return(sr=(0,s.Z)(function*(b,m){return dt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xo(b,m){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,s.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const E=(0,j.m9)(b),F={idToken:yield E.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ue=yield wn(E,function Zi(b,m){return sr.apply(this,arguments)}(E.auth,F));E.displayName=ue.displayName||null,E.photoURL=ue.photoUrl||null;const ke=E.providerData.find(({providerId:at})=>"password"===at);ke&&(ke.displayName=E.displayName,ke.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ue)}),Ls.apply(this,arguments)}function no(b,m){return ea((0,j.m9)(b),m,null)}function id(b,m){return ea((0,j.m9)(b),null,m)}function ea(b,m,_){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,s.Z)(function*(b,m,_){const{auth:E}=b,F={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(F.email=m),_&&(F.password=_);const ue=yield wn(b,rr(E,F));yield b._updateTokensIfNecessary(ue,!0)})).apply(this,arguments)}class io{constructor(m,_,E={}){this.isNewUser=m,this.providerId=_,this.profile=E}}class La extends io{constructor(m,_,E,A){super(m,_,E),this.username=A}}class Jh extends io{constructor(m,_){super(m,"facebook.com",_)}}class Gc extends La{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class rd extends io{constructor(m,_){super(m,"google.com",_)}}class Qh extends La{constructor(m,_,E){super(m,"twitter.com",_,E)}}function jl(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Kh(b){var m,_;if(!b)return null;const{providerId:E}=b,A=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},F=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const ue=null===(_=null===(m=Ct(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ue)return new io(F,"anonymous"!==ue&&"custom"!==ue?ue:null)}if(!E)return null;switch(E){case"facebook.com":return new Jh(F,A);case"github.com":return new Gc(F,A);case"google.com":return new rd(F,A);case"twitter.com":return new Qh(F,A,b.screenName||null);case"custom":case"anonymous":return new io(F,null);default:return new io(F,E,A)}}(_)}class yn{constructor(m,_,E){this.type=m,this.credential=_,this.auth=E}static _fromIdtoken(m,_){return new yn("enroll",m,_)}static _fromMfaPendingCredential(m){return new yn("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,E;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return yn._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(E=m.multiFactorSession)&&void 0!==E&&E.idToken)return yn._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ad{constructor(m,_,E){this.session=m,this.hints=_,this.signInResolver=E}static _fromError(m,_){const E=Pi(m),A=_.customData._serverResponse,F=(A.mfaInfo||[]).map(ke=>Ii._fromServerResponse(E,ke));oe(A.mfaPendingCredential,E,"internal-error");const ue=yn._fromMfaPendingCredential(A.mfaPendingCredential);return new ad(ue,F,function(){var ke=(0,s.Z)(function*(at){const Et=yield at._process(E,ue);delete A.mfaInfo,delete A.mfaPendingCredential;const Kt=Object.assign(Object.assign({},A),{idToken:Et.idToken,refreshToken:Et.refreshToken});switch(_.operationType){case"signIn":const Tn=yield jr._fromIdTokenResponse(E,_.operationType,Kt);return yield E._updateCurrentUser(Tn.user),Tn;case"reauthenticate":return oe(_.user,E,"internal-error"),jr._forOperation(_.user,_.operationType,Kt);default:Fe(E,"internal-error")}});return function(at){return ke.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,s.Z)(function*(){return _.signInResolver(m)})()}}function Xh(b,m){var _;const E=(0,j.m9)(b),A=m;return oe(m.customData.operationType,E,"argument-error"),oe(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),ad._fromError(E,A)}class ld{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>Ii._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new ld(m)}getSession(){var m=this;return(0,s.Z)(function*(){return yn._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var E=this;return(0,s.Z)(function*(){const A=m,F=yield E.getSession(),ue=yield wn(E.user,A._process(E.user.auth,F,_));return yield E.user._updateTokensIfNecessary(ue),E.user.reload()})()}unenroll(m){var _=this;return(0,s.Z)(function*(){const E="string"==typeof m?m:m.uid,A=yield _.user.getIdToken();try{const F=yield wn(_.user,function Ng(b,m){return dt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",At(b,m))}(_.user.auth,{idToken:A,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ue})=>ue!==E),yield _.user._updateTokensIfNecessary(F),yield _.user.reload()}catch(F){throw F}})()}}const Va=new WeakMap;function ta(b){const m=(0,j.m9)(b);return Va.has(m)||Va.set(m,ld._fromUser(m)),Va.get(m)}const Bs="__sak";class ws{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Bs,"1"),this.storage.removeItem(Bs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Er=(()=>{class b extends ws{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function cd(){const b=(0,j.z$)();return B(b)||vt(b)}()&&function Ac(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ir(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const A=this.storage.getItem(E),F=this.localCache[E];A!==F&&_(E,F,A)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((ke,at,Et)=>{this.notifyListeners(ke,Et)});const A=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(A);if(_.newValue!==ke)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!E)return}const F=()=>{const ke=this.storage.getItem(A);!E&&this.localCache[A]===ke||this.notifyListeners(A,ke)},ue=this.storage.getItem(A);!function Gt(){return(0,j.w1)()&&10===document.documentMode}()||ue===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,E){this.localCache[_]=E;const A=this.listeners[_];if(A)for(const F of Array.from(A))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var A=()=>super._set,F=this;return(0,s.Z)(function*(){yield A().call(F,_,E),F.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,A=this;return(0,s.Z)(function*(){const F=yield E().call(A,_);return A.localCache[_]=JSON.stringify(F),F})()}_remove(_){var E=()=>super._remove,A=this;return(0,s.Z)(function*(){yield E().call(A,_),delete A.localCache[_]})()}}return b.type="LOCAL",b})(),Ua=(()=>{class b extends ws{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return b.type="SESSION",b})();let Ha=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(F=>F.isListeningto(_));if(E)return E;const A=new b(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,s.Z)(function*(){const A=_,{eventId:F,eventType:ue,data:ke}=A.data,at=E.handlersMap[ue];if(!at?.size)return;A.ports[0].postMessage({status:"ack",eventId:F,eventType:ue});const Et=Array.from(at).map(function(){var Tn=(0,s.Z)(function*(ss){return ss(A.origin,ke)});return function(ss){return Tn.apply(this,arguments)}}()),Kt=yield function Pg(b){return Promise.all(b.map(function(){var m=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return m.apply(this,arguments)}}()))}(Et);A.ports[0].postMessage({status:"done",eventId:F,eventType:ue,response:Kt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ro(b="",m=10){let _="";for(let E=0;E<m;E++)_+=Math.floor(10*Math.random());return b+_}class tp{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,E=50){var A=this;return(0,s.Z)(function*(){const F=typeof MessageChannel<"u"?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let ue,ke;return new Promise((at,Et)=>{const Kt=ro("",20);F.port1.start();const Tn=setTimeout(()=>{Et(new Error("unsupported_event"))},E);ke={messageChannel:F,onMessage(ss){const os=ss;if(os.data.eventId===Kt)switch(os.data.status){case"ack":clearTimeout(Tn),ue=setTimeout(()=>{Et(new Error("timeout"))},3e3);break;case"done":clearTimeout(ue),at(os.data.response);break;default:clearTimeout(Tn),clearTimeout(ue),Et(new Error("invalid_response"))}}},A.handlers.add(ke),F.port1.addEventListener("message",ke.onMessage),A.target.postMessage({eventType:m,eventId:Kt,data:_},[F.port2])}).finally(()=>{ke&&A.removeMessageHandler(ke)})})()}}function Yn(){return window}function Co(){return typeof Yn().WorkerGlobalScope<"u"&&"function"==typeof Yn().importScripts}function ts(){return(ts=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $a="firebaseLocalStorageDb",zc=1,To="firebaseLocalStorage",ia="fbase_key";class Is{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ra(b,m){return b.transaction([To],m?"readwrite":"readonly").objectStore(To)}function so(){const b=indexedDB.open($a,zc);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(To,{keyPath:ia})}catch(A){_(A)}}),b.addEventListener("success",(0,s.Z)(function*(){const E=b.result;E.objectStoreNames.contains(To)?m(E):(E.close(),yield function ja(){const b=indexedDB.deleteDatabase($a);return new Is(b).toPromise()}(),m(yield so()))}))})}function ud(b,m,_){return or.apply(this,arguments)}function or(){return(or=(0,s.Z)(function*(b,m,_){const E=ra(b,!0).put({[ia]:m,value:_});return new Is(E).toPromise()})).apply(this,arguments)}function oo(){return(oo=(0,s.Z)(function*(b,m){const _=ra(b,!1).get(m),E=yield new Is(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function sa(b,m){const _=ra(b,!0).delete(m);return new Is(_).toPromise()}const Wl=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield so()),_.db})()}_withRetries(_){var E=this;return(0,s.Z)(function*(){let A=0;for(;;)try{const F=yield E._openDb();return yield _(F)}catch(F){if(A++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return Co()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=Ha._getInstance(function jc(){return Co()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,s.Z)(function*(A,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(A,F){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,s.Z)(function*(A,F){return["keyChanged"]});return function(A,F){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var E,A;if(_.activeServiceWorker=yield function Ga(){return ts.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new tp(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);F&&null!==(E=F[0])&&void 0!==E&&E.fulfilled&&null!==(A=F[0])&&void 0!==A&&A.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,s.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function $c(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield so();return yield ud(_,Bs,"1"),yield sa(_,Bs),!0}catch{}return!1})()}_withPendingWrite(_){var E=this;return(0,s.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var A=this;return(0,s.Z)(function*(){return A._withPendingWrite((0,s.Z)(function*(){return yield A._withRetries(F=>ud(F,_,E)),A.localCache[_]=E,A.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,s.Z)(function*(){const A=yield E._withRetries(F=>function dd(b,m){return oo.apply(this,arguments)}(F,_));return E.localCache[_]=A,A})()}_remove(_){var E=this;return(0,s.Z)(function*(){return E._withPendingWrite((0,s.Z)(function*(){return yield E._withRetries(A=>sa(A,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const E=yield _._withRetries(ue=>{const ke=ra(ue,!1).getAll();return new Is(ke).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const A=[],F=new Set;for(const{fbase_key:ue,value:ke}of E)F.add(ue),JSON.stringify(_.localCache[ue])!==JSON.stringify(ke)&&(_.notifyListeners(ue,ke),A.push(ue));for(const ue of Object.keys(_.localCache))_.localCache[ue]&&!F.has(ue)&&(_.notifyListeners(ue,null),A.push(ue));return A})()}notifyListeners(_,E){this.localCache[_]=E;const A=this.listeners[_];if(A)for(const F of Array.from(A))F(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function ns(){return(ns=(0,s.Z)(function*(b){return(yield dt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Wa(b){return new Promise((m,_)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=m,E.onerror=A=>{const F=Le("internal-error");F.customData=A,_(F)},E.type="text/javascript",E.charset="UTF-8",function qc(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(E)})}function is(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Cr=1e12;class ao{constructor(m){this.auth=m,this.counter=Cr,this._widgets=new Map}render(m,_){const E=this.counter;return this._widgets.set(E,new ip(m,this.auth.name,_||{})),this.counter++,E}reset(m){var _;const E=m||Cr;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Cr))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,s.Z)(function*(){var E;return null===(E=_._widgets.get(m||Cr))||void 0===E||E.execute(),""})()}}class ip{constructor(m,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof m?document.getElementById(m):m;oe(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Yc(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const aa=is("rcb"),rp=new It(3e4,6e4);class Kc{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Yn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return oe(function Do(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Yn().grecaptcha):new Promise((E,A)=>{const F=Yn().setTimeout(()=>{A(Le(m,"network-request-failed"))},rp.get());Yn()[aa]=()=>{Yn().clearTimeout(F),delete Yn()[aa];const ke=Yn().grecaptcha;if(!ke)return void A(Le(m,"internal-error"));const at=ke.render;ke.render=(Et,Kt)=>{const Tn=at(Et,Kt);return this.counter++,Tn},this.hostLanguage=_,E(ke)},Wa(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:aa,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),A(Le(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Yn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qa{load(m){return(0,s.Z)(function*(){return new ao(m)})()}clearedOneInstance(){}}const So="recaptcha",op={theme:"light",type:"image"};class gd{constructor(m,_=Object.assign({},op),E){this.parameters=_,this.type=So,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pi(E),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof m?document.getElementById(m):m;oe(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qa:new Kc,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(_)||new Promise(F=>{const ue=ke=>{ke&&(m.tokenChangeListeners.delete(ue),F(ke))};m.tokenChangeListeners.add(ue),m.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof m)m(_);else if("string"==typeof m){const E=Yn()[m];"function"==typeof E&&E(_)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){oe(De()&&!Co(),m.auth,"internal-error"),yield function ql(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function np(b){return ns.apply(this,arguments)}(m.auth);oe(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ap{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Ps._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function lp(b,m,_){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(b,m,_){const E=Pi(b),A=yield yd(E,m,(0,j.m9)(_));return new ap(A,F=>wr(E,F))})).apply(this,arguments)}function cp(b,m,_){return md.apply(this,arguments)}function md(){return(md=(0,s.Z)(function*(b,m,_){const E=(0,j.m9)(b);yield vo(!1,E,"phone");const A=yield yd(E.auth,m,(0,j.m9)(_));return new ap(A,F=>Fc(E,F))})).apply(this,arguments)}function _d(b,m,_){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,s.Z)(function*(b,m,_){const E=(0,j.m9)(b),A=yield yd(E.auth,m,(0,j.m9)(_));return new ap(A,F=>Lc(E,F))})).apply(this,arguments)}function yd(b,m,_){return up.apply(this,arguments)}function up(){return up=(0,s.Z)(function*(b,m,_){var E;const A=yield _.verify();try{let F;if(oe("string"==typeof A,b,"argument-error"),oe(_.type===So,b,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const ue=F.session;if("phoneNumber"in F)return oe("enroll"===ue.type,b,"internal-error"),(yield function Yi(b,m){return dt(b,"POST","/v2/accounts/mfaEnrollment:start",At(b,m))}(b,{idToken:ue.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{oe("signin"===ue.type,b,"internal-error");const ke=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return oe(ke,b,"missing-multi-factor-info"),(yield function pd(b,m){return dt(b,"POST","/v2/accounts/mfaSignIn:start",At(b,m))}(b,{mfaPendingCredential:ue.credential,mfaEnrollmentId:ke,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ue}=yield function Pc(b,m){return Pl.apply(this,arguments)}(b,{phoneNumber:F.phoneNumber,recaptchaToken:A});return ue}}finally{_._reset()}}),up.apply(this,arguments)}function dy(b,m){return la.apply(this,arguments)}function la(){return(la=(0,s.Z)(function*(b,m){yield qo((0,j.m9)(b),m)})).apply(this,arguments)}let hy=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Pi(_)}verifyPhoneNumber(_,E){return yd(this.auth,_,(0,j.m9)(E))}static credential(_,E){return Ps._fromVerification(_,E)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:A}=_;return E&&A?Ps._fromTokenResponse(E,A):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Za(b,m){return m?W(m):(oe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ri extends Rn{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Cn(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Cn(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Cn(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function vd(b){return Pa(b.auth,new ri(b),b.bypassAuthState)}function Zl(b){const{auth:m,user:_}=b;return oe(_,m,"internal-error"),Bl(_,new ri(b),b.bypassAuthState)}function Qc(b){return ar.apply(this,arguments)}function ar(){return(ar=(0,s.Z)(function*(b){const{auth:m,user:_}=b;return oe(_,m,"internal-error"),qo(_,new ri(b),b.bypassAuthState)})).apply(this,arguments)}class Us{constructor(m,_,E,A,F=!1){this.auth=m,this.resolver=E,this.user=A,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,s.Z)(function*(E,A){m.pendingPromise={resolve:E,reject:A};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(E,A){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,s.Z)(function*(){const{urlResponse:E,sessionId:A,postBody:F,tenantId:ue,error:ke,type:at}=m;if(ke)return void _.reject(ke);const Et={auth:_.auth,requestUri:E,sessionId:A,tenantId:ue||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(at)(Et))}catch(Kt){_.reject(Kt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return vd;case"linkViaPopup":case"linkViaRedirect":return Qc;case"reauthViaPopup":case"reauthViaRedirect":return Zl;default:Fe(this.auth,"internal-error")}}resolve(m){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xc=new It(2e3,1e4);function Ya(b,m,_){return lo.apply(this,arguments)}function lo(){return(lo=(0,s.Z)(function*(b,m,_){const E=Pi(b);ye(b,m,ks);const A=Za(E,_);return new Tr(E,"signInViaPopup",m,A).executeNotNull()})).apply(this,arguments)}function bd(b,m,_){return wd.apply(this,arguments)}function wd(){return(wd=(0,s.Z)(function*(b,m,_){const E=(0,j.m9)(b);ye(E.auth,m,ks);const A=Za(E.auth,_);return new Tr(E.auth,"reauthViaPopup",m,A,E).executeNotNull()})).apply(this,arguments)}function kg(b,m,_){return Id.apply(this,arguments)}function Id(){return(Id=(0,s.Z)(function*(b,m,_){const E=(0,j.m9)(b);ye(E.auth,m,ks);const A=Za(E.auth,_);return new Tr(E.auth,"linkViaPopup",m,A,E).executeNotNull()})).apply(this,arguments)}let Tr=(()=>{class b extends Us{constructor(_,E,A,F,ue){super(_,E,F,ue),this.provider=A,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const E=yield _.execute();return oe(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,s.Z)(function*(){re(1===_.filter.length,"Popup operations only handle one event");const E=ro();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(Le(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,A;this.pollId=null!==(A=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Xc.get())};_()}}return b.currentPopupAction=null,b})();const In="pendingRedirect",$n=new Map;class gt extends Us{constructor(m,_,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,s.Z)(function*(){let E=$n.get(_.auth._key());if(!E){try{const F=(yield function vn(b,m){return si.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;E=()=>Promise.resolve(F)}catch(A){E=()=>Promise.reject(A)}$n.set(_.auth._key(),E)}return _.bypassAuthState||$n.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,E=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(E,m);if("unknown"!==m.type){if(m.eventId){const A=yield E.auth._redirectUserForId(m.eventId);if(A)return E.user=A,_().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function si(){return(si=(0,s.Z)(function*(b,m){const _=Ka(m),E=hp(b);if(!(yield E._isAvailable()))return!1;const A="true"===(yield E._get(_));return yield E._remove(_),A})).apply(this,arguments)}function Hs(b,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,s.Z)(function*(b,m){return hp(b)._set(Ka(m),"true")})).apply(this,arguments)}function jn(){$n.clear()}function dp(b,m){$n.set(b._key(),m)}function hp(b){return W(b._redirectPersistence)}function Ka(b){return z(In,b.config.apiKey,b.name)}function Yl(b,m,_){return function Kl(b,m,_){return ua.apply(this,arguments)}(b,m,_)}function ua(){return(ua=(0,s.Z)(function*(b,m,_){const E=Pi(b);ye(b,m,ks),yield E._initializationPromise;const A=Za(E,_);return yield Hs(A,E),A._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function T(b,m,_){return function D(b,m,_){return O.apply(this,arguments)}(b,m,_)}function O(){return(O=(0,s.Z)(function*(b,m,_){const E=(0,j.m9)(b);ye(E.auth,m,ks),yield E.auth._initializationPromise;const A=Za(E.auth,_);yield Hs(A,E.auth);const F=yield Zt(E);return A._openRedirect(E.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function $(b,m,_){return function se(b,m,_){return de.apply(this,arguments)}(b,m,_)}function de(){return(de=(0,s.Z)(function*(b,m,_){const E=(0,j.m9)(b);ye(E.auth,m,ks),yield E.auth._initializationPromise;const A=Za(E.auth,_);yield vo(!1,E,m.providerId),yield Hs(A,E.auth);const F=yield Zt(E);return A._openRedirect(E.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function Se(b,m){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(b,m){return yield Pi(b)._initializationPromise,mt(b,m,!1)})).apply(this,arguments)}function mt(b,m){return bt.apply(this,arguments)}function bt(){return(bt=(0,s.Z)(function*(b,m,_=!1){const E=Pi(b),A=Za(E,m),ue=yield new gt(E,A,_).execute();return ue&&!_&&(delete ue.user._redirectEventId,yield E._persistUserIfCurrent(ue.user),yield E._setRedirectUser(null,m)),ue})).apply(this,arguments)}function Zt(b){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,s.Z)(function*(b){const m=ro(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Fn{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(_=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Ja(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jl(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var E;if(m.error&&!Jl(m)){const A=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Le(this.auth,A))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const E=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lr(m))}saveEventToCache(m){this.cachedEventUids.add(lr(m)),this.lastProcessedEventTime=Date.now()}}function lr(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function Jl({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Kn(b){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,s.Z)(function*(b,m={}){return dt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pp=/^https?/;function Ql(){return(Ql=(0,s.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Kn(b);for(const _ of m)try{if(py(_))return}catch{}Fe(b,"unauthorized-domain")})).apply(this,arguments)}function py(b){const m=ve(),{protocol:_,hostname:E}=new URL(m);if(b.startsWith("chrome-extension://")){const ue=new URL(b);return""===ue.hostname&&""===E?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ue.hostname===E}if(!pp.test(_))return!1;if(Sr.test(b))return E===b;const A=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(E)}const hi=new It(3e4,6e4);function Li(){const b=Yn().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ln=null;const fp=new It(5e3,15e3),fy="__/auth/iframe",gp="emulator/auth/iframe",da={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cr(b){const m=b.config;oe(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?kt(m,gp):`https://${b.config.authDomain}/${fy}`,E={apiKey:m.apiKey,appName:b.name,v:k.SDK_VERSION},A=Xa.get(b.config.apiHost);A&&(E.eid=A);const F=b._getFrameworks();return F.length&&(E.fw=F.join(",")),`${_}?${(0,j.xO)(E).slice(1)}`}function Rg(){return Rg=(0,s.Z)(function*(b){const m=yield function Vi(b){return Ln=Ln||function Qa(b){return new Promise((m,_)=>{var E,A,F;function ue(){Li(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Li(),_(Le(b,"network-request-failed"))},timeout:hi.get()})}if(null!==(A=null===(E=Yn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==A&&A.Iframe)m(gapi.iframes.getContext());else{if(null===(F=Yn().gapi)||void 0===F||!F.load){const ke=is("iframefcb");return Yn()[ke]=()=>{gapi.load?ue():_(Le(b,"network-request-failed"))},Wa(`https://apis.google.com/js/api.js?onload=${ke}`).catch(at=>_(at))}ue()}}).catch(m=>{throw Ln=null,m})}(b),Ln}(b),_=Yn().gapi;return oe(_,b,"internal-error"),m.open({where:document.body,url:cr(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:da,dontclear:!0},E=>new Promise(function(){var A=(0,s.Z)(function*(F,ue){yield E.restyle({setHideOnLeave:!1});const ke=Le(b,"network-request-failed"),at=Yn().setTimeout(()=>{ue(ke)},fp.get());function Et(){Yn().clearTimeout(at),F(E)}E.ping(Et).then(Et,()=>{ue(ke)})});return function(F,ue){return A.apply(this,arguments)}}()))}),Rg.apply(this,arguments)}const eu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ed=500,Cd=600,Fg="_blank",mp="http://localhost";class tu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const gy="__/auth/handler",Xl="emulator/auth/handler";function Td(b,m,_,E,A,F){oe(b.config.authDomain,b,"auth-domain-config-required"),oe(b.config.apiKey,b,"invalid-api-key");const ue={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:E,v:k.SDK_VERSION,eventId:A};if(m instanceof ks){m.setDefaultLanguage(b.languageCode),ue.providerId=m.providerId||"",(0,j.xb)(m.getCustomParameters())||(ue.customParameters=JSON.stringify(m.getCustomParameters()));for(const[at,Et]of Object.entries(F||{}))ue[at]=Et}if(m instanceof jo){const at=m.getScopes().filter(Et=>""!==Et);at.length>0&&(ue.scopes=at.join(","))}b.tenantId&&(ue.tid=b.tenantId);const ke=ue;for(const at of Object.keys(ke))void 0===ke[at]&&delete ke[at];return`${function _p({config:b}){return b.emulator?kt(b,Xl):`https://${b.authDomain}/${gy}`}(b)}?${(0,j.xO)(ke).slice(1)}`}const Es="webStorageSupport",yp=class Lg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ua,this._completeRedirectFn=mt,this._overrideRedirectResult=dp}_openPopup(m,_,E,A){var F=this;return(0,s.Z)(function*(){var ue;re(null===(ue=F.eventManagers[m._key()])||void 0===ue?void 0:ue.manager,"_initialize() not called before _openPopup()");const ke=Td(m,_,E,ve(),A);return function $t(b,m,_,E=Ed,A=Cd){const F=Math.max((window.screen.availHeight-A)/2,0).toString(),ue=Math.max((window.screen.availWidth-E)/2,0).toString();let ke="";const at=Object.assign(Object.assign({},eu),{width:E.toString(),height:A.toString(),top:F,left:ue}),Et=(0,j.z$)().toLowerCase();_&&(ke=fe(Et)?Fg:_),P(Et)&&(m=m||mp,at.scrollbars="yes");const Kt=Object.entries(at).reduce((ss,[os,ru])=>`${ss}${os}=${ru},`,"");if(function Ni(b=(0,j.z$)()){var m;return vt(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Et)&&"_self"!==ke)return function nu(b,m){const _=document.createElement("a");_.href=b,_.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(m||"",ke),new tu(null);const Tn=window.open(m||"",ke,Kt);oe(Tn,b,"popup-blocked");try{Tn.focus()}catch{}return new tu(Tn)}(m,ke,ro())})()}_openRedirect(m,_,E,A){var F=this;return(0,s.Z)(function*(){return yield F._originValidation(m),function Eo(b){Yn().location.href=b}(Td(m,_,E,ve(),A)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:A,promise:F}=this.eventManagers[_];return A?Promise.resolve(A):(re(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(m);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(m){var _=this;return(0,s.Z)(function*(){const E=yield function el(b){return Rg.apply(this,arguments)}(m),A=new Fn(m);return E.register("authEvent",F=>(oe(F?.authEvent,m,"invalid-auth-event"),{status:A.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:A},_.iframes[m._key()]=E,A})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Es,{type:Es},A=>{var F;const ue=null===(F=A?.[0])||void 0===F?void 0:F[Es];void 0!==ue&&_(!!ue),Fe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ki(b){return Ql.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ir()||B()||vt()}};class vp{constructor(m){this.factorId=m}_process(m,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,E);case"signin":return this._finalizeSignIn(m,_.credential);default:return ne("unexpected MultiFactorSessionType")}}}class Vg extends vp{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Vg(m)}_finalizeEnroll(m,_,E){return function ep(b,m){return dt(b,"POST","/v2/accounts/mfaEnrollment:finalize",At(b,m))}(m,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function oa(b,m){return dt(b,"POST","/v2/accounts/mfaSignIn:finalize",At(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ur=(()=>{class b{constructor(){}static assertion(_){return Vg._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var oi="@firebase/auth";class Bg{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(E=>{m(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function dr(b){(0,k._registerComponent)(new ae.wA("auth",(m,{options:_})=>{const E=m.getProvider("app").getImmediate(),A=m.getProvider("heartbeat"),{apiKey:F,authDomain:ue}=E.options;return((ke,at)=>{oe(F&&!F.includes(":"),"invalid-api-key",{appName:ke.name}),oe(!ue?.includes(":"),"argument-error",{appName:ke.name});const Et={apiKey:F,authDomain:ue,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uo(b)},Kt=new Oc(ke,at,Et);return function X(b,m){const _=m?.persistence||[],E=(Array.isArray(_)?_:[_]).map(W);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(E,m?.popupRedirectResolver)}(Kt,_),Kt})(E,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,E)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new ae.wA("auth-internal",m=>{const _=Pi(m.getProvider("auth").getImmediate());return new Bg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(oi,"0.21.3",function Dd(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(oi,"0.21.3","esm2017")}("Browser")},2090:(pt,Me,L)=>{"use strict";L.d(Me,{$s:()=>it,BH:()=>Te,G6:()=>Xe,L:()=>pe,LL:()=>Xt,Pz:()=>Le,Sg:()=>ye,UG:()=>ne,US:()=>ae,ZB:()=>Z,ZR:()=>ft,aH:()=>Fe,b$:()=>W,eu:()=>Ht,hl:()=>St,jU:()=>re,m9:()=>sn,ne:()=>vr,pd:()=>ci,r3:()=>Yr,ru:()=>H,tV:()=>we,uI:()=>oe,vZ:()=>bn,w1:()=>X,xO:()=>Oi,xb:()=>Nr,z$:()=>Ge,zI:()=>It,zd:()=>zi});const le=function(Y){const z=[];let ee=0;for(let G=0;G<Y.length;G++){let P=Y.charCodeAt(G);P<128?z[ee++]=P:P<2048?(z[ee++]=P>>6|192,z[ee++]=63&P|128):55296==(64512&P)&&G+1<Y.length&&56320==(64512&Y.charCodeAt(G+1))?(P=65536+((1023&P)<<10)+(1023&Y.charCodeAt(++G)),z[ee++]=P>>18|240,z[ee++]=P>>12&63|128,z[ee++]=P>>6&63|128,z[ee++]=63&P|128):(z[ee++]=P>>12|224,z[ee++]=P>>6&63|128,z[ee++]=63&P|128)}return z},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,z){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ee=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let P=0;P<Y.length;P+=3){const B=Y[P],fe=P+1<Y.length,Ve=fe?Y[P+1]:0,ht=P+2<Y.length,Qe=ht?Y[P+2]:0;let Dn=(15&Ve)<<2|Qe>>6,Ni=63&Qe;ht||(Ni=64,fe||(Dn=64)),G.push(ee[B>>2],ee[(3&B)<<4|Ve>>4],ee[Dn],ee[Ni])}return G.join("")},encodeString(Y,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(Y):this.encodeByteArray(le(Y),z)},decodeString(Y,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(Y):function(Y){const z=[];let ee=0,G=0;for(;ee<Y.length;){const P=Y[ee++];if(P<128)z[G++]=String.fromCharCode(P);else if(P>191&&P<224){const B=Y[ee++];z[G++]=String.fromCharCode((31&P)<<6|63&B)}else if(P>239&&P<365){const ht=((7&P)<<18|(63&Y[ee++])<<12|(63&Y[ee++])<<6|63&Y[ee++])-65536;z[G++]=String.fromCharCode(55296+(ht>>10)),z[G++]=String.fromCharCode(56320+(1023&ht))}else{const B=Y[ee++],fe=Y[ee++];z[G++]=String.fromCharCode((15&P)<<12|(63&B)<<6|63&fe)}}return z.join("")}(this.decodeStringToByteArray(Y,z))},decodeStringToByteArray(Y,z){this.init_();const ee=z?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let P=0;P<Y.length;){const B=ee[Y.charAt(P++)],Ve=P<Y.length?ee[Y.charAt(P)]:0;++P;const Qe=P<Y.length?ee[Y.charAt(P)]:64;++P;const vt=P<Y.length?ee[Y.charAt(P)]:64;if(++P,null==B||null==Ve||null==Qe||null==vt)throw Error();G.push(B<<2|Ve>>4),64!==Qe&&(G.push(Ve<<4&240|Qe>>2),64!==vt&&G.push(Qe<<6&192|vt))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},pe=function(Y){return function(Y){const z=le(Y);return ae.encodeByteArray(z,!0)}(Y).replace(/\./g,"")},we=function(Y){try{return ae.decodeString(Y,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function Z(Y,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return z}for(const ee in z)!z.hasOwnProperty(ee)||!ie(ee)||(Y[ee]=Z(Y[ee],z[ee]));return Y}function ie(Y){return"__proto__"!==Y}const be=()=>{try{return function ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=Y&&we(Y[1]);return z&&JSON.parse(z)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},Fe=()=>{var Y;return null===(Y=be())||void 0===Y?void 0:Y.config},Le=Y=>{var z;return null===(z=be())||void 0===z?void 0:z[`_${Y}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,ee)=>{this.resolve=z,this.reject=ee})}wrapCallback(z){return(ee,G)=>{ee?this.reject(ee):this.resolve(G),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(ee):z(ee,G))}}}function ye(Y,z){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=z||"demo-project",P=Y.iat||0,B=Y.sub||Y.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const fe=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:P,exp:P+3600,auth_time:P,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(fe)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function ne(){var Y;const z=null===(Y=be())||void 0===Y?void 0:Y.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function re(){return"object"==typeof self&&self.self===self}function H(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function W(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function X(){const Y=Ge();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Xe(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function St(){try{return"object"==typeof indexedDB}catch{return!1}}function Ht(){return new Promise((Y,z)=>{try{let ee=!0;const G="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(G);P.onsuccess=()=>{P.result.close(),ee||self.indexedDB.deleteDatabase(G),Y(!0)},P.onupgradeneeded=()=>{ee=!1},P.onerror=()=>{var B;z((null===(B=P.error)||void 0===B?void 0:B.message)||"")}}catch(ee){z(ee)}})}function It(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ft extends Error{constructor(z,ee,G){super(ee),this.code=z,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xt.prototype.create)}}class Xt{constructor(z,ee,G){this.service=z,this.serviceName=ee,this.errors=G}create(z,...ee){const G=ee[0]||{},P=`${this.service}/${z}`,B=this.errors[z],fe=B?function Sn(Y,z){return Y.replace(At,(ee,G)=>{const P=z[G];return null!=P?String(P):`<${G}?>`})}(B,G):"Error";return new ft(P,`${this.serviceName}: ${fe} (${P}).`,G)}}const At=/\{\$([^}]+)}/g;function Yr(Y,z){return Object.prototype.hasOwnProperty.call(Y,z)}function Nr(Y){for(const z in Y)if(Object.prototype.hasOwnProperty.call(Y,z))return!1;return!0}function bn(Y,z){if(Y===z)return!0;const ee=Object.keys(Y),G=Object.keys(z);for(const P of ee){if(!G.includes(P))return!1;const B=Y[P],fe=z[P];if(Mi(B)&&Mi(fe)){if(!bn(B,fe))return!1}else if(B!==fe)return!1}for(const P of G)if(!ee.includes(P))return!1;return!0}function Mi(Y){return null!==Y&&"object"==typeof Y}function Oi(Y){const z=[];for(const[ee,G]of Object.entries(Y))Array.isArray(G)?G.forEach(P=>{z.push(encodeURIComponent(ee)+"="+encodeURIComponent(P))}):z.push(encodeURIComponent(ee)+"="+encodeURIComponent(G));return z.length?"&"+z.join("&"):""}function zi(Y){const z={};return Y.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[P,B]=G.split("=");z[decodeURIComponent(P)]=decodeURIComponent(B)}}),z}function ci(Y){const z=Y.indexOf("?");if(!z)return"";const ee=Y.indexOf("#",z);return Y.substring(z,ee>0?ee:void 0)}function vr(Y,z){const ee=new Ut(Y,z);return ee.subscribe.bind(ee)}class Ut{constructor(z,ee){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(()=>{z(this)}).catch(G=>{this.error(G)})}next(z){this.forEachObserver(ee=>{ee.next(z)})}error(z){this.forEachObserver(ee=>{ee.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,ee,G){let P;if(void 0===z&&void 0===ee&&void 0===G)throw new Error("Missing Observer.");P=function Lt(Y,z){if("object"!=typeof Y||null===Y)return!1;for(const ee of z)if(ee in Y&&"function"==typeof Y[ee])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:ee,complete:G},void 0===P.next&&(P.next=wn),void 0===P.error&&(P.error=wn),void 0===P.complete&&(P.complete=wn);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),B}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let ee=0;ee<this.observers.length;ee++)this.sendOne(ee,z)}sendOne(z,ee){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{ee(this.observers[z])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}const nr=1e3,ei=2,Ze=144e5,Ne=.5;function it(Y,z=nr,ee=ei){const G=z*Math.pow(ee,Y),P=Math.round(Ne*G*(Math.random()-.5)*2);return Math.min(Ze,G+P)}function sn(Y){return Y&&Y._delegate?Y._delegate:Y}},283:(pt,Me,L)=>{"use strict";var s=L(4650);let j=null;function k(){return j}class he{}const ae=new s.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function pe(){return(0,s.LFG)(q)}()},providedIn:"platform"}),n})();const we=new s.OlP("Location Initialized");let q=(()=>{class n extends Ee{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){Z()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){Z()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ie(){return new q((0,s.LFG)(ae))}()},providedIn:"platform"}),n})();function Z(){return!!window.history.pushState}function ze(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Re(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let st=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Oe)},providedIn:"root"}),n})();const be=new s.OlP("appBaseHref");let Oe=(()=>{class n extends st{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ze(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Je(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+Je(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+Je(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ee),s.LFG(be,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xe=(()=>{class n extends st{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ze(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+Je(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+Je(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ee),s.LFG(be,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Re(ye(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Je(i))}normalize(e){return n.stripTrailingSlash(function Te(n,t){return n&&new RegExp(`^${n}([/;?#]|$)`).test(t)?t.substring(n.length):t}(this._basePath,ye(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Je(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Je,n.joinWithSlash=ze,n.stripTrailingSlash=Re,n.\u0275fac=function(e){return new(e||n)(s.LFG(st))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Le(){return new Fe((0,s.LFG)(st))}()},providedIn:"root"}),n})();function ye(n){return n.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Percent=1]="Percent",ne[ne.Currency=2]="Currency",ne[ne.Scientific=3]="Scientific",ne))(),H=(()=>((H=H||{})[H.Format=0]="Format",H[H.Standalone=1]="Standalone",H))(),W=(()=>((W=W||{})[W.Narrow=0]="Narrow",W[W.Abbreviated=1]="Abbreviated",W[W.Wide=2]="Wide",W[W.Short=3]="Short",W))(),J=(()=>((J=J||{})[J.Short=0]="Short",J[J.Medium=1]="Medium",J[J.Long=2]="Long",J[J.Full=3]="Full",J))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function Xt(n,t){return bn((0,s.cg1)(n)[s.wAp.DateFormat],t)}function Sn(n,t){return bn((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function At(n,t){return bn((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function dt(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===X.CurrencyDecimal)return e[s.wAp.NumberSymbols][X.Decimal];if(t===X.CurrencyGroup)return e[s.wAp.NumberSymbols][X.Group]}return i}function Yr(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Mi(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const ci=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ui={},vr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ut=(()=>((Ut=Ut||{})[Ut.Short=0]="Short",Ut[Ut.ShortGMT=1]="ShortGMT",Ut[Ut.Long=2]="Long",Ut[Ut.Extended=3]="Extended",Ut))(),Ct=(()=>((Ct=Ct||{})[Ct.FullYear=0]="FullYear",Ct[Ct.Month=1]="Month",Ct[Ct.Date=2]="Date",Ct[Ct.Hours=3]="Hours",Ct[Ct.Minutes=4]="Minutes",Ct[Ct.Seconds=5]="Seconds",Ct[Ct.FractionalSeconds=6]="FractionalSeconds",Ct[Ct.Day=7]="Day",Ct))(),Lt=(()=>((Lt=Lt||{})[Lt.DayPeriods=0]="DayPeriods",Lt[Lt.Days=1]="Days",Lt[Lt.Months=2]="Months",Lt[Lt.Eras=3]="Eras",Lt))();function wn(n,t,e,i){let r=function B(n){if(Ve(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return yi(r,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(ci))return function fe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,g=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,h,g,y),t}(i)}const t=new Date(n);if(!Ve(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Hn(e,t)||t;let h,u=[];for(;t;){if(h=vr.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const w=u.pop();if(!w)break;t=w}}let g=r.getTimezoneOffset();i&&(g=ee(i,g),r=function P(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function G(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ee(t,r)-r))}(r,i,!0));let y="";return u.forEach(w=>{const S=function z(n){if(Y[n])return Y[n];let t;switch(n){case"G":case"GG":case"GGG":t=en(Lt.Eras,W.Abbreviated);break;case"GGGG":t=en(Lt.Eras,W.Wide);break;case"GGGGG":t=en(Lt.Eras,W.Narrow);break;case"y":t=Yt(Ct.FullYear,1,0,!1,!0);break;case"yy":t=Yt(Ct.FullYear,2,0,!0,!0);break;case"yyy":t=Yt(Ct.FullYear,3,0,!1,!0);break;case"yyyy":t=Yt(Ct.FullYear,4,0,!1,!0);break;case"Y":t=sn(1);break;case"YY":t=sn(2,!0);break;case"YYY":t=sn(3);break;case"YYYY":t=sn(4);break;case"M":case"L":t=Yt(Ct.Month,1,1);break;case"MM":case"LL":t=Yt(Ct.Month,2,1);break;case"MMM":t=en(Lt.Months,W.Abbreviated);break;case"MMMM":t=en(Lt.Months,W.Wide);break;case"MMMMM":t=en(Lt.Months,W.Narrow);break;case"LLL":t=en(Lt.Months,W.Abbreviated,H.Standalone);break;case"LLLL":t=en(Lt.Months,W.Wide,H.Standalone);break;case"LLLLL":t=en(Lt.Months,W.Narrow,H.Standalone);break;case"w":t=Rt(1);break;case"ww":t=Rt(2);break;case"W":t=Rt(1,!0);break;case"d":t=Yt(Ct.Date,1);break;case"dd":t=Yt(Ct.Date,2);break;case"c":case"cc":t=Yt(Ct.Day,1);break;case"ccc":t=en(Lt.Days,W.Abbreviated,H.Standalone);break;case"cccc":t=en(Lt.Days,W.Wide,H.Standalone);break;case"ccccc":t=en(Lt.Days,W.Narrow,H.Standalone);break;case"cccccc":t=en(Lt.Days,W.Short,H.Standalone);break;case"E":case"EE":case"EEE":t=en(Lt.Days,W.Abbreviated);break;case"EEEE":t=en(Lt.Days,W.Wide);break;case"EEEEE":t=en(Lt.Days,W.Narrow);break;case"EEEEEE":t=en(Lt.Days,W.Short);break;case"a":case"aa":case"aaa":t=en(Lt.DayPeriods,W.Abbreviated);break;case"aaaa":t=en(Lt.DayPeriods,W.Wide);break;case"aaaaa":t=en(Lt.DayPeriods,W.Narrow);break;case"b":case"bb":case"bbb":t=en(Lt.DayPeriods,W.Abbreviated,H.Standalone,!0);break;case"bbbb":t=en(Lt.DayPeriods,W.Wide,H.Standalone,!0);break;case"bbbbb":t=en(Lt.DayPeriods,W.Narrow,H.Standalone,!0);break;case"B":case"BB":case"BBB":t=en(Lt.DayPeriods,W.Abbreviated,H.Format,!0);break;case"BBBB":t=en(Lt.DayPeriods,W.Wide,H.Format,!0);break;case"BBBBB":t=en(Lt.DayPeriods,W.Narrow,H.Format,!0);break;case"h":t=Yt(Ct.Hours,1,-12);break;case"hh":t=Yt(Ct.Hours,2,-12);break;case"H":t=Yt(Ct.Hours,1);break;case"HH":t=Yt(Ct.Hours,2);break;case"m":t=Yt(Ct.Minutes,1);break;case"mm":t=Yt(Ct.Minutes,2);break;case"s":t=Yt(Ct.Seconds,1);break;case"ss":t=Yt(Ct.Seconds,2);break;case"S":t=Yt(Ct.FractionalSeconds,1);break;case"SS":t=Yt(Ct.FractionalSeconds,2);break;case"SSS":t=Yt(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ei(Ut.Short);break;case"ZZZZZ":t=ei(Ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ei(Ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ei(Ut.Long);break;default:return null}return Y[n]=t,t}(w);y+=S?S(r,e,g):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function yi(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Hn(n,t){const e=function De(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(ui[e]=ui[e]||{},ui[e][t])return ui[e][t];let i="";switch(t){case"shortDate":i=Xt(n,J.Short);break;case"mediumDate":i=Xt(n,J.Medium);break;case"longDate":i=Xt(n,J.Long);break;case"fullDate":i=Xt(n,J.Full);break;case"shortTime":i=Sn(n,J.Short);break;case"mediumTime":i=Sn(n,J.Medium);break;case"longTime":i=Sn(n,J.Long);break;case"fullTime":i=Sn(n,J.Full);break;case"short":const r=Hn(n,"shortTime"),o=Hn(n,"shortDate");i=Pr(At(n,J.Short),[r,o]);break;case"medium":const u=Hn(n,"mediumTime"),h=Hn(n,"mediumDate");i=Pr(At(n,J.Medium),[u,h]);break;case"long":const g=Hn(n,"longTime"),y=Hn(n,"longDate");i=Pr(At(n,J.Long),[g,y]);break;case"full":const w=Hn(n,"fullTime"),S=Hn(n,"fullDate");i=Pr(At(n,J.Full),[w,S])}return i&&(ui[e][t]=i),i}function Pr(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function vi(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),o+u}function Yt(n,t,e=0,i=!1,r=!1){return function(o,u){let h=function Qr(n,t){switch(n){case Ct.FullYear:return t.getFullYear();case Ct.Month:return t.getMonth();case Ct.Date:return t.getDate();case Ct.Hours:return t.getHours();case Ct.Minutes:return t.getMinutes();case Ct.Seconds:return t.getSeconds();case Ct.FractionalSeconds:return t.getMilliseconds();case Ct.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||h>-e)&&(h+=e),n===Ct.Hours)0===h&&-12===e&&(h=12);else if(n===Ct.FractionalSeconds)return function Jr(n,t){return vi(n,3).substring(0,t)}(h,t);const g=dt(u,X.MinusSign);return vi(h,t,g,i,r)}}function en(n,t,e=H.Format,i=!1){return function(r,o){return function nr(n,t,e,i,r,o){switch(e){case Lt.Months:return function Ht(n,t,e){const i=(0,s.cg1)(n),o=bn([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return bn(o,e)}(t,r,i)[n.getMonth()];case Lt.Days:return function St(n,t,e){const i=(0,s.cg1)(n),o=bn([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return bn(o,e)}(t,r,i)[n.getDay()];case Lt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const y=function li(n){const t=(0,s.cg1)(n);return Yr(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Mi(i):[Mi(i[0]),Mi(i[1])])}(t),w=function Nr(n,t,e){const i=(0,s.cg1)(n);Yr(i);const o=bn([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return bn(o,e)||[]}(t,r,i),S=y.findIndex(M=>{if(Array.isArray(M)){const[R,U]=M,K=u>=R.hours&&h>=R.minutes,te=u<U.hours||u===U.hours&&h<U.minutes;if(R.hours<U.hours){if(K&&te)return!0}else if(K||te)return!0}else if(M.hours===u&&M.minutes===h)return!0;return!1});if(-1!==S)return w[S]}return function Xe(n,t,e){const i=(0,s.cg1)(n),o=bn([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return bn(o,e)}(t,r,i)[u<12?0:1];case Lt.Eras:return function It(n,t){return bn((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function ei(n){return function(t,e,i){const r=-1*i,o=dt(e,X.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ut.Short:return(r>=0?"+":"")+vi(u,2,o)+vi(Math.abs(r%60),2,o);case Ut.ShortGMT:return"GMT"+(r>=0?"+":"")+vi(u,1,o);case Ut.Long:return"GMT"+(r>=0?"+":"")+vi(u,2,o)+":"+vi(Math.abs(r%60),2,o);case Ut.Extended:return 0===i?"Z":(r>=0?"+":"")+vi(u,2,o)+":"+vi(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ze=0,Ne=4;function Mt(n){return yi(n.getFullYear(),n.getMonth(),n.getDate()+(Ne-n.getDay()))}function Rt(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+o)/7)}else{const o=Mt(e),u=function it(n){const t=yi(n,Ze,1).getDay();return yi(n,0,1+(t<=Ne?Ne:Ne+7)-t)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return vi(r,n,dt(i,X.MinusSign))}}function sn(n,t=!1){return function(e,i){return vi(Mt(e).getFullYear(),n,dt(i,X.MinusSign),t)}}const Y={};function ee(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Ve(n){return n instanceof Date&&!isNaN(n.valueOf())}const ht=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Qe=22,zt=".",vt="0",Dn=";",Ni=",",Gt="#";function Go(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function rr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const kr=/\s+/,ot=[];let Tt=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=ot,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(kr):ot}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(kr):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(kr).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class bi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fn=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new bi(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),xn(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{xn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function xn(n,t){n.context.$implicit=t.item}let tn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class nn{constructor(){this.$implicit=null,this.ngIf=null}}function xa(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let Cn=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),u=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),ni=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function di(n,t){return new s.vHH(2100,!1)}class Pc{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Pl{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const kl=new Pl,Ns=new Pc;let Rr=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return kl;if((0,s.F4k)(e))return Ns;throw di()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Ma=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),kc=new s.OlP("DATE_PIPE_DEFAULT_OPTIONS");let wi=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return wn(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw di()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Ma,24),s.Y36(kc,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Hh=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function $h(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function Pi(n,t,e){return function Uo(n,t,e,i,r,o,u=!1){let h="",g=!1;if(isFinite(n)){let y=function Nc(n){let i,r,o,u,h,t=Math.abs(n)+"",e=0;for((r=t.indexOf(zt))>-1&&(t=t.replace(zt,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===vt;o++);if(o===(h=t.length))i=[0],r=1;else{for(h--;t.charAt(h)===vt;)h--;for(r-=o,i=[],u=0;o<=h;o++,u++)i[u]=Number(t.charAt(o))}return r>Qe&&(i=i.splice(0,Qe-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);u&&(y=function Ku(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(y));let w=t.minInt,S=t.minFrac,M=t.maxFrac;if(o){const Pe=o.match(ht);if(null===Pe)throw new Error(`${o} is not a valid digit info`);const je=Pe[1],He=Pe[3],We=Pe[5];null!=je&&(w=Go(je)),null!=He&&(S=Go(He)),null!=We?M=Go(We):null!=He&&S>M&&(M=S)}!function Ml(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let u=o+n.integerLen,h=i[u];if(u>0){i.splice(Math.max(n.integerLen,u));for(let S=u;S<i.length;S++)i[S]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,u=o+1),i[0]=0;for(let S=1;S<u;S++)i[S]=0}if(h>=5)if(u-1<0){for(let S=0;S>u;S--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[u-1]++;for(;r<Math.max(0,o);r++)i.push(0);let g=0!==o;const y=t+n.integerLen,w=i.reduceRight(function(S,M,R,U){return U[R]=(M+=S)<10?M:M-10,g&&(0===U[R]&&R>=y?U.pop():g=!1),M>=10?1:0},0);w&&(i.unshift(w),n.integerLen++)}(y,S,M);let R=y.digits,U=y.integerLen;const K=y.exponent;let te=[];for(g=R.every(Pe=>!Pe);U<w;U++)R.unshift(0);for(;U<0;U++)R.unshift(0);U>0?te=R.splice(U,R.length):(te=R,R=[0]);const _e=[];for(R.length>=t.lgSize&&_e.unshift(R.splice(-t.lgSize,R.length).join(""));R.length>t.gSize;)_e.unshift(R.splice(-t.gSize,R.length).join(""));R.length&&_e.unshift(R.join("")),h=_e.join(dt(e,i)),te.length&&(h+=dt(e,r)+te.join("")),K&&(h+=dt(e,X.Exponential)+"+"+K)}else h=dt(e,X.Infinity);return h=n<0&&!g?t.negPre+h+t.negSuf:t.posPre+h+t.posSuf,h}(n,function Ho(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(Dn),r=i[0],o=i[1],u=-1!==r.indexOf(zt)?r.split(zt):[r.substring(0,r.lastIndexOf(vt)+1),r.substring(r.lastIndexOf(vt)+1)],h=u[0],g=u[1]||"";e.posPre=h.substring(0,h.indexOf(Gt));for(let w=0;w<g.length;w++){const S=g.charAt(w);S===vt?e.minFrac=e.maxFrac=w+1:S===Gt?e.maxFrac=w+1:e.posSuf+=S}const y=h.split(Ni);if(e.gSize=y[1]?y[1].length:0,e.lgSize=y[2]||y[1]?(y[2]||y[1]).length:0,o){const w=r.length-e.posPre.length-e.posSuf.length,S=o.indexOf(Gt);e.negPre=o.substring(0,S).replace(/'/g,""),e.negSuf=o.slice(S+w).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function tr(n,t){return(0,s.cg1)(n)[s.wAp.NumberFormats][t]}(t,ne.Decimal),dt(t,X.MinusSign)),t,X.Group,X.Decimal,e)}(function bs(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw di()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16))},n.\u0275pipe=s.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let Rs=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw di();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),Mn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Fl="server";function Xu(n){return n===Fl}let qo=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Vl((0,s.LFG)(ae),window)}),n})();class Vl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Zo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=vo(this.window.history)||vo(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ul{}class ta extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Bs extends ta{static makeCurrent(){!function le(n){j||(j=n)}(new Bs)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function cd(){return ws=ws||document.querySelector("base"),ws?ws.getAttribute("href"):null}();return null==e?null:function na(n){zl=zl||document.createElement("a"),zl.setAttribute("href",n);const t=zl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return rr(document.cookie,t)}}let zl,ws=null;const Ba=new s.OlP("TRANSITION_ID"),uy=[{provide:s.ip1,useFactory:function Er(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=k(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Ba,ae,s.zs3],multi:!0}];let Pg=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ha=new s.OlP("EventManagerPlugins");let ro=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ha),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class tp{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=k().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Yn=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Eo=(()=>{class n extends Yn{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Co),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Co))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Co(n){k().remove(n)}const Ga={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ts=/%COMP%/g;function Is(n,t){return t.flat(100).map(e=>e.replace(ts,n))}function ra(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ja=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new so(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new oo(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case s.ifc.ShadowDom:return new sa(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Is(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ro),s.LFG(Eo),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class so{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ga[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(dd(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(dd(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Ga[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ga[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ra(i)):this.eventManager.addEventListener(t,e,ra(i))}}function dd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oo extends so{constructor(t,e,i,r){super(t),this.component=i;const o=Is(r+"-"+i.id,i.styles);e.addStyles(o),this.contentAttr=function To(n){return"_ngcontent-%COMP%".replace(ts,n)}(r+"-"+i.id),this.hostAttr=function ia(n){return"_nghost-%COMP%".replace(ts,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class sa extends so{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Is(r.id,r.styles);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Wc=(()=>{class n extends tp{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const za=["alt","control","meta","shift"],hd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pd=(()=>{class n extends tp{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),za.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),u+=y+".")}),u+=o,0!=i.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=u,g}static matchEventFullKeyCode(e,i){let r=hd[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),za.forEach(u=>{u!==r&&(0,Wl[u])(e)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ao=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:"browser"},{provide:s.g9A,useValue:function is(){Bs.makeCurrent()},multi:!0},{provide:ae,useFactory:function Zc(){return(0,s.RDi)(document),document},deps:[]}]),ip=new s.OlP(""),Yc=[{provide:s.rWj,useClass:class Ua{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(g){u=u||g,o--,0==o&&i(u)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?k().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],aa=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function fd(){return new s.qLn},deps:[]},{provide:Ha,useClass:Wc,multi:!0,deps:[ae,s.R0b,s.Lbi]},{provide:Ha,useClass:pd,multi:!0,deps:[ae]},{provide:ja,useClass:ja,deps:[ro,Eo,s.AFp]},{provide:s.FYo,useExisting:ja},{provide:Yn,useExisting:Eo},{provide:Eo,useClass:Eo,deps:[ae]},{provide:ro,useClass:ro,deps:[Ha,s.R0b]},{provide:Ul,useClass:Pg,deps:[]},[]];let rp=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Ba,useExisting:s.AFp},uy]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ip,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...aa,...Yc],imports:[Mn,s.hGG]}),n})(),So=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function qa(){return new So((0,s.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let wd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Id),i},providedIn:"root"}),n})(),Id=(()=>{class n extends wd{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function kg(n){return new Id(n.get(ae))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var In=L(8996),$n=L(3269);function gt(...n){const t=(0,$n.yG)(n);return(0,In.D)(n,t)}var vn=L(7579);class si extends vn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const ca=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var jn=L(9751);const{isArray:dp}=Array,{getPrototypeOf:hp,prototype:Ka,keys:Yl}=Object;function Kl(n){if(1===n.length){const t=n[0];if(dp(t))return{args:t,keys:null};if(function ua(n){return n&&"object"==typeof n&&hp(n)===Ka}(t)){const e=Yl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var T=L(4671),D=L(4004);const{isArray:O}=Array;function se(n){return(0,D.U)(t=>function $(n,t){return O(t)?n(...t):n(t)}(n,t))}function de(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Se=L(5403),ct=L(9672);function mt(...n){const t=(0,$n.yG)(n),e=(0,$n.jO)(n),{args:i,keys:r}=Kl(n);if(0===i.length)return(0,In.D)([],t);const o=new jn.y(function bt(n,t,e=T.y){return i=>{Zt(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let g=0;g<r;g++)Zt(t,()=>{const y=(0,In.D)(n[g],t);let w=!1;y.subscribe((0,Se.x)(i,S=>{o[g]=S,w||(w=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>de(r,u):T.y));return e?o.pipe(se(e)):o}function Zt(n,t,e){n?(0,ct.f)(e,n,t):t()}var Pt=L(8189);function Fn(...n){return function rs(){return(0,Pt.J)(1)}()((0,In.D)(n,(0,$n.yG)(n)))}var lr=L(8421);function Jl(n){return new jn.y(t=>{(0,lr.Xf)(n()).subscribe(t)})}var Ja=L(9635),Kn=L(576);function Dr(n,t){const e=(0,Kn.m)(n)?n:()=>n,i=r=>r.error(e());return new jn.y(t?r=>t.schedule(i,0,r):i)}var Sr=L(515),pp=L(727),Ki=L(4482);function Ql(){return(0,Ki.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Se.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class py extends jn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Ki.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pp.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Se.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pp.w0.EMPTY)}return t}refCount(){return Ql()(this)}}function hi(n,t){return(0,Ki.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Se.x)(i,g=>{r?.unsubscribe();let y=0;const w=o++;(0,lr.Xf)(n(g,w)).subscribe(r=(0,Se.x)(i,S=>i.next(t?t(g,S,w,y++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Li(n){return n<=0?()=>Sr.E:(0,Ki.e)((t,e)=>{let i=0;t.subscribe((0,Se.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Qa(...n){const t=(0,$n.yG)(n);return(0,Ki.e)((e,i)=>{(t?Fn(n,e,t):Fn(n,e)).subscribe(i)})}function Ln(n,t){return(0,Ki.e)((e,i)=>{let r=0;e.subscribe((0,Se.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var Vi=L(5577);function fp(n){return(0,Ki.e)((t,e)=>{let i=!1;t.subscribe((0,Se.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function fy(n=gp){return(0,Ki.e)((t,e)=>{let i=!1;t.subscribe((0,Se.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function gp(){return new ca}function da(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ln((r,o)=>n(r,o,i)):T.y,Li(1),e?fp(t):fy(()=>new ca))}function Xa(n,t){return(0,Kn.m)(t)?(0,Vi.z)(n,t,1):(0,Vi.z)(n,1)}var cr=L(8505);function el(n){return(0,Ki.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Se.x)(e,void 0,void 0,u=>{o=(0,lr.Xf)(n(u,el(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function eu(n,t){return(0,Ki.e)(function Rg(n,t,e,i,r){return(o,u)=>{let h=e,g=t,y=0;o.subscribe((0,Se.x)(u,w=>{const S=y++;g=h?n(g,w,S):(h=!0,w),i&&u.next(g)},r&&(()=>{h&&u.next(g),u.complete()})))}}(n,t,arguments.length>=2,!0))}function Ed(n){return n<=0?()=>Sr.E:(0,Ki.e)((t,e)=>{let i=[];t.subscribe((0,Se.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Cd(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ln((r,o)=>n(r,o,i)):T.y,Ed(1),e?fp(t):fy(()=>new ca))}function tu(n){return(0,Ki.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const $t="primary",nu=Symbol("RouteTitle");class gy{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xl(n){return new gy(n)}function Td(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Es(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Lg(n[r],t[r]))return!1;return!0}function Lg(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function yp(n){return Array.prototype.concat.apply([],n)}function vp(n){return n.length>0?n[n.length-1]:null}function ur(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function oi(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,In.D)(Promise.resolve(n)):gt(n)}const tl=!1,Bg={exact:function bp(n,t,e){if(!F(n.segments,t.segments)||!b(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!bp(n.children[i],t.children[i],e))return!1;return!0},subset:Ug},Dd={exact:function iu(n,t){return Es(n,t)},subset:function wp(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Lg(n[e],t[e]))},ignored:()=>!0};function dr(n,t,e){return Bg[e.paths](n.root,t.root,e.matrixParams)&&Dd[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ug(n,t,e){return Hg(n,t,t.segments,e)}function Hg(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!F(r,e)||t.hasChildren()||!b(r,e,i))}if(n.segments.length===e.length){if(!F(n.segments,e)||!b(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Ug(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(F(n.segments,r)&&b(n.segments,r,i)&&n.children[$t])&&Hg(n.children[$t],t,o,i)}}function b(n,t,e){return t.every((i,r)=>Dd[e](n[r].parameters,i.parameters))}class m{constructor(t=new _([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xl(this.queryParams)),this._queryParamMap}toString(){return Et.serialize(this)}}class _{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ur(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kt(this)}}class E{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Xl(this.parameters)),this._parameterMap}toString(){return Ip(this)}}function F(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new at},providedIn:"root"}),n})();class at{parse(t){const e=new _y(t);return new m(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Tn(t.root,!0)}`,i=function Gg(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${os(e)}=${os(r)}`).join("&"):`${os(e)}=${os(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function ru(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Et=new at;function Kt(n){return n.segments.map(t=>Ip(t)).join("/")}function Tn(n,t){if(!n.hasChildren())return Kt(n);if(t){const e=n.children[$t]?Tn(n.children[$t],!1):"",i=[];return ur(n.children,(r,o)=>{o!==$t&&i.push(`${o}:${Tn(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function ue(n,t){let e=[];return ur(n.children,(i,r)=>{r===$t&&(e=e.concat(t(i,r)))}),ur(n.children,(i,r)=>{r!==$t&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===$t?[Tn(n.children[$t],!1)]:[`${r}:${Tn(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${Kt(n)}/${e[0]}`:`${Kt(n)}/(${e.join("//")})`}}function ss(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function os(n){return ss(n).replace(/%3B/gi,";")}function xo(n){return ss(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ha(n){return decodeURIComponent(n)}function Sd(n){return ha(n.replace(/\+/g,"%20"))}function Ip(n){return`${xo(n.path)}${function su(n){return Object.keys(n).map(t=>`;${xo(t)}=${xo(n[t])}`).join("")}(n.parameters)}`}const $g=/^[^\/()?;=#]+/;function ec(n){const t=n.match($g);return t?t[0]:""}const jg=/^[^=?&#]+/,Ep=/^[^&#]+/;class _y{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _([],{}):new _([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[$t]=new _(t,e)),i}parseSegment(){const t=ec(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,tl);return this.capture(t),new E(ha(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ec(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ec(this.remaining);r&&(i=r,this.capture(i))}t[ha(e)]=ha(i)}parseQueryParam(t){const e=function my(n){const t=n.match(jg);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function zg(n){const t=n.match(Ep);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Sd(e),o=Sd(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ec(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,tl);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$t);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[$t]:new _([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,tl)}}function Wg(n){return n.segments.length>0?new _([],{[$t]:n}):n}function xd(n){const t={};for(const i of Object.keys(n.children)){const o=xd(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function MC(n){if(1===n.numberOfChildren&&n.children[$t]){const t=n.children[$t];return new _(n.segments.concat(t.segments),t.children)}return n}(new _(n.segments,t))}function ou(n){return n instanceof m}const qg=!1;function tw(n,t,e,i,r){if(0===e.length)return nl(t.root,t.root,t.root,i,r);const o=function vy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yy(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return ur(o.outlets,(g,y)=>{h[y]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new yy(e,t,i)}(e);return o.toRoot()?nl(t.root,t.root,new _([],{}),i,r):function u(g){const y=function iw(n,t,e,i){if(n.isAbsolute)return new lu(t.root,!0,0);if(-1===i)return new lu(e,e===t.root,0);return function Tp(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,qg&&"Invalid number of '../'");r=i.segments.length}return new lu(i,!1,r-o)}(e,i+(Cp(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,g),w=y.processChildren?cu(y.segmentGroup,y.index,o.commands):Kg(y.segmentGroup,y.index,o.commands);return nl(t.root,y.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function Cp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zg(n){return"object"==typeof n&&null!=n&&n.outlets}function nl(n,t,e,i,r){let u,o={};i&&ur(i,(g,y)=>{o[y]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),u=n===t?e:nw(n,t,e);const h=Wg(xd(u));return new m(h,o,r)}function nw(n,t,e){const i={};return ur(n.children,(r,o)=>{i[o]=r===t?e:nw(r,t,e)}),new _(n.segments,i)}class yy{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Cp(i[0]))throw new s.vHH(4003,qg&&"Root segment cannot have matrix parameters");const r=i.find(Zg);if(r&&r!==vp(i))throw new s.vHH(4004,qg&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lu{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Kg(n,t,e){if(n||(n=new _([],{})),0===n.segments.length&&n.hasChildren())return cu(n,t,e);const i=function wy(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(Zg(h))break;const g=`${h}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!Iy(g,y,u))return o;i+=2}else{if(!Iy(g,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new _(n.segments.slice(0,i.pathIndex),{});return o.children[$t]=new _(n.segments.slice(i.pathIndex),n.children),cu(o,0,r)}return i.match&&0===r.length?new _(n.segments,{}):i.match&&!n.hasChildren()?Dp(n,t,e):i.match?cu(n,0,r):Dp(n,t,e)}function cu(n,t,e){if(0===e.length)return new _(n.segments,{});{const i=function Yg(n){return Zg(n[0])?n[0].outlets:{[$t]:n}}(e),r={};return ur(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=Kg(n.children[u],t,o))}),ur(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new _(n.segments,r)}}function Dp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Zg(o)){const g=Sp(o.outlets);return new _(i,g)}if(0===r&&Cp(e[0])){i.push(new E(n.segments[t].path,rw(e[0]))),r++;continue}const u=Zg(o)?o.outlets[$t]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&Cp(h)?(i.push(new E(u,rw(h))),r+=2):(i.push(new E(u,{})),r++)}return new _(i,{})}function Sp(n){const t={};return ur(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Dp(new _([],{}),0,e))}),t}function rw(n){const t={};return ur(n,(e,i)=>t[i]=`${e}`),t}function Iy(n,t,e){return n==e.path&&Es(t,e.parameters)}const xp="imperative";class pa{constructor(t,e){this.id=t,this.url=e}}class Ey extends pa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tc extends pa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ap extends pa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mp extends pa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Jg extends pa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uu extends pa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NC extends pa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PC extends pa{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class eO extends pa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kC extends pa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cy{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RC{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sw{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qg{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ty{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ow{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dy{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let FC=(()=>{class n{createUrlTree(e,i,r,o,u,h){return tw(e||i.root,r,o,u,h)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),LC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return FC.\u0275fac(t)},providedIn:"root"}),n})();class lw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Sy(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Sy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ao(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ao(t,this._root).map(e=>e.value)}}function Sy(n,t){if(n===t.value)return t;for(const e of t.children){const i=Sy(n,e);if(i)return i}return null}function Ao(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ao(n,e);if(i.length)return i.unshift(t),i}return[]}class Cs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Md(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class cw extends lw{constructor(t,e){super(t),this.snapshot=e,xy(this,t)}toString(){return this.snapshot.toString()}}function uw(n,t){const e=function VC(n,t){const u=new Xg([],{},{},"",{},$t,t,null,n.root,-1,{});return new pw("",new Cs(u,[]))}(n,t),i=new si([new E("",{})]),r=new si({}),o=new si({}),u=new si({}),h=new si(""),g=new fa(i,r,u,h,o,$t,t,e.root);return g.snapshot=e.root,new cw(new Cs(g,[]),e)}class fa{constructor(t,e,i,r,o,u,h,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,D.U)(y=>y[nu]))??gt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,D.U)(t=>Xl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,D.U)(t=>Xl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dw(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function hw(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Xg{get title(){return this.data?.[nu]}constructor(t,e,i,r,o,u,h,g,y,w,S){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=g,this._urlSegment=y,this._lastPathIndex=w,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pw extends lw{constructor(t,e){super(e),this.url=t,xy(this,e)}toString(){return fw(this._root)}}function xy(n,t){t.value._routerState=n,t.children.forEach(e=>xy(n,e))}function fw(n){const t=n.children.length>0?` { ${n.children.map(fw).join(", ")} } `:"";return`${n.value}${t}`}function Od(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Es(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Es(t.params,e.params)||n.params.next(e.params),function _p(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Es(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Es(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mo(n,t){const e=Es(n.params,t.params)&&function A(n,t){return F(n,t)&&n.every((e,i)=>Es(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Mo(n.parent,t.parent))}function Nd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function gw(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Nd(n,i,r);return Nd(n,i)})}(n,t,e);return new Cs(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Nd(n,h)),u}}const i=function mw(n){return new fa(new si(n.url),new si(n.params),new si(n.queryParams),new si(n.fragment),new si(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Nd(n,o));return new Cs(i,r)}}const _w="ngNavigationCancelingError";function BC(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ou(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=UC(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function UC(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[_w]=!0,i.cancellationCode=t,e&&(i.url=e),i}function em(n){return tm(n)&&ou(n.url)}function tm(n){return n&&n[_w]}class nO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nm,this.attachRef=null}}let nm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new nO,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Np=!1;let Ay=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(nm),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Np);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Np);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Np);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,Np);this._activatedRoute=e;const r=this.location,u=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new HC(e,h,r.injector);if(i&&function GC(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(u);this.activated=r.createComponent(y,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class HC{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===fa?this.route:t===nm?this.childContexts:this.parent.get(t,e)}}let My=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[Ay],encapsulation:2}),n})();function Oy(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Pp(n){const t=n.children&&n.children.map(Pp),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$t&&(e.component=My),e}function co(n){return n.outlet||$t}function vw(n,t){const e=n.filter(i=>co(i)===t);return e.push(...n.filter(i=>co(i)!==t)),e}function kp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class bw{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Od(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Md(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),ur(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Md(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Md(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Md(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new ow(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Qg(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Od(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Od(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=kp(r.snapshot),g=h?.get(s._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class qC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ky{constructor(t,e){this.component=t,this.route=e}}function Rp(n,t,e){const i=n._root;return Pd(i,t?t._root:null,e,[i.value])}function du(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function Pd(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Md(t);return n.children.forEach(u=>{(function ww(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const g=function ZC(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!F(n.url,t.url);case"pathParamsOrQueryParamsChange":return!F(n.url,t.url)||!Es(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mo(n,t)||!Es(n.queryParams,t.queryParams);default:return!Mo(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new qC(i)):(o.data=u.data,o._resolvedData=u._resolvedData),Pd(n,t,o.component?h?h.children:null:e,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new ky(h.outlet.component,u))}else u&&Fp(t,h,r),r.canActivateChecks.push(new qC(i)),Pd(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),ur(o,(u,h)=>Fp(u,e.getContext(h),r)),r}function Fp(n,t,e){const i=Md(n),r=n.value;ur(i,(o,u)=>{Fp(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new ky(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function kd(n){return"function"==typeof n}function il(n){return n instanceof ca||"EmptyError"===n?.name}const im=Symbol("INITIAL_VALUE");function nc(){return hi(n=>mt(n.map(t=>t.pipe(Li(1),Qa(im)))).pipe((0,D.U)(t=>{for(const e of t)if(!0!==e){if(e===im)return im;if(!1===e||e instanceof m)return e}return!0}),Ln(t=>t!==im),Li(1)))}function Hy(n){return(0,Ja.z)((0,cr.b)(t=>{if(ou(t))throw BC(0,t)}),(0,D.U)(t=>!0===t))}const Gy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tw(n,t,e,i,r){const o=$y(n,t,e);return o.matched?function Rd(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?gt(r.map(u=>{const h=du(u,n);return oi(function Vy(n){return n&&kd(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(nc(),Hy()):gt(!0)}(i=Oy(t,i),t,e).pipe((0,D.U)(u=>!0===u?o:{...Gy})):gt(o)}function $y(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Gy}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Td)(e,n,t);if(!r)return{...Gy};const o={};ur(r.posParams,(h,g)=>{o[g]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function Fd(n,t,e,i){if(e.length>0&&function tT(n,t,e){return e.some(i=>jy(n,t,i)&&co(i)!==$t)}(n,e,i)){const o=new _(t,function Dw(n,t,e,i){const r={};r[$t]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&co(o)!==$t){const u=new _([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[co(o)]=u}return r}(n,t,i,new _(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function Sw(n,t,e){return e.some(i=>jy(n,t,i))}(n,e,i)){const o=new _(n.segments,function eT(n,t,e,i,r){const o={};for(const u of i)if(jy(n,e,u)&&!r[co(u)]){const h=new _([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[co(u)]=h}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new _(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function jy(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function xw(n,t,e,i){return!!(co(n)===i||i!==$t&&jy(t,e,n))&&("**"===n.path||$y(t,n,e).matched)}function Ld(n,t,e){return 0===t.length&&!n.children[e]}const om=!1;class rl{constructor(t){this.segmentGroup=t||null}}class Vd{constructor(t){this.urlTree=t}}function Lp(n){return Dr(new rl(n))}function zy(n){return Dr(new Vd(n))}class Aw{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Fd(this.urlTree.root,[],[],this.config).segmentGroup,e=new _(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,$t).pipe((0,D.U)(o=>this.createUrlTree(xd(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(el(o=>{if(o instanceof Vd)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof rl?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,$t).pipe((0,D.U)(r=>this.createUrlTree(xd(r),t.queryParams,t.fragment))).pipe(el(r=>{throw r instanceof rl?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,om)}createUrlTree(t,e,i){const r=Wg(t);return new m(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,D.U)(o=>new _([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,In.D)(r).pipe(Xa(o=>{const u=i.children[o],h=vw(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,D.U)(g=>({segment:g,outlet:o})))}),eu((o,u)=>(o[u.outlet]=u.segment,o),{}),Cd())}expandSegment(t,e,i,r,o,u){return(0,In.D)(i).pipe(Xa(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(el(y=>{if(y instanceof rl)return gt(null);throw y}))),da(h=>!!h),el((h,g)=>{if(il(h))return Ld(e,r,o)?gt(new _([],{})):Lp(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return xw(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):Lp(e):Lp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?zy(o):this.lineralizeSegments(i,o).pipe((0,Vi.z)(u=>{const h=new _(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:g,remainingSegments:y,positionalParamSegments:w}=$y(e,r,o);if(!h)return Lp(e);const S=this.applyRedirectCommands(g,r.redirectTo,w);return r.redirectTo.startsWith("/")?zy(S):this.lineralizeSegments(r,S).pipe((0,Vi.z)(M=>this.expandSegment(t,e,i,M.concat(y),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=Oy(i,t),i.loadChildren?(i._loadedRoutes?gt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,D.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new _(r,{})))):gt(new _(r,{}))):Tw(e,i,r,t).pipe(hi(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Vi.z)(w=>{const S=w.injector??t,M=w.routes,{segmentGroup:R,slicedSegments:U}=Fd(e,h,g,M),K=new _(R.segments,R.children);if(0===U.length&&K.hasChildren())return this.expandChildren(S,M,K).pipe((0,D.U)(je=>new _(h,je)));if(0===M.length&&0===U.length)return gt(new _(h,{}));const te=co(i)===o;return this.expandSegment(S,K,M,U,te?$t:o,!0).pipe((0,D.U)(Pe=>new _(h.concat(Pe.segments),Pe.children)))})):Lp(e)))}getChildConfig(t,e,i){return e.children?gt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?gt({routes:e._loadedRoutes,injector:e._loadedInjector}):function XC(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?gt(!0):gt(r.map(u=>{const h=du(u,n);return oi(function Fy(n){return n&&kd(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(nc(),Hy())}(t,e,i).pipe((0,Vi.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,cr.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function iT(n){return Dr(UC(om,3))}())):gt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return gt(i);if(r.numberOfChildren>1||!r.children[$t])return t.redirectTo,Dr(new s.vHH(4e3,om));r=r.children[$t]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new m(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ur(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return ur(e.children,(h,g)=>{u[g]=this.createSegmentGroup(t,h,i,r)}),new _(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,om);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Wy{}class Vp{constructor(t,e,i,r,o,u,h){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const t=Fd(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,$t).pipe((0,D.U)(e=>{if(null===e)return null;const i=new Xg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cs(i,e),o=new pw(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=dw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,In.D)(Object.keys(i.children)).pipe(Xa(r=>{const o=i.children[r],u=vw(e,r);return this.processSegmentGroup(t,u,o,r)}),eu((r,o)=>r&&o?(r.push(...o),r):null),function Fg(n,t=!1){return(0,Ki.e)((e,i)=>{let r=0;e.subscribe((0,Se.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}(r=>null!==r),fp(null),Cd(),(0,D.U)(r=>{if(null===r)return null;const o=Ow(r);return function oT(n){n.sort((t,e)=>t.value.outlet===$t?-1:e.value.outlet===$t?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,In.D)(e).pipe(Xa(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,o)),da(u=>!!u),el(u=>{if(il(u))return Ld(i,r,o)?gt([]):gt(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!xw(e,i,r,o))return gt(null);let u;if("**"===e.path){const h=r.length>0?vp(r).parameters:{},g=Pw(i)+r.length;u=gt({snapshot:new Xg(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ga(e),co(e),e.component??e._loadedComponent??null,e,Nw(i),g,kw(e)),consumedSegments:[],remainingSegments:[]})}else u=Tw(i,e,r,t).pipe((0,D.U)(({matched:h,consumedSegments:g,remainingSegments:y,parameters:w})=>{if(!h)return null;const S=Pw(i)+g.length;return{snapshot:new Xg(g,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ga(e),co(e),e.component??e._loadedComponent??null,e,Nw(i),S,kw(e)),consumedSegments:g,remainingSegments:y}}));return u.pipe(hi(h=>{if(null===h)return gt(null);const{snapshot:g,consumedSegments:y,remainingSegments:w}=h;t=e._injector??t;const S=e._loadedInjector??t,M=function aT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:R,slicedSegments:U}=Fd(i,y,w,M.filter(te=>void 0===te.redirectTo));if(0===U.length&&R.hasChildren())return this.processChildren(S,M,R).pipe((0,D.U)(te=>null===te?null:[new Cs(g,te)]));if(0===M.length&&0===U.length)return gt([new Cs(g,[])]);const K=co(e)===o;return this.processSegment(S,M,R,U,K?$t:o).pipe((0,D.U)(te=>null===te?null:[new Cs(g,te)]))}))}}function lT(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ow(n){const t=[],e=new Set;for(const i of n){if(!lT(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Ow(i.children);t.push(new Cs(i.value,r))}return t.filter(i=>!e.has(i))}function Nw(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Pw(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function ga(n){return n.data||{}}function kw(n){return n.resolve||{}}function sO(n,t){return(0,Vi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return gt(e);let o=0;return(0,In.D)(r).pipe(Xa(u=>function oO(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Zy(r)&&(o[nu]=r.title),function Rw(n,t,e,i){const r=function aO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return gt({});const o={};return(0,In.D)(r).pipe((0,Vi.z)(u=>function Fw(n,t,e,i){const r=kp(t)??i,o=du(n,r);return oi(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[u],t,e,i).pipe(da(),(0,cr.b)(h=>{o[u]=h}))),Ed(1),function mp(n){return(0,D.U)(()=>n)}(o),el(u=>il(u)?Sr.E:Dr(u)))}(o,n,t,i).pipe((0,D.U)(u=>(n._resolvedData=u,n.data=dw(n,e).resolve,r&&Zy(r)&&(n.data[nu]=r.title),null)))}(u.route,i,n,t)),(0,cr.b)(()=>o++),Ed(1),(0,Vi.z)(u=>o===r.length?gt(e):Sr.E))})}function Zy(n){return"string"==typeof n.title||null===n.title}function Yy(n){return hi(t=>{const e=n(t);return e?(0,In.D)(e).pipe((0,D.U)(()=>t)):gt(t)})}const Bd=new s.OlP("ROUTES");let Gs=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return gt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=oi(e.loadComponent()).pipe((0,D.U)(Ky),(0,cr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),tu(()=>{this.componentLoaders.delete(e)})),r=new py(i,()=>new vn.x).pipe(Ql());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return gt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,D.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,y,w=!1;Array.isArray(h)?y=h:(g=h.create(e).injector,y=yp(g.get(Bd,[],s.XFs.Self|s.XFs.Optional)));return{routes:y.map(Pp),injector:g}}),tu(()=>{this.childrenLoaders.delete(i)})),u=new py(o,()=>new vn.x).pipe(Ql());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return oi(e()).pipe((0,D.U)(Ky),(0,Vi.z)(r=>r instanceof s.YKP||Array.isArray(r)?gt(r):(0,In.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ky(n){return function dT(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new vn.x,this.configLoader=(0,s.f3M)(Gs),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(ke),this.rootContexts=(0,s.f3M)(nm),this.navigationId=0,this.afterPreactivation=()=>gt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new RC(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Cy(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new si({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xp,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ln(i=>0!==i.id),(0,D.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),hi(i=>{let r=!1,o=!1;return gt(i).pipe((0,cr.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),hi(u=>{const h=e.browserUrlTree.toString(),g=!e.navigated||u.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!g&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const w="";return this.events.next(new Mp(u.id,e.serializeUrl(i.rawUrl),w,0)),e.rawUrlTree=u.rawUrl,u.resolve(null),Sr.E}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Bw(u.source)&&(e.browserUrlTree=u.extractedUrl),gt(u).pipe(hi(w=>{const S=this.transitions?.getValue();return this.events.next(new Ey(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),S!==this.transitions?.getValue()?Sr.E:Promise.resolve(w)}),function Mw(n,t,e,i){return hi(r=>function rT(n,t,e,i,r){return new Aw(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,D.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,cr.b)(w=>{this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects},i.urlAfterRedirects=w.urlAfterRedirects}),function uT(n,t,e,i,r){return(0,Vi.z)(o=>function qy(n,t,e,i,r,o,u="emptyOnly"){return new Vp(n,t,e,i,r,u,o).recognize().pipe(hi(h=>null===h?function sT(n){return new jn.y(t=>t.error(n))}(new Wy):gt(h)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,D.U)(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,cr.b)(w=>{if(i.targetSnapshot=w.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!w.extras.skipLocationChange){const M=e.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);e.setBrowserUrl(M,w)}e.browserUrlTree=w.urlAfterRedirects}const S=new uu(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(S)}));if(g&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:w,extractedUrl:S,source:M,restoredState:R,extras:U}=u,K=new Ey(w,this.urlSerializer.serialize(S),M,R);this.events.next(K);const te=uw(S,this.rootComponentType).snapshot;return gt(i={...u,targetSnapshot:te,urlAfterRedirects:S,extras:{...U,skipLocationChange:!1,replaceUrl:!1}})}{const w="";return this.events.next(new Mp(u.id,e.serializeUrl(i.extractedUrl),w,1)),e.rawUrlTree=u.rawUrl,u.resolve(null),Sr.E}}),(0,cr.b)(u=>{const h=new NC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),(0,D.U)(u=>i={...u,guards:Rp(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function rm(n,t){return(0,Vi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?gt({...e,guardsResult:!0}):function JC(n,t,e,i){return(0,In.D)(n).pipe((0,Vi.z)(r=>function QC(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?gt(o.map(h=>{const g=kp(t)??r,y=du(h,g);return oi(function YC(n){return n&&kd(n.canDeactivate)}(y)?y.canDeactivate(n,t,e,i):g.runInContext(()=>y(n,t,e,i))).pipe(da())})).pipe(nc()):gt(!0)}(r.component,r.route,e,t,i)),da(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Vi.z)(h=>h&&function Iw(n){return"boolean"==typeof n}(h)?function By(n,t,e,i){return(0,In.D)(t).pipe(Xa(r=>Fn(function hu(n,t){return null!==n&&t&&t(new sw(n)),gt(!0)}(r.route.parent,i),function sm(n,t){return null!==n&&t&&t(new Ty(n)),gt(!0)}(r.route,i),function Uy(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function Ry(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>Jl(()=>gt(u.guards.map(g=>{const y=kp(u.node)??e,w=du(g,y);return oi(function Ly(n){return n&&kd(n.canActivateChild)}(w)?w.canActivateChild(i,n):y.runInContext(()=>w(i,n))).pipe(da())})).pipe(nc())));return gt(o).pipe(nc())}(n,r.path,e),function Cw(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return gt(!0);const r=i.map(o=>Jl(()=>{const u=kp(t)??e,h=du(o,u);return oi(function rO(n){return n&&kd(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(da())}));return gt(r).pipe(nc())}(n,r.route,e))),da(r=>!0!==r,!0))}(i,o,n,t):gt(h)),(0,D.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),(0,cr.b)(u=>{if(i.guardsResult=u.guardsResult,ou(u.guardsResult))throw BC(0,u.guardsResult);const h=new PC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Ln(u=>!!u.guardsResult||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Yy(u=>{if(u.guards.canActivateChecks.length)return gt(u).pipe((0,cr.b)(h=>{const g=new eO(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),hi(h=>{let g=!1;return gt(h).pipe(sO(e.paramsInheritanceStrategy,this.environmentInjector),(0,cr.b)({next:()=>g=!0,complete:()=>{g||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,cr.b)(h=>{const g=new kC(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),Yy(u=>{const h=g=>{const y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,cr.b)(w=>{g.component=w}),(0,D.U)(()=>{})));for(const w of g.children)y.push(...h(w));return y};return mt(h(u.targetSnapshot.root)).pipe(fp(),Li(1))}),Yy(()=>this.afterPreactivation()),(0,D.U)(u=>{const h=function Op(n,t,e){const i=Nd(n,t._root,e?e._root:void 0);return new cw(i,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:h}}),(0,cr.b)(u=>{e.currentUrlTree=u.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),e.routerState=u.targetRouterState,"deferred"===e.urlUpdateStrategy&&(u.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,u),e.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,D.U)(i=>(new bw(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u)),(0,cr.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new tc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),tu(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),el(u=>{if(o=!0,tm(u)){em(u)||(e.navigated=!0,e.restoreHistory(i,!0));const h=new Ap(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),em(u)){const g=e.urlHandlingStrategy.merge(u.url,e.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Bw(i.source)};e.scheduleNavigation(g,xp,null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const h=new Jg(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(e.errorHandler(u))}catch(g){i.reject(g)}}return Sr.E}))}))}cancelNavigationTransition(e,i,r){const o=new Ap(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bw(n){return n!==xp}let Uw=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===$t);return i}getResolvedTitleForRoute(e){return e.data[nu]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Hw)},providedIn:"root"}),n})(),Hw=(()=>{class n extends Uw{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(So))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(fT)},providedIn:"root"}),n})();class pT{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let fT=(()=>{class n extends pT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Up=new s.OlP("",{providedIn:"root",factory:()=>({})});let Gw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)($w)},providedIn:"root"}),n})(),$w=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gT(n){throw n}function zw(n,t,e){return t.parse("/")}const mT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ww={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(Up,{optional:!0})||{},this.errorHandler=this.options.errorHandler||gT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zw,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(Gw),this.routeReuseStrategy=(0,s.f3M)(hT),this.urlCreationStrategy=(0,s.f3M)(LC),this.titleStrategy=(0,s.f3M)(Uw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=yp((0,s.f3M)(Bd,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(cm),this.urlSerializer=(0,s.f3M)(ke),this.location=(0,s.f3M)(Fe),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new m,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=uw(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xp,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const g={...r};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const h=this.parseUrl(e);this.scheduleNavigation(h,i,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Pp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:g}=i,y=g?this.currentUrlTree.fragment:u;let w=null;switch(h){case"merge":w={...this.currentUrlTree.queryParams,...o};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=o||null}return null!==w&&(w=this.removeEmptyProps(w)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,w,y??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ou(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,xp,null,i)}navigate(e,i={skipLocationChange:!1}){return function _T(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...mT}:!1===i?{...Ww}:i,ou(e))return dr(this.currentUrlTree,e,r);const o=this.parseUrl(e);return dr(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,g,y,w;return u?(h=u.resolve,g=u.reject,y=u.promise):y=new Promise((S,M)=>{h=S,g=M}),w="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:w,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:h,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(S=>Promise.reject(S))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ic=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new vn.x;const g=u.nativeElement.tagName;this.isAnchorElement="A"===g||"AREA"===g,this.isAnchorElement?this.subscription=e.events.subscribe(y=>{y instanceof tc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zr),s.Y36(fa),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(st))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class rc{}let Jy=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(e=>e instanceof tc),Xa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,In.D)(r).pipe((0,Pt.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):gt(null);const o=r.pipe((0,Vi.z)(u=>null===u?gt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,In.D)([o,u]).pipe((0,Pt.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zr),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(rc),s.LFG(Gs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qy=new s.OlP("");let yT=(()=>{class n{constructor(e,i,r,o,u={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ey?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof tc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Dy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Dy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Hp=!1;function sc(n,t){return{\u0275kind:n,\u0275providers:t}}const Jw=new s.OlP("",{providedIn:"root",factory:()=>!1});function Xy(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(zr),r=n.get($p);1===n.get(ev)&&i.initialNavigation(),n.get(Xw,null,s.XFs.Optional)?.setUpPreloading(),n.get(Qy,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const $p=new s.OlP(Hp?"bootstrap done indicator":"",{factory:()=>new vn.x}),ev=new s.OlP(Hp?"initial navigation":"",{providedIn:"root",factory:()=>1});function wT(){let n=[];return n=Hp?[{provide:s.Xts,multi:!0,useFactory:()=>{const t=(0,s.f3M)(zr);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function aw(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],sc(1,n)}const Xw=new s.OlP(Hp?"router preloader":"");function IT(n){return sc(0,[{provide:Xw,useExisting:Jy},{provide:rc,useExisting:n}])}const jp=!1,tv=new s.OlP(jp?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),nv=[Fe,{provide:ke,useClass:at},zr,nm,{provide:fa,useFactory:function Kw(n){return n.routerState.root},deps:[zr]},Gs,jp?{provide:Jw,useValue:!0}:[]];function dO(){return new s.PXZ("Router",zr)}let zp=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[nv,jp&&i?.enableTracing?wT().\u0275providers:[],{provide:Bd,multi:!0,useValue:e},{provide:tv,useFactory:e1,deps:[[zr,new s.FiY,new s.tp0]]},{provide:Up,useValue:i||{}},i?.useHash?{provide:st,useClass:xe}:{provide:st,useClass:Oe},{provide:Qy,useFactory:()=>{const n=(0,s.f3M)(qo),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(Up),i=(0,s.f3M)(cm),r=(0,s.f3M)(ke);return e.scrollOffset&&n.setOffset(e.scrollOffset),new yT(r,i,n,t,e)}},i?.preloadingStrategy?IT(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:dO},i?.initialNavigation?DT(i):[],[{provide:iv,useFactory:Xy},{provide:s.tb,multi:!0,useExisting:iv}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Bd,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(tv,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[My]}),n})();function e1(n){if(jp&&n)throw new s.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function DT(n){return["disabled"===n.initialNavigation?sc(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(zr);return()=>{t.setUpLocationChangeListener()}}},{provide:ev,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?sc(2,[{provide:ev,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(we,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=t.get(zr),u=t.get($p);(function i(r){t.get(zr).events.pipe(Ln(u=>u instanceof tc||u instanceof Ap||u instanceof Jg),(0,D.U)(u=>u instanceof tc||u instanceof Ap&&(0===u.code||1===u.code)&&null),Ln(u=>null!==u),Li(1)).subscribe(()=>{r()})})(()=>{r(!0)}),t.get(cm).afterPreactivation=()=>(r(!0),u.closed?gt(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const iv=new s.OlP(jp?"Router Initializer":"");class pu{}class oc{}class Oo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Oo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Oo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Oo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class rv{encodeKey(t){return hm(t)}encodeValue(t){return hm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const t1=/%(\d[a-f0-9])/gi,sv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hm(n){return encodeURIComponent(n).replace(t1,(t,e)=>sv[e]??t)}function Hd(n){return`${n}`}class sl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new rv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dm(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],g=e.get(u)||[];g.push(h),e.set(u,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Hd):[Hd(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new sl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Hd(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Hd(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class xT{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ov(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function r1(n){return typeof Blob<"u"&&n instanceof Blob}function av(n){return typeof FormData<"u"&&n instanceof FormData}class Wp{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function AT(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Oo),this.context||(this.context=new xT),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new sl,this.urlWithParams=e}serializeBody(){return null===this.body?null:ov(this.body)||r1(this.body)||av(this.body)||function s1(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof sl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||av(this.body)?null:r1(this.body)?this.body.type||null:ov(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,y=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((S,M)=>S.set(M,t.setHeaders[M]),g)),t.setParams&&(y=Object.keys(t.setParams).reduce((S,M)=>S.set(M,t.setParams[M]),y)),new Wp(e,i,o,{params:y,headers:g,context:w,reportProgress:h,responseType:r,withCredentials:u})}}var Ji=(()=>((Ji=Ji||{})[Ji.Sent=0]="Sent",Ji[Ji.UploadProgress=1]="UploadProgress",Ji[Ji.ResponseHeader=2]="ResponseHeader",Ji[Ji.DownloadProgress=3]="DownloadProgress",Ji[Ji.Response=4]="Response",Ji[Ji.User=5]="User",Ji))();class as{constructor(t,e=200,i="OK"){this.headers=t.headers||new Oo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class pm extends as{constructor(t={}){super(t),this.type=Ji.ResponseHeader}clone(t={}){return new pm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fm extends as{constructor(t={}){super(t),this.type=Ji.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new fm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class MT extends as{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function qp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let lv=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Wp)o=e;else{let g,y;g=r.headers instanceof Oo?r.headers:new Oo(r.headers),r.params&&(y=r.params instanceof sl?r.params:new sl({fromObject:r.params})),o=new Wp(e,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=gt(o).pipe(Xa(g=>this.handler.handle(g)));if(e instanceof Wp||"events"===r.observe)return u;const h=u.pipe(Ln(g=>g instanceof fm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,D.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,D.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,D.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,D.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new sl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,qp(r,i))}post(e,i,r={}){return this.request("POST",e,qp(r,i))}put(e,i,r={}){return this.request("PUT",e,qp(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(pu))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function o1(n,t){return t(n)}function OT(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const a1=new s.OlP("HTTP_INTERCEPTORS"),Zp=new s.OlP("HTTP_INTERCEPTOR_FNS");function PT(){let n=null;return(t,e)=>(null===n&&(n=((0,s.f3M)(a1,{optional:!0})??[]).reduceRight(OT,o1)),n(t,e))}let gm=(()=>{class n extends pu{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Zp)));this.chain=i.reduceRight((r,o)=>function NT(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(r,o,this.injector),o1)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oc),s.LFG(s.lqb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const RT=/^\)\]\}',?\n/;let mm=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new jn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((R,U)=>r.setRequestHeader(R,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const R=e.detectContentTypeHeader();null!==R&&r.setRequestHeader("Content-Type",R)}if(e.responseType){const R=e.responseType.toLowerCase();r.responseType="json"!==R?R:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const R=r.statusText||"OK",U=new Oo(r.getAllResponseHeaders()),K=function FT(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new pm({headers:U,status:r.status,statusText:R,url:K}),u},g=()=>{let{headers:R,status:U,statusText:K,url:te}=h(),_e=null;204!==U&&(_e=typeof r.response>"u"?r.responseText:r.response),0===U&&(U=_e?200:0);let Pe=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof _e){const je=_e;_e=_e.replace(RT,"");try{_e=""!==_e?JSON.parse(_e):null}catch(He){_e=je,Pe&&(Pe=!1,_e={error:He,text:_e})}}Pe?(i.next(new fm({body:_e,headers:R,status:U,statusText:K,url:te||void 0})),i.complete()):i.error(new MT({error:_e,headers:R,status:U,statusText:K,url:te||void 0}))},y=R=>{const{url:U}=h(),K=new MT({error:R,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(K)};let w=!1;const S=R=>{w||(i.next(h()),w=!0);let U={type:Ji.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(U.total=R.total),"text"===e.responseType&&r.responseText&&(U.partialText=r.responseText),i.next(U)},M=R=>{let U={type:Ji.UploadProgress,loaded:R.loaded};R.lengthComputable&&(U.total=R.total),i.next(U)};return r.addEventListener("load",g),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),e.reportProgress&&(r.addEventListener("progress",S),null!==o&&r.upload&&r.upload.addEventListener("progress",M)),r.send(o),i.next({type:Ji.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",g),r.removeEventListener("timeout",y),e.reportProgress&&(r.removeEventListener("progress",S),null!==o&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ul))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const uv=new s.OlP("XSRF_ENABLED"),u1="XSRF-TOKEN",Yp=new s.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>u1}),_m="X-XSRF-TOKEN",Kp=new s.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>_m});class LT{}let dv=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=rr(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(s.Lbi),s.LFG(Yp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function bO(n,t){const e=n.url.toLowerCase();if(!(0,s.f3M)(uv)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,s.f3M)(LT).getToken(),r=(0,s.f3M)(Kp);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Ci=(()=>((Ci=Ci||{})[Ci.Interceptors=0]="Interceptors",Ci[Ci.LegacyInterceptors=1]="LegacyInterceptors",Ci[Ci.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ci[Ci.NoXsrfProtection=3]="NoXsrfProtection",Ci[Ci.JsonpSupport=4]="JsonpSupport",Ci[Ci.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ci))();function fu(n,t){return{\u0275kind:n,\u0275providers:t}}function d1(...n){const t=[lv,mm,gm,{provide:pu,useExisting:gm},{provide:oc,useExisting:mm},{provide:Zp,useValue:bO,multi:!0},{provide:uv,useValue:!0},{provide:LT,useClass:dv}];for(const e of n)t.push(...e.\u0275providers);return(0,s.MR2)(t)}const ma=new s.OlP("LEGACY_INTERCEPTOR_FN");function vm({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:Yp,useValue:n}),void 0!==t&&e.push({provide:Kp,useValue:t}),fu(Ci.CustomXsrfConfiguration,e)}let HT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[d1(fu(Ci.LegacyInterceptors,[{provide:ma,useFactory:PT},{provide:Zp,useExisting:ma,multi:!0}]),vm({cookieName:u1,headerName:_m}))]}),n})(),Im=(()=>{class n{getFavoriteMovie(){throw new Error("Method not implemented.")}constructor(e){this.http=e,this.baseUrlSearch="https://api.themoviedb.org/3/search",this.baseUrl="https://api.themoviedb.org/3/movie",this.baseUrlPeople="https://api.themoviedb.org/3/person/",this.apiKey="df928e772131a3cd9859c6dacd2504e5"}getPopularMovies(e){return this.http.get(`${this.baseUrl}/popular?api_key=df928e772131a3cd9859c6dacd2504e5&page=${e}&language=fr`)}getTopRatedMovies(e){return this.http.get(`${this.baseUrl}/top_rated?api_key=df928e772131a3cd9859c6dacd2504e5&page=${e}&language=fr`)}getMovie(e){return this.http.get(`${this.baseUrl}/${e}?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}getSimilarMovies(e){return this.http.get(`${this.baseUrl}/${e}/similar?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}getMoviesByGenre(e){return this.http.get(`${this.baseUrl}/genre/${e}/movies?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}getReviews(e){return this.http.get(`${this.baseUrl}/${e}/reviews?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}getVideo(e){return this.http.get(`${this.baseUrl}/${e}/videos?api_key=df928e772131a3cd9859c6dacd2504e5&language=en-US`)}getImages(e){return this.http.get(`${this.baseUrl}/${e}/images?api_key=df928e772131a3cd9859c6dacd2504e5&language=en-US&include_image_language=fr`)}getQuerry(e){return this.http.get(`${this.baseUrlSearch}/movie?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr&query=${e}`)}getPerson(e){return this.http.get(`${this.baseUrl}/${e}/credits?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}getPeopleById(e){return this.http.get(`${this.baseUrlPeople}/${e}?api_key=df928e772131a3cd9859c6dacd2504e5&language=fr`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",12),s.NdJ("keyup.enter",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.previous())})("click",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.previous())}),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.previousLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function GT(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.previousLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function $T(n,t){if(1&n&&(s.TgZ(0,"li",9),s.YNc(1,EO,4,2,"a",10),s.YNc(2,GT,4,2,"span",11),s.qZA()),2&n){s.oxw(2);const e=s.MAs(1);s.ekj("disabled",e.isFirstPage()),s.xp6(1),s.Q6J("ngIf",1<e.getCurrent()),s.xp6(1),s.Q6J("ngIf",e.isFirstPage())}}function jT(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",12),s.NdJ("keyup.enter",function(){s.CHM(e);const r=s.oxw().$implicit;s.oxw(2);const o=s.MAs(1);return s.KtG(o.setCurrent(r.value))})("click",function(){s.CHM(e);const r=s.oxw().$implicit;s.oxw(2);const o=s.MAs(1);return s.KtG(o.setCurrent(r.value))}),s.TgZ(1,"span",13),s._uU(2),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.ALo(5,"number"),s.qZA()()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.hij("",i.screenReaderPageLabel," "),s.xp6(2),s.Oqu("..."===e.label?e.label:s.xi3(5,2,e.label,""))}}function zT(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"span",16)(2,"span",13),s._uU(3),s.qZA(),s.TgZ(4,"span"),s._uU(5),s.ALo(6,"number"),s.qZA()(),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(3),s.hij("",i.screenReaderCurrentLabel," "),s.xp6(2),s.Oqu("..."===e.label?e.label:s.xi3(6,2,e.label,""))}}function WT(n,t){if(1&n&&(s.TgZ(0,"li"),s.YNc(1,jT,6,5,"a",10),s.YNc(2,zT,7,5,"ng-container",15),s.qZA()),2&n){const e=t.$implicit;s.oxw(2);const i=s.MAs(1);s.ekj("current",i.getCurrent()===e.value)("ellipsis","..."===e.label),s.xp6(1),s.Q6J("ngIf",i.getCurrent()!==e.value),s.xp6(1),s.Q6J("ngIf",i.getCurrent()===e.value)}}function qT(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"a",12),s.NdJ("keyup.enter",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.next())})("click",function(){s.CHM(e),s.oxw(3);const r=s.MAs(1);return s.KtG(r.next())}),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()}if(2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.nextLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function ZT(n,t){if(1&n&&(s.TgZ(0,"span",14),s._uU(1),s.TgZ(2,"span",13),s._uU(3),s.qZA()()),2&n){const e=s.oxw(3);s.xp6(1),s.hij(" ",e.nextLabel," "),s.xp6(2),s.Oqu(e.screenReaderPageLabel)}}function p1(n,t){if(1&n&&(s.TgZ(0,"li",17),s.YNc(1,qT,4,2,"a",10),s.YNc(2,ZT,4,2,"span",11),s.qZA()),2&n){s.oxw(2);const e=s.MAs(1);s.ekj("disabled",e.isLastPage()),s.xp6(1),s.Q6J("ngIf",!e.isLastPage()),s.xp6(1),s.Q6J("ngIf",e.isLastPage())}}function hv(n,t){if(1&n&&(s.TgZ(0,"ul",4),s.YNc(1,$T,3,4,"li",5),s.TgZ(2,"li",6),s._uU(3),s.qZA(),s.YNc(4,WT,3,6,"li",7),s.YNc(5,p1,3,4,"li",8),s.qZA()),2&n){const e=s.oxw(),i=s.MAs(1);s.ekj("responsive",e.responsive),s.xp6(1),s.Q6J("ngIf",e.directionLinks),s.xp6(2),s.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),s.xp6(1),s.Q6J("ngForOf",i.pages)("ngForTrackBy",e.trackByIndex),s.xp6(1),s.Q6J("ngIf",e.directionLinks)}}class pv{constructor(){this.change=new s.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t];e<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}}const fv=Number.MAX_SAFE_INTEGER;let YT=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,i){if(!(e instanceof Array)){let S=i.id||this.service.defaultId();return this.state[S]?this.state[S].slice:e}let h,g,r=i.totalItems&&i.totalItems!==e.length,o=this.createInstance(e,i),u=o.id,y=o.itemsPerPage,w=this.service.register(o);if(!r&&e instanceof Array){if(y=+y||fv,h=(o.currentPage-1)*y,g=h+y,this.stateIsIdentical(u,e,h,g))return this.state[u].slice;{let M=e.slice(h,g);return this.saveState(u,e,M,h,g),this.service.change.emit(u),M}}return w&&this.service.change.emit(u),this.saveState(u,e,e,h,g),e}createInstance(e,i){return this.checkConfig(i),{id:null!=i.id?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||e.length}}checkConfig(e){const r=["itemsPerPage","currentPage"].filter(o=>!(o in e));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(e,i,r,o,u){this.state[e]={collection:i,size:i.length,slice:r,start:o,end:u}}stateIsIdentical(e,i,r,o){let u=this.state[e];return!(!u||u.size!==i.length||u.start!==r||u.end!==o)&&u.slice.every((g,y)=>g===i[r+y])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pv,16))},n.\u0275pipe=s.Yjl({name:"paginate",type:n,pure:!1}),n})(),KT=(()=>{class n{constructor(e,i){this.service=e,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new s.vpe,this.pageBoundsCorrection=new s.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id);const i=this.outOfBoundCorrection(e);i!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){const i=Math.ceil(e.totalItems/e.itemsPerPage);return i<e.currentPage&&0<i?i:e.currentPage<1?1:e.currentPage}createPageArray(e,i,r,o){o=+o;let u=[];const h=Math.max(Math.ceil(r/i),1),g=Math.ceil(o/2),y=e<=g,w=h-g<e,S=!y&&!w;let M=o<h,R=1;for(;R<=h&&R<=o;){let U,K=this.calculatePageNumber(R,e,o,h);U=M&&(2===R&&(S||w)||R===o-1&&(S||y))?"...":K,u.push({label:U,value:K}),R++}return u}calculatePageNumber(e,i,r,o){let u=Math.ceil(r/2);return e===r?o:1===e?e:r<o?o-u<i?o-r+e:u<i?i-u+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(pv),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[s.TTD]}),n})();function gv(n){return!!n&&"false"!==n}let JT=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new s.vpe,this.pageBoundsCorrection=new s.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=gv(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=gv(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=gv(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,i){if(1&e&&(s.TgZ(0,"pagination-template",0,1),s.NdJ("pageChange",function(o){return i.pageChange.emit(o)})("pageBoundsCorrection",function(o){return i.pageBoundsCorrection.emit(o)}),s.TgZ(2,"nav",2),s.YNc(3,hv,6,8,"ul",3),s.qZA()()),2&e){const r=s.MAs(1);s.Q6J("id",i.id)("maxSize",i.maxSize),s.xp6(2),s.uIk("aria-label",i.screenReaderPaginationLabel),s.xp6(1),s.Q6J("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[KT,tn,fn,Hh],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),QT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pv],imports:[[Mn]]}),n})(),mv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-movie-card"]],inputs:{movie:"movie"},decls:12,vars:7,consts:[[1,"movie__card"],["alt","",1,"movie__card__img",3,"src"],[1,"movie__card__release_date"],[1,"movie__card__cardbody"],[1,"movie__card__card-footer"],["src","../../assets/starIcon.png","width","18","height","18","alt",""]],template:function(e,i){1&e&&(s.TgZ(0,"section",0),s._UZ(1,"img",1),s.TgZ(2,"span",2),s._uU(3),s.ALo(4,"date"),s.qZA(),s.TgZ(5,"div",3)(6,"p"),s._uU(7),s.qZA()(),s.TgZ(8,"div",4)(9,"p"),s._UZ(10,"img",5),s._uU(11),s.qZA()()()),2&e&&(s.xp6(1),s.MGl("src","https://image.tmdb.org/t/p/original",i.movie.poster_path,"",s.LSH),s.xp6(2),s.Oqu(s.xi3(4,4,i.movie.release_date,"yyyy")),s.xp6(4),s.Oqu(i.movie.original_title),s.xp6(4),s.hij(" ",i.movie.vote_average,"/10"))},dependencies:[wi],styles:["p[_ngcontent-%COMP%]{margin:0}.movie__card[_ngcontent-%COMP%]{flex-direction:column;text-align:left;width:200px;display:flex;padding:25px 0;cursor:pointer;position:relative}.movie__card__img[_ngcontent-%COMP%]{margin-bottom:9px}.movie__card__img[_ngcontent-%COMP%]:hover{transform:scale(1)}.movie__card__release_date[_ngcontent-%COMP%]{position:absolute;top:299px;left:10px;background-color:#161824;padding:2px 5px;border-radius:15px;font-size:12px}.movie__card__img[_ngcontent-%COMP%]{border-radius:20px}"]}),n})();const f1=function(n){return["/movie/",n]};function XT(n,t){if(1&n&&(s.TgZ(0,"div",7),s._UZ(1,"app-movie-card",8),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("movie",e)("routerLink",s.VKq(2,f1,e.id))}}const DO=function(n,t){return{itemsPerPage:50,currentPage:n,totalItems:t}};let g1=(()=>{class n{constructor(e){this.dataService=e,this.moviesData=[],this.p=1,this.total=0}ngOnInit(){this.getTopRatedMovies()}getPopularMovies(){this.dataService.getPopularMovies(this.p).subscribe(e=>{this.moviesData=e,this.total=e.total_results})}getTopRatedMovies(){this.dataService.getTopRatedMovies(this.p).subscribe(e=>{this.moviesData=e,this.total=e.total_results})}pageChangeEvent(e){this.p=e,this.getPopularMovies()}getMoviesList(e){0===e.target.value.length||0===this.total?this.getTopRatedMovies():this.dataService.getQuerry(e.target.value).subscribe(i=>{this.moviesData=i,this.total=i.total_results})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Im))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-movies"]],decls:10,vars:7,consts:[[1,"movies-section",2,"text-align","center"],["id","search","type","text","name","search","placeholder","Rechercher un film",3,"keyup"],[1,"container"],[2,"display","flex","justify-content","space-between"],[1,"movies-container"],["class","movie",4,"ngFor","ngForOf"],[1,"pagination",3,"pageChange"],[1,"movie"],[3,"movie","routerLink"]],template:function(e,i){1&e&&(s.TgZ(0,"section",0)(1,"input",1),s.NdJ("keyup",function(o){return i.getMoviesList(o)}),s.qZA(),s.TgZ(2,"div",2)(3,"div",3)(4,"h2"),s._uU(5,"Films les mieux not\xe9s"),s.qZA()(),s.TgZ(6,"div",4),s.YNc(7,XT,2,4,"div",5),s.ALo(8,"paginate"),s.qZA(),s.TgZ(9,"pagination-controls",6),s.NdJ("pageChange",function(o){return i.pageChangeEvent(o)}),s.qZA()()()),2&e&&(s.xp6(7),s.Q6J("ngForOf",s.xi3(8,1,i.moviesData.results,s.WLB(4,DO,i.p,i.total))))},dependencies:[ic,fn,JT,mv,YT],styles:[".movies-section[_ngcontent-%COMP%]{margin-top:100px}p[_ngcontent-%COMP%]{margin:0;padding:0}input[_ngcontent-%COMP%]{padding:7px 7px 7px 40px;border-radius:25px;border:none;color:#fff;background:url(search-icon.9fd73d47a958560a.png) no-repeat 15px;background-color:#272935;background-size:17px}input[_ngcontent-%COMP%]{margin:.4rem}textarea[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:none}.movies-header[_ngcontent-%COMP%]{margin-top:90px;padding-bottom:90px;text-align:center}.movies-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));place-items:center;align-items:stretch}.card-body[_ngcontent-%COMP%]{flex:none}.movie-card[_ngcontent-%COMP%]{flex-direction:column;text-align:left;width:200px;display:flex;padding:25px 0;cursor:pointer;position:relative}.release_date[_ngcontent-%COMP%]{position:absolute;top:299px;left:10px;background-color:#161824;padding:2px 5px;border-radius:15px;font-size:12px}.movie-card-img[_ngcontent-%COMP%]{border-radius:20px}.movie-card-text[_ngcontent-%COMP%]{padding-bottom:0;padding-left:5px;font-size:15px}.pagination[_ngcontent-%COMP%]{justify-content:right}[_nghost-%COMP%]     .p-tabview .p-tabview-panels{background-color:transparent}"]}),n})();var Em=L(2722),cn=L(2090),Gd=L(9681),No=L(1877),Cm=L(4859),_v=L(4986),hr=L(5141);function yv(){return(0,Ki.e)((n,t)=>{let e,i=!1;n.subscribe((0,Se.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function Jp(n,t){return n===t}var _t,zn=L(2011),Tm=(L(8618),L(3942)),Ie=L(5861),vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ts={},ac=ac||{},jt=vv||self;function al(){}function ll(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function _a(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var lc="closure_uid_"+(1e9*Math.random()>>>0),m1=0;function _1(n,t,e){return n.call.apply(n.bind,arguments)}function y1(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Vr(n,t,e){return(Vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_1:y1).apply(null,arguments)}function Qp(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function xr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function cl(){this.s=this.s,this.o=this.o}cl.prototype.s=!1,cl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function jd(n){Object.prototype.hasOwnProperty.call(n,lc)&&n[lc]||(n[lc]=++m1)}(this)},cl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bv=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function wv(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function b1(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(ll(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function Br(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Br.prototype.h=function(){this.defaultPrevented=!0};var eD=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",al,t),jt.removeEventListener("test",al,t)}catch{}return n}();function Xp(n){return/^[\s\xa0]*$/.test(n)}var Dm=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ef(n,t){return n<t?-1:n>t?1:0}function Sm(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function js(n){return-1!=Sm().indexOf(n)}function zd(n){return zd[" "](n),n}zd[" "]=al;var rf,n,tD=js("Opera"),ul=js("Trident")||js("MSIE"),tf=js("Edge"),nf=tf||ul,Ev=js("Gecko")&&!(-1!=Sm().toLowerCase().indexOf("webkit")&&!js("Edge"))&&!(js("Trident")||js("MSIE"))&&!js("Edge"),Cv=-1!=Sm().toLowerCase().indexOf("webkit")&&!js("Edge");function Tv(){var n=jt.document;return n?n.documentMode:void 0}e:{var sf="",xm=(n=Sm(),Ev?/rv:([^\);]+)(\)|;)/.exec(n):tf?/Edge\/([\d\.]+)/.exec(n):ul?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Cv?/WebKit\/(\S+)/.exec(n):tD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(xm&&(sf=xm?xm[1]:""),ul){var Dv=Tv();if(null!=Dv&&Dv>parseFloat(sf)){rf=String(Dv);break e}}rf=sf}var w1={};var nD=jt.document&&ul&&(Tv()||parseInt(rf,10))||void 0;function Wd(n,t){if(Br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Ev){e:{try{zd(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:E1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wd.X.h.call(this)}}xr(Wd,Br);var E1={2:"touch",3:"pen",4:"mouse"};Wd.prototype.h=function(){Wd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gu="closure_listenable_"+(1e6*Math.random()|0),Mm=0;function C1(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++Mm,this.ba=this.ea=!1}function af(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Om(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function xv(n){const t={};for(const e in n)t[e]=n[e];return t}const Av="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mv(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<Av.length;o++)e=Av[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function lf(n){this.src=n,this.g={},this.h=0}function Nm(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=bv(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(af(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function qd(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ba&&o.listener==t&&o.capture==!!e&&o.ha==i)return r}return-1}lf.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=qd(n,t,i,r);return-1<u?(t=n[u],e||(t.ea=!1)):((t=new C1(t,this.src,o,!!i,r)).ea=e,n.push(t)),t};var ya="closure_lm_"+(1e6*Math.random()|0),Ov={};function T1(n,t,e,i,r){if(i&&i.once)return km(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)T1(n,t[o],e,i,r);return null}return e=Rm(e),n&&n[gu]?n.N(t,e,_a(i)?!!i.capture:!!i,r):Pm(n,t,e,!1,i,r)}function Pm(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=_a(r)?!!r.capture:!!r,h=Nv(n);if(h||(n[ya]=h=new lf(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function mu(){const t=SO;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)eD||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(iD(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function km(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)km(n,t[o],e,i,r);return null}return e=Rm(e),n&&n[gu]?n.O(t,e,_a(i)?!!i.capture:!!i,r):Pm(n,t,e,!0,i,r)}function D1(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)D1(n,t[o],e,i,r);else i=_a(i)?!!i.capture:!!i,e=Rm(e),n&&n[gu]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=qd(o=n.g[t],e,i,r))&&(af(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Nv(n))&&(t=n.g[t.toString()],n=-1,t&&(n=qd(t,e,i,r)),(e=-1<n?t[n]:null)&&cf(e))}function cf(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[gu])Nm(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(iD(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Nv(t))?(Nm(e,n),0==e.h&&(e.src=null,t[ya]=null)):af(n)}}}function iD(n){return n in Ov?Ov[n]:Ov[n]="on"+n}function SO(n,t){if(n.ba)n=!0;else{t=new Wd(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&cf(n),n=e.call(i,t)}return n}function Nv(n){return(n=n[ya])instanceof lf?n:null}var Pv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rm(n){return"function"==typeof n?n:(n[Pv]||(n[Pv]=function(t){return n.handleEvent(t)}),n[Pv])}function Ar(){cl.call(this),this.i=new lf(this),this.P=this,this.I=null}function hn(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Br(t,n);else if(t instanceof Br)t.target=t.target||n;else{var r=t;Mv(t=new Br(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=uf(u,i,!0,t)&&r}if(r=uf(u=t.g=n,i,!0,t)&&r,r=uf(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=uf(u=t.g=e[o],i,!1,t)&&r}function uf(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ba&&u.capture==e){var h=u.listener,g=u.ha||u.src;u.ea&&Nm(n.i,u),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}xr(Ar,cl),Ar.prototype[gu]=!0,Ar.prototype.removeEventListener=function(n,t,e,i){D1(this,n,t,e,i)},Ar.prototype.M=function(){if(Ar.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)af(e[i]);delete n.g[t],n.h--}}this.I=null},Ar.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ar.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var kv=jt.JSON.stringify;function rD(){var n=O1;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Rv,x1=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new A1,n=>n.reset());class A1{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function M1(n){jt.setTimeout(()=>{throw n},0)}function _u(n,t){Rv||function sD(){var n=jt.Promise.resolve(void 0);Rv=function(){n.then(N1)}}(),Fm||(Rv(),Fm=!0),O1.add(n,t)}var Fm=!1,O1=new class S1{constructor(){this.h=this.g=null}add(t,e){const i=x1.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function N1(){for(var n;n=rD();){try{n.h.call(n.g)}catch(e){M1(e)}var t=x1;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Fm=!1}function Fv(n,t){Ar.call(this),this.h=n||1,this.g=t||jt,this.j=Vr(this.lb,this),this.l=Date.now()}function df(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function hf(n,t,e){if("function"==typeof n)e&&(n=Vr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vr(n.handleEvent,n)}return 2147483647<Number(t)?-1:jt.setTimeout(n,t||0)}function uo(n){n.g=hf(()=>{n.g=null,n.i&&(n.i=!1,uo(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}xr(Fv,Ar),(_t=Fv.prototype).ca=!1,_t.R=null,_t.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),hn(this,"tick"),this.ca&&(df(this),this.start()))}},_t.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){Fv.X.M.call(this),df(this),delete this.g};class oD extends cl{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:uo(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zd(n){cl.call(this),this.h=n,this.g={}}xr(Zd,cl);var Po=[];function ho(n,t,e,i){Array.isArray(e)||(e&&(Po[0]=e.toString()),e=Po);for(var r=0;r<e.length;r++){var o=T1(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function po(n){Om(n.g,function(t,e){this.g.hasOwnProperty(e)&&cf(t)},n),n.g={}}function pf(){this.g=!0}function Yd(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function cD(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return kv(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Zd.prototype.M=function(){Zd.X.M.call(this),po(this)},Zd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pf.prototype.Aa=function(){this.g=!1},pf.prototype.info=function(){};var dl={},Kd=null;function Lm(){return Kd=Kd||new Ar}function Lv(n){Br.call(this,dl.Pa,n)}function ff(n){const t=Lm();hn(t,new Lv(t))}function Vv(n,t){Br.call(this,dl.STAT_EVENT,n),this.stat=t}function Wr(n){const t=Lm();hn(t,new Vv(t,n))}function gf(n,t){Br.call(this,dl.Qa,n),this.size=t}function mf(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},t)}dl.Pa="serverreachability",xr(Lv,Br),dl.STAT_EVENT="statevent",xr(Vv,Br),dl.Qa="timingevent",xr(gf,Br);var _f={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Bv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function yf(){}function Vm(){}yf.prototype.h=null;var Hm,yu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Bm(){Br.call(this,"d")}function Um(){Br.call(this,"c")}function bf(){}function Jd(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Zd(this),this.O=uD,this.T=new Fv(n=nf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Uv}function Uv(){this.i=null,this.g="",this.h=!1}xr(Bm,Br),xr(Um,Br),xr(bf,yf),bf.prototype.g=function(){return new XMLHttpRequest},bf.prototype.i=function(){return{}},Hm=new bf;var uD=45e3,Gm={},$m={};function Hv(n,t,e){n.K=1,n.v=Tf(va(t)),n.s=e,n.P=!0,k1(n,null)}function k1(n,t){n.F=Date.now(),wf(n),n.A=va(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),mD(e.i,"t",i),n.C=0,e=n.l.H,n.h=new Uv,n.g=e0(n.l,e?t:null,!n.s),0<n.N&&(n.L=new oD(Vr(n.La,n,n.g),n.N)),ho(n.S,n.g,"readystatechange",n.ib),t=n.H?xv(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),ff(),function P1(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),g=0;g<h.length;g++){var y=h[g].split("=");if(1<y.length){var w=y[0];y=y[1];var S=w.split("_");u=2<=S.length&&"type"==S[1]?u+(w+"=")+y+"&":u+(w+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function R1(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function F1(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=dD(n,e),r==$m){4==t&&(n.o=4,Wr(14),i=!1),Yd(n.j,n.m,null,"[Incomplete Response]");break}if(r==Gm){n.o=4,Wr(15),Yd(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Yd(n.j,n.m,r,null),Gv(n,r)}R1(n)&&r!=$m&&r!=Gm&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Wr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),Km(t),t.K=!0,Wr(11))):(Yd(n.j,n.m,e,"[Invalid Chunked Response]"),vu(n),If(n))}function dD(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?$m:(e=Number(t.substring(e,i)),isNaN(e)?Gm:(i+=1)+e>t.length?$m:(t=t.substr(i,e),n.C=i+e,t))}function wf(n){n.V=Date.now()+n.O,L1(n,n.O)}function L1(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=mf(Vr(n.gb,n),t)}function jm(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function If(n){0==n.l.G||n.I||X1(n.l,n)}function vu(n){jm(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,df(n.T),po(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Gv(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||th(e.h,n)))if(!n.J&&th(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;Jm(e),Ym(e)}Xv(e),Wr(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=mf(Vr(e.cb,e),6e3));if(1>=Df(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Eu(e,11)}else if((n.J||e.g==n)&&Jm(e),!Xp(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.T=y[0],y=y[1],2==e.G)if("c"==y[0]){e.I=y[1],e.ka=y[2];const w=y[3];null!=w&&(e.ma=w,e.j.info("VER="+e.ma));const S=y[4];null!=S&&(e.Ca=S,e.j.info("SVER="+e.Ca));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(e.J=i=1.5*M,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const R=n.g;if(R){const U=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var o=i.h;o.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ai(o,o.h),o.h=null))}if(i.D){const K=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.za=K,Jn(i.F,i.D,K))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var u=n;if((i=e).sa=tI(i,i.H?i.ka:null,i.V),u.J){vD(i.h,u);var h=u,g=i.J;g&&h.setTimeout(g),h.B&&(jm(h),wf(h)),i.g=u}else Q1(i);0<e.i.length&&Qv(e)}else"stop"!=y[0]&&"close"!=y[0]||Eu(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Eu(e,7):Jv(e):"noop"!=y[0]&&e.l&&e.l.wa(y),e.A=0)}ff()}catch{}}function V1(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(ll(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function pD(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ll(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function hD(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ll(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(_t=Jd.prototype).setTimeout=function(n){this.O=n},_t.ib=function(n){n=n.target;const t=this.L;t&&3==pl(n)?t.l():this.La(n)},_t.La=function(n){try{if(n==this.g)e:{const w=pl(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>w)&&(3!=w||nf||this.g&&(this.h.h||this.g.fa()||Zv(this.g)))){this.I||4!=w||7==t||ff(),jm(this);var e=this.g.aa();this.Y=e;t:if(R1(this)){var i=Zv(this.g);n="";var r=i.length,o=4==pl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vu(this),If(this);var u="";break t}this.h.i=new jt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==e,function aD(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.U,w,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xp(h)){var y=h;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,Wr(12),vu(this),If(this);break e}Yd(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gv(this,e)}this.P?(F1(this,w,u),nf&&this.i&&3==w&&(ho(this.S,this.T,"tick",this.hb),this.T.start())):(Yd(this.j,this.m,u,null),Gv(this,u)),4==w&&vu(this),this.i&&!this.I&&(4==w?X1(this.l,this):(this.i=!1,wf(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Wr(12)):(this.o=0,Wr(13)),vu(this),If(this)}}}catch{}},_t.hb=function(){if(this.g){var n=pl(this.g),t=this.g.fa();this.C<t.length&&(jm(this),F1(this,n,t),this.i&&4!=n&&wf(this))}},_t.cancel=function(){this.I=!0,vu(this)},_t.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function lD(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ff(),Wr(17)),vu(this),this.o=2,If(this)):L1(this,this.V-n)};var B1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cc(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof cc){this.h=void 0!==t?t:n.h,Ef(this,n.j),this.s=n.s,this.g=n.g,Cf(this,n.m),this.l=n.l,t=n.i;var e=new wu;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),$v(this,e),this.o=n.o}else n&&(e=String(n).match(B1))?(this.h=!!t,Ef(this,e[1]||"",!0),this.s=Qd(e[2]||""),this.g=Qd(e[3]||"",!0),Cf(this,e[4]),this.l=Qd(e[5]||"",!0),$v(this,e[6]||"",!0),this.o=Qd(e[7]||"")):(this.h=!!t,this.i=new wu(null,this.h))}function va(n){return new cc(n)}function Ef(n,t,e){n.j=e?Qd(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Cf(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function $v(n,t,e){t instanceof wu?(n.i=t,function _D(n,t){t&&!n.j&&(Iu(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(jv(this,i),mD(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=bu(t,Xd)),n.i=new wu(t,n.h))}function Jn(n,t,e){n.i.set(t,e)}function Tf(n){return Jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qd(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function bu(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,H1),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function H1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}cc.prototype.toString=function(){var n=[],t=this.j;t&&n.push(bu(t,uc,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(bu(t,uc,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(bu(e,"/"==e.charAt(0)?gD:fD,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",bu(e,xO)),n.join("")};var uc=/[#\/\?@]/g,fD=/[#\?:]/g,gD=/[#\?]/g,Xd=/[#\?@]/g,xO=/#/g;function wu(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Iu(n){n.g||(n.g=new Map,n.h=0,n.i&&function U1(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function jv(n,t){Iu(n),t=Ot(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function zv(n,t){return Iu(n),t=Ot(n,t),n.g.has(t)}function mD(n,t,e){jv(n,t),0<e.length&&(n.i=null,n.g.set(Ot(n,t),wv(e)),n.h+=e.length)}function Ot(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function G1(n){this.l=n||eh,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=wu.prototype).add=function(n,t){Iu(this),this.i=null,n=Ot(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},_t.forEach=function(n,t){Iu(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},_t.oa=function(){Iu(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},_t.W=function(n){Iu(this);let t=[];if("string"==typeof n)zv(this,n)&&(t=t.concat(this.g.get(Ot(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},_t.set=function(n,t){return Iu(this),this.i=null,zv(this,n=Ot(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},_t.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var eh=10;function $1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Df(n){return n.h?1:n.g?n.g.size:0}function th(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function ai(n,t){n.g?n.g.add(t):n.h=t}function vD(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Wv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return wv(n.i)}function zm(){}function bD(){this.g=new zm}function j1(n,t,e){const i=e||"";try{V1(n,function(r,o){let u=r;_a(r)&&(u=kv(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Sf(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function nh(n){this.l=n.ac||null,this.j=n.jb||!1}function Wm(n,t){Ar.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}G1.prototype.cancel=function(){if(this.i=Wv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},zm.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},zm.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},xr(nh,yf),nh.prototype.g=function(){return new Wm(this.l,this.j)},nh.prototype.i=function(n){return function(){return n}}({}),xr(Wm,Ar);var qv=0;function W1(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function hl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,xf(n)}function xf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=Wm.prototype).open=function(n,t){if(this.readyState!=qv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,xf(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||jt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hl(this)),this.readyState=qv},_t.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,xf(this)),this.g&&(this.readyState=3,xf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;W1(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},_t.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?hl(this):xf(this),3==this.readyState&&W1(this)}},_t.Va=function(n){this.g&&(this.response=this.responseText=n,hl(this))},_t.Ua=function(n){this.g&&(this.response=n,hl(this))},_t.ga=function(){this.g&&hl(this)},_t.setRequestHeader=function(n,t){this.v.append(n,t)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Wm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wD=jt.JSON.parse;function Ti(n){Ar.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Af,this.K=this.L=!1}xr(Ti,Ar);var Af="",q1=/^https?$/i,Z1=["POST","PUT"];function K1(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,ih(n),qm(n)}function ih(n){n.D||(n.D=!0,hn(n,"complete"),hn(n,"error"))}function rh(n){if(n.h&&typeof ac<"u"&&(!n.C[1]||4!=pl(n)||2!=n.aa()))if(n.v&&4==pl(n))hf(n.Ha,0,n);else if(hn(n,"readystatechange"),4==pl(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(B1)[1]||null;if(!r&&jt.self&&jt.self.location){var o=jt.self.location.protocol;r=o.substr(0,o.length-1)}i=!q1.test(r?r.toLowerCase():"")}e=i}if(e)hn(n,"complete"),hn(n,"success");else{n.m=6;try{var u=2<pl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",ih(n)}}finally{qm(n)}}}function qm(n,t){if(n.g){J1(n);const e=n.g,i=n.C[0]?al:null;n.g=null,n.C=null,t||hn(n,"ready");try{e.onreadystatechange=i}catch{}}}function J1(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function pl(n){return n.g?n.g.readyState:0}function Zv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Af:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Yv(n){let t="";return Om(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Zm(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=Yv(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Jn(n,t,e))}function Mf(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Kv(n){this.Ca=0,this.i=[],this.j=new pf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Mf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Mf("baseRetryDelayMs",5e3,n),this.bb=Mf("retryDelaySeedMs",1e4,n),this.$a=Mf("forwardChannelMaxRetries",2,n),this.ta=Mf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new G1(n&&n.concurrentRequestLimit),this.Fa=new bD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Jv(n){if(ID(n),3==n.G){var t=n.U++,e=va(n.F);Jn(e,"SID",n.I),Jn(e,"RID",t),Jn(e,"TYPE","terminate"),sh(n,e),(t=new Jd(n,n.j,t,void 0)).K=2,t.v=Tf(va(e)),e=!1,jt.navigator&&jt.navigator.sendBeacon&&(e=jt.navigator.sendBeacon(t.v.toString(),"")),!e&&jt.Image&&((new Image).src=t.v,e=!0),e||(t.g=e0(t.l,null),t.g.da(t.v)),t.F=Date.now(),wf(t)}CD(n)}function Ym(n){n.g&&(Km(n),n.g.cancel(),n.g=null)}function ID(n){Ym(n),n.u&&(jt.clearTimeout(n.u),n.u=null),Jm(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function Qv(n){$1(n.h)||n.m||(n.m=!0,_u(n.Ja,n),n.C=0)}function ED(n,t){var e;e=t?t.m:n.U++;const i=va(n.F);Jn(i,"SID",n.I),Jn(i,"RID",e),Jn(i,"AID",n.T),sh(n,i),n.o&&n.s&&Zm(i,n.o,n.s),e=new Jd(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=Of(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ai(n.h,e),Hv(e,i,t)}function sh(n,t){n.ia&&Om(n.ia,function(e,i){Jn(t,i,e)}),n.l&&V1({},function(e,i){Jn(t,i,e)})}function Of(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Vr(n.l.Ra,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let g=0;g<e;g++){let y=r[g].h;const w=r[g].g;if(y-=o,0>y)o=Math.max(0,r[g].h-100),h=!1;else try{j1(w,u,"req"+y+"_")}catch{i&&i(w)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function Q1(n){n.g||n.u||(n.Z=1,_u(n.Ia,n),n.A=0)}function Xv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=mf(Vr(n.Ia,n),eI(n,n.A)),n.A++,0))}function Km(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function oh(n){n.g=new Jd(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=va(n.sa);Jn(t,"RID","rpc"),Jn(t,"SID",n.I),Jn(t,"CI",n.L?"0":"1"),Jn(t,"AID",n.T),Jn(t,"TYPE","xmlhttp"),sh(n,t),n.o&&n.s&&Zm(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=Tf(va(t)),e.s=null,e.P=!0,k1(e,n)}function Jm(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function X1(n,t){var e=null;if(n.g==t){Jm(n),Km(n),n.g=null;var i=2}else{if(!th(n.h,t))return;e=t.D,vD(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;hn(i=Lm(),new gf(i,e)),Qv(n)}else Q1(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function AO(n,t){return!(Df(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=mf(Vr(n.Ja,n,t),eI(n,n.C)),n.C++,0)))}(n,t)||2==i&&Xv(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Eu(n,5);break;case 4:Eu(n,10);break;case 3:Eu(n,6);break;default:Eu(n,2)}}function eI(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Eu(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Vr(n.kb,n);e||(e=new cc("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||Ef(e,"https"),Tf(e)),function z1(n,t){const e=new pf;if(jt.Image){const i=new Image;i.onload=Qp(Sf,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Qp(Sf,e,i,"TestLoadImage: error",!1,t),i.onabort=Qp(Sf,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Qp(Sf,e,i,"TestLoadImage: timeout",!1,t),jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Wr(2);n.G=0,n.l&&n.l.va(t),CD(n),ID(n)}function CD(n){if(n.G=0,n.la=[],n.l){const t=Wv(n.h);(0!=t.length||0!=n.i.length)&&(b1(n.la,t),b1(n.la,n.i),n.h.i.length=0,wv(n.i),n.i.length=0),n.l.ua()}}function tI(n,t,e){var i=e instanceof cc?va(e):new cc(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Cf(i,i.m);else{var r=jt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new cc(null,void 0);i&&Ef(o,i),t&&(o.g=t),r&&Cf(o,r),e&&(o.l=e),i=o}return t=n.za,(e=n.D)&&t&&Jn(i,e,t),Jn(i,"VER",n.ma),sh(n,i),i}function e0(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ti(e&&n.Da&&!n.ra?new nh({jb:!0}):n.ra)).Ka(n.H),t}function nI(){}function Qm(){if(ul&&!(10<=Number(nD)))throw Error("Environmental error: no available transport.")}function Ur(n,t){Ar.call(this),this.g=new Kv(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!Xp(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xp(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ah(this)}function iI(n){Bm.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function t0(){Um.call(this),this.status=1}function ah(n){this.g=n}(_t=Ti.prototype).Ka=function(n){this.L=n},_t.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hm.g(),this.C=function vf(n){return n.h||(n.h=n.i())}(this.u?this.u:Hm),this.g.onreadystatechange=Vr(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void K1(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=jt.FormData&&n instanceof jt.FormData,!(0<=bv(Z1,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of e)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{J1(this),0<this.B&&((this.K=function Y1(n){return ul&&function I1(){return function Iv(n){var t=w1;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Dm(String(rf)).split("."),e=Dm("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=ef(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||ef(0==r[2].length,0==o[2].length)||ef(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vr(this.qa,this)):this.A=hf(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){K1(this,o)}},_t.qa=function(){typeof ac<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hn(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,hn(this,"complete"),hn(this,"abort"),qm(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qm(this,!0)),Ti.X.M.call(this)},_t.Ha=function(){this.s||(this.F||this.v||this.l?rh(this):this.fb())},_t.fb=function(){rh(this)},_t.aa=function(){try{return 2<pl(this)?this.g.status:-1}catch{return-1}},_t.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),wD(t)}},_t.Ea=function(){return this.m},_t.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=Kv.prototype).ma=8,_t.G=1,_t.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Jd(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=xv(o),Mv(o,this.S)):o=this.S),null!==this.o||this.N||(r.H=o,o=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=Of(this,r,t),Jn(e=va(this.F),"RID",n),Jn(e,"CVER",22),this.D&&Jn(e,"X-HTTP-Session-Id",this.D),sh(this,e),o&&(this.N?t="headers="+encodeURIComponent(String(Yv(o)))+"&"+t:this.o&&Zm(e,this.o,o)),ai(this.h,r),this.Ya&&Jn(e,"TYPE","init"),this.O?(Jn(e,"$req",t),Jn(e,"SID","null"),r.Z=!0,Hv(r,e,null)):Hv(r,e,t),this.G=2}}else 3==this.G&&(n?ED(this,n):0==this.i.length||$1(this.h)||ED(this))},_t.Ia=function(){if(this.u=null,oh(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=mf(Vr(this.eb,this),n)}},_t.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Wr(10),Ym(this),oh(this))},_t.cb=function(){null!=this.v&&(this.v=null,Ym(this),Xv(this),Wr(19))},_t.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Wr(2)):(this.j.info("Failed to ping google.com"),Wr(1))},(_t=nI.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Ra=function(){},Qm.prototype.g=function(n,t){return new Ur(n,t)},xr(Ur,Ar),Ur.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Wr(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=tI(n,null,n.V),Qv(n)},Ur.prototype.close=function(){Jv(this.g)},Ur.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=kv(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&Qv(t)},Ur.prototype.M=function(){this.g.l=null,delete this.j,Jv(this.g),delete this.g,Ur.X.M.call(this)},xr(iI,Bm),xr(t0,Um),xr(ah,nI),ah.prototype.xa=function(){hn(this.g,"a")},ah.prototype.wa=function(n){hn(this.g,new iI(n))},ah.prototype.va=function(n){hn(this.g,new t0)},ah.prototype.ua=function(){hn(this.g,"b")},Qm.prototype.createWebChannel=Qm.prototype.g,Ur.prototype.send=Ur.prototype.u,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,_f.NO_ERROR=0,_f.TIMEOUT=8,_f.HTTP_ERROR=6,Bv.COMPLETE="complete",Vm.EventType=yu,yu.OPEN="a",yu.CLOSE="b",yu.ERROR="c",yu.MESSAGE="d",Ar.prototype.listen=Ar.prototype.N,Ti.prototype.listenOnce=Ti.prototype.O,Ti.prototype.getLastError=Ti.prototype.Oa,Ti.prototype.getLastErrorCode=Ti.prototype.Ea,Ti.prototype.getStatus=Ti.prototype.aa,Ti.prototype.getResponseJson=Ti.prototype.Sa,Ti.prototype.getResponseText=Ti.prototype.fa,Ti.prototype.send=Ti.prototype.da,Ti.prototype.setWithCredentials=Ti.prototype.Ka;var rI=Ts.createWebChannelTransport=function(){return new Qm},TD=Ts.getStatEventTarget=function(){return Lm()},Xm=Ts.ErrorCode=_f,DD=Ts.EventType=Bv,n0=Ts.Event=dl,sI=Ts.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},oI=Ts.FetchXmlHttpFactory=nh,Nf=Ts.WebChannel=Vm,SD=Ts.XhrIo=Ti;const aI="@firebase/firestore";class Mr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");let dc="9.17.1";const hc=new No.Yd("@firebase/firestore");function e_(){return hc.logLevel}function $e(n,...t){if(hc.logLevel<=No.in.DEBUG){const e=t.map(r0);hc.debug(`Firestore (${dc}): ${n}`,...e)}}function Bi(n,...t){if(hc.logLevel<=No.in.ERROR){const e=t.map(r0);hc.error(`Firestore (${dc}): ${n}`,...e)}}function Cu(n,...t){if(hc.logLevel<=No.in.WARN){const e=t.map(r0);hc.warn(`Firestore (${dc}): ${n}`,...e)}}function r0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const t=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: `+n;throw Bi(t),new Error(t)}function Dt(n,t){n||ut()}function nt(n,t){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends cn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class t_{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Mr.UNAUTHENTICATED))}shutdown(){}}class MD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class OD{constructor(t){this.t=t,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let u=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new pr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;t.enqueueRetryable((0,Ie.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},g=y=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new pr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dt("string"==typeof i.accessToken),new t_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Dt(null===t||"string"==typeof t),new Mr(t)}}class s0{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Mr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Dt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class o0{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new s0(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l0{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=o=>{null!=o.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?r(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Dt("string"==typeof e.token),this.A=e.token,new a0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ND(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class n_{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=ND(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Jt(n,t){return n<t?-1:n>t?1:0}function Tu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Du(n){return n+"\0"}class Qn{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Be(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Be(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Be(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Be(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Qn.fromMillis(Date.now())}static fromDate(t){return Qn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Qn(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new Qn(0,0))}static max(){return new Nt(new Qn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class i_{constructor(t,e,i){void 0===e?e=0:e>t.length&&ut(),void 0===i?i=t.length-e:i>t.length-e&&ut(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===i_.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof i_?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class pn extends i_{construct(t,e,i){return new pn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Be(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new pn(e)}static emptyPath(){return new pn([])}}const c0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Di extends i_{construct(t,e,i){return new Di(t,e,i)}static isValidIdentifier(t){return c0.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Di.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Di(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Be(me.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Be(me.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Be(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Be(me.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Di(e)}static emptyPath(){return new Di([])}}class et{constructor(t){this.path=t}static fromPath(t){return new et(pn.fromString(t))}static fromName(t){return new et(pn.fromString(t).popFirst(5))}static empty(){return new et(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===pn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return pn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new pn(t.slice()))}}class r_{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function s_(n){return n.fields.find(t=>2===t.kind)}function fl(n){return n.fields.filter(t=>2!==t.kind)}r_.UNKNOWN_ID=-1;class Pf{constructor(t,e){this.fieldPath=t,this.kind=e}}class lh{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new lh(0,zs.min())}}function dI(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Nt.fromTimestamp(1e9===i?new Qn(e+1,0):new Qn(e,i));return new zs(r,et.empty(),t)}function hI(n){return new zs(n.readTime,n.key,-1)}class zs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new zs(Nt.min(),et.empty(),-1)}static max(){return new zs(Nt.max(),et.empty(),-1)}}function u0(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=et.comparator(n.documentKey,t.documentKey),0!==e?e:Jt(n.largestBatchId,t.largestBatchId))}const d0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function gl(n){return h0.apply(this,arguments)}function h0(){return h0=(0,Ie.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==d0)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),h0.apply(this,arguments)}class ge{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ge((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ge?e:ge.resolve(e)}catch(e){return ge.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.reject(e)}static resolve(t){return new ge((e,i)=>{e(t)})}static reject(t){return new ge((e,i)=>{i(t)})}static waitFor(t){return new ge((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},g=>i(g))}),u=!0,o===r&&e()})}static or(t){let e=ge.resolve(!1);for(const i of t)e=e.next(r=>r?ge.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ge((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let g=0;g<o;g++){const y=g;e(t[y]).next(w=>{u[y]=w,++h,h===o&&i(u)},w=>r(w))}})}static doWhile(t,e){return new ge((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class p0{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new pr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new ch(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=g0(i.target.error);this.P.reject(new ch(t,r))}}static open(t,e,i,r){try{return new p0(e,t.transaction(r,i))}catch(o){throw new ch(e,o)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||($e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new pI(e)}}class ko{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===ko.D((0,cn.z$)())&&Bi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $e("SimpleDb","Removing database:",t),pc(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,cn.hl)())return!1;if(ko.N())return!0;const t=(0,cn.z$)(),e=ko.D(t),i=0<e&&e<10,r=ko.k(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,Ie.Z)(function*(){return e.db||($e("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new ch(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Be(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Be(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new ch(t,h))},o.onupgradeneeded=u=>{$e("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.S.$(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{$e("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Ie.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.F(t);const g=p0.open(o.db,t,u?"readonly":"readwrite",i),y=r(g).next(w=>(g.V(),w)).catch(w=>(g.abort(w),ge.reject(w))).toPromise();return y.catch(()=>{}),yield g.v,y}catch(g){const y=g,w="FirebaseError"!==y.name&&h<3;if($e("SimpleDb","Transaction failed with error:",y.message,"Retrying:",w),o.close(),!w)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class kD{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return pc(this.q.delete())}}class ch extends Be{constructor(t,e){super(me.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ml(n){return"IndexedDbTransactionError"===n.name}class pI{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?($e("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),pc(i)}add(t){return $e("SimpleDb","ADD",this.store.name,t,t),pc(this.store.add(t))}get(t){return pc(this.store.get(t)).next(e=>(void 0===e&&(e=null),$e("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $e("SimpleDb","DELETE",this.store.name,t),pc(this.store.delete(t))}count(){return $e("SimpleDb","COUNT",this.store.name),pc(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.H(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ge((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ge((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(t,e){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(o,u,h)=>h.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new ge((i,r)=>{e.onerror=o=>{const u=g0(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(t,e){const i=[];return new ge((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const g=new kD(h),y=e(h.primaryKey,h.value,g);if(y instanceof ge){const w=y.catch(S=>(g.done(),ge.reject(S)));i.push(w)}g.isDone?r():null===g.G?h.continue():h.continue(g.G)}}).next(()=>ge.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function pc(n){return new ge((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=g0(i.target.error);e(r)}})}let f0=!1;function g0(n){const t=ko.D((0,cn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return f0||(f0=!0,setTimeout(()=>{throw i},0)),i}}return n}class RD{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;$e("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ie.Z)(function*(){e.task=null;try{$e("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){ml(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield gl(i)}yield e.nt(6e4)}))}}class FD{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Ie.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,o=!0;return ge.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return $e("IndexBackiller",`Processing collection: ${u}`),this.rt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.ot(r,o)).next(h=>($e("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=hI(o);u0(u,i)>0&&(i=u)}),new zs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Ws=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}return n.at=-1,n})();class fI{constructor(t,e,i,r,o,u,h,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class fo{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof fo&&t.projectId===this.projectId&&t.database===this.database}}function m0(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function fc(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function _0(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function uh(n){return null==n}function dh(n){return 0===n&&1/n==-1/0}function y0(n){return"number"==typeof n&&Number.isInteger(n)&&!dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Or{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Or(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Or(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Or.EMPTY_BYTE_STRING=new Or("");const gI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _l(n){if(Dt(!!n),"string"==typeof n){let t=0;const e=gI.exec(n);if(Dt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fi(n.seconds),nanos:fi(n.nanos)}}function fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Su(n){return"string"==typeof n?Or.fromBase64String(n):Or.fromUint8Array(n)}function v0(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function hh(n){const t=n.mapValue.fields.__previous_value__;return v0(t)?hh(t):t}function kf(n){const t=_l(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(t.seconds,t.nanos)}const ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qs={nullValue:"NULL_VALUE"};function xu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?v0(n)?4:o_(n)?9007199254740991:10:ut()}function go(n,t){if(n===t)return!0;const e=xu(n);if(e!==xu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return kf(n).isEqual(kf(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=_l(i.timestampValue),u=_l(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Su(n.bytesValue).isEqual(Su(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return fi(i.geoPointValue.latitude)===fi(r.geoPointValue.latitude)&&fi(i.geoPointValue.longitude)===fi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return fi(i.integerValue)===fi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=fi(i.doubleValue),u=fi(r.doubleValue);return o===u?dh(o)===dh(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return Tu(n.arrayValue.values||[],t.arrayValue.values||[],go);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(m0(o)!==m0(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!go(o[h],u[h])))return!1;return!0}(n,t);default:return ut()}var r}function yl(n,t){return void 0!==(n.values||[]).find(e=>go(e,t))}function gc(n,t){if(n===t)return 0;const e=xu(n),i=xu(t);if(e!==i)return Jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=fi(r.integerValue||r.doubleValue),h=fi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return mI(n.timestampValue,t.timestampValue);case 4:return mI(kf(n),kf(t));case 5:return Jt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Su(r),h=Su(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let g=0;g<u.length&&g<h.length;g++){const y=Jt(u[g],h[g]);if(0!==y)return y}return Jt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Jt(fi(r.latitude),fi(o.latitude));return 0!==u?u:Jt(fi(r.longitude),fi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let g=0;g<u.length&&g<h.length;++g){const y=gc(u[g],h[g]);if(y)return y}return Jt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===ba.mapValue&&o===ba.mapValue)return 0;if(r===ba.mapValue)return 1;if(o===ba.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),g=o.fields||{},y=Object.keys(g);h.sort(),y.sort();for(let w=0;w<h.length&&w<y.length;++w){const S=Jt(h[w],y[w]);if(0!==S)return S;const M=gc(u[h[w]],g[y[w]]);if(0!==M)return M}return Jt(h.length,y.length)}(n.mapValue,t.mapValue);default:throw ut()}}function mI(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Jt(n,t);const e=_l(n),i=_l(t),r=Jt(e.seconds,i.seconds);return 0!==r?r:Jt(e.nanos,i.nanos)}function ph(n){return fh(n)}function fh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=_l(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Su(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=fh(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${fh(i.fields[h])}`;return o+"}"}(n.mapValue):ut();var t}function wa(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function b0(n){return!!n&&"integerValue"in n}function Rf(n){return!!n&&"arrayValue"in n}function w0(n){return!!n&&"nullValue"in n}function I0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gh(n){return!!n&&"mapValue"in n}function mh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return fc(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=mh(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function o_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function E0(n){return"nullValue"in n?qs:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?wa(fo.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function _I(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?wa(fo.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ba:ut()}function a_(n,t){const e=gc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function l_(n,t){const e=gc(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class mc{constructor(t,e){this.position=t,this.inclusive=e}}function yI(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?et.comparator(et.fromName(u.referenceValue),e.key):gc(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function vI(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!go(n.position[e],t.position[e]))return!1;return!0}class bI{}class un extends bI{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new II(t,e,i):"array-contains"===e?new VD(t,i):"in"===e?new CI(t,i):"not-in"===e?new OO(t,i):"array-contains-any"===e?new NO(t,i):new un(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new EI(t,i):new ls(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(gc(e,this.value)):null!==e&&xu(this.value)===xu(e)&&this.matchesComparison(gc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class En extends bI{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new En(t,e)}matches(t){return Au(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Au(n){return"and"===n.op}function c_(n){return"or"===n.op}function u_(n){return C0(n)&&Au(n)}function C0(n){for(const t of n.filters)if(t instanceof En)return!1;return!0}function T0(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+ph(n.value);if(u_(n))return n.filters.map(t=>T0(t)).join(",");{const t=n.filters.map(e=>T0(e)).join(",");return`${n.op}(${t})`}}function D0(n,t){return n instanceof un?(e=n,(i=t)instanceof un&&e.op===i.op&&e.field.isEqual(i.field)&&go(e.value,i.value)):n instanceof En?function(e,i){return i instanceof En&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,u)=>r&&D0(o,i.filters[u]),!0)}(n,t):void ut();var e,i}function S0(n,t){const e=n.filters.concat(t);return En.create(e,n.op)}function wI(n){return n instanceof un?`${(t=n).field.canonicalString()} ${t.op} ${ph(t.value)}`:n instanceof En?function(t){return t.op.toString()+" {"+t.getFilters().map(wI).join(" ,")+"}"}(n):"Filter";var t}class II extends un{constructor(t,e,i){super(t,e,i),this.key=et.fromName(i.referenceValue)}matches(t){const e=et.comparator(t.key,this.key);return this.matchesComparison(e)}}class EI extends un{constructor(t,e){super(t,"in",e),this.keys=Mu(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class ls extends un{constructor(t,e){super(t,"not-in",e),this.keys=Mu(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Mu(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>et.fromName(i.referenceValue))}class VD extends un{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Rf(e)&&yl(e.arrayValue,this.value)}}class CI extends un{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&yl(this.value.arrayValue,e)}}class OO extends un{constructor(t,e){super(t,"not-in",e)}matches(t){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!yl(this.value.arrayValue,e)}}class NO extends un{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Rf(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>yl(this.value.arrayValue,i))}}class Ou{constructor(t,e="asc"){this.field=t,this.dir=e}}function TI(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Wn{constructor(t,e){this.comparator=t,this.root=e||fr.EMPTY}insert(t,e){return new Wn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(t){return new Wn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new d_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new d_(this.root,t,this.comparator,!1)}getReverseIterator(){return new d_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new d_(this.root,t,this.comparator,!0)}}class d_{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??fr.RED,this.left=r??fr.EMPTY,this.right=o??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new fr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const t=this.left.check();if(t!==this.right.check())throw ut();return t+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1,fr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,t,e,i,r){return this}insert(n,t,e){return new fr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(t){this.comparator=t,this.data=new Wn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(t){return new x0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof On)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new On(this.comparator);return e.data=t,e}}class x0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _h(n){return n.hasNext()?n.getNext():void 0}class Ds{constructor(t){this.fields=t,t.sort(Di.comparator)}static empty(){return new Ds([])}unionWith(t){let e=new On(Di.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ds(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Tu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Hr{constructor(t){this.value=t}static empty(){return new Hr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!gh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mh(e)}setAll(t){let e=Di.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=mh(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());gh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return go(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];gh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){fc(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Hr(mh(this.value))}}function h_(n){const t=[];return fc(n.fields,(e,i)=>{const r=new Di([e]);if(gh(i)){const o=h_(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Ds(t)}class qn{constructor(t,e,i,r,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new qn(t,0,Nt.min(),Nt.min(),Nt.min(),Hr.empty(),0)}static newFoundDocument(t,e,i,r){return new qn(t,1,e,Nt.min(),i,r,0)}static newNoDocument(t,e){return new qn(t,2,e,Nt.min(),Nt.min(),Hr.empty(),0)}static newUnknownDocument(t,e){return new qn(t,3,e,Nt.min(),Nt.min(),Hr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof qn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class DI{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ft=null}}function yh(n,t=null,e=[],i=[],r=null,o=null,u=null){return new DI(n,t,e,i,r,o,u)}function vl(n){const t=nt(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>T0(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),uh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ph(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ph(i)).join(",")),t.ft=e}return t.ft}function p_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!TI(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!D0(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!vI(n.startAt,t.startAt)&&vI(n.endAt,t.endAt)}function Ff(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function f_(n,t){return n.filters.filter(e=>e instanceof un&&e.field.isEqual(t))}function A0(n,t,e){let i=qs,r=!0;for(const o of f_(n,t)){let u=qs,h=!0;switch(o.op){case"<":case"<=":u=E0(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=qs}a_({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];a_({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function Nu(n,t,e){let i=ba,r=!0;for(const o of f_(n,t)){let u=ba,h=!0;switch(o.op){case">=":case">":u=_I(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=ba}l_({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];l_({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class bl{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=g,this.dt=null,this._t=null}}function M0(n,t,e,i,r,o,u,h){return new bl(n,t,e,i,r,o,u,h)}function _c(n){return new bl(n)}function BD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function O0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function N0(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function P0(n){return null!==n.collectionGroup}function Pu(n){const t=nt(n);if(null===t.dt){t.dt=[];const e=N0(t),i=O0(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new Ou(e)),t.dt.push(new Ou(Di.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Ou(Di.keyField(),o))}}}return t.dt}function cs(n){const t=nt(n);if(!t._t)if("F"===t.limitType)t._t=yh(t.path,t.collectionGroup,Pu(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Pu(t))e.push(new Ou(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new mc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mc(t.startAt.position,t.startAt.inclusive):null;t._t=yh(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function g_(n,t){t.getFirstInequalityField(),N0(n);const e=n.filters.concat([t]);return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Lf(n,t,e){return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Vf(n,t){return p_(cs(n),cs(t))&&n.limitType===t.limitType}function k0(n){return`${vl(cs(n))}|lt:${n.limitType}`}function m_(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>wI(i)).join(", ")}]`),uh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ph(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ph(i)).join(",")),`Target(${e})`}(cs(n))}; limitType=${n.limitType})`}function Bf(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):et.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Pu(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=yI(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,Pu(e),i)||e.endAt&&!function(r,o,u){const h=yI(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,Pu(e),i)));var e,i}function SI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R0(n){return(t,e)=>{let i=!1;for(const r of Pu(n)){const o=UD(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function UD(n,t,e){const i=n.field.isKeyField()?et.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),g=u.data.field(r);return null!==h&&null!==g?gc(h,g):ut()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function F0(n,t){if(n.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(t)?"-0":t}}function L0(n){return{integerValue:""+n}}function V0(n,t){return y0(t)?L0(t):F0(n,t)}class Uf{constructor(){this._=void 0}}function HD(n,t,e){return n instanceof ku?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof vh?jD(n,t):n instanceof bh?zD(n,t):function(i,r){const o=$D(i,r),u=WD(o)+WD(i.gt);return b0(o)&&b0(i.gt)?L0(u):F0(i.yt,u)}(n,t)}function GD(n,t,e){return n instanceof vh?jD(n,t):n instanceof bh?zD(n,t):e}function $D(n,t){return n instanceof Hf?b0(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class ku extends Uf{}class vh extends Uf{constructor(t){super(),this.elements=t}}function jD(n,t){const e=qD(t);for(const i of n.elements)e.some(r=>go(r,i))||e.push(i);return{arrayValue:{values:e}}}class bh extends Uf{constructor(t){super(),this.elements=t}}function zD(n,t){let e=qD(t);for(const i of n.elements)e=e.filter(r=>!go(r,i));return{arrayValue:{values:e}}}class Hf extends Uf{constructor(t,e){super(),this.yt=t,this.gt=e}}function WD(n){return fi(n.integerValue||n.doubleValue)}function qD(n){return Rf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class __{constructor(t,e){this.field=t,this.transform=e}}class PO{constructor(t,e){this.version=t,this.transformResults=e}}class Xn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ru(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Gf{}function B0(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new wl(n.key,Xn.none()):new Lu(n.key,n.data,Xn.none());{const e=n.data,i=Hr.empty();let r=new On(Di.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new yc(n.key,i,new Ds(r.toArray()),Xn.none())}}function kO(n,t,e){n instanceof Lu?function(i,r,o){const u=i.value.clone(),h=OI(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof yc?function(i,r,o){if(!Ru(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=OI(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(MI(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Fu(n,t,e,i){return n instanceof Lu?function(r,o,u,h){if(!Ru(r.precondition,o))return u;const g=r.value.clone(),y=NI(r.fieldTransforms,h,o);return g.setAll(y),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof yc?function(r,o,u,h){if(!Ru(r.precondition,o))return u;const g=NI(r.fieldTransforms,h,o),y=o.data;return y.setAll(MI(r)),y.setAll(g),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,t,e,i):(u=e,Ru(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function xI(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=$D(i.transform,r||null);null!=o&&(null===e&&(e=Hr.empty()),e.set(i.field,o))}return e||null}function AI(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Tu(e,i,(r,o)=>function y_(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof vh&&i instanceof vh||e instanceof bh&&i instanceof bh?Tu(e.elements,i.elements,go):e instanceof Hf&&i instanceof Hf?go(e.gt,i.gt):e instanceof ku&&i instanceof ku);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Lu extends Gf{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class yc extends Gf{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function MI(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function OI(n,t,e){const i=new Map;Dt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,GD(u,h,e[r]))}return i}function NI(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,HD(o,u,t))}return i}class wl extends Gf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U0 extends Gf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RO{constructor(t){this.count=t}}var gr,mn;function PI(n){switch(n){default:return ut();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function kI(n){if(void 0===n)return Bi("GRPC error has no .code"),me.UNKNOWN;switch(n){case gr.OK:return me.OK;case gr.CANCELLED:return me.CANCELLED;case gr.UNKNOWN:return me.UNKNOWN;case gr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case gr.INTERNAL:return me.INTERNAL;case gr.UNAVAILABLE:return me.UNAVAILABLE;case gr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case gr.NOT_FOUND:return me.NOT_FOUND;case gr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case gr.ABORTED:return me.ABORTED;case gr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case gr.DATA_LOSS:return me.DATA_LOSS;default:return ut()}}(mn=gr||(gr={}))[mn.OK=0]="OK",mn[mn.CANCELLED=1]="CANCELLED",mn[mn.UNKNOWN=2]="UNKNOWN",mn[mn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mn[mn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mn[mn.NOT_FOUND=5]="NOT_FOUND",mn[mn.ALREADY_EXISTS=6]="ALREADY_EXISTS",mn[mn.PERMISSION_DENIED=7]="PERMISSION_DENIED",mn[mn.UNAUTHENTICATED=16]="UNAUTHENTICATED",mn[mn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mn[mn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mn[mn.ABORTED=10]="ABORTED",mn[mn.OUT_OF_RANGE=11]="OUT_OF_RANGE",mn[mn.UNIMPLEMENTED=12]="UNIMPLEMENTED",mn[mn.INTERNAL=13]="INTERNAL",mn[mn.UNAVAILABLE=14]="UNAVAILABLE",mn[mn.DATA_LOSS=15]="DATA_LOSS";class vc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){fc(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return _0(this.inner)}size(){return this.innerSize}}const FO=new Wn(et.comparator);function Ss(){return FO}const H0=new Wn(et.comparator);function wh(...n){let t=H0;for(const e of n)t=t.insert(e.key,e);return t}function ZD(n){let t=H0;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Qi(){return Vu()}function RI(){return Vu()}function Vu(){return new vc(n=>n.toString(),(n,t)=>n.isEqual(t))}const YD=new Wn(et.comparator),LO=new On(et.comparator);function Ft(...n){let t=LO;for(const e of n)t=t.add(e);return t}const KD=new On(Jt);function Ih(){return KD}class $f{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,jf.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new $f(Nt.min(),r,Ih(),Ss(),Ft())}}class jf{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new jf(i,e,Ft(),Ft(),Ft())}}class Eh{constructor(t,e,i,r){this.It=t,this.removedTargetIds=e,this.key=i,this.Tt=r}}class G0{constructor(t,e){this.targetId=t,this.Et=e}}class $0{constructor(t,e,i=Or.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class FI{constructor(){this.At=0,this.Rt=VI(),this.bt=Or.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=Ft(),e=Ft(),i=Ft();return this.Rt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new jf(this.bt,this.Pt,t,e,i)}xt(){this.vt=!1,this.Rt=VI()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class LI{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=Ss(),this.qt=j0(),this.Ut=new On(Jt)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,e=>{const i=this.Wt(e);switch(t.state){case 0:this.zt(e)&&i.Dt(t.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(t.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(i.Ft(),i.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),i.Dt(t.resumeToken));break;default:ut()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach((i,r)=>{this.zt(r)&&e(r)})}Jt(t){const e=t.targetId,i=t.Et.count,r=this.Yt(e);if(r){const o=r.target;if(Ff(o))if(0===i){const u=new et(o.path);this.Qt(e,u,qn.newNoDocument(u,Nt.min()))}else Dt(1===i);else this.Xt(e)!==i&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach((o,u)=>{const h=this.Yt(u);if(h){if(o.current&&Ff(h.target)){const g=new et(h.target.path);null!==this.Lt.get(g)||this.te(u,g)||this.Qt(u,g,qn.newNoDocument(g,t))}o.St&&(e.set(u,o.Ct()),o.xt())}});let i=Ft();this.qt.forEach((o,u)=>{let h=!0;u.forEachWhile(g=>{const y=this.Yt(g);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Lt.forEach((o,u)=>u.setReadTime(t));const r=new $f(t,e,this.Ut,this.Lt,i);return this.Lt=Ss(),this.qt=j0(),this.Ut=new On(Jt),r}Gt(t,e){if(!this.zt(t))return;const i=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,i),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,i){if(!this.zt(t))return;const r=this.Wt(t);this.te(t,e)?r.Nt(e,1):r.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),i&&(this.Lt=this.Lt.insert(e,i))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new FI,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new On(Jt),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new FI),this.$t.getRemoteKeysForTarget(t).forEach(e=>{this.Qt(t,e,null)})}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function j0(){return new Wn(et.comparator)}function VI(){return new Wn(et.comparator)}const BI={asc:"ASCENDING",desc:"DESCENDING"},JD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z0={and:"AND",or:"OR"};class bc{constructor(t,e){this.databaseId=t,this.wt=e}}function Bu(n,t){return n.wt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function v_(n,t){return n.wt?t.toBase64():t.toUint8Array()}function Il(n,t){return Bu(n,t.toTimestamp())}function Ui(n){return Dt(!!n),Nt.fromTimestamp(function(t){const e=_l(t);return new Qn(e.seconds,e.nanos)}(n))}function UI(n,t){return(e=n,new pn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function HI(n){const t=pn.fromString(n);return Dt(jI(t)),t}function zf(n,t){return UI(n.databaseId,t.path)}function Ia(n,t){const e=HI(t);if(e.get(1)!==n.databaseId.projectId)throw new Be(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Be(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new et(Z0(e))}function W0(n,t){return UI(n.databaseId,t)}function q0(n){const t=HI(n);return 4===t.length?pn.emptyPath():Z0(t)}function b_(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z0(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GI(n,t,e){return{name:zf(n,t),fields:e.value.mapValue.fields}}function Y0(n,t,e){const i=Ia(n,t.name),r=Ui(t.updateTime),o=t.createTime?Ui(t.createTime):Nt.min(),u=new Hr({mapValue:{fields:t.fields}}),h=qn.newFoundDocument(i,r,o,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function Ch(n,t){let e;if(t instanceof Lu)e={update:GI(n,t.key,t.value)};else if(t instanceof wl)e={delete:zf(n,t.key)};else if(t instanceof yc)e={update:GI(n,t.key,t.data),updateMask:eS(t.fieldMask)};else{if(!(t instanceof U0))return ut();e={verify:zf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof ku)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof vh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof bh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hf)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw ut()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:Il(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),e;var r}function w_(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Xn.updateTime(Ui(r.updateTime)):void 0!==r.exists?Xn.exists(r.exists):Xn.none():Xn.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(Dt("REQUEST_TIME"===u.setToServerValue),h=new ku):"appendMissingElements"in u?h=new vh(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new bh(u.removeAllFromArray.values||[]):"increment"in u?h=new Hf(o,u.increment):ut();const g=Di.fromServerFormat(u.fieldPath);return new __(g,h)}(n,r)):[];var r;if(t.update){const r=Ia(n,t.update.name),o=new Hr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Ds((t.updateMask.fieldPaths||[]).map(y=>Di.fromServerFormat(y)));return new yc(r,o,u,e,i)}return new Lu(r,o,e,i)}if(t.delete){const r=Ia(n,t.delete);return new wl(r,e)}if(t.verify){const r=Ia(n,t.verify);return new U0(r,e)}return ut()}function J0(n,t){return{documents:[W0(n,t.path)]}}function I_(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=W0(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=W0(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return X0(En.create(g,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(g){if(0!==g.length)return g.map(y=>{return{field:qf((w=y).field),direction:QD(w.dir)};var w})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(y=t.limit,n.wt||uh(y)?y:{value:y});var y,h,g;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function Wf(n){let t=q0(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Dt(1===i);const w=e.from[0];w.allDescendants?r=w.collectionId:t=t.child(w.collectionId)}let o=[];e.where&&(o=function(w){const S=Q0(w);return S instanceof En&&u_(S)?S.getFilters():[S]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(w=>{return new Ou(Zf((S=w).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;e.limit&&(h=function(w){let S;return S="object"==typeof w?w.value:w,uh(S)?null:S}(e.limit));let g=null;var w;e.startAt&&(g=new mc((w=e.startAt).values||[],!!w.before));let y=null;return e.endAt&&(y=function(w){return new mc(w.values||[],!w.before)}(e.endAt)),M0(t,r,u,o,h,"F",g,y)}function Q0(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Zf(t.unaryFilter.field);return un.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=Zf(t.unaryFilter.field);return un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zf(t.unaryFilter.field);return un.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zf(t.unaryFilter.field);return un.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?un.create(Zf((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return En.create(t.compositeFilter.filters.map(e=>Q0(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ut()}}(t.compositeFilter.op))}(n):ut();var t}function QD(n){return BI[n]}function XD(n){return JD[n]}function BO(n){return z0[n]}function qf(n){return{fieldPath:n.canonicalString()}}function Zf(n){return Di.fromServerFormat(n.fieldPath)}function X0(n){return n instanceof un?function(t){if("=="===t.op){if(I0(t.value))return{unaryFilter:{field:qf(t.field),op:"IS_NAN"}};if(w0(t.value))return{unaryFilter:{field:qf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(I0(t.value))return{unaryFilter:{field:qf(t.field),op:"IS_NOT_NAN"}};if(w0(t.value))return{unaryFilter:{field:qf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qf(t.field),op:XD(t.op),value:t.value}}}(n):n instanceof En?function(t){const e=t.getFilters().map(i=>X0(i));return 1===e.length?e[0]:{compositeFilter:{op:BO(t.op),filters:e}}}(n):ut()}function eS(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function jI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function us(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=tS(t)),t=UO(n.get(e),t);return tS(t)}function UO(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function tS(n){return n+"\x01\x01"}function El(n){const t=n.length;if(Dt(t>=2),2===t)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&ut(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let g;0===r.length?g=h:(r+=h,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:ut()}o=u+2}return new pn(i)}const nS=["userId","batchId"];function eb(n,t){return[n,us(t)]}function zI(n,t,e){return[n,us(t),e]}const C_={},iS=["prefixPath","collectionGroup","readTime","documentId"],rS=["prefixPath","collectionGroup","documentId"],WI=["collectionGroup","readTime","prefixPath","documentId"],Uu=["canonicalId","targetId"],qI=["targetId","path"],tb=["path","targetId"],nb=["collectionId","parent"],sS=["indexId","uid"],ib=["uid","sequenceNumber"],rb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],T_=["indexId","uid","orderedDocumentKey"],HO=["userId","collectionPath","documentId"],GO=["userId","collectionPath","largestBatchId"],$O=["userId","collectionGroup","largestBatchId"],oS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ZI=[...oS,"documentOverlays"],YI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KI=YI,aS=[...KI,"indexConfiguration","indexState","indexEntries"];class sb extends PD{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function mr(n,t){const e=nt(n);return ko.M(e.se,t)}class D_{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&kO(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Fu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Fu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=RI();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const g=B0(u,h);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(Nt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Ft())}isEqual(t){return this.batchId===t.batchId&&Tu(this.mutations,t.mutations,(e,i)=>AI(e,i))&&Tu(this.baseMutations,t.baseMutations,(e,i)=>AI(e,i))}}class S_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Dt(t.mutations.length===i.length);let r=YD;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new S_(t,e,i,r)}}class ob{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wc{constructor(t,e,i,r,o=Nt.min(),u=Nt.min(),h=Or.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new wc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new wc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new wc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class ab{constructor(t){this.ie=t}}function lS(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Yf(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:zf(r=n.ie,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Bu(r,o.version.toTimestamp()),createTime:Bu(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Cl(t.version)};else{if(!t.isUnknownDocument())return ut();i.unknownDocument={path:e.path.toArray(),version:Cl(t.version)}}var r,o;return i}function Yf(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Cl(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Hu(n){const t=new Qn(n.seconds,n.nanoseconds);return Nt.fromTimestamp(t)}function Gu(n,t){const e=(t.baseMutations||[]).map(o=>w_(n.ie,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>w_(n.ie,o)),r=Qn.fromMillis(t.localWriteTimeMs);return new D_(t.batchId,r,e,i)}function x_(n){const t=Hu(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Hu(n.lastLimboFreeSnapshotVersion):Nt.min();let i;var r;return void 0!==n.query.documents?(Dt(1===(r=n.query).documents.length),i=cs(_c(q0(r.documents[0])))):i=cs(Wf(n.query)),new wc(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Or.fromBase64String(n.resumeToken))}function cS(n,t){const e=Cl(t.snapshotVersion),i=Cl(t.lastLimboFreeSnapshotVersion);let r;r=Ff(t.target)?J0(n.ie,t.target):I_(n.ie,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:vl(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function cb(n){const t=Wf({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Lf(t,t.limit,"L"):t}function ub(n,t){return new ob(t.largestBatchId,w_(n.ie,t.overlayMutation))}function JI(n,t){const e=t.path.lastSegment();return[n,us(t.path.popLast()),e]}function uS(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Cl(i.readTime),documentKey:us(i.documentKey.path),largestBatchId:i.largestBatchId}}class jO{getBundleMetadata(t,e){return dS(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Hu(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return dS(t).put({bundleId:(i=e).id,createTime:Cl(Ui(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return hS(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:cb(r.bundledQuery),readTime:Hu(r.readTime)};var r})}saveNamedQuery(t,e){return hS(t).put({name:(i=e).name,readTime:Cl(Ui(i.readTime)),bundledQuery:i.bundledQuery});var i}}function dS(n){return mr(n,"bundles")}function hS(n){return mr(n,"namedQueries")}class db{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){return new db(t,e.uid||"")}getOverlay(t,e){return Kf(t).get(JI(this.userId,e)).next(i=>i?ub(this.yt,i):null)}getOverlays(t,e){const i=Qi();return ge.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new ob(e,u);r.push(this.oe(t,h))}),ge.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(us(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(Kf(t).Y("collectionPathOverlayIndex",h))}),ge.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Qi(),o=us(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Kf(t).W("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const y=ub(this.yt,g);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Qi();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Kf(t).Z({index:"collectionGroupOverlayIndex",range:h},(g,y,w)=>{const S=ub(this.yt,y);o.size()<r||S.largestBatchId===u?(o.set(S.getKey(),S),u=S.largestBatchId):w.done()}).next(()=>o)}oe(t,e){return Kf(t).put(function(i,r,o){const[u,h,g]=JI(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ch(i.ie,o.mutation)}}(this.yt,this.userId,e))}}function Kf(n){return mr(n,"documentOverlays")}class Th{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le(fi(t.integerValue));else if("doubleValue"in t){const i=fi(t.doubleValue);isNaN(i)?this.he(e,13):(this.he(e,15),dh(i)?e.le(0):e.le(i))}else if("timestampValue"in t){const i=t.timestampValue;this.he(e,20),"string"==typeof i?e.fe(i):(e.fe(`${i.seconds||""}`),e.le(i.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(Su(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.he(e,45),e.le(i.latitude||0),e.le(i.longitude||0)}else"mapValue"in t?o_(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):ut()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const i=t.fields||{};this.he(e,55);for(const r of Object.keys(i))this.de(r,e),this.ce(i[r],e)}ye(t,e){const i=t.values||[];this.he(e,50);for(const r of i)this.ce(r,e)}me(t,e){this.he(e,37),et.fromName(t).path.forEach(i=>{this.he(e,60),this.pe(i,e)})}he(t,e){t.le(e)}_e(t){t.le(2)}}function zO(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function pS(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=zO(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Th.Ie=new Th;class WO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ee(i.value),i=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.be(i.value),i=e.next();this.Pe()}ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=e.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=e.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(t){const e=this.De(t),i=pS(e);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}xe(t){const e=this.De(t),i=pS(e);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class fS{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class qO{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class a{constructor(){this.$e=new WO,this.Be=new fS(this.$e),this.Le=new qO(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class l{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new l(this.indexId,this.documentKey,this.arrayValue,i)}}function c(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=d(n.arrayValue,t.arrayValue),0!==e?e:(e=d(n.directionalValue,t.directionalValue),0!==e?e:et.comparator(n.documentKey,t.documentKey)))}function d(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class p{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const i=e;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(t){Dt(t.collectionGroup===this.collectionId);const e=s_(t);if(void 0!==e&&!this.We(e))return!1;const i=fl(t);let r=0,o=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const u=i[r];if(!this.ze(this.Qe,u)||!this.He(this.Ke[o++],u))return!1;++r}for(;r<i.length;++r)if(o>=this.Ke.length||!this.He(this.Ke[o++],i[r]))return!1;return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function f(n){var t,e;if(Dt(n instanceof un||n instanceof En),n instanceof un){if(n instanceof CI){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>un.create(n.field,"==",o)))||[];return En.create(r,"or")}return n}const i=n.filters.map(r=>f(r));return En.create(i,n.op)}function v(n){if(0===n.getFilters().length)return[];const t=N(f(n));return Dt(x(t)),I(t)||C(t)?[t]:t.getFilters()}function I(n){return n instanceof un}function C(n){return n instanceof En&&u_(n)}function x(n){return I(n)||C(n)||function(t){if(t instanceof En&&c_(t)){for(const e of t.getFilters())if(!I(e)&&!C(e))return!1;return!0}return!1}(n)}function N(n){if(Dt(n instanceof un||n instanceof En),n instanceof un)return n;if(1===n.filters.length)return N(n.filters[0]);const t=n.filters.map(i=>N(i));let e=En.create(t,n.op);return e=ce(e),x(e)?e:(Dt(e instanceof En),Dt(Au(e)),Dt(e.filters.length>1),e.filters.reduce((i,r)=>V(i,r)))}function V(n,t){let e;return Dt(n instanceof un||n instanceof En),Dt(t instanceof un||t instanceof En),e=n instanceof un?t instanceof un?En.create([n,t],"and"):Q(n,t):t instanceof un?Q(t,n):function(i,r){if(Dt(i.filters.length>0&&r.filters.length>0),Au(i)&&Au(r))return S0(i,r.getFilters());const o=c_(i)?i:r,u=c_(i)?r:i,h=o.filters.map(g=>V(g,u));return En.create(h,"or")}(n,t),ce(e)}function Q(n,t){if(Au(t))return S0(t,n.getFilters());{const e=t.filters.map(i=>V(n,i));return En.create(e,"or")}}function ce(n){if(Dt(n instanceof un||n instanceof En),n instanceof un)return n;const t=n.getFilters();if(1===t.length)return ce(t[0]);if(C0(n))return n;const e=t.map(r=>ce(r)),i=[];return e.forEach(r=>{r instanceof un?i.push(r):r instanceof En&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:En.create(i,n.op)}class Ae{constructor(){this.Je=new qe}addToCollectionParentIndex(t,e){return this.Je.add(e),ge.resolve()}getCollectionParents(t,e){return ge.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return ge.resolve()}deleteFieldIndex(t,e){return ge.resolve()}getDocumentsMatchingTarget(t,e){return ge.resolve(null)}getIndexType(t,e){return ge.resolve(0)}getFieldIndexes(t,e){return ge.resolve([])}getNextCollectionGroupToUpdate(t){return ge.resolve(null)}getMinOffset(t,e){return ge.resolve(zs.min())}getMinOffsetFromCollectionGroup(t,e){return ge.resolve(zs.min())}updateCollectionGroup(t,e,i){return ge.resolve()}updateIndexEntries(t,e){return ge.resolve()}}class qe{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new On(pn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new On(pn.comparator)).toArray()}}const tt=new Uint8Array(0);class yt{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new qe,this.Xe=new vc(i=>vl(i),(i,r)=>p_(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ye.add(e)});const o={collectionId:i,parent:us(r)};return Vt(t).put(o)}return ge.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Du(e),""],!1,!0);return Vt(t).W(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(El(u.parent))}return i})}addFieldIndex(t,e){const i=qt(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=Nn(t);return o.next(h=>{u.put(uS(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=qt(t),r=Nn(t),o=Ue(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Ue(t);let r=!0;const o=new Map;return ge.forEach(this.Ze(e),u=>this.tn(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Ft();const h=[];return ge.forEach(o,(g,y)=>{var w;$e("IndexedDbIndexManager",`Using index ${w=g,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${vl(e)}`);const S=function(je,He){const We=s_(He);if(void 0===We)return null;for(const Ke of f_(je,We.fieldPath))switch(Ke.op){case"array-contains-any":return Ke.value.arrayValue.values||[];case"array-contains":return[Ke.value]}return null}(y,g),M=function(je,He){const We=new Map;for(const Ke of fl(He))for(const xt of f_(je,Ke.fieldPath))switch(xt.op){case"==":case"in":We.set(Ke.fieldPath.canonicalString(),xt.value);break;case"not-in":case"!=":return We.set(Ke.fieldPath.canonicalString(),xt.value),Array.from(We.values())}return null}(y,g),R=function(je,He){const We=[];let Ke=!0;for(const xt of fl(He)){const rn=0===xt.kind?A0(je,xt.fieldPath,je.startAt):Nu(je,xt.fieldPath,je.startAt);We.push(rn.value),Ke&&(Ke=rn.inclusive)}return new mc(We,Ke)}(y,g),U=function(je,He){const We=[];let Ke=!0;for(const xt of fl(He)){const rn=0===xt.kind?Nu(je,xt.fieldPath,je.endAt):A0(je,xt.fieldPath,je.endAt);We.push(rn.value),Ke&&(Ke=rn.inclusive)}return new mc(We,Ke)}(y,g),K=this.en(g,y,R),te=this.en(g,y,U),_e=this.nn(g,y,M),Pe=this.sn(g.indexId,S,K,R.inclusive,te,U.inclusive,_e);return ge.forEach(Pe,je=>i.J(je,e.limit).next(He=>{He.forEach(We=>{const Ke=et.fromSegments(We.documentKey);u.has(Ke)||(u=u.add(Ke),h.push(Ke))})}))}).next(()=>h)}return ge.resolve(null)})}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:v(En.create(t.filters,"and")).map(i=>yh(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.Xe.set(t,e),e)}sn(t,e,i,r,o,u,h){const g=(null!=e?e.length:1)*Math.max(i.length,o.length),y=g/(null!=e?e.length:1),w=[];for(let S=0;S<g;++S){const M=e?this.rn(e[S/y]):tt,R=this.on(t,M,i[S%y],r),U=this.un(t,M,o[S%y],u),K=h.map(te=>this.on(t,M,te,!0));w.push(...this.createRange(R,U,K))}return w}on(t,e,i,r){const o=new l(t,et.empty(),e,i);return r?o:o.Ue()}un(t,e,i,r){const o=new l(t,et.empty(),e,i);return r?o.Ue():o}tn(t,e){const i=new p(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.je(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;const r=this.Ze(e);return ge.forEach(r,o=>this.tn(t,o).next(u=>{u?0!==i&&u.fields.length<function(h){let g=new On(Di.comparator),y=!1;for(const w of h.filters)for(const S of w.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?y=!0:g=g.add(S.field));for(const w of h.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(y?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}cn(t,e){const i=new a;for(const r of fl(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.qe(r.kind);Th.Ie.ue(o,u)}return i.Fe()}rn(t){const e=new a;return Th.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const i=new a;return Th.Ie.ue(wa(this.databaseId,e),i.qe(function(r){const o=fl(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Fe()}nn(t,e,i){if(null===i)return[];let r=[];r.push(new a);let o=0;for(const u of fl(t)){const h=i[o++];for(const g of r)if(this.hn(e,u.fieldPath)&&Rf(h))r=this.ln(r,u,h);else{const y=g.qe(u.kind);Th.Ie.ue(h,y)}}return this.fn(r)}en(t,e,i){return this.nn(t,e,i.position)}fn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Fe();return e}ln(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const g=new a;g.seed(h.Fe()),Th.Ie.ue(u,g.qe(e.kind)),o.push(g)}return o}hn(t,e){return!!t.filters.find(i=>i instanceof un&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=qt(t),r=Nn(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(o=>{const u=[];return ge.forEach(o,h=>r.get([h.indexId,this.uid]).next(g=>{u.push(function(y,w){const S=w?new lh(w.sequenceNumber,new zs(Hu(w.readTime),new et(El(w.documentKey)),w.largestBatchId)):lh.empty(),M=y.fields.map(([R,U])=>new Pf(Di.fromServerFormat(R),U));return new r_(y.indexId,y.collectionGroup,M,S)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Jt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=qt(t),o=Nn(t);return this.dn(t).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ge.forEach(h,g=>o.put(uS(g.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return ge.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?ge.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ge.forEach(h,g=>this._n(t,r,g).next(y=>{const w=this.wn(o,g);return y.isEqual(w)?ge.resolve():this.mn(t,o,g,y,w)}))))})}gn(t,e,i,r){return Ue(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,e.key),documentKey:e.key.path.toArray()})}yn(t,e,i,r){return Ue(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,e.key),e.key.path.toArray()])}_n(t,e,i){const r=Ue(t);let o=new On(c);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,e)])},(u,h)=>{o=o.add(new l(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}wn(t,e){let i=new On(c);const r=this.cn(e,t);if(null==r)return i;const o=s_(e);if(null!=o){const u=t.data.field(o.fieldPath);if(Rf(u))for(const h of u.arrayValue.values||[])i=i.add(new l(e.indexId,t.key,this.rn(h),r))}else i=i.add(new l(e.indexId,t.key,tt,r));return i}mn(t,e,i,r,o){$e("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,g,y,w,S){const M=h.getIterator(),R=g.getIterator();let U=_h(M),K=_h(R);for(;U||K;){let te=!1,_e=!1;if(U&&K){const Pe=y(U,K);Pe<0?_e=!0:Pe>0&&(te=!0)}else null!=U?_e=!0:te=!0;te?(w(K),K=_h(R)):_e?(S(U),U=_h(M)):(U=_h(M),K=_h(R))}}(r,o,c,h=>{u.push(this.gn(t,e,i,h))},h=>{u.push(this.yn(t,e,i,h))}),ge.waitFor(u)}dn(t){let e=1;return Nn(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>c(u,h)).filter((u,h,g)=>!h||0!==c(u,g[h-1]));const r=[];r.push(t);for(const u of i){const h=c(u,t),g=c(u,e);if(0===h)r[0]=t.Ue();else if(h>0&&g<0)r.push(u),r.push(u.Ue());else if(g>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2){if(this.pn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,tt,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,tt,[]]))}return o}pn(t,e){return c(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Si)}getMinOffset(t,e){return ge.mapArray(this.Ze(e),i=>this.tn(t,i).next(r=>r||ut())).next(Si)}}function Vt(n){return mr(n,"collectionParents")}function Ue(n){return mr(n,"indexEntries")}function qt(n){return mr(n,"indexConfiguration")}function Nn(n){return mr(n,"indexState")}function Si(n){Dt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;u0(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new zs(t.readTime,t.documentKey,e)}const gS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new mo(t,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ZO(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const g=i.Z({range:u},(w,S,M)=>(h++,M.delete()));o.push(g.next(()=>{Dt(1===h)}));const y=[];for(const w of e.mutations){const S=zI(t,w.key.path,e.batchId);o.push(r.delete(S)),y.push(w.key)}return ge.waitFor(o).next(()=>y)}function QI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ut();t=n.noDocument}return JSON.stringify(t).length}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class XI{constructor(t,e,i,r){this.userId=t,this.yt=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(t,e,i,r){Dt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new XI(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dh(t).Z({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=A_(t),u=Dh(t);return u.add({}).next(h=>{Dt("number"==typeof h);const g=new D_(h,e,i,r),y=function(M,R,U){const K=U.baseMutations.map(_e=>Ch(M.ie,_e)),te=U.mutations.map(_e=>Ch(M.ie,_e));return{userId:R,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:K,mutations:te}}(this.yt,this.userId,g),w=[];let S=new On((M,R)=>Jt(M.canonicalString(),R.canonicalString()));for(const M of r){const R=zI(this.userId,M.key.path,h);S=S.add(M.key.path.popLast()),w.push(u.put(y)),w.push(o.put(R,C_))}return S.forEach(M=>{w.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.In[h]=g.keys()}),ge.waitFor(w).next(()=>g)})}lookupMutationBatch(t,e){return Dh(t).get(e).next(i=>i?(Dt(i.userId===this.userId),Gu(this.yt,i)):null)}Tn(t,e){return this.In[e]?ge.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Dh(t).Z({index:"userMutationsIndex",range:r},(u,h,g)=>{h.userId===this.userId&&(Dt(h.batchId>=i),o=Gu(this.yt,h)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Dh(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dh(t).W("userMutationsIndex",e).next(i=>i.map(r=>Gu(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=eb(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return A_(t).Z({range:r},(u,h,g)=>{const[y,w,S]=u,M=El(w);if(y===this.userId&&e.path.isEqual(M))return Dh(t).get(S).next(R=>{if(!R)throw ut();Dt(R.userId===this.userId),o.push(Gu(this.yt,R))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new On(Jt);const r=[];return e.forEach(o=>{const u=eb(this.userId,o.path),h=IDBKeyRange.lowerBound(u),g=A_(t).Z({range:h},(y,w,S)=>{const[M,R,U]=y,K=El(R);M===this.userId&&o.path.isEqual(K)?i=i.add(U):S.done()});r.push(g)}),ge.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=eb(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new On(Jt);return A_(t).Z({range:u},(g,y,w)=>{const[S,M,R]=g,U=El(M);S===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(R)):w.done()}).next(()=>this.En(t,h))}En(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Dh(t).get(o).next(u=>{if(null===u)throw ut();Dt(u.userId===this.userId),i.push(Gu(this.yt,u))}))}),ge.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return ZO(t.se,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),ge.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ge.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return A_(t).Z({range:i},(o,u,h)=>{if(o[0]===this.userId){const g=El(o[1]);r.push(g)}else h.done()}).next(()=>{Dt(0===r.length)})})}containsKey(t,e){return YO(t,this.userId,e)}Rn(t){return KO(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function YO(n,t,e){const i=eb(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return A_(n).Z({range:o,X:!0},(h,g,y)=>{const[w,S,M]=h;w===t&&S===r&&(u=!0),y.done()}).next(()=>u)}function Dh(n){return mr(n,"mutations")}function A_(n){return mr(n,"documentMutations")}function KO(n){return mr(n,"mutationQueues")}class Jf{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Jf(0)}static vn(){return new Jf(-1)}}class p2{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Jf(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Nt.fromTimestamp(new Qn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>M_(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Dt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return M_(t).Z((u,h)=>{const g=x_(h);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,o.push(this.removeTargetData(t,g)))}).next(()=>ge.waitFor(o)).next(()=>r)}forEachTarget(t,e){return M_(t).Z((i,r)=>{const o=x_(r);e(o)})}Vn(t){return JO(t).get("targetGlobalKey").next(e=>(Dt(null!==e),e))}Sn(t,e){return JO(t).put("targetGlobalKey",e)}Dn(t,e){return M_(t).put(cS(this.yt,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=vl(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return M_(t).Z({range:r,index:"queryTargetsIndex"},(u,h,g)=>{const y=x_(h);p_(e,y.target)&&(o=y,g.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Sh(t);return e.forEach(u=>{const h=us(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),ge.waitFor(r)}removeMatchingKeys(t,e,i){const r=Sh(t);return ge.forEach(e,o=>{const u=us(o.path);return ge.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Sh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Sh(t);let o=Ft();return r.Z({range:i,X:!0},(u,h,g)=>{const y=El(u[1]),w=new et(y);o=o.add(w)}).next(()=>o)}containsKey(t,e){const i=us(e.path),r=IDBKeyRange.bound([i],[Du(i)],!1,!0);let o=0;return Sh(t).Z({index:"documentTargetsIndex",X:!0,range:r},([u,h],g,y)=>{0!==u&&(o++,y.done())}).next(()=>o>0)}ne(t,e){return M_(t).get(e).next(i=>i?x_(i):null)}}function M_(n){return mr(n,"targets")}function JO(n){return mr(n,"targetGlobal")}function Sh(n){return mr(n,"targetDocuments")}function QO([n,t],[e,i]){const r=Jt(n,e);return 0===r?Jt(t,i):r}class f2{constructor(t){this.xn=t,this.buffer=new On(QO),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();QO(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class g2{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ie.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){ml(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield gl(i)}yield e.Fn(3e5)}))}}class m2{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ge.resolve(Ws.at);const i=new f2(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(gS)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gS):this.qn(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let i,r,o,u,h,g,y;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(t,i,e))).next(S=>(o=S,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(y=Date.now(),e_()<=No.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-w}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(g-h)+`ms\n\tRemoved ${S} documents in `+(y-g)+`ms\nTotal Duration: ${y-w}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:S})))}}class _2{constructor(t,e){this.db=t,this.garbageCollector=new m2(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Un(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return eE(t,i)}removeReference(t,e,i){return eE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return eE(t,e)}Gn(t,e){return function(i,r){let o=!1;return KO(i).tt(u=>YO(i,u,r).next(h=>(h&&(o=!0),ge.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Kn(t,(u,h)=>{if(h<=e){const g=this.Gn(t,u).next(y=>{if(!y)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,Nt.min()),Sh(t).delete([0,us(u.path)])))});r.push(g)}}).next(()=>ge.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return eE(t,e)}Kn(t,e){const i=Sh(t);let r,o=Ws.at;return i.Z({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:y})=>{0===u?(o!==Ws.at&&e(new et(El(r)),o),o=y,r=g):o=Ws.at}).next(()=>{o!==Ws.at&&e(new et(El(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function eE(n,t){return Sh(n).put((i=n.currentSequenceNumber,{targetId:0,path:us(t.path),sequenceNumber:i}));var i}class XO{constructor(){this.changes=new vc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,qn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ge.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class y2{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Qf(t).put(i)}removeEntry(t,e,i){return Qf(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Yf(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=qn.newInvalidDocument(e);return Qf(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(hb(e))},(r,o)=>{i=this.jn(e,o)}).next(()=>i)}Wn(t,e){let i={size:0,document:qn.newInvalidDocument(e)};return Qf(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(hb(e))},(r,o)=>{i={document:this.jn(e,o),size:QI(o)}}).next(()=>i)}getEntries(t,e){let i=Ss();return this.zn(t,e,(r,o)=>{const u=this.jn(r,o);i=i.insert(r,u)}).next(()=>i)}Hn(t,e){let i=Ss(),r=new Wn(et.comparator);return this.zn(t,e,(o,u)=>{const h=this.jn(o,u);i=i.insert(o,h),r=r.insert(o,QI(u))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return ge.resolve();let r=new On(iN);e.forEach(g=>r=r.add(g));const o=IDBKeyRange.bound(hb(r.first()),hb(r.last())),u=r.getIterator();let h=u.getNext();return Qf(t).Z({index:"documentKeyIndex",range:o},(g,y,w)=>{const S=et.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&iN(h,S)<0;)i(h,null),h=u.getNext();h&&h.isEqual(S)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?w.j(hb(h)):w.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,u=[o.popLast().toArray(),o.lastSegment(),Yf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qf(t).W(IDBKeyRange.bound(u,h,!0)).next(g=>{let y=Ss();for(const w of g){const S=this.jn(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);S.isFoundDocument()&&(Bf(e,S)||r.has(S.key))&&(y=y.insert(S.key,S))}return y})}getAllFromCollectionGroup(t,e,i,r){let o=Ss();const u=nN(e,i),h=nN(e,zs.max());return Qf(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,y,w)=>{const S=this.jn(et.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(S.key,S),o.size===r&&w.done()}).next(()=>o)}newChangeBuffer(t){return new v2(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return tN(t).get("remoteDocumentGlobalKey").next(e=>(Dt(!!e),e))}Qn(t,e){return tN(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function lb(n,t){let e;if(t.document)e=Y0(n.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=et.fromSegments(t.noDocument.path),r=Hu(t.noDocument.readTime);e=qn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ut();{const i=et.fromSegments(t.unknownDocument.path),r=Hu(t.unknownDocument.version);e=qn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Qn(i[0],i[1]);return Nt.fromTimestamp(r)}(t.readTime)),e}(this.yt,e);if(!i.isNoDocument()||!i.version.isEqual(Nt.min()))return i}return qn.newInvalidDocument(t)}}function eN(n){return new y2(n)}class v2 extends XO{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new vc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new On((o,u)=>Jt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Xn.get(o);if(e.push(this.Yn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const g=lS(this.Yn.yt,u);r=r.add(o.path.popLast());const y=QI(g);i+=y-h.size,e.push(this.Yn.addEntry(t,o,g))}else if(i-=h.size,this.trackRemovals){const g=lS(this.Yn.yt,u.convertToNoDocument(Nt.min()));e.push(this.Yn.addEntry(t,o,g))}}),r.forEach(o=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.Yn.updateMetadata(t,i)),ge.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((o,u)=>{this.Xn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function tN(n){return mr(n,"remoteDocumentGlobal")}function Qf(n){return mr(n,"remoteDocumentsV14")}function hb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function nN(n,t){const e=t.documentKey.path.toArray();return[n,Yf(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function iN(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Jt(e[o],i[o]),r)return r;return r=Jt(e.length,i.length),r||(r=Jt(e[e.length-2],i[i.length-2]),r||Jt(e[e.length-1],i[i.length-1]))}class b2{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class rN{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Fu(i.mutation,r,Ds.empty(),Qn.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Ft()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Ft()){const r=Qi();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=wh();return o.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Qi();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Ft()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Ss();const u=Vu(),h=Vu();return e.forEach((g,y)=>{const w=i.get(y.key);r.has(y.key)&&(void 0===w||w.mutation instanceof yc)?o=o.insert(y.key,y):void 0!==w?(u.set(y.key,w.mutation.getFieldMask()),Fu(w.mutation,y,w.mutation.getFieldMask(),Qn.now())):u.set(y.key,Ds.empty())}),this.recalculateAndSaveOverlays(t,o).next(g=>(g.forEach((y,w)=>u.set(y,w)),e.forEach((y,w)=>{var S;return h.set(y,new b2(w,null!==(S=u.get(y))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Vu();let r=new Wn((u,h)=>u-h),o=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(g=>{const y=e.get(g);if(null===y)return;let w=i.get(g)||Ds.empty();w=h.applyToLocalView(y,w),i.set(g,w);const S=(r.get(h.batchId)||Ft()).add(g);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),y=g.key,w=g.value,S=RI();w.forEach(M=>{if(!o.has(M)){const R=B0(e.get(M),i.get(M));null!==R&&S.set(M,R),o=o.add(M)}}),u.push(this.documentOverlayCache.saveOverlays(t,y,S))}return ge.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return et.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):P0(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ge.resolve(Qi());let h=-1,g=o;return u.next(y=>ge.forEach(y,(w,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(w)?ge.resolve():this.remoteDocumentCache.getEntry(t,w).next(M=>{g=g.insert(w,M)}))).next(()=>this.populateOverlays(t,y,o)).next(()=>this.computeViews(t,g,y,Ft())).next(w=>({batchId:h,changes:ZD(w)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new et(e)).next(i=>{let r=wh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=wh();return this.indexManager.getCollectionParents(t,r).next(u=>ge.forEach(u,h=>{const g=(y=e,w=h.child(r),new bl(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,w;return this.getDocumentsMatchingCollectionQuery(t,g,i).next(y=>{y.forEach((w,S)=>{o=o.insert(w,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((h,g)=>{const y=g.getKey();null===o.get(y)&&(o=o.insert(y,qn.newInvalidDocument(y)))});let u=wh();return o.forEach((h,g)=>{const y=r.get(h);void 0!==y&&Fu(y.mutation,g,Ds.empty(),Qn.now()),Bf(e,g)&&(u=u.insert(h,g))}),u})}}class w2{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return ge.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Ui(i.createTime)}),ge.resolve()}getNamedQuery(t,e){return ge.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:cb(i.bundledQuery),readTime:Ui(i.readTime)}),ge.resolve();var i}}class I2{constructor(){this.overlays=new Wn(et.comparator),this.es=new Map}getOverlay(t,e){return ge.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Qi();return ge.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.oe(t,e,o)}),ge.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(i)),ge.resolve()}getOverlaysForCollection(t,e,i){const r=Qi(),o=e.length+1,u=new et(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,y=g.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===o&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ge.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Wn((y,w)=>y-w);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>i){let w=o.get(y.largestBatchId);null===w&&(w=Qi(),o=o.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const h=Qi(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,w)=>h.set(y,w)),!(h.size()>=r)););return ge.resolve(h)}oe(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new ob(e,i));let o=this.es.get(e);void 0===o&&(o=Ft(),this.es.set(e,o)),this.es.set(e,o.add(i.key))}}class mS{constructor(){this.ns=new On(qr.ss),this.rs=new On(qr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new qr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new qr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new et(new pn([])),i=new qr(e,t),r=new qr(e,t+1),o=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),o.push(u.key)}),o}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new et(new pn([])),i=new qr(e,t),r=new qr(e,t+1);let o=Ft();return this.rs.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new qr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class qr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return et.comparator(t.key,e.key)||Jt(t._s,e._s)}static os(t,e){return Jt(t._s,e._s)||et.comparator(t.key,e.key)}}class E2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new On(qr.ss)}checkEmpty(t){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.ws;this.ws++;const u=new D_(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.gs=this.gs.add(new qr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ge.resolve(u)}lookupMutationBatch(t,e){return ge.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),o=r<0?0:r;return ge.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new qr(e,0),r=new qr(e,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([i,r],u=>{const h=this.ys(u._s);o.push(h)}),ge.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new On(Jt);return e.forEach(r=>{const o=new qr(r,0),u=new qr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,u],h=>{i=i.add(h._s)})}),ge.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;et.isDocumentKey(o)||(o=o.child(""));const u=new qr(new et(o),0);let h=new On(Jt);return this.gs.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(g._s)),!0)},u),ge.resolve(this.Is(h))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Dt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ge.forEach(e.mutations,r=>{const o=new qr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new qr(e,0),r=this.gs.firstAfterOrEqual(i);return ge.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ge.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class C2{constructor(t){this.Es=t,this.docs=new Wn(et.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ge.resolve(i?i.document.mutableCopy():qn.newInvalidDocument(e))}getEntries(t,e){let i=Ss();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():qn.newInvalidDocument(r))}),ge.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Ss();const u=e.path,h=new et(u.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||u0(hI(w),i)<=0||(r.has(w.key)||Bf(e,w))&&(o=o.insert(w.key,w.mutableCopy()))}return ge.resolve(o)}getAllFromCollectionGroup(t,e,i,r){ut()}As(t,e){return ge.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new T2(this)}getSize(t){return ge.resolve(this.size)}}class T2 extends XO{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),ge.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class D2{constructor(t){this.persistence=t,this.Rs=new vc(e=>vl(e),p_),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new mS,this.targetCount=0,this.vs=Jf.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),ge.resolve()}getLastRemoteSnapshotVersion(t){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ge.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),ge.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Jf(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,ge.resolve()}updateTargetData(t,e){return this.Dn(e),ge.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,ge.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Rs.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ge.waitFor(o).next(()=>r)}getTargetCount(t){return ge.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return ge.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),ge.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),ge.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),ge.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return ge.resolve(i)}containsKey(t,e){return ge.resolve(this.Ps.containsKey(e))}}class sN{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Ws(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new D2(this),this.indexManager=new Ae,this.remoteDocumentCache=new C2(i=>this.referenceDelegate.xs(i)),this.yt=new ab(e),this.Ns=new w2(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new I2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new E2(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new S2(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(o=>this.referenceDelegate.Os(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ms(t,e){return ge.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class S2 extends PD{constructor(t){super(),this.currentSequenceNumber=t}}class tE{constructor(t){this.persistence=t,this.Fs=new mS,this.$s=null}static Bs(t){return new tE(t)}get Ls(){if(this.$s)return this.$s;throw ut()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),ge.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),ge.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),ge.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ls.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Ls,i=>{const r=et.fromPath(i);return this.qs(t,r).next(o=>{o||e.removeEntry(r,Nt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.qs(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}qs(t,e){return ge.or([()=>ge.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class x2{constructor(t){this.yt=t}$(t,e,i,r){const o=new p0("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nS,{unique:!0}),h.createObjectStore("documentMutations"),oN(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=ge.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),oN(t)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,g){return g.store("mutations").W().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nS,{unique:!0});const w=g.store("mutations"),S=y.map(M=>w.put(M));return ge.waitFor(S)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Us(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(o)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(o))),i<8&&r>=8&&(u=u.next(()=>this.Qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.js(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:HO});g.createIndex("collectionPathOverlayIndex",GO,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",$O,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:iS});g.createIndex("documentKeyIndex",rS),g.createIndex("collectionGroupIndex",WI)}(t)).next(()=>this.Ws(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:sS}).createIndex("sequenceNumberIndex",ib,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:rb}).createIndex("documentKeyIndex",T_,{unique:!1})}(t))),u}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=QI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>ge.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>ge.forEach(h,g=>{Dt(g.userId===o.userId);const y=Gu(this.yt,g);return ZO(t,o.userId,y).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Z((u,h)=>{const g=new pn(u),y=[0,us(g)];o.push(e.get(y).next(w=>w?ge.resolve():e.put({targetId:0,path:us(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ge.waitFor(o))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:nb});const i=e.store("collectionParents"),r=new qe,o=u=>{if(r.add(u)){const h=u.lastSegment(),g=u.popLast();return i.put({collectionId:h,parent:us(g)})}};return e.store("remoteDocuments").Z({X:!0},(u,h)=>{const g=new pn(u);return o(g.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([u,h,g],y)=>{const w=El(h);return o(w.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const o=x_(r),u=cS(this.yt,o);return e.put(u)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((o,u)=>{const h=e.store("remoteDocumentsV14"),g=(y=u,y.document?new et(pn.fromString(y.document.name).popFirst(5)):y.noDocument?et.fromSegments(y.noDocument.path):y.unknownDocument?et.fromSegments(y.unknownDocument.path):ut()).path.toArray();var y;const w={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(w))}).next(()=>ge.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=eN(this.yt),o=new sN(tE.Bs,this.yt.ie);return i.W().next(u=>{const h=new Map;return u.forEach(g=>{var y;let w=null!==(y=h.get(g.userId))&&void 0!==y?y:Ft();Gu(this.yt,g).keys().forEach(S=>w=w.add(S)),h.set(g.userId,w)}),ge.forEach(h,(g,y)=>{const w=new Mr(y),S=db.re(this.yt,w),M=o.getIndexManager(w),R=XI.re(w,this.yt,M,o.referenceDelegate);return new rN(r,R,S,M).recalculateAndSaveOverlaysForDocumentKeys(new sb(e,Ws.at),g).next()})})}}function oN(n){n.createObjectStore("targetDocuments",{keyPath:qI}).createIndex("documentTargetsIndex",tb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Uu,{unique:!0}),n.createObjectStore("targetGlobal")}const _S="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yS{constructor(t,e,i,r,o,u,h,g,y,w,S=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=o,this.window=u,this.document=h,this.Js=y,this.Ys=w,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=M=>Promise.resolve(),!yS.C())throw new Be(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _2(this,r),this.ii=e+"main",this.yt=new ab(g),this.ri=new ko(this.ii,this.Xs,new x2(this.yt)),this.Cs=new p2(this.referenceDelegate,this.yt),this.remoteDocumentCache=eN(this.yt),this.Ns=new jO,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===w&&Bi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(me.FAILED_PRECONDITION,_S);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Ws(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,Ie.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Ie.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Ie.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>nE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(ml(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return pb(t).get("owner").next(e=>ge.resolve(this.mi(e)))}gi(t){return nE(t).delete(this.clientId)}yi(){var t=this;return(0,Ie.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=mr(i,"clientMetadata");return r.W().next(o=>{const u=t.Ii(o,18e5),h=o.filter(g=>-1===u.indexOf(g));return ge.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?ge.resolve(!0):pb(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Be(me.FAILED_PRECONDITION,_S);return!1}}return!(!this.networkEnabled||!this.inForeground)||nE(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&$e("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ie.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new sb(e,Ws.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>nE(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return XI.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new yt(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return db.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Xs)?aS:14===u?KI:13===u?YI:12===u?ZI:11===u?oS:void ut();var u;let h;return this.ri.runTransaction(t,r,o,g=>(h=new sb(g,this.Ss?this.Ss.next():Ws.at),"readwrite-primary"===e?this.fi(h).next(y=>!!y||this.di(h)).next(y=>{if(!y)throw Bi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Be(me.FAILED_PRECONDITION,d0);return i(h)}).next(y=>this.wi(h).next(()=>y)):this.Vi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(t){return pb(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Be(me.FAILED_PRECONDITION,_S)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pb(t).put("owner",e)}static C(){return ko.C()}_i(t){const e=pb(t);return e.get("owner").next(i=>this.mi(i)?($e("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ge.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Bi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,cn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return $e("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Bi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Bi("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function pb(n){return mr(n,"owner")}function nE(n){return mr(n,"clientMetadata")}function vS(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class bS{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Ft(),r=Ft();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new bS(t,e.fromCache,i,r)}}class aN{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(o=>o||this.Oi(t,e,r,i)).next(o=>o||this.Mi(t,e))}ki(t,e){if(BD(e))return ge.resolve(null);let i=cs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=Lf(e,null,"F"),i=cs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Ft(...o);return this.Ni.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(g=>{const y=this.Fi(e,h);return this.$i(e,y,u,g.readTime)?this.ki(t,Lf(e,null,"F")):this.Bi(t,y,e,g)}))})))}Oi(t,e,i,r){return BD(e)||r.isEqual(Nt.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(o=>{const u=this.Fi(e,o);return this.$i(e,u,i,r)?this.Mi(t,e):(e_()<=No.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),m_(e)),this.Bi(t,u,e,dI(r,-1)))})}Fi(t,e){let i=new On(R0(t));return e.forEach((r,o)=>{Bf(t,o)&&(i=i.add(o))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Mi(t,e){return e_()<=No.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",m_(e)),this.Ni.getDocumentsMatchingQuery(t,e,zs.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class A2{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.yt=r,this.qi=new Wn(Jt),this.Ui=new vc(o=>vl(o),p_),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rN(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qi))}}function lN(n,t,e,i){return new A2(n,t,e,i)}function cN(n,t){return wS.apply(this,arguments)}function wS(){return wS=(0,Ie.Z)(function*(n,t){const e=nt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let g=Ft();for(const y of r){u.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of o){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return e.localDocuments.getDocuments(i,g).next(y=>({ji:y,removedBatchIds:u,addedBatchIds:h}))})})}),wS.apply(this,arguments)}function uN(n){const t=nt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function dN(n,t,e){let i=Ft(),r=Ft();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Ss();return e.forEach((h,g)=>{const y=o.get(h);g.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(Nt.min())?(t.removeEntry(h,g.readTime),u=u.insert(h,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||0===g.version.compareTo(y.version)&&y.hasPendingWrites?(t.addEntry(g),u=u.insert(h,g)):$e("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",g.version)}),{Wi:u,zi:r}})}function N2(n,t){const e=nt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function O_(n,t){const e=nt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(o=>o?(r=o,ge.resolve(r)):e.Cs.allocateTargetId(i).next(u=>(r=new wc(t,u,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qi=e.qi.insert(i.targetId,i),e.Ui.set(t,i.targetId)),i})}function N_(n,t,e){return IS.apply(this,arguments)}function IS(){return IS=(0,Ie.Z)(function*(n,t,e){const i=nt(n),r=i.qi.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!ml(u))throw u;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qi=i.qi.remove(t),i.Ui.delete(r.target)}),IS.apply(this,arguments)}function iE(n,t,e){const i=nt(n);let r=Nt.min(),o=Ft();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,g,y){const w=nt(h),S=w.Ui.get(y);return void 0!==S?ge.resolve(w.qi.get(S)):w.Cs.getTargetData(g,y)}(i,u,cs(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{o=g})}).next(()=>i.Li.getDocumentsMatchingQuery(u,t,e?r:Nt.min(),e?o:Ft())).next(h=>(fN(i,SI(t),h),{documents:h,Hi:o})))}function hN(n,t){const e=nt(n),i=nt(e.Cs),r=e.qi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ne(o,t).next(u=>u?u.target:null))}function pN(n,t){const e=nt(n),i=e.Ki.get(t)||Nt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,dI(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(fN(e,t,r),r))}function fN(n,t,e){let i=n.Ki.get(t)||Nt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ki.set(t,i)}function ES(){return ES=(0,Ie.Z)(function*(n,t,e,i){const r=nt(n);let o=Ft(),u=Ss();for(const y of e){const w=t.Ji(y.metadata.name);y.document&&(o=o.add(w));const S=t.Yi(y);S.setReadTime(t.Xi(y.metadata.readTime)),u=u.insert(w,S)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield O_(r,(y=i,cs(_c(pn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>dN(y,h,u).next(w=>(h.apply(y),w)).next(w=>r.Cs.removeMatchingKeysForTargetId(y,g.targetId).next(()=>r.Cs.addMatchingKeys(y,o,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,w.Wi,w.zi)).next(()=>w.Wi)))}),ES.apply(this,arguments)}function k2(n,t){return CS.apply(this,arguments)}function CS(){return CS=(0,Ie.Z)(function*(n,t,e=Ft()){const i=yield O_(n,cs(cb(t.bundledQuery))),r=nt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Ui(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(o,t);const h=i.withResumeToken(Or.EMPTY_BYTE_STRING,u);return r.qi=r.qi.insert(h.targetId,h),r.Cs.updateTargetData(o,h).next(()=>r.Cs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Cs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(o,t))})}),CS.apply(this,arguments)}function gN(n,t){return`firestore_clients_${n}_${t}`}function mN(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function TS(n,t){return`firestore_targets_${n}_${t}`}class rE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Be(r.error.code,r.error.message))),u?new rE(t,e,r.state,o):(Bi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class fb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Be(i.error.code,i.error.message))),o?new fb(t,i.state,r):(Bi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class sE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Ih();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=y0(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new sE(t,o):(Bi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class DS{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new DS(e.clientId,e.onlineState):(Bi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class SS{constructor(){this.activeTargetIds=Ih()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xS{constructor(t,e,i,r,o){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Wn(Jt),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=gN(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new SS),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const o=t.getItem(gN(t.persistenceKey,r));if(o){const u=sE.Zi(r,o);u&&(t.ur=t.ur.insert(u.clientId,u))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(TS(this.persistenceKey,t));if(i){const r=fb.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(TS(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $e("SharedClientState","READ",t,e),e}setItem(t,e){$e("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$e("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Bi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ie.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(o){let u=Ws.at;if(null!=o)try{const h=JSON.parse(o);Dt("number"==typeof h),u=h}catch(h){Bi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Ws.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Mr(o)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new rE(this.currentUser,t,e,i),o=mN(this.persistenceKey,this.currentUser,t);this.setItem(o,r.tr())}Er(t){const e=mN(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=TS(this.persistenceKey,t),o=new fb(t,e,i);this.setItem(r,o.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return sE.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return rE.Zi(new Mr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return fb.Zi(r,e)}yr(t){return DS.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Ie.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);$e("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),o=this.Ir(i),u=[],h=[];return o.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{o.has(g)||h.push(g)}),this.syncEngine.Br(u,h).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=Ih();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class _N{constructor(){this.Lr=new SS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new SS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class R2{Ur(t){}shutdown(){}}class yN{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const F2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L2{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class V2 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,o){const u=this.ho(t,e);$e("RestConnection","Sending: ",u,i);const h={};return this.lo(h,r,o),this.fo(t,u,h,i).then(g=>($e("RestConnection","Received: ",g),g),g=>{throw Cu("RestConnection",`${t} failed with error: `,g,"url: ",u,"request:",i),g})}_o(t,e,i,r,o,u){return this.ao(t,e,i,r,o)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+dc,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}ho(t,e){return`${this.oo}/v1/${e}:${F2[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((o,u)=>{const h=new SD;h.setWithCredentials(!0),h.listenOnce(DD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Xm.NO_ERROR:const y=h.getResponseJson();$e("Connection","XHR received:",JSON.stringify(y)),o(y);break;case Xm.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),u(new Be(me.DEADLINE_EXCEEDED,"Request time out"));break;case Xm.HTTP_ERROR:const w=h.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',w,"response text:",h.getResponseText()),w>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const M=S?.error;if(M&&M.status&&M.message){const R=function(U){const K=U.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(K)>=0?K:me.UNKNOWN}(M.status);u(new Be(R,M.message))}else u(new Be(me.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Be(me.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{$e("Connection",'RPC "'+t+'" completed.')}});const g=JSON.stringify(r);h.send(e,"POST",g,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=rI(),u=TD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new oI({})),this.lo(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const g=r.join("");$e("Connection","Creating WebChannel: "+g,h);const y=o.createWebChannel(g,h);let w=!1,S=!1;const M=new L2({Hr:U=>{S?$e("Connection","Not sending because WebChannel is closed:",U):(w||($e("Connection","Opening WebChannel transport."),y.open(),w=!0),$e("Connection","WebChannel sending:",U),y.send(U))},Jr:()=>y.close()}),R=(U,K,te)=>{U.listen(K,_e=>{try{te(_e)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return R(y,Nf.EventType.OPEN,()=>{S||$e("Connection","WebChannel transport opened.")}),R(y,Nf.EventType.CLOSE,()=>{S||(S=!0,$e("Connection","WebChannel transport closed"),M.io())}),R(y,Nf.EventType.ERROR,U=>{S||(S=!0,Cu("Connection","WebChannel transport errored:",U),M.io(new Be(me.UNAVAILABLE,"The operation could not be completed")))}),R(y,Nf.EventType.MESSAGE,U=>{var K;if(!S){const te=U.data[0];Dt(!!te);const Pe=te.error||(null===(K=te[0])||void 0===K?void 0:K.error);if(Pe){$e("Connection","WebChannel received error:",Pe);const je=Pe.status;let He=function(Ke){const xt=gr[Ke];if(void 0!==xt)return kI(xt)}(je),We=Pe.message;void 0===He&&(He=me.INTERNAL,We="Unknown error status: "+je+" with message "+Pe.message),S=!0,M.io(new Be(He,We)),y.close()}else $e("Connection","WebChannel received:",te),M.ro(te)}}),R(u,n0.STAT_EVENT,U=>{U.stat===sI.PROXY?$e("Connection","Detected buffering proxy"):U.stat===sI.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.so()},0),M}}function vN(){return typeof window<"u"?window:null}function oE(){return typeof document<"u"?document:null}function gb(n){return new bc(n,!0)}class AS{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class bN{constructor(t,e,i,r,o,u,h,g){this.Hs=t,this.vo=i,this.Vo=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new AS(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,Ie.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,Ie.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,Ie.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===me.RESOURCE_EXHAUSTED?(Bi(e.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Be(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,Ie.Z)(function*(){t.state=0,t.start()}))}Qo(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B2 extends bN{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.yt=o}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function K0(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:ut(),r=t.targetChange.targetIds||[],o=function(g,y){return g.wt?(Dt(void 0===y||"string"==typeof y),Or.fromBase64String(y||"")):(Dt(void 0===y||y instanceof Uint8Array),Or.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const y=void 0===g.code?me.UNKNOWN:kI(g.code);return new Be(y,g.message||"")}(u);e=new $0(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Ia(n,i.document.name),o=Ui(i.document.updateTime),u=i.document.createTime?Ui(i.document.createTime):Nt.min(),h=new Hr({mapValue:{fields:i.document.fields}}),g=qn.newFoundDocument(r,o,u,h);e=new Eh(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in t){const i=t.documentDelete,r=Ia(n,i.document),o=i.readTime?Ui(i.readTime):Nt.min(),u=qn.newNoDocument(r,o);e=new Eh([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Ia(n,i.document);e=new Eh([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ut();{const i=t.filter,o=new RO(i.count||0);e=new G0(i.targetId,o)}}var g;return e}(this.yt,t),i=function(r){if(!("targetChange"in r))return Nt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Nt.min():o.readTime?Ui(o.readTime):Nt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=b_(this.yt),e.addTarget=function(r,o){let u;const h=o.target;return u=Ff(h)?{documents:J0(r,h)}:{query:I_(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=v_(r,o.resumeToken):o.snapshotVersion.compareTo(Nt.min())>0&&(u.readTime=Bu(r,o.snapshotVersion.toTimestamp())),u}(this.yt,t);const i=function E_(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=b_(this.yt),e.removeTarget=t,this.Bo(e)}}class U2 extends bN{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Dt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function $I(n,t){return n&&n.length>0?(Dt(void 0!==t),n.map(e=>function(i,r){let o=Ui(i.updateTime?i.updateTime:r);return o.isEqual(Nt.min())&&(o=Ui(r)),new PO(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Ui(t.commitTime);return this.listener.Zo(i,e)}return Dt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=b_(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ch(this.yt,i))};this.Bo(e)}}class H2 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Be(me.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.ao(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Be(me.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection._o(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(me.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class $2{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Bi(e),this.ou=!1):$e("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class j2{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(h=>{i.enqueueAndForget((0,Ie.Z)(function*(){var g;$u(u)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ie.Z)(function*(y){const w=nt(y);w._u.add(4),yield P_(w),w.gu.set("Unknown"),w._u.delete(4),yield mb(w)}),function(y){return g.apply(this,arguments)})(u))}))}),this.gu=new $2(i,r)}}function mb(n){return OS.apply(this,arguments)}function OS(){return OS=(0,Ie.Z)(function*(n){if($u(n))for(const t of n.wu)yield t(!0)}),OS.apply(this,arguments)}function P_(n){return NS.apply(this,arguments)}function NS(){return NS=(0,Ie.Z)(function*(n){for(const t of n.wu)yield t(!1)}),NS.apply(this,arguments)}function aE(n,t){const e=nt(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),RS(e)?kS(e):R_(e).ko()&&PS(e,t))}function _b(n,t){const e=nt(n),i=R_(e);e.du.delete(t),i.ko()&&wN(e,t),0===e.du.size&&(i.ko()?i.Fo():$u(e)&&e.gu.set("Unknown"))}function PS(n,t){n.yu.Ot(t.targetId),R_(n).zo(t)}function wN(n,t){n.yu.Ot(t),R_(n).Ho(t)}function kS(n){n.yu=new LI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ne:t=>n.du.get(t)||null}),R_(n).start(),n.gu.uu()}function RS(n){return $u(n)&&!R_(n).No()&&n.du.size>0}function $u(n){return 0===nt(n)._u.size}function IN(n){n.yu=void 0}function z2(n){return FS.apply(this,arguments)}function FS(){return FS=(0,Ie.Z)(function*(n){n.du.forEach((t,e)=>{PS(n,t)})}),FS.apply(this,arguments)}function W2(n,t){return LS.apply(this,arguments)}function LS(){return LS=(0,Ie.Z)(function*(n,t){IN(n),RS(n)?(n.gu.hu(t),kS(n)):n.gu.set("Unknown")}),LS.apply(this,arguments)}function q2(n,t,e){return VS.apply(this,arguments)}function VS(){return VS=(0,Ie.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof $0&&2===t.state&&t.cause)try{yield(i=(0,Ie.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.du.delete(h),r.yu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield lE(n,i)}else if(t instanceof Eh?n.yu.Kt(t):t instanceof G0?n.yu.Jt(t):n.yu.jt(t),!e.isEqual(Nt.min()))try{const i=yield uN(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.yu.Zt(o);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.du.get(g);y&&r.du.set(g,y.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const g=r.du.get(h);if(!g)return;r.du.set(h,g.withResumeToken(Or.EMPTY_BYTE_STRING,g.snapshotVersion)),wN(r,h);const y=new wc(g.target,h,1,g.sequenceNumber);PS(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield lE(n,i)}var i}),VS.apply(this,arguments)}function lE(n,t,e){return BS.apply(this,arguments)}function BS(){return BS=(0,Ie.Z)(function*(n,t,e){if(!ml(t))throw t;n._u.add(1),yield P_(n),n.gu.set("Offline"),e||(e=()=>uN(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield mb(n)}))}),BS.apply(this,arguments)}function EN(n,t){return t().catch(e=>lE(n,e,t))}function k_(n){return US.apply(this,arguments)}function US(){return US=(0,Ie.Z)(function*(n){const t=nt(n),e=xh(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;Z2(t);)try{const r=yield N2(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,Y2(t,r)}catch(r){yield lE(t,r)}CN(t)&&TN(t)}),US.apply(this,arguments)}function Z2(n){return $u(n)&&n.fu.length<10}function Y2(n,t){n.fu.push(t);const e=xh(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function CN(n){return $u(n)&&!xh(n).No()&&n.fu.length>0}function TN(n){xh(n).start()}function K2(n){return HS.apply(this,arguments)}function HS(){return HS=(0,Ie.Z)(function*(n){xh(n).eu()}),HS.apply(this,arguments)}function J2(n){return GS.apply(this,arguments)}function GS(){return GS=(0,Ie.Z)(function*(n){const t=xh(n);for(const e of n.fu)t.Xo(e.mutations)}),GS.apply(this,arguments)}function Q2(n,t,e){return $S.apply(this,arguments)}function $S(){return $S=(0,Ie.Z)(function*(n,t,e){const i=n.fu.shift(),r=S_.from(i,t,e);yield EN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield k_(n)}),$S.apply(this,arguments)}function X2(n,t){return jS.apply(this,arguments)}function jS(){return jS=(0,Ie.Z)(function*(n,t){var e;t&&xh(n).Yo&&(yield(e=(0,Ie.Z)(function*(i,r){if(PI(o=r.code)&&o!==me.ABORTED){const u=i.fu.shift();xh(i).Mo(),yield EN(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield k_(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),CN(n)&&TN(n)}),jS.apply(this,arguments)}function DN(n,t){return zS.apply(this,arguments)}function zS(){return zS=(0,Ie.Z)(function*(n,t){const e=nt(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=$u(e);e._u.add(3),yield P_(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield mb(e)}),zS.apply(this,arguments)}function WS(n,t){return qS.apply(this,arguments)}function qS(){return qS=(0,Ie.Z)(function*(n,t){const e=nt(n);t?(e._u.delete(2),yield mb(e)):t||(e._u.add(2),yield P_(e),e.gu.set("Unknown"))}),qS.apply(this,arguments)}function R_(n){return n.pu||(n.pu=function(t,e,i){const r=nt(t);return r.su(),new B2(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:z2.bind(null,n),Zr:W2.bind(null,n),Wo:q2.bind(null,n)}),n.wu.push(function(){var t=(0,Ie.Z)(function*(e){e?(n.pu.Mo(),RS(n)?kS(n):n.gu.set("Unknown")):(yield n.pu.stop(),IN(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function xh(n){return n.Iu||(n.Iu=function(t,e,i){const r=nt(t);return r.su(),new U2(e,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:K2.bind(null,n),Zr:X2.bind(null,n),tu:J2.bind(null,n),Zo:Q2.bind(null,n)}),n.wu.push(function(){var t=(0,Ie.Z)(function*(e){e?(n.Iu.Mo(),yield k_(n)):(yield n.Iu.stop(),n.fu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class ZS{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new ZS(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(me.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F_(n,t){if(Bi("AsyncQueue",`${t}: ${n}`),ml(n))return new Be(me.UNAVAILABLE,`${t}: ${n}`);throw n}class L_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||et.comparator(e.key,i.key):(e,i)=>et.comparator(e.key,i.key),this.keyedMap=wh(),this.sortedSet=new Wn(this.comparator)}static emptySet(t){return new L_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof L_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new L_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class SN{constructor(){this.Tu=new Wn(et.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ut():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class V_{constructor(t,e,i,r,o,u,h,g,y){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new V_(t,e,L_.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class eV{constructor(){this.Au=void 0,this.listeners=[]}}class tV{constructor(){this.queries=new vc(t=>k0(t),Vf),this.onlineState="Unknown",this.Ru=new Set}}function YS(n,t){return KS.apply(this,arguments)}function KS(){return KS=(0,Ie.Z)(function*(n,t){const e=nt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new eV),r)try{o.Au=yield e.onListen(i)}catch(u){const h=F_(u,`Initialization of query '${m_(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.bu(e.onlineState),o.Au&&t.Pu(o.Au)&&XS(e)}),KS.apply(this,arguments)}function JS(n,t){return QS.apply(this,arguments)}function QS(){return QS=(0,Ie.Z)(function*(n,t){const e=nt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),QS.apply(this,arguments)}function nV(n,t){const e=nt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Pu(r)&&(i=!0);u.Au=r}}i&&XS(e)}function iV(n,t,e){const i=nt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function XS(n){n.Ru.forEach(t=>{t.next()})}class ex{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new V_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=V_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class rV{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class xN{constructor(t){this.yt=t}Ji(t){return Ia(this.yt,t)}Yi(t){return t.metadata.exists?Y0(this.yt,t.document,!1):qn.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Ui(t)}}class sV{constructor(t,e,i){this.Mu=t,this.localStore=e,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=AN(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=pn.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new xN(this.yt);for(const r of t)if(r.metadata.queries){const o=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Ft()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,Ie.Z)(function*(){const e=yield function P2(n,t,e,i){return ES.apply(this,arguments)}(t.localStore,new xN(t.yt),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield k2(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function AN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class MN{constructor(t){this.key=t}}class ON{constructor(t){this.key=t}}class NN{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ft(),this.mutatedKeys=Ft(),this.Gu=R0(t),this.Qu=new L_(this.Gu)}get ju(){return this.qu}Wu(t,e){const i=e?e.zu:new SN,r=e?e.Qu:this.Qu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((w,S)=>{const M=r.get(w),R=Bf(this.query,S)?S:null,U=!!M&&this.mutatedKeys.has(M.key),K=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let te=!1;M&&R?M.data.isEqual(R.data)?U!==K&&(i.track({type:3,doc:R}),te=!0):this.Hu(M,R)||(i.track({type:2,doc:R}),te=!0,(g&&this.Gu(R,g)>0||y&&this.Gu(R,y)<0)&&(h=!0)):!M&&R?(i.track({type:0,doc:R}),te=!0):M&&!R&&(i.track({type:1,doc:M}),te=!0,(g||y)&&(h=!0)),te&&(R?(u=u.add(R),o=K?o.add(w):o.delete(w)):(u=u.delete(w),o=o.delete(w)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const w="F"===this.query.limitType?u.last():u.first();u=u.delete(w.key),o=o.delete(w.key),i.track({type:1,doc:w})}return{Qu:u,zu:i,$i:h,mutatedKeys:o}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const o=t.zu.Eu();o.sort((y,w)=>function(S,M){const R=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return R(S)-R(M)}(y.type,w.type)||this.Gu(y.doc,w.doc)),this.Ju(i);const u=e?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.Uu;return this.Uu=h,0!==o.length||g?{snapshot:new V_(this.query,t.Qu,r,o,t.mutatedKeys,0===h,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new SN,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.qu=this.qu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qu=this.qu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Ft(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new ON(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new MN(i))}),e}tc(t){this.qu=t.Hi,this.Ku=Ft();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return V_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class oV{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class aV{constructor(t){this.key=t,this.nc=!1}}class lV{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new vc(h=>k0(h),Vf),this.rc=new Map,this.oc=new Set,this.uc=new Wn(et.comparator),this.cc=new Map,this.ac=new mS,this.hc={},this.lc=new Map,this.fc=Jf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function cV(n,t){return tx.apply(this,arguments)}function tx(){return tx=(0,Ie.Z)(function*(n,t){const e=Cx(n);let i,r;const o=e.ic.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.ec();else{const u=yield O_(e.localStore,cs(t));e.isPrimaryClient&&aE(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield nx(e,t,i,"current"===h,u.resumeToken)}return r}),tx.apply(this,arguments)}function nx(n,t,e,i,r){return ix.apply(this,arguments)}function ix(){return ix=(0,Ie.Z)(function*(n,t,e,i,r){n._c=(S,M,R)=>{return(U=(0,Ie.Z)(function*(K,te,_e,Pe){let je=te.view.Wu(_e);je.$i&&(je=yield iE(K.localStore,te.query,!1).then(({documents:Ke})=>te.view.Wu(Ke,je)));const He=Pe&&Pe.targetChanges.get(te.targetId),We=te.view.applyChanges(je,K.isPrimaryClient,He);return px(K,te.targetId,We.Xu),We.snapshot}),function(K,te,_e,Pe){return U.apply(this,arguments)})(n,S,M,R);var U};const o=yield iE(n.localStore,t,!0),u=new NN(t,o.Hi),h=u.Wu(o.documents),g=jf.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),y=u.applyChanges(h,n.isPrimaryClient,g);px(n,e,y.Xu);const w=new oV(t,e,u);return n.ic.set(t,w),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),y.snapshot}),ix.apply(this,arguments)}function uV(n,t){return rx.apply(this,arguments)}function rx(){return rx=(0,Ie.Z)(function*(n,t){const e=nt(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(o=>!Vf(o,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield N_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),_b(e.remoteStore,i.targetId),B_(e,i.targetId)}).catch(gl))):(B_(e,i.targetId),yield N_(e.localStore,i.targetId,!0))}),rx.apply(this,arguments)}function sx(){return sx=(0,Ie.Z)(function*(n,t,e){const i=Tx(n);try{const r=yield function(o,u){const h=nt(o),g=Qn.now(),y=u.reduce((M,R)=>M.add(R.key),Ft());let w,S;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>{let R=Ss(),U=Ft();return h.Gi.getEntries(M,y).next(K=>{R=K,R.forEach((te,_e)=>{_e.isValidDocument()||(U=U.add(te))})}).next(()=>h.localDocuments.getOverlayedDocuments(M,R)).next(K=>{w=K;const te=[];for(const _e of u){const Pe=xI(_e,w.get(_e.key).overlayedDocument);null!=Pe&&te.push(new yc(_e.key,Pe,h_(Pe.value.mapValue),Xn.exists(!0)))}return h.mutationQueue.addMutationBatch(M,g,te,u)}).next(K=>{S=K;const te=K.applyToLocalDocumentSet(w,U);return h.documentOverlayCache.saveOverlays(M,K.batchId,te)})}).then(()=>({batchId:S.batchId,changes:ZD(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let g=o.hc[o.currentUser.toKey()];g||(g=new Wn(Jt)),g=g.insert(u,h),o.hc[o.currentUser.toKey()]=g}(i,r.batchId,e),yield ju(i,r.changes),yield k_(i.remoteStore)}catch(r){const o=F_(r,"Failed to persist write");e.reject(o)}}),sx.apply(this,arguments)}function PN(n,t){return ox.apply(this,arguments)}function ox(){return ox=(0,Ie.Z)(function*(n,t){const e=nt(n);try{const i=yield function O2(n,t){const e=nt(n),i=t.snapshotVersion;let r=e.qi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.qi;const h=[];t.targetChanges.forEach((w,S)=>{const M=r.get(S);if(!M)return;h.push(e.Cs.removeMatchingKeys(o,w.removedDocuments,S).next(()=>e.Cs.addMatchingKeys(o,w.addedDocuments,S)));let R=M.withSequenceNumber(o.currentSequenceNumber);var U,K,te;t.targetMismatches.has(S)?R=R.withResumeToken(Or.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):w.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(w.resumeToken,i)),r=r.insert(S,R),K=R,te=w,(0===(U=M).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&h.push(e.Cs.updateTargetData(o,R))});let g=Ss(),y=Ft();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,w))}),h.push(dN(o,u,t.documentUpdates).next(w=>{g=w.Wi,y=w.zi})),!i.isEqual(Nt.min())){const w=e.Cs.getLastRemoteSnapshotVersion(o).next(S=>e.Cs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(w)}return ge.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,g,y)).next(()=>g)}).then(o=>(e.qi=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.cc.get(o);u&&(Dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?Dt(u.nc):r.removedDocuments.size>0&&(Dt(u.nc),u.nc=!1))}),yield ju(e,i,t)}catch(i){yield gl(i)}}),ox.apply(this,arguments)}function kN(n,t,e){const i=nt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((o,u)=>{const h=u.view.bu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=nt(o);h.onlineState=u;let g=!1;h.queries.forEach((y,w)=>{for(const S of w.listeners)S.bu(u)&&(g=!0)}),g&&XS(h)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function hV(n,t,e){return ax.apply(this,arguments)}function ax(){return ax=(0,Ie.Z)(function*(n,t,e){const i=nt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),o=r&&r.key;if(o){let u=new Wn(et.comparator);u=u.insert(o,qn.newNoDocument(o,Nt.min()));const h=Ft().add(o),g=new $f(Nt.min(),new Map,new On(Jt),u,h);yield PN(i,g),i.uc=i.uc.remove(o),i.cc.delete(t),fx(i)}else yield N_(i.localStore,t,!1).then(()=>B_(i,t,e)).catch(gl)}),ax.apply(this,arguments)}function pV(n,t){return lx.apply(this,arguments)}function lx(){return lx=(0,Ie.Z)(function*(n,t){const e=nt(n),i=t.batch.batchId;try{const r=yield function M2(n,t){const e=nt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,y){const w=g.batch,S=w.keys();let M=ge.resolve();return S.forEach(R=>{M=M.next(()=>y.getEntry(h,R)).next(U=>{const K=g.docVersions.get(R);Dt(null!==K),U.version.compareTo(K)<0&&(w.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))})}),M.next(()=>u.mutationQueue.removeMutationBatch(h,w))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Ft();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);hx(e,i,null),dx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ju(e,r)}catch(r){yield gl(r)}}),lx.apply(this,arguments)}function fV(n,t,e){return cx.apply(this,arguments)}function cx(){return cx=(0,Ie.Z)(function*(n,t,e){const i=nt(n);try{const r=yield function(o,u){const h=nt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return h.mutationQueue.lookupMutationBatch(g,u).next(w=>(Dt(null!==w),y=w.keys(),h.mutationQueue.removeMutationBatch(g,w))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>h.localDocuments.getDocuments(g,y))})}(i.localStore,t);hx(i,t,e),dx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ju(i,r)}catch(r){yield gl(r)}}),cx.apply(this,arguments)}function ux(){return ux=(0,Ie.Z)(function*(n,t){const e=nt(n);$u(e.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=nt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=F_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),ux.apply(this,arguments)}function dx(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function hx(n,t,e){const i=nt(n);let r=i.hc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function B_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||RN(n,i)})}function RN(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(_b(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),fx(n))}function px(n,t,e){for(const i of e)i instanceof MN?(n.ac.addReference(i.key,t),mV(n,i)):i instanceof ON?($e("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||RN(n,i.key)):ut()}function mV(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||($e("SyncEngine","New document in limbo: "+e),n.oc.add(i),fx(n))}function fx(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new et(pn.fromString(t)),i=n.fc.next();n.cc.set(i,new aV(e)),n.uc=n.uc.insert(e,i),aE(n.remoteStore,new wc(cs(_c(e.path)),i,2,Ws.at))}}function ju(n,t,e){return gx.apply(this,arguments)}function gx(){return gx=(0,Ie.Z)(function*(n,t,e){const i=nt(n),r=[],o=[],u=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,g)=>{u.push(i._c(g,t,e).then(y=>{if((y||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const w=bS.Ci(g.targetId,y);o.push(w)}}))}),yield Promise.all(u),i.sc.Wo(r),yield(h=(0,Ie.Z)(function*(g,y){const w=nt(g);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ge.forEach(y,M=>ge.forEach(M.Si,R=>w.persistence.referenceDelegate.addReference(S,M.targetId,R)).next(()=>ge.forEach(M.Di,R=>w.persistence.referenceDelegate.removeReference(S,M.targetId,R)))))}catch(S){if(!ml(S))throw S;$e("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const R=w.qi.get(M),K=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);w.qi=w.qi.insert(M,K)}}}),function(g,y){return h.apply(this,arguments)})(i.localStore,o))}),gx.apply(this,arguments)}function _V(n,t){return mx.apply(this,arguments)}function mx(){return mx=(0,Ie.Z)(function*(n,t){const e=nt(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield cN(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(u=>{u.forEach(h=>{h.reject(new Be(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ju(e,i.ji)}var r}),mx.apply(this,arguments)}function yV(n,t){const e=nt(n),i=e.cc.get(t);if(i&&i.nc)return Ft().add(i.key);{let r=Ft();const o=e.rc.get(t);if(!o)return r;for(const u of o){const h=e.ic.get(u);r=r.unionWith(h.view.ju)}return r}}function vV(n,t){return _x.apply(this,arguments)}function _x(){return _x=(0,Ie.Z)(function*(n,t){const e=nt(n),i=yield iE(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&px(e,t.targetId,r.Xu),r}),_x.apply(this,arguments)}function bV(n,t){return yx.apply(this,arguments)}function yx(){return yx=(0,Ie.Z)(function*(n,t){const e=nt(n);return pN(e.localStore,t).then(i=>ju(e,i))}),yx.apply(this,arguments)}function wV(n,t,e,i){return vx.apply(this,arguments)}function vx(){return vx=(0,Ie.Z)(function*(n,t,e,i){const r=nt(n),o=yield function(u,h){const g=nt(u),y=nt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",w=>y.Tn(w,h).next(S=>S?g.localDocuments.getDocuments(w,S):ge.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield k_(r.remoteStore):"acknowledged"===e||"rejected"===e?(hx(r,t,i||null),dx(r,t),h=t,nt(nt(r.localStore).mutationQueue).An(h)):ut(),yield ju(r,o)):$e("SyncEngine","Cannot apply mutation batch with id: "+t)}),vx.apply(this,arguments)}function bx(){return bx=(0,Ie.Z)(function*(n,t){const e=nt(n);if(Cx(e),Tx(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield FN(e,i.toArray());e.dc=!0,yield WS(e.remoteStore,!0);for(const o of r)aE(e.remoteStore,o)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(B_(e,u),N_(e.localStore,u,!0))),_b(e.remoteStore,u)}),yield r,yield FN(e,i),function(o){const u=nt(o);u.cc.forEach((h,g)=>{_b(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Wn(et.comparator)}(e),e.dc=!1,yield WS(e.remoteStore,!1)}}),bx.apply(this,arguments)}function FN(n,t,e){return wx.apply(this,arguments)}function wx(){return wx=(0,Ie.Z)(function*(n,t,e){const i=nt(n),r=[],o=[];for(const u of t){let h;const g=i.rc.get(u);if(g&&0!==g.length){h=yield O_(i.localStore,cs(g[0]));for(const y of g){const w=i.ic.get(y),S=yield vV(i,w);S.snapshot&&o.push(S.snapshot)}}else{const y=yield hN(i.localStore,u);h=yield O_(i.localStore,y),yield nx(i,LN(y),u,!1,h.resumeToken)}r.push(h)}return i.sc.Wo(o),r}),wx.apply(this,arguments)}function LN(n){return M0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function EV(n){const t=nt(n);return nt(nt(t.localStore).persistence).vi()}function CV(n,t,e,i){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,Ie.Z)(function*(n,t,e,i){const r=nt(n);if(r.dc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const o=r.rc.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield pN(r.localStore,SI(o[0])),h=$f.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Or.EMPTY_BYTE_STRING);yield ju(r,u,h);break}case"rejected":yield N_(r.localStore,t,!0),B_(r,t,i);break;default:ut()}}),Ix.apply(this,arguments)}function TV(n,t,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,Ie.Z)(function*(n,t,e){const i=Cx(n);if(i.dc){for(const r of t){if(i.rc.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const o=yield hN(i.localStore,r),u=yield O_(i.localStore,o);yield nx(i,LN(o),u.targetId,!1,u.resumeToken),aE(i.remoteStore,u)}for(const r of e)i.rc.has(r)&&(yield N_(i.localStore,r,!1).then(()=>{_b(i.remoteStore,r),B_(i,r)}).catch(gl))}}),Ex.apply(this,arguments)}function Cx(n){const t=nt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=PN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=yV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hV.bind(null,t),t.sc.Wo=nV.bind(null,t.eventManager),t.sc.wc=iV.bind(null,t.eventManager),t}function Tx(n){const t=nt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fV.bind(null,t),t}class VN{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ie.Z)(function*(){e.yt=gb(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return lN(this.persistence,new aN,t.initialUser,this.yt)}yc(t){return new sN(tE.Bs,this.yt)}gc(t){return new _N}terminate(){var t=this;return(0,Ie.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class BN extends VN{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield Tx(i.Ac.syncEngine),yield k_(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return lN(this.persistence,new aN,t.initialUser,this.yt)}Tc(t,e){return new g2(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new FD(e,this.persistence);return new RD(t.asyncQueue,i)}yc(t){const e=vS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new yS(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,vN(),oE(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new _N}}class SV extends BN{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof xS&&(i.sharedClientState.syncEngine={Fr:wV.bind(null,r),$r:CV.bind(null,r),Br:TV.bind(null,r),vi:EV.bind(null,r),Mr:bV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var o=(0,Ie.Z)(function*(u){yield function IV(n,t){return bx.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}gc(t){const e=vN();if(!xS.C(e))throw new Be(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=vS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new xS(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Dx{initialize(t,e){var i=this;return(0,Ie.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>kN(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=_V.bind(null,i.syncEngine),yield WS(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new tV}createDatastore(t){const e=gb(t.databaseInfo.databaseId),i=new V2(t.databaseInfo);return new H2(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>kN(this.syncEngine,h,0),u=yN.C()?new yN:new R2,new j2(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,g,y){const w=new lV(i,r,o,u,h,g);return y&&(w.dc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ie.Z)(function*(e){const i=nt(e);$e("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield P_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function Sx(n,t,e){if(!e)throw new Be(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function UN(n,t,e,i){if(!0===t&&!0===i)throw new Be(me.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function HN(n){if(!et.isDocumentKey(n))throw new Be(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GN(n){if(et.isDocumentKey(n))throw new Be(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ut()}function gn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Be(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cE(n);throw new Be(me.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function $N(n,t){if(t<=0)throw new Be(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const jN=new Map;class zN{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Be(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Be(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,UN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Be(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zN(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new lI;switch(e.type){case"gapi":return new o0(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Be(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=jN.get(t);e&&($e("ComponentProvider","Removing Datastore"),jN.delete(t),e.terminate())}(this),Promise.resolve()}}class gi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new gi(this.firestore,t,this._key)}}class ds{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ds(this.firestore,t,this._query)}}class Ic extends ds{constructor(t,e,i){super(t,e,_c(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new gi(this.firestore,null,new et(t))}withConverter(t){return new Ic(this.firestore,t,this._path)}}function qN(n,t,...e){if(n=(0,cn.m9)(n),Sx("collection","path",t),n instanceof yb){const i=pn.fromString(t,...e);return GN(i),new Ic(n,null,i)}{if(!(n instanceof gi||n instanceof Ic))throw new Be(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pn.fromString(t,...e));return GN(i),new Ic(n.firestore,null,i)}}function uE(n,t,...e){if(n=(0,cn.m9)(n),1===arguments.length&&(t=n_.R()),Sx("doc","path",t),n instanceof yb){const i=pn.fromString(t,...e);return HN(i),new gi(n,null,new et(i))}{if(!(n instanceof gi||n instanceof Ic))throw new Be(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pn.fromString(t,...e));return HN(i),new gi(n.firestore,n instanceof Ic?n.converter:null,new et(i))}}function ZN(n,t){return n=(0,cn.m9)(n),t=(0,cn.m9)(t),(n instanceof gi||n instanceof Ic)&&(t instanceof gi||t instanceof Ic)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function xx(n,t){return n=(0,cn.m9)(n),t=(0,cn.m9)(t),n instanceof ds&&t instanceof ds&&n.firestore===t.firestore&&Vf(n._query,t._query)&&n.converter===t.converter}function YN(n,t=10240){let e=0;return{read:()=>(0,Ie.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class dE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Bi("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class AV{constructor(t,e){this.Pc=t,this.yt=e,this.metadata=new pr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,Ie.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,Ie.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const o=yield t.Cc(r);return new rV(JSON.parse(o),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,Ie.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,Ie.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,Ie.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class NV{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Be(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ie.Z)(function*(o,u){const h=nt(o),g=b_(h.yt)+"/documents",y={documents:u.map(R=>zf(h.yt,R))},w=yield h._o("BatchGetDocuments",g,y,u.length),S=new Map;w.forEach(R=>{const U=function VO(n,t){return"found"in t?function(e,i){Dt(!!i.found);const r=Ia(e,i.found.name),o=Ui(i.found.updateTime),u=i.found.createTime?Ui(i.found.createTime):Nt.min(),h=new Hr({mapValue:{fields:i.found.fields}});return qn.newFoundDocument(r,o,u,h)}(n,t):"missing"in t?function(e,i){Dt(!!i.missing),Dt(!!i.readTime);const r=Ia(e,i.missing),o=Ui(i.readTime);return qn.newNoDocument(r,o)}(n,t):ut()}(h.yt,R);S.set(U.key.toString(),U)});const M=[];return u.forEach(R=>{const U=S.get(R.toString());Dt(!!U),M.push(U)}),M}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new wl(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=et.fromPath(r);t.mutations.push(new U0(o,t.precondition(o)))}),yield(i=(0,Ie.Z)(function*(r,o){const u=nt(r),h=b_(u.yt)+"/documents",g={writes:o.map(y=>Ch(u.yt,y))};yield u.ao("Commit",h,g)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ut();e=Nt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Be(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Nt.min())?Xn.exists(!1):Xn.updateTime(e):Xn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Nt.min()))throw new Be(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(e)}return Xn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class PV{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.kc=i.maxAttempts,this.xo=new AS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,Ie.Z)(function*(){const e=new NV(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Fc(o)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!uh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!PI(e)}return!1}}class kV{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Mr.UNAUTHENTICATED,this.clientId=n_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Ie.Z)(function*(h){$e("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>($e("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,Ie.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=F_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function KN(n,t){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,Ie.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ie.Z)(function*(o){i.isEqual(o)||(yield cN(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Ax.apply(this,arguments)}function JN(n,t){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,Ie.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Ox(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>DN(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>DN(t.remoteStore,o)),n.onlineComponents=t}),Mx.apply(this,arguments)}function Ox(n){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,Ie.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield KN(n,new VN)),n.offlineComponents}),Nx.apply(this,arguments)}function hE(n){return Px.apply(this,arguments)}function Px(){return Px=(0,Ie.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield JN(n,new Dx)),n.onlineComponents}),Px.apply(this,arguments)}function QN(n){return Ox(n).then(t=>t.persistence)}function pE(n){return Ox(n).then(t=>t.localStore)}function kx(n){return hE(n).then(t=>t.remoteStore)}function Rx(n){return hE(n).then(t=>t.syncEngine)}function U_(n){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Ie.Z)(function*(n){const t=yield hE(n),e=t.eventManager;return e.onListen=cV.bind(null,t.syncEngine),e.onUnlisten=uV.bind(null,t.syncEngine),e}),Fx.apply(this,arguments)}function eP(n,t,e={}){const i=new pr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(r,o,u,h,g){const y=new dE({next:S=>{o.enqueueAndForget(()=>JS(r,w));const M=S.docs.has(u);!M&&S.fromCache?g.reject(new Be(me.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&h&&"server"===h.source?g.reject(new Be(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new ex(_c(u.path),y,{includeMetadataChanges:!0,Nu:!0});return YS(r,w)}(yield U_(n),n.asyncQueue,t,e,i)})),i.promise}function tP(n,t,e={}){const i=new pr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(r,o,u,h,g){const y=new dE({next:S=>{o.enqueueAndForget(()=>JS(r,w)),S.fromCache&&"server"===h.source?g.reject(new Be(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new ex(u,y,{includeMetadataChanges:!0,Nu:!0});return YS(r,w)}(yield U_(n),n.asyncQueue,t,e,i)})),i.promise}class GV{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new AS(this,"async_queue_retry"),this.Wc=()=>{const e=oE();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=oE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=oE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise(()=>{});const e=new pr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,Ie.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!ml(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,Bi("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=ZS.createAndSchedule(this,t,e,i,o=>this.Yc(o));return this.Uc.push(r),r}zc(){this.Kc&&ut()}verifyOperationInProgress(){}Xc(){var t=this;return(0,Ie.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function Lx(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class $V{constructor(){this._progressObserver={},this._taskCompletionResolver=new pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class mi extends yb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new GV,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nP(this),this._firestoreClient.terminate()}}function _r(n){return n._firestoreClient||nP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function nP(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new fI(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new kV(n._authCredentials,n._appCheckCredentials,n._queue,i)}function iP(n,t,e){const i=new pr;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield KN(n,e),yield JN(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===me.FAILED_PRECONDITION||u.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;Cu("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function rP(n){if(n._initialized||n._terminated)throw new Be(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ec{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ec(Or.fromBase64String(t))}catch(e){throw new Be(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ec(Or.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class zu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Be(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Di(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Xf{constructor(t){this._methodName=t}}class fE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Be(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Be(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}}const XV=/^__.*__$/;class eB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new yc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Lu(t,this.data,e,this.fieldTransforms)}}class sP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new yc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function oP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class gE{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.yt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new gE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return yE(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(oP(this.sa)&&XV.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class tB{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=i||gb(t)}da(t,e,i,r=!1){return new gE({sa:t,methodName:e,fa:i,path:Di.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function eg(n){const t=n._freezeSettings(),e=gb(n._databaseId);return new tB(n._databaseId,!!t.ignoreUndefinedProperties,e)}function mE(n,t,e,i,r,o={}){const u=n.da(o.merge||o.mergeFields?2:0,t,e,r);Hx("Data must be an object, but it was:",u,i);const h=cP(i,u);let g,y;if(o.merge)g=new Ds(u.fieldMask),y=u.fieldTransforms;else if(o.mergeFields){const w=[];for(const S of o.mergeFields){const M=Gx(t,S,e);if(!u.contains(M))throw new Be(me.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);dP(w,M)||w.push(M)}g=new Ds(w),y=u.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=u.fieldTransforms;return new eB(new Hr(h),g,y)}class vb extends Xf{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof vb}}function aP(n,t,e){return new gE({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.yt,t.ignoreUndefinedProperties)}class Vx extends Xf{_toFieldTransform(t){return new __(t.path,new ku)}isEqual(t){return t instanceof Vx}}class nB extends Xf{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=aP(this,t,!0),i=this._a.map(o=>tg(o,e)),r=new vh(i);return new __(t.path,r)}isEqual(t){return this===t}}class iB extends Xf{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=aP(this,t,!0),i=this._a.map(o=>tg(o,e)),r=new bh(i);return new __(t.path,r)}isEqual(t){return this===t}}class rB extends Xf{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new Hf(t.yt,V0(t.yt,this.wa));return new __(t.path,e)}isEqual(t){return this===t}}function Bx(n,t,e,i){const r=n.da(1,t,e);Hx("Data must be an object, but it was:",r,i);const o=[],u=Hr.empty();fc(i,(g,y)=>{const w=_E(t,g,e);y=(0,cn.m9)(y);const S=r.ca(w);if(y instanceof vb)o.push(w);else{const M=tg(y,S);null!=M&&(o.push(w),u.set(w,M))}});const h=new Ds(o);return new sP(u,h,r.fieldTransforms)}function Ux(n,t,e,i,r,o){const u=n.da(1,t,e),h=[Gx(t,i,e)],g=[r];if(o.length%2!=0)throw new Be(me.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<o.length;M+=2)h.push(Gx(t,o[M])),g.push(o[M+1]);const y=[],w=Hr.empty();for(let M=h.length-1;M>=0;--M)if(!dP(y,h[M])){const R=h[M];let U=g[M];U=(0,cn.m9)(U);const K=u.ca(R);if(U instanceof vb)y.push(R);else{const te=tg(U,K);null!=te&&(y.push(R),w.set(R,te))}}const S=new Ds(y);return new sP(w,S,u.fieldTransforms)}function lP(n,t,e,i=!1){return tg(e,n.da(i?4:3,t))}function tg(n,t){if(uP(n=(0,cn.m9)(n)))return Hx("Unsupported field value:",t,n),cP(n,t);if(n instanceof Xf)return function(e,i){if(!oP(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=tg(u,i.aa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,cn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return V0(i.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Qn.fromDate(e);return{timestampValue:Bu(i.yt,r)}}if(e instanceof Qn){const r=new Qn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bu(i.yt,r)}}if(e instanceof fE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ec)return{bytesValue:v_(i.yt,e._byteString)};if(e instanceof gi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:UI(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${cE(e)}`)}(n,t)}function cP(n,t){const e={};return _0(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fc(n,(i,r)=>{const o=tg(r,t.ra(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function uP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof fE||n instanceof Ec||n instanceof gi||n instanceof Xf)}function Hx(n,t,e){if(!uP(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=cE(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function Gx(n,t,e){if((t=(0,cn.m9)(t))instanceof zu)return t._internalPath;if("string"==typeof t)return _E(n,t);throw yE("Field path arguments must be of type string or ",n,!1,void 0,e)}const sB=new RegExp("[~\\*/\\[\\]]");function _E(n,t,e){if(t.search(sB)>=0)throw yE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new zu(...t.split("."))._internalPath}catch{throw yE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function yE(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(o||u)&&(g+=" (found",o&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new Be(me.INVALID_ARGUMENT,h+n+g)}function dP(n,t){return n.some(e=>e.isEqual(t))}class bb{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new oB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(vE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class oB extends bb{data(){return super.data()}}function vE(n,t){return"string"==typeof t?_E(n,t):t instanceof zu?t._internalPath:t._delegate._internalPath}function hP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $x{}class wb extends $x{}function Ah(n,t,...e){let i=[];t instanceof $x&&i.push(t),i=i.concat(e),function(r){const o=r.filter(h=>h instanceof H_).length,u=r.filter(h=>h instanceof Ib).length;if(o>1||o>0&&u>0)throw new Be(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Ib extends wb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Ib(t,e,i)}_apply(t){const e=this._parse(t);return mP(t._query,e),new ds(t.firestore,t.converter,g_(t._query,e))}_parse(t){const e=eg(t.firestore);return function(r,o,u,h,g,y,w){let S;if(g.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Be(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){gP(w,y);const M=[];for(const R of w)M.push(fP(h,r,R));S={arrayValue:{values:M}}}else S=fP(h,r,w)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||gP(w,y),S=lP(u,"where",w,"in"===y||"not-in"===y);return un.create(g,y,S)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class H_ extends $x{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new H_(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:En.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const h of u)mP(o,h),o=g_(o,h)}(t._query,e),new ds(t.firestore,t.converter,g_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jx extends wb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new jx(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Be(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Be(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ou(r,o);return function(h,g){if(null===O0(h)){const y=N0(h);null!==y&&_P(0,y,g.field)}}(i,u),u}(t._query,this._field,this._direction);return new ds(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new bl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class bE extends wb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new bE(t,e,i)}_apply(t){return new ds(t.firestore,t.converter,Lf(t._query,this._limit,this._limitType))}}class wE extends wb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new wE(t,e,i)}_apply(t){const e=pP(t,this.type,this._docOrFields,this._inclusive);return new ds(t.firestore,t.converter,(r=e,new bl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class IE extends wb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new IE(t,e,i)}_apply(t){const e=pP(t,this.type,this._docOrFields,this._inclusive);return new ds(t.firestore,t.converter,(r=e,new bl((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function pP(n,t,e,i){if(e[0]=(0,cn.m9)(e[0]),e[0]instanceof bb)return function(r,o,u,h,g){if(!h)throw new Be(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const w of Pu(r))if(w.field.isKeyField())y.push(wa(o,h.key));else{const S=h.data.field(w.field);if(v0(S))throw new Be(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const M=w.field.canonicalString();throw new Be(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(S)}return new mc(y,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=eg(n.firestore);return function(o,u,h,g,y,w){const S=o.explicitOrderBy;if(y.length>S.length)throw new Be(me.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let R=0;R<y.length;R++){const U=y[R];if(S[R].field.isKeyField()){if("string"!=typeof U)throw new Be(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof U}`);if(!P0(o)&&-1!==U.indexOf("/"))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${U}' contains a slash.`);const K=o.path.child(pn.fromString(U));if(!et.isDocumentKey(K))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const te=new et(K);M.push(wa(u,te))}else{const K=lP(h,g,U);M.push(K)}}return new mc(M,w)}(n._query,n.firestore._databaseId,r,t,e,i)}}function fP(n,t,e){if("string"==typeof(e=(0,cn.m9)(e))){if(""===e)throw new Be(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P0(t)&&-1!==e.indexOf("/"))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(pn.fromString(e));if(!et.isDocumentKey(i))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return wa(n,new et(i))}if(e instanceof gi)return wa(n,e._key);throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cE(e)}.`)}function gP(n,t){if(!Array.isArray(n)||0===n.length)throw new Be(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Be(me.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function mP(n,t){if(t.isInequality()){const i=N0(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Be(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=O0(n);null!==o&&_P(0,r,o)}const e=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Be(me.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function _P(n,t,e){if(!e.isEqual(t))throw new Be(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class zx{convertValue(t,e="none"){switch(xu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Su(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ut()}}convertObject(t,e){const i={};return fc(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new fE(fi(t.latitude),fi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=hh(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(kf(t));default:return null}}convertTimestamp(t){const e=_l(t);return new Qn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=pn.fromString(t);Dt(jI(i));const r=new fo(i.get(1),i.get(3)),o=new et(i.popFirst(5));return r.isEqual(e)||Bi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function EE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class gB extends zx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ec(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new gi(this.firestore,null,e)}}class ng{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wu extends bb{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Eb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(vE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Eb extends Wu{data(t={}){return super.data(t)}}class Mh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ng(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Eb(this._firestore,this._userDataWriter,i.key,i,new ng(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Be(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Eb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ng(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new Eb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ng(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return 0!==u.type&&(g=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),y=o.indexOf(u.doc.key)),{type:mB(u.type),doc:h,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function mB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function vP(n,t){return n instanceof Wu&&t instanceof Wu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Mh&&t instanceof Mh&&n._firestore===t._firestore&&xx(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Oh extends zx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ec(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new gi(this.firestore,null,e)}}function bP(n,t,e){n=gn(n,gi);const i=gn(n.firestore,mi),r=EE(n.converter,t,e);return G_(i,[mE(eg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Xn.none())])}function wP(n,t,e,...i){n=gn(n,gi);const r=gn(n.firestore,mi),o=eg(r);let u;return u="string"==typeof(t=(0,cn.m9)(t))||t instanceof zu?Ux(o,"updateDoc",n._key,t,e,i):Bx(o,"updateDoc",n._key,t),G_(r,[u.toMutation(n._key,Xn.exists(!0))])}function IP(n,...t){var e,i,r;n=(0,cn.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||Lx(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(Lx(t[u])){const S=t[u];t[u]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let g,y,w;if(n instanceof gi)y=gn(n.firestore,mi),w=_c(n._key.path),g={next:S=>{t[u]&&t[u](Wx(y,n,S))},error:t[u+1],complete:t[u+2]};else{const S=gn(n,ds);y=gn(S.firestore,mi),w=S._query;const M=new Oh(y);g={next:R=>{t[u]&&t[u](new Mh(y,M,S,R))},error:t[u+1],complete:t[u+2]},hP(n._query)}return function(S,M,R,U){const K=new dE(U),te=new ex(M,K,R);return S.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return YS(yield U_(S),te)})),()=>{K.bc(),S.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return JS(yield U_(S),te)}))}}(_r(y),w,h,g)}function G_(n,t){return function(e,i){const r=new pr;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function dV(n,t,e){return sx.apply(this,arguments)}(yield Rx(e),i,r)})),r.promise}(_r(n),t)}function Wx(n,t,e){const i=e.docs.get(t._key),r=new Oh(n);return new Wu(n,r,t._key,i,new ng(e.hasPendingWrites,e.fromCache),t.converter)}const DB={maxAttempts:5};class EP{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=eg(t)}set(t,e,i){this._verifyNotCommitted();const r=Nh(t,this._firestore),o=EE(r.converter,e,i),u=mE(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Xn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Nh(t,this._firestore);let u;return u="string"==typeof(e=(0,cn.m9)(e))||e instanceof zu?Ux(this._dataReader,"WriteBatch.update",o._key,e,i,r):Bx(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Xn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Nh(t,this._firestore);return this._mutations=this._mutations.concat(new wl(e._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nh(n,t){if((n=(0,cn.m9)(n)).firestore!==t)throw new Be(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class SB extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=eg(t)}get(t){const e=Nh(t,this._firestore),i=new gB(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ut();const o=r[0];if(o.isFoundDocument())return new bb(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new bb(this._firestore,i,e._key,null,e.converter);throw ut()})}set(t,e,i){const r=Nh(t,this._firestore),o=EE(r.converter,e,i),u=mE(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Nh(t,this._firestore);let u;return u="string"==typeof(e=(0,cn.m9)(e))||e instanceof zu?Ux(this._dataReader,"Transaction.update",o._key,e,i,r):Bx(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Nh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Nh(t,this._firestore),i=new Oh(this._firestore);return super.get(t).then(r=>new Wu(this._firestore,i,e._key,r._document,new ng(!1,!1),e.converter))}}!function(n,t=!0){dc=Gd.SDK_VERSION,(0,Gd._registerComponent)(new Cm.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),u=new mi(new OD(e.getProvider("auth-internal")),new l0(e.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Be(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(h.options.projectId,g)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Gd.registerVersion)(aI,"3.8.3",n),(0,Gd.registerVersion)(aI,"3.8.3","esm2017")}();function qx(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function TP(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function DP(){if(!function LD(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Cb{constructor(t){this._delegate=t}static fromBase64String(t){return DP(),new Cb(Ec.fromBase64String(t))}static fromUint8Array(t){return TP(),new Cb(Ec.fromUint8Array(t))}toBase64(){return DP(),this._delegate.toBase64()}toUint8Array(){return TP(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Zx(n){return function FB(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class LB{enableIndexedDbPersistence(t,e){return function zV(n,t){rP(n=gn(n,mi));const e=_r(n),i=n._freezeSettings(),r=new Dx;return iP(e,r,new BN(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function WV(n){rP(n=gn(n,mi));const t=_r(n),e=n._freezeSettings(),i=new Dx;return iP(t,i,new SV(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function qV(n){if(n._initialized&&!n._terminated)throw new Be(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(e=(0,Ie.Z)(function*(i){if(!ko.C())return Promise.resolve();const r=i+"main";yield ko.delete(r)}),function(i){return e.apply(this,arguments)})(vS(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class SP{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof fo||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Cu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function WN(n,t,e,i={}){var r;const o=(n=gn(n,yb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Cu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Mr.MOCK_USER;else{u=(0,cn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Be(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Mr(g)}n._authCredentials=new MD(new t_(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function YV(n){return function RV(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const t=yield QN(n),e=yield kx(n);return t.setNetworkEnabled(!0),function(i){const r=nt(i);return r._u.delete(0),mb(r)}(e)}))}(_r(n=gn(n,mi)))}(this._delegate)}disableNetwork(){return function KV(n){return function FV(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const t=yield QN(n),e=yield kx(n);return t.setNetworkEnabled(!1),(i=(0,Ie.Z)(function*(r){const o=nt(r);o._u.add(0),yield P_(o),o.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(_r(n=gn(n,mi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,UN("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ZV(n){return function(t){const e=new pr;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function gV(n,t){return ux.apply(this,arguments)}(yield Rx(t),e)})),e.promise}(_r(n=gn(n,mi)))}(this._delegate)}onSnapshotsInSync(t){return function TB(n,t){return function BV(n,t){const e=new dE(t);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield U_(n),r=e,nt(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield U_(n),r=e,void nt(i).Ru.delete(r);var i,r}))}}(_r(n=gn(n,mi)),Lx(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new $_(this,qN(this._delegate,t))}catch(e){throw Zs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ea(this,uE(this._delegate,t))}catch(e){throw Zs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ys(this,function xV(n,t){if(n=gn(n,yb),Sx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Be(me.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ds(n,null,(e=t,new bl(pn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Zs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function xB(n,t,e){n=gn(n,mi);const i=Object.assign(Object.assign({},DB),e);return function(r){if(r.maxAttempts<1)throw new Be(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const h=new pr;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const g=yield function XN(n){return hE(n).then(t=>t.datastore)}(r);new PV(r.asyncQueue,g,u,o,h).run()})),h.promise}(_r(n),r=>t(new SB(n,r)),i)}(this._delegate,e=>t(new xP(this,e)))}batch(){return _r(this._delegate),new AP(new EP(this._delegate,t=>G_(this._delegate,t)))}loadBundle(t){return function JV(n,t){const e=_r(n=gn(n,mi)),i=new $V;return function UV(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,g=function(g,y){if(g instanceof Uint8Array)return YN(g,y);if(g instanceof ArrayBuffer)return YN(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new AV(g,u);var g}(e,gb(t));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function DV(n,t,e){const i=nt(n);var r;(r=(0,Ie.Z)(function*(o,u,h){try{const g=yield u.getMetadata();if(yield function(M,R){const U=nt(M),K=Ui(R.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",te=>U.Ns.getBundleMetadata(te,R.id)).then(te=>!!te&&te.createTime.compareTo(K)>=0)}(o.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=g).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(AN(g));const y=new sV(g,o.localStore,u.yt);let w=yield u.mc();for(;w;){const M=yield y.Fu(w);M&&h._updateProgress(M),w=yield u.mc()}const S=yield y.complete();return yield ju(o,S.Lu,void 0),yield function(M,R){const U=nt(M);return U.persistence.runTransaction("Save bundle","readwrite",K=>U.Ns.saveBundleMetadata(K,R))}(o.localStore,g),h._completeWith(S.progress),Promise.resolve(S.Bu)}catch(g){return Cu("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var M}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Rx(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function QV(n,t){return function HV(n,t){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(e,i){const r=nt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ns.getNamedQuery(o,i))}(yield pE(n),t)}))}(_r(n=gn(n,mi)),t).then(e=>e?new ds(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ys(this,e):null)}}class CE extends zx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cb(new Ec(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ea.forKey(e,this.firestore,null)}}class xP{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new CE(t)}get(t){const e=rg(t);return this._delegate.get(e).then(i=>new Tb(this._firestore,new Wu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=rg(t);return i?(qx("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=rg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=rg(t);return this._delegate.delete(e),this}}class AP{constructor(t){this._delegate=t}set(t,e,i){const r=rg(t);return i?(qx("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=rg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=rg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class ig{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Eb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Db(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=ig.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new ig(t,new CE(t),e),r.set(e,o)),o}}ig.INSTANCES=new WeakMap;class Ea{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new CE(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ea(e,new gi(e._delegate,i,new et(t)))}static forKey(t,e,i){return new Ea(e,new gi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new $_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new $_(this.firestore,qN(this._delegate,t))}catch(e){throw Zs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,cn.m9)(t))instanceof gi&&ZN(this._delegate,t)}set(t,e){e=qx("DocumentReference.set",e);try{return e?bP(this._delegate,t,e):bP(this._delegate,t)}catch(i){throw Zs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?wP(this._delegate,t):wP(this._delegate,t,e,...i)}catch(r){throw Zs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function EB(n){return G_(gn(n.firestore,mi),[new wl(n._key,Xn.none())])}(this._delegate)}onSnapshot(...t){const e=MP(t),i=OP(t,r=>new Tb(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return IP(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function yB(n){n=gn(n,gi);const t=gn(n.firestore,mi),e=_r(t),i=new Oh(t);return function LV(n,t){const e=new pr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(r,o,u){try{const h=yield function(g,y){const w=nt(g);return w.persistence.runTransaction("read document","readonly",S=>w.localDocuments.getDocument(S,y))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Be(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=F_(h,`Failed to get document '${o} from cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield pE(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Wu(t,i,n._key,r,new ng(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function vB(n){n=gn(n,gi);const t=gn(n.firestore,mi);return eP(_r(t),n._key,{source:"server"}).then(e=>Wx(t,n,e))}(this._delegate):function _B(n){n=gn(n,gi);const t=gn(n.firestore,mi);return eP(_r(t),n._key).then(e=>Wx(t,n,e))}(this._delegate),e.then(i=>new Tb(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ea(this.firestore,this._delegate.withConverter(t?ig.getInstance(this.firestore,t):null))}}function Zs(n,t,e){return n.message=n.message.replace(t,e),n}function MP(n){for(const t of n)if("object"==typeof t&&!Zx(t))return t;return{}}function OP(n,t){var e,i;let r;return r=Zx(n[0])?n[0]:Zx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Tb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return vP(this._delegate,t._delegate)}}class Db extends Tb{data(t){const e=this._delegate.data(t);return function AD(n,t){n||ut()}(void 0!==e),e}}class Ys{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new CE(t)}where(t,e,i){try{return new Ys(this.firestore,Ah(this._delegate,function aB(n,t,e){const i=t,r=vE("where",n);return Ib._create(r,i,e)}(t,e,i)))}catch(r){throw Zs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ys(this.firestore,Ah(this._delegate,function lB(n,t="asc"){const e=t,i=vE("orderBy",n);return jx._create(i,e)}(t,e)))}catch(i){throw Zs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ys(this.firestore,Ah(this._delegate,function cB(n){return $N("limit",n),bE._create("limit",n,"F")}(t)))}catch(e){throw Zs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ys(this.firestore,Ah(this._delegate,function uB(n){return $N("limitToLast",n),bE._create("limitToLast",n,"L")}(t)))}catch(e){throw Zs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ys(this.firestore,Ah(this._delegate,function dB(...n){return wE._create("startAt",n,!0)}(...t)))}catch(e){throw Zs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ys(this.firestore,Ah(this._delegate,function hB(...n){return wE._create("startAfter",n,!1)}(...t)))}catch(e){throw Zs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ys(this.firestore,Ah(this._delegate,function pB(...n){return IE._create("endBefore",n,!1)}(...t)))}catch(e){throw Zs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ys(this.firestore,Ah(this._delegate,function fB(...n){return IE._create("endAt",n,!0)}(...t)))}catch(e){throw Zs(e,"endAt()","Query.endAt()")}}isEqual(t){return xx(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function wB(n){n=gn(n,ds);const t=gn(n.firestore,mi),e=_r(t),i=new Oh(t);return function VV(n,t){const e=new pr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(r,o,u){try{const h=yield iE(r,o,!0),g=new NN(o,h.Hi),y=g.Wu(h.documents),w=g.applyChanges(y,!1);u.resolve(w.snapshot)}catch(h){const g=F_(h,`Failed to execute query '${o} against cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield pE(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Mh(t,i,n,r))}(this._delegate):"server"===t?.source?function IB(n){n=gn(n,ds);const t=gn(n.firestore,mi),e=_r(t),i=new Oh(t);return tP(e,n._query,{source:"server"}).then(r=>new Mh(t,i,n,r))}(this._delegate):function bB(n){n=gn(n,ds);const t=gn(n.firestore,mi),e=_r(t),i=new Oh(t);return hP(n._query),tP(e,n._query).then(r=>new Mh(t,i,n,r))}(this._delegate),e.then(i=>new Yx(this.firestore,new Mh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=MP(t),i=OP(t,r=>new Yx(this.firestore,new Mh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return IP(this._delegate,e,i)}withConverter(t){return new Ys(this.firestore,this._delegate.withConverter(t?ig.getInstance(this.firestore,t):null))}}class BB{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Db(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yx{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Db(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new BB(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Db(this._firestore,i))})}isEqual(t){return vP(this._delegate,t._delegate)}}class $_ extends Ys{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ea(this.firestore,t):null}doc(t){try{return new Ea(this.firestore,void 0===t?uE(this._delegate):uE(this._delegate,t))}catch(e){throw Zs(e,"doc()","CollectionReference.doc()")}}add(t){return function CB(n,t){const e=gn(n.firestore,mi),i=uE(n),r=EE(n.converter,t);return G_(e,[mE(eg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Xn.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ea(this.firestore,e))}isEqual(t){return ZN(this._delegate,t._delegate)}withConverter(t){return new $_(this.firestore,this._delegate.withConverter(t?ig.getInstance(this.firestore,t):null))}}function rg(n){return gn(n,gi)}class Kx{constructor(...t){this._delegate=new zu(...t)}static documentId(){return new Kx(Di.keyField().canonicalString())}isEqual(t){return(t=(0,cn.m9)(t))instanceof zu&&this._delegate._internalPath.isEqual(t._internalPath)}}class sg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function MB(){return new Vx("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new sg(t)}static delete(){const t=function AB(){return new vb("deleteField")}();return t._methodName="FieldValue.delete",new sg(t)}static arrayUnion(...t){const e=function OB(...n){return new nB("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new sg(e)}static arrayRemove(...t){const e=function NB(...n){return new iB("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new sg(e)}static increment(t){const e=function PB(n){return new rB("increment",n)}(t);return e._methodName="FieldValue.increment",new sg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const UB={Firestore:SP,GeoPoint:fE,Timestamp:Qn,Blob:Cb,Transaction:xP,WriteBatch:AP,DocumentReference:Ea,DocumentSnapshot:Tb,Query:Ys,QueryDocumentSnapshot:Db,QuerySnapshot:Yx,CollectionReference:$_,FieldPath:Kx,FieldValue:sg,setLogLevel:function VB(n){!function xD(n){hc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function GB(n){(function HB(n,t){n.INTERNAL.registerComponent(new Cm.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},UB)))})(n,(t,e)=>new SP(t,e,new LB)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(Tm.Z);var NP=L(6451),TE=L(5363),$B=L(6063);class jB extends vn.x{constructor(t=1/0,e=1/0,i=$B.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)h=g;h&&i.splice(0,h+1)}}}var zB=L(3099);function PP(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,zB.B)({connector:()=>new jB(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function kP(n,t){return(0,Kn.m)(t)?hi(()=>n,t):hi(()=>n)}var Jx=L(9468);L(8140);const Xx=new Map,FP={activated:!1,tokenObservers:[]},KB={initialized:!1,enabled:!1};function hs(n){return Xx.get(n)||Object.assign({},FP)}function SE(){return KB}const eA="https://content-firebaseappcheck.googleapis.com/v1",eU="exchangeDebugToken",LP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class nU{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ie.Z)(function*(){e.stop();try{e.pending=new cn.BH,yield function iU(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new cn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ks=new cn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iA(){return iA=(0,Ie.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const o={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,o)}catch(S){throw Ks.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw Ks.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(S){throw Ks.create("fetch-parse-error",{originalErrorMessage:S?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Ks.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(g[1]),w=Date.now();return{token:h.token,expireTimeMillis:w+y,issuedAtTimeMillis:w}}),iA.apply(this,arguments)}const lU="firebase-app-check-database",cU=1,Sb="firebase-app-check-store";let ME=null;function rA(){return rA=(0,Ie.Z)(function*(n,t){const i=(yield function UP(){return ME||(ME=new Promise((n,t)=>{try{const e=indexedDB.open(lU,cU);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Ks.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Sb,{keyPath:"compositeKey"})}}catch(e){t(Ks.create("storage-open",{originalErrorMessage:e?.message}))}}),ME)}()).transaction(Sb,"readwrite"),o=i.objectStore(Sb).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=g=>{u()},i.onerror=g=>{var y;h(Ks.create("storage-set",{originalErrorMessage:null===(y=g.target.error)||void 0===y?void 0:y.message}))}})}),rA.apply(this,arguments)}const xb=new No.Yd("@firebase/app-check");function aA(n,t){return(0,cn.hl)()?function dU(n,t){return function HP(n,t){return rA.apply(this,arguments)}(function $P(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{xb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function cA(){return cA=(0,Ie.Z)(function*(){const n=SE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),cA.apply(this,arguments)}const _U={error:"UNKNOWN_ERROR"};function yU(n){return cn.US.encodeString(JSON.stringify(n),!1)}function OE(n){return uA.apply(this,arguments)}function uA(){return uA=(0,Ie.Z)(function*(n,t=!1){const e=n.app;!function VP(n){if(!hs(n).activated)throw Ks.create("use-before-activation",{appName:n.name})}(e);const i=hs(e);let o,r=i.token;if(r&&!j_(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(j_(g)?r=g:yield aA(e,void 0))}if(!t&&r&&j_(r))return{token:r.token};let h,u=!1;if(function jP(){return SE().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=function nA(n,t){return iA.apply(this,arguments)}(function aU(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${eA}/projects/${e}/apps/${i}:${eU}?key=${r}`,body:{debug_token:t}}}(e,yield function zP(){return cA.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield aA(e,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield hs(e).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?xb.warn(g.message):xb.error(g),o=g}return r?o?h=j_(r)?{token:r.token,internalError:o}:ZP(o):(h={token:r.token},i.token=r,yield aA(e,r)):h=ZP(o),u&&function qP(n,t){const e=hs(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,h),h}),uA.apply(this,arguments)}function hA(n,t){const e=hs(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function WP(n){const{app:t}=n,e=hs(t);let i=e.tokenRefresher;i||(i=function vU(n){const{app:t}=n;return new nU((0,Ie.Z)(function*(){let i;if(i=hs(t).token?yield OE(n,!0):yield OE(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=hs(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},LP.RETRIAL_MIN_WAIT,LP.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function j_(n){return n.expireTimeMillis-Date.now()>0}function ZP(n){return{token:yU(_U),error:n}}class bU{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=hs(this.app);for(const e of t)hA(this.app,e.next);return Promise.resolve()}}const nk="app-check-internal";!function kU(){(0,Gd._registerComponent)(new Cm.wA("app-check",n=>function wU(n,t){return new bU(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(nk).initialize()})),(0,Gd._registerComponent)(new Cm.wA(nk,n=>function IU(n){return{getToken:t=>OE(n,t),addTokenListener:t=>function dA(n,t,e,i){const{app:r}=n,o=hs(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&j_(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),WP(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>WP(n))}(n,"INTERNAL",t),removeTokenListener:t=>hA(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gd.registerVersion)("@firebase/app-check","0.6.3")}();class mA{constructor(){return(0,hr.vb)("app-check")}}typeof window<"u"&&window;var BU=L(1274);const rk=new s.OlP("angularfire2.auth.use-emulator"),sk=new s.OlP("angularfire2.auth.settings"),ok=new s.OlP("angularfire2.auth.tenant-id"),ak=new s.OlP("angularfire2.auth.langugage-code"),lk=new s.OlP("angularfire2.auth.use-device-language"),ck=new s.OlP("angularfire.auth.persistence"),uk=(n,t,e,i,r,o,u,h)=>(0,zn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,o&&g.useDeviceLanguage(),u)for(const[y,w]of Object.entries(u))g.settings[y]=w;return h&&g.setPersistence(h),g},[e,i,r,o,u,h]);let PE=(()=>{class n{constructor(e,i,r,o,u,h,g,y,w,S,M,R){const U=new vn.x,K=gt(void 0).pipe((0,TE.Q)(u.outsideAngular),hi(()=>o.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,8618)))),(0,D.U)(()=>(0,zn.on)(e,o,i)),(0,D.U)(te=>uk(te,o,h,y,w,S,g,M)),PP({bufferSize:1,refCount:!1}));if(Xu(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{K.pipe(da()).subscribe();const _e=K.pipe(hi(He=>He.getRedirectResult().then(We=>We,()=>null)),hr.iC,PP({bufferSize:1,refCount:!1})),Pe=K.pipe(hi(He=>new jn.y(We=>({unsubscribe:o.runOutsideAngular(()=>He.onAuthStateChanged(Ke=>We.next(Ke),Ke=>We.error(Ke),()=>We.complete()))})))),je=K.pipe(hi(He=>new jn.y(We=>({unsubscribe:o.runOutsideAngular(()=>He.onIdTokenChanged(Ke=>We.next(Ke),Ke=>We.error(Ke),()=>We.complete()))}))));this.authState=_e.pipe(kP(Pe),(0,Jx.R)(u.outsideAngular),(0,TE.Q)(u.insideAngular)),this.user=_e.pipe(kP(je),(0,Jx.R)(u.outsideAngular),(0,TE.Q)(u.insideAngular)),this.idToken=this.user.pipe(hi(He=>He?(0,In.D)(He.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(hi(He=>He?(0,In.D)(He.getIdTokenResult()):gt(null))),this.credential=(0,NP.T)(_e,U,this.authState.pipe(Ln(He=>!He))).pipe((0,D.U)(He=>He?.user?He:null),(0,Jx.R)(u.outsideAngular),(0,TE.Q)(u.insideAngular))}return(0,zn.pX)(this,K,o,{spy:{apply:(te,_e,Pe)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Pe.then(je=>U.next(je))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zn.Dh),s.LFG(zn.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(hr.HU),s.LFG(rk,8),s.LFG(sk,8),s.LFG(ok,8),s.LFG(ak,8),s.LFG(lk,8),s.LFG(ck,8),s.LFG(mA,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function dk(n,t){return function HU(n,t=_v.z){return new jn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function yA(n,t){return dk(n,t).pipe((0,D.U)(e=>({payload:e,type:"query"})))}function kE(n,t){return yA(n,t).pipe(Qa(void 0),yv(),(0,D.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const g=r.find(w=>w.doc.ref.isEqual(u.ref)),y=e?.payload.docs.find(w=>w.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function hk(n,t,e){return kE(n,e).pipe(eu((i,r)=>function $U(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function jU(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return vA(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return vA(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return vA(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),function $s(n,t=T.y){return n=n??Jp,(0,Ki.e)((e,i)=>{let r,o=!0;e.subscribe((0,Se.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}(),(0,D.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function vA(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function pk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class fk{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=kE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,D.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Qa(void 0),yv(),Ln(([i,r])=>r.length>0||!i),(0,D.U)(([i,r])=>r),hr.iC)}auditTrail(t){return this.stateChanges(t).pipe(eu((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=pk(t);return hk(this.query,e,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(t={}){return yA(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),hr.iC)}get(t){return(0,In.D)(this.query.get(t)).pipe(hr.iC)}add(t){return this.ref.add(t)}doc(t){return new gk(this.ref.doc(t),this.afs)}}class gk{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=yk(i,e);return new fk(r,o,this.afs)}snapshotChanges(){return function GU(n,t){return dk(n,t).pipe(Qa(void 0),yv(),(0,D.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,D.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,In.D)(this.ref.get(t)).pipe(hr.iC)}}class zU{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?kE(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Ln(e=>e.length>0),hr.iC):kE(this.query,this.afs.schedulers.outsideAngular).pipe(hr.iC)}auditTrail(t){return this.stateChanges(t).pipe(eu((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=pk(t);return hk(this.query,e,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(t={}){return yA(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),hr.iC)}get(t){return(0,In.D)(this.query.get(t)).pipe(hr.iC)}}const mk=new s.OlP("angularfire2.enableFirestorePersistence"),_k=new s.OlP("angularfire2.firestore.persistenceSettings"),WU=new s.OlP("angularfire2.firestore.settings"),qU=new s.OlP("angularfire2.firestore.use-emulator");function yk(n,t=(e=>e)){return{query:t(n),ref:n}}let bA=(()=>{class n{constructor(e,i,r,o,u,h,g,y,w,S,M,R,U,K,te,_e,Pe){this.schedulers=g;const je=(0,zn.on)(e,h,i),He=w;S&&uk(je,h,M,U,K,te,R,_e),[this.firestore,this.persistenceEnabled$]=(0,zn.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const We=h.runOutsideAngular(()=>je.firestore());if(o&&We.settings(o),He&&We.useEmulator(...He),r&&!Xu(u)){const Ke=()=>{try{return(0,In.D)(We.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(xt){return typeof console<"u"&&console.warn(xt),gt(!1)}};return[We,h.runOutsideAngular(Ke)]}return[We,gt(!1)]},[o,He,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=yk(r,i),h=this.schedulers.ngZone.run(()=>o);return new fk(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new zU(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new gk(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zn.Dh),s.LFG(zn.xv,8),s.LFG(mk,8),s.LFG(WU,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(hr.HU),s.LFG(_k,8),s.LFG(qU,8),s.LFG(PE,8),s.LFG(rk,8),s.LFG(sk,8),s.LFG(ok,8),s.LFG(ak,8),s.LFG(lk,8),s.LFG(ck,8),s.LFG(mA,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZU=(()=>{class n{constructor(){BU.Z.registerVersion("angularfire",hr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:mk,useValue:!0},{provide:_k,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[bA]}),n})(),Ab=(()=>{class n{constructor(e,i,r){this.fireStore=e,this.fireBaseAuth=i,this.router=r,this.uid="",this.user=this.fireBaseAuth.authState.pipe((0,D.U)(o=>o?o.uid:null))}oAuthLogin(){return this.fireBaseAuth.signInWithPopup(new Em.Q).then(e=>{this.router.navigate(["/movies"]),localStorage.setItem("token",JSON.stringify(e.user?.uid))}).catch(e=>alert(e))}login(e,i){this.fireBaseAuth.signInWithEmailAndPassword(e,i).then(()=>{localStorage.setItem("token","true"),this.router.navigate(["/movies"])},r=>{alert("Erreur")})}register(e,i){this.fireBaseAuth.createUserWithEmailAndPassword(e,i).then(()=>{alert("Cr\xe9ation du compte avec succ\xe8s"),this.router.navigate(["/login"])},r=>{alert("Erreur"),this.router.navigate(["/register"])})}signOut(){this.fireBaseAuth.signOut().then(()=>this.router.navigate(["/"]))}readUser(){return this.fireBaseAuth.authState}updateUserData(e){return this.fireStore.doc(`Users/${e.uid}`).set({displayName:e.displayName,email:e.email,photoURL:e.photoURL,uid:e.uid,pseudo:null},{merge:!0})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bA),s.LFG(PE),s.LFG(zr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vk=(()=>{class n{constructor(e,i){this.fireBaseAuth=e,this.db=i,this.fireBaseAuth.authState.subscribe(r=>{this.uid=r?r.uid:null})}addMovie(e){const i={userId:this.uid,movieId:e.id,date:new Date,original_title:e.original_title,overview:e.overview,genre:e.genres,vote_average:e.vote_average,popularity:e.popularity,release_date:e.release_date,poster_path:e.poster_path,watched:!1};return this.db.collection("favoriteMovies").doc(e.original_title).set(i,{merge:!0})}addComment(e){return this.db.collection("comments").doc(e?.author_details?.username).set(e,{merge:!0})}getAllFavoriteMovies(){return this.db.collection("favoriteMovies",e=>e.where("userId","==",this.uid)).valueChanges()}deleteFavoriteMovieByID(e){this.db.collection("favoriteMovies").doc(e.original_title).delete()}updateWatchedFilm(e){this.db.collection("favoriteMovies").doc(e.original_title).update({watched:e.watched})}getAllCommentsFromMovieID(e){return this.db.collection("comments",i=>i.where("id","==",e)).valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(PE),s.LFG(bA))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pn{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var o,u,h,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((u=t.length)!=e.length)return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[o],e[o]))return!1;return!0}if(i!=r)return!1;var g=t instanceof Date,y=e instanceof Date;if(g!=y)return!1;if(g&&y)return t.getTime()==e.getTime();var w=t instanceof RegExp,S=e instanceof RegExp;if(w!=S)return!1;if(w&&S)return t.toString()==e.toString();var M=Object.keys(t);if((u=M.length)!==Object.keys(e).length)return!1;for(o=u;0!=o--;)if(!Object.prototype.hasOwnProperty.call(e,M[o]))return!1;for(o=u;0!=o--;)if(!this.equalsByValue(t[h=M[o]],e[h]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let o=0,u=i.length;o<u;++o){if(null==r)return null;r=r[i[o]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let o=!1;for(let u=0;u<i.length;u++)if(this.findIndexInList(i[u],r)>e){i.splice(u,0,t),o=!0;break}o||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let o=-1;const u=this.isEmpty(t),h=this.isEmpty(e);return o=u&&h?0:u?r:h?-r:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,o}static sort(t,e,i=1,r,o=1){return(1===o?i:o)*Pn.compare(t,e,r,i)}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}}var bk=0;function wA(){return"pr_id_"+ ++bk}var Ph=function YU(){let n=[];const r=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:r,set:(o,u,h)=>{u&&(u.style.zIndex=String(((o,u)=>{let h=n.length>0?n[n.length-1]:{key:o,value:u},g=h.value+(h.key===o?0:u)+1;return n.push({key:o,value:g}),g})(o,h)))},clear:o=>{o&&((o=>{n=n.filter(u=>u.value!==o)})(r(o)),o.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const wk=["*"];let xs=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Ik=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=Pn.removeAccents(i.toString()).toLocaleLowerCase(r);return Pn.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,o.length)===o},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=Pn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==Pn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let o=Pn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===Pn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(o)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let o=Pn.removeAccents(i.toString()).toLocaleLowerCase(r),u=Pn.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==u.indexOf(o,u.length-o.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():Pn.removeAccents(e.toString()).toLocaleLowerCase(r)==Pn.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():Pn.removeAccents(e.toString()).toLocaleLowerCase(r)==Pn.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(Pn.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,o,u){let h=[];if(e)for(let g of e)for(let y of i){let w=Pn.resolveFieldData(g,y);if(this.filters[o](w,r,u)){h.push(g);break}}return h}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KU=(()=>{class n{constructor(){this.clickSource=new vn.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z_=(()=>{class n{constructor(){this.ripple=!1,this.overlayOptions={},this.filterMatchModeOptions={text:[xs.STARTS_WITH,xs.CONTAINS,xs.NOT_CONTAINS,xs.ENDS_WITH,xs.EQUALS,xs.NOT_EQUALS],numeric:[xs.EQUALS,xs.NOT_EQUALS,xs.LESS_THAN,xs.LESS_THAN_OR_EQUAL_TO,xs.GREATER_THAN,xs.GREATER_THAN_OR_EQUAL_TO],date:[xs.DATE_IS,xs.DATE_IS_NOT,xs.DATE_BEFORE,xs.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new vn.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ek=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:wk,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),Ck=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:wk,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),Tl=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Js=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})(),IA=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),Ye=(()=>{class n{static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let o=0;o<r.length;o++)e.classList.add(r[o])}else{let r=i.split(" ");for(let o=0;o<r.length;o++)e.className+=" "+r[o]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var o=0;o<i.length;o++){if(i[o]==e)return r;1==i[o].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],o=0;for(var u=0;u<r.length;u++){if(r[u]==e)return o;r[u].attributes&&r[u].attributes[i]&&1==r[u].nodeType&&o++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",o=!0){e&&i&&(o&&(e.style.minWidth||(e.style.minWidth=n.getOuterWidth(i)+"px")),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i){const r=K=>{if(K)return"relative"===getComputedStyle(K).getPropertyValue("position")?K:r(K.parentElement)},o=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),u=i.offsetHeight,h=i.getBoundingClientRect(),g=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),w=this.getViewport(),M=r(e)?.getBoundingClientRect()||{top:-1*g,left:-1*y};let R,U;h.top+u+o.height>w.height?(R=h.top-M.top-o.height,e.style.transformOrigin="bottom",h.top+R<0&&(R=-1*h.top)):(R=u+h.top-M.top,e.style.transformOrigin="top"),U=o.width>w.width?-1*(h.left-M.left):h.left-M.left+o.width>w.width?-1*(h.left-M.left+o.width-w.width):h.left-M.left,e.style.top=R+"px",e.style.left=U+"px"}static absolutePosition(e,i){const r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=r.height,u=r.width,h=i.offsetHeight,g=i.offsetWidth,y=i.getBoundingClientRect(),w=this.getWindowScrollTop(),S=this.getWindowScrollLeft(),M=this.getViewport();let R,U;y.top+h+o>M.height?(R=y.top+w-o,e.style.transformOrigin="bottom",R<0&&(R=w)):(R=h+y.top+w,e.style.transformOrigin="top"),U=y.left+u>M.width?Math.max(0,y.left+S+g-u):y.left+S,e.style.top=R+"px",e.style.left=U+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const o=/(auto|scroll)/,u=h=>{let g=window.getComputedStyle(h,null);return o.test(g.getPropertyValue("overflow"))||o.test(g.getPropertyValue("overflowX"))||o.test(g.getPropertyValue("overflowY"))};for(let h of r){let g=1===h.nodeType&&h.dataset.scrollselectors;if(g){let y=g.split(",");for(let w of y){let S=this.findSingle(h,w);S&&u(S)&&i.push(S)}}9!==h.nodeType&&u(h)&&i.push(h)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,u=getComputedStyle(e).getPropertyValue("paddingTop"),h=u?parseFloat(u):0,g=e.getBoundingClientRect(),w=i.getBoundingClientRect().top+document.body.scrollTop-(g.top+document.body.scrollTop)-o-h,S=e.scrollTop,M=e.clientHeight,R=this.getOuterHeight(i);w<0?e.scrollTop=S+w:w+R>M&&(e.scrollTop=S+w-M+R)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,o=0,u=function(){o=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};u()}static fadeOut(e,i){var r=1,h=50/i;let g=setInterval(()=>{(r-=h)<=0&&(r=0,clearInterval(g)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(u){return-1!==[].indexOf.call(document.querySelectorAll(u),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let o=getComputedStyle(e);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||o.clientWidth,height:e.innerHeight||r.clientHeight||o.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let o of i)(o.offsetWidth||o.offsetHeight||o.getClientRects().length)&&r.push(o);return r}static getNextFocusableElement(e,i=!1){const r=n.getFocusableElements(e);let o=0;if(r&&r.length>0){const u=r.indexOf(r[0].ownerDocument.activeElement);i?o=-1==u||0===u?r.length-1:u-1:-1!=u&&u!==r.length-1&&(o=u+1)}return r[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const u=(h=e)&&h.constructor&&h.call&&h.apply?e():e;return u&&9===u.nodeType||this.isExist(u)?u:null}var h}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class Tk{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Ye.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let W_=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(Ye.removeClass(i,"p-ink-active"),!Ye.getHeight(i)&&!Ye.getWidth(i)){let h=Math.max(Ye.getOuterWidth(this.el.nativeElement),Ye.getOuterHeight(this.el.nativeElement));i.style.height=h+"px",i.style.width=h+"px"}let r=Ye.getOffset(this.el.nativeElement),o=e.pageX-r.left+document.body.scrollTop-Ye.getWidth(i)/2,u=e.pageY-r.top+document.body.scrollLeft-Ye.getHeight(i)/2;i.style.top=u+"px",i.style.left=o+"px",Ye.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let h=this.getInk();h&&Ye.removeClass(h,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&Ye.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),Ye.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),Ye.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(z_,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),q_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();const JU=["itemsContainer"];function QU(n,t){1&n&&s.GkF(0)}function XU(n,t){if(1&n&&(s.TgZ(0,"div",11),s.Hsn(1),s.YNc(2,QU,1,0,"ng-container",12),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}const eH=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}},tH=function(n,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":n,"pi-chevron-up":t}};function nH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navBackward(r))}),s._UZ(1,"span",2),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,eH,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,tH,!e.isVertical(),e.isVertical()))}}function iH(n,t){1&n&&s.GkF(0)}const Dk=function(n,t,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}},EA=function(n){return{$implicit:n}};function rH(n,t){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,iH,1,0,"ng-container",14),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngClass",s.kEZ(3,Dk,-1*r.totalShiftedItems===r.value.length,0===i,r.clonedItemsForStarting.length-1===i)),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.VKq(7,EA,e))}}function sH(n,t){1&n&&s.GkF(0)}const oH=function(n,t,e){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}};function aH(n,t){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,sH,1,0,"ng-container",14),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngClass",s.kEZ(3,oH,r.firstIndex()<=i&&r.lastIndex()>=i,r.firstIndex()===i,r.lastIndex()===i)),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.VKq(7,EA,e))}}function lH(n,t){1&n&&s.GkF(0)}function cH(n,t){if(1&n&&(s.TgZ(0,"div",2),s.YNc(1,lH,1,0,"ng-container",14),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngClass",s.kEZ(3,Dk,-1*r.totalShiftedItems===r.numVisible,0===i,r.clonedItemsForFinishing.length-1===i)),s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.VKq(7,EA,e))}}const uH=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}},dH=function(n,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":n,"pi-chevron-down":t}};function hH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",13),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navForward(r))}),s._UZ(1,"span",2),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,uH,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,dH,!e.isVertical(),e.isVertical()))}}const pH=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function fH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",2)(1,"button",15),s.NdJ("click",function(r){const u=s.CHM(e).index,h=s.oxw(2);return s.KtG(h.onDotClick(r,u))}),s.qZA()()}if(2&n){const e=t.index,i=s.oxw(2);s.Q6J("ngClass",s.VKq(5,pH,i._page===e)),s.xp6(1),s.Tol(i.indicatorStyleClass),s.Q6J("ngClass","p-link")("ngStyle",i.indicatorStyle)}}function gH(n,t){if(1&n&&(s.TgZ(0,"ul",0),s.YNc(1,fH,2,7,"li",8),s.qZA()),2&n){const e=s.oxw();s.Tol(e.indicatorsContentClass),s.Q6J("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),s.xp6(1),s.Q6J("ngForOf",e.totalDotsArray())}}function mH(n,t){1&n&&s.GkF(0)}function _H(n,t){if(1&n&&(s.TgZ(0,"div",16),s.Hsn(1,1),s.YNc(2,mH,1,0,"ng-container",12),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const yH=[[["p-header"]],[["p-footer"]]],vH=function(n,t){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":t}},bH=function(n){return{height:n}},wH=["p-header","p-footer"];let IH=(()=>{class n{constructor(e,i,r,o,u){this.el=e,this.zone=i,this.cd=r,this.renderer=o,this.document=u,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new s.vpe,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}get value(){return this._value}set value(e){this._value=e}ngOnChanges(e){e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=wA(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterContentChecked(){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let r=this._page;0!==this.totalDots()&&r>=this.totalDots()&&(r=this.totalDots()-1,this._page=r,this.onPage.emit({page:this.page})),i=r*this._numScroll*-1,e&&(i-=this._numVisible),r===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}createStyle(){this.carouselStyle||(this.carouselStyle=this.renderer.createElement("style"),this.carouselStyle.type="text/css",this.renderer.appendChild(this.document.head,this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,r)=>{const o=i.breakpoint,u=r.breakpoint;let h=null;return h=null==o&&null!=u?-1:null!=o&&null==u?1:null==o&&null==u?0:"string"==typeof o&&"string"==typeof u?o.localeCompare(u,void 0,{numeric:!0}):o<u?-1:o>u?1:0,-1*h});for(let i=0;i<this.responsiveOptions.length;i++){let r=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};if(typeof window<"u"){let i=window.innerWidth;for(let r=0;r<this.responsiveOptions.length;r++){let o=this.responsiveOptions[r];parseInt(o.breakpoint,10)>=i&&(e=o)}}if(this._numScroll!==e.numScroll){let i=this._page;i=Math.floor(i*this._numScroll/e.numScroll);let r=e.numScroll*this.page*-1;this.isCircular()&&(r-=e.numVisible),this.totalShiftedItems=r,this._numScroll=e.numScroll,this._page=i,this.onPage.emit({page:this.page})}this._numVisible!==e.numVisible&&(this._numVisible=e.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?.length?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let r=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),i>r?this.navForward(e,i):i<r&&this.navBackward(e,i)}step(e,i){let r=this.totalShiftedItems;const o=this.isCircular();null!=i?(r=this._numScroll*i*-1,o&&(r-=this._numVisible),this.isRemainingItemsAdded=!1):(r+=this._numScroll*e,this.isRemainingItemsAdded&&(r+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((o?r+this._numVisible:r)/this._numScroll))),o&&this.page===this.totalDots()-1&&-1===e?(r=-1*(this.value.length+this._numVisible),i=0):o&&0===this.page&&1===e?(r=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(r+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${r*(100/this._numVisible)}%, 0)`:`translate3d(${r*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r,this._page=i,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}bindDocumentListeners(){!this.documentResizeListener&&typeof window<"u"&&(this.documentResizeListener=e=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&typeof window<"u"&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.Qsj),s.Y36(ae))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-carousel"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Ek,5),s.Suo(r,Ck,5),s.Suo(r,Tl,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.headerFacet=o.first),s.iGM(o=s.CRH())&&(i.footerFacet=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(JU,5),2&e){let r;s.iGM(r=s.CRH())&&(i.itemsContainer=r.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[s.TTD],ngContentSelectors:wH,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(e,i){1&e&&(s.F$t(yH),s.TgZ(0,"div",0),s.YNc(1,XU,3,1,"div",1),s.TgZ(2,"div",2)(3,"div",3),s.YNc(4,nH,2,8,"button",4),s.TgZ(5,"div",5)(6,"div",6,7),s.NdJ("transitionend",function(){return i.onTransitionEnd()})("touchend",function(o){return i.onTouchEnd(o)})("touchstart",function(o){return i.onTouchStart(o)})("touchmove",function(o){return i.onTouchMove(o)}),s.YNc(8,rH,2,9,"div",8),s.YNc(9,aH,2,9,"div",8),s.YNc(10,cH,2,9,"div",8),s.qZA()(),s.YNc(11,hH,2,8,"button",4),s.qZA(),s.YNc(12,gH,2,5,"ul",9),s.qZA(),s.YNc(13,_H,3,1,"div",10),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(17,vH,i.isVertical(),!i.isVertical()))("ngStyle",i.style),s.uIk("id",i.id),s.xp6(1),s.Q6J("ngIf",i.headerFacet||i.headerTemplate),s.xp6(1),s.Tol(i.contentClass),s.Q6J("ngClass","p-carousel-content"),s.xp6(2),s.Q6J("ngIf",i.showNavigators),s.xp6(1),s.Q6J("ngStyle",s.VKq(20,bH,i.isVertical()?i.verticalViewPortHeight:"auto")),s.xp6(3),s.Q6J("ngForOf",i.clonedItemsForStarting),s.xp6(1),s.Q6J("ngForOf",i.value),s.xp6(1),s.Q6J("ngForOf",i.clonedItemsForFinishing),s.xp6(1),s.Q6J("ngIf",i.showNavigators),s.xp6(1),s.Q6J("ngIf",i.showIndicators),s.xp6(1),s.Q6J("ngIf",i.footerFacet||i.footerTemplate))},dependencies:[Tt,fn,tn,ni,Cn,W_],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),n})(),EH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Js,q_,Mn,Js]}),n})();const og={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let CA=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1,this._internalClasses=Object.values(og)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get htmlElement(){return this.el.nativeElement}ngAfterViewInit(){Ye.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const e=[og.button,og.component];return this.icon&&!this.label&&Pn.isEmpty(this.htmlElement.textContent)&&e.push(og.iconOnly),this.loading&&(e.push(og.disabled,og.loading),!this.icon&&this.label&&e.push(og.labelOnly)),e}setStyleClass(){const e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(this.label){let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",e.appendChild(document.createTextNode(this.label)),this.htmlElement.appendChild(e)}}createIcon(){if(this.icon||this.loading){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&Ye.addClass(e,i);let r=this.getIconClass();r&&Ye.addMultipleClasses(e,r),this.htmlElement.insertBefore(e,this.htmlElement.firstChild)}}updateLabel(){let e=Ye.findSingle(this.htmlElement,".p-button-label");this.label?e?e.textContent=this.label:this.createLabel():e&&this.htmlElement.removeChild(e)}updateIcon(){let e=Ye.findSingle(this.htmlElement,".p-button-icon");this.icon||this.loading?e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():e&&this.htmlElement.removeChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),Sk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,q_]}),n})();class xk{}class TH{}const qu="*";function Ak(n,t){return{type:7,name:n,definitions:t,options:{}}}function RE(n,t=null){return{type:4,styles:t,timings:n}}function Mk(n,t=null){return{type:2,steps:n,options:t}}function Z_(n){return{type:6,styles:n,offset:null}}function FE(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Ok(n,t=null){return{type:8,animation:n,options:t}}function Nk(n,t=null){return{type:10,animation:n,options:t}}function Pk(n){Promise.resolve().then(n)}class Mb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class kk{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Pk(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const TA="!",DH=["mask"],SH=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},xH=function(n){return{value:"visible",params:n}};function AH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-galleriaContent",6),s.NdJ("@animation.start",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onAnimationStart(r))})("@animation.done",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onAnimationEnd(r))})("maskHide",function(){s.CHM(e);const r=s.oxw(3);return s.KtG(r.onMaskHide())})("activeItemChange",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onActiveItemChange(r))}),s.qZA()}if(2&n){const e=s.oxw(3);s.Q6J("@animation",s.VKq(8,xH,s.WLB(5,SH,e.showTransitionOptions,e.hideTransitionOptions)))("value",e.value)("activeIndex",e.activeIndex)("numVisible",e.numVisible)("ngStyle",e.containerStyle)}}const MH=function(n){return{"p-galleria-mask p-component-overlay p-component-overlay-enter":!0,"p-galleria-visible":n}};function OH(n,t){if(1&n&&(s.TgZ(0,"div",3,4),s.YNc(2,AH,1,10,"p-galleriaContent",5),s.qZA()),2&n){const e=s.oxw(2);s.Tol(e.maskClass),s.Q6J("ngClass",s.VKq(4,MH,e.visible)),s.xp6(2),s.Q6J("ngIf",e.visible)}}function NH(n,t){if(1&n&&(s.TgZ(0,"div"),s.YNc(1,OH,3,6,"div",2),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.maskVisible)}}function PH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-galleriaContent",7),s.NdJ("activeItemChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onActiveItemChange(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("value",e.value)("activeIndex",e.activeIndex)("numVisible",e.numVisible)}}function kH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.maskHide.emit())}),s._UZ(1,"span",9),s.qZA()}}function RH(n,t){if(1&n&&(s.TgZ(0,"div",10),s._UZ(1,"p-galleriaItemSlot",11),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("templates",e.galleria.templates)}}function FH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-galleriaThumbnails",12),s.NdJ("onActiveIndexChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onActiveIndexChange(r))})("stopSlideShow",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.stopSlideShow())}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("containerId",e.id)("value",e.value)("activeIndex",e.activeIndex)("templates",e.galleria.templates)("numVisible",e.numVisible)("responsiveOptions",e.galleria.responsiveOptions)("circular",e.galleria.circular)("isVertical",e.isVertical())("contentHeight",e.galleria.verticalThumbnailViewPortHeight)("showThumbnailNavigators",e.galleria.showThumbnailNavigators)("slideShowActive",e.slideShowActive)}}function LH(n,t){if(1&n&&(s.TgZ(0,"div",13),s._UZ(1,"p-galleriaItemSlot",14),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("templates",e.galleria.templates)}}const VH=function(n,t,e){return{"p-galleria p-component":!0,"p-galleria-fullscreen":n,"p-galleria-indicator-onitem":t,"p-galleria-item-nav-onhover":e}},BH=function(){return{}};function UH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,kH,2,0,"button",2),s.YNc(2,RH,2,1,"div",3),s.TgZ(3,"div",4)(4,"p-galleriaItem",5),s.NdJ("onActiveIndexChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onActiveIndexChange(r))})("startSlideShow",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.startSlideShow())})("stopSlideShow",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.stopSlideShow())}),s.qZA(),s.YNc(5,FH,1,11,"p-galleriaThumbnails",6),s.qZA(),s.YNc(6,LH,2,1,"div",7),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.galleriaClass()),s.Q6J("ngClass",s.kEZ(20,VH,e.galleria.fullScreen,e.galleria.showIndicatorsOnItem,e.galleria.showItemNavigatorsOnHover&&!e.galleria.fullScreen))("ngStyle",e.galleria.fullScreen?s.DdM(24,BH):e.galleria.containerStyle),s.uIk("id",e.id),s.xp6(1),s.Q6J("ngIf",e.galleria.fullScreen),s.xp6(1),s.Q6J("ngIf",e.galleria.templates&&e.galleria.headerFacet),s.xp6(2),s.Q6J("value",e.value)("activeIndex",e.activeIndex)("circular",e.galleria.circular)("templates",e.galleria.templates)("showIndicators",e.galleria.showIndicators)("changeItemOnIndicatorHover",e.galleria.changeItemOnIndicatorHover)("indicatorFacet",e.galleria.indicatorFacet)("captionFacet",e.galleria.captionFacet)("showItemNavigators",e.galleria.showItemNavigators)("autoPlay",e.galleria.autoPlay)("slideShowActive",e.slideShowActive),s.xp6(1),s.Q6J("ngIf",e.galleria.showThumbnails),s.xp6(1),s.Q6J("ngIf",e.galleria.templates&&e.galleria.footerFacet)}}function HH(n,t){1&n&&s.GkF(0)}function GH(n,t){if(1&n&&(s.ynx(0),s.YNc(1,HH,1,0,"ng-container",1),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",e.context)}}const $H=function(n){return{"p-galleria-item-prev p-galleria-item-nav p-link":!0,"p-disabled":n}};function jH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navBackward(r))}),s._UZ(1,"span",7),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,$H,e.isNavBackwardDisabled()))("disabled",e.isNavBackwardDisabled())}}const zH=function(n){return{"p-galleria-item-next p-galleria-item-nav p-link":!0,"p-disabled":n}};function WH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navForward(r))}),s._UZ(1,"span",8),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,zH,e.isNavForwardDisabled()))("disabled",e.isNavForwardDisabled())}}function qH(n,t){if(1&n&&(s.TgZ(0,"div",9),s._UZ(1,"p-galleriaItemSlot",10),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("item",e.activeItem)("templates",e.templates)}}function ZH(n,t){1&n&&s._UZ(0,"button",16)}const YH=function(n){return{"p-galleria-indicator":!0,"p-highlight":n}};function KH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"li",13),s.NdJ("click",function(){const o=s.CHM(e).index,u=s.oxw(2);return s.KtG(u.onIndicatorClick(o))})("mouseenter",function(){const o=s.CHM(e).index,u=s.oxw(2);return s.KtG(u.onIndicatorMouseEnter(o))})("keydown.enter",function(){const o=s.CHM(e).index,u=s.oxw(2);return s.KtG(u.onIndicatorKeyDown(o))}),s.YNc(1,ZH,1,0,"button",14),s._UZ(2,"p-galleriaItemSlot",15),s.qZA()}if(2&n){const e=t.index,i=s.oxw(2);s.Q6J("ngClass",s.VKq(4,YH,i.isIndicatorItemActive(e))),s.xp6(1),s.Q6J("ngIf",!i.indicatorFacet),s.xp6(1),s.Q6J("index",e)("templates",i.templates)}}function JH(n,t){if(1&n&&(s.TgZ(0,"ul",11),s.YNc(1,KH,3,6,"li",12),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.value)}}const QH=["itemsContainer"],XH=function(n){return{"p-galleria-thumbnail-prev p-link":!0,"p-disabled":n}},e3=function(n,t){return{"p-galleria-thumbnail-prev-icon pi":!0,"pi-chevron-left":n,"pi-chevron-up":t}};function t3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navBackward(r))}),s._UZ(1,"span",8),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,XH,e.isNavBackwardDisabled()))("disabled",e.isNavBackwardDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,e3,!e.isVertical,e.isVertical))}}const n3=function(n,t,e,i){return{"p-galleria-thumbnail-item":!0,"p-galleria-thumbnail-item-current":n,"p-galleria-thumbnail-item-active":t,"p-galleria-thumbnail-item-start":e,"p-galleria-thumbnail-item-end":i}};function r3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",8)(1,"div",9),s.NdJ("click",function(){const o=s.CHM(e).index,u=s.oxw();return s.KtG(u.onItemClick(o))})("keydown.enter",function(){const o=s.CHM(e).index,u=s.oxw();return s.KtG(u.onItemClick(o))}),s._UZ(2,"p-galleriaItemSlot",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngClass",s.l5B(4,n3,r.activeIndex===i,r.isItemActive(i),r.firstItemAciveIndex()===i,r.lastItemActiveIndex()===i)),s.xp6(1),s.uIk("tabindex",r.getTabIndex(i)),s.xp6(1),s.Q6J("item",e)("templates",r.templates)}}const s3=function(n){return{"p-galleria-thumbnail-next p-link":!0,"p-disabled":n}},o3=function(n,t){return{"p-galleria-thumbnail-next-icon pi":!0,"pi-chevron-right":n,"pi-chevron-down":t}};function a3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.navForward(r))}),s._UZ(1,"span",8),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(3,s3,e.isNavForwardDisabled()))("disabled",e.isNavForwardDisabled()),s.xp6(1),s.Q6J("ngClass",s.WLB(5,o3,!e.isVertical,e.isVertical))}}const l3=function(n){return{height:n}};let Rk=(()=>{class n{constructor(e,i,r){this.element=e,this.cd=i,this.config=r,this.fullScreen=!1,this.numVisible=3,this.showItemNavigators=!1,this.showThumbnailNavigators=!0,this.showItemNavigatorsOnHover=!1,this.changeItemOnIndicatorHover=!1,this.circular=!1,this.autoPlay=!1,this.transitionInterval=4e3,this.showThumbnails=!0,this.thumbnailsPosition="bottom",this.verticalThumbnailViewPortHeight="300px",this.showIndicators=!1,this.showIndicatorsOnItem=!1,this.indicatorsPosition="bottom",this.baseZIndex=0,this.showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.activeIndexChange=new s.vpe,this.visibleChange=new s.vpe,this._visible=!1,this._activeIndex=0,this.maskVisible=!1}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerFacet=e.template;break;case"footer":this.footerFacet=e.template;break;case"indicator":this.indicatorFacet=e.template;break;case"caption":this.captionFacet=e.template}})}ngOnChanges(e){e.value&&e.value.currentValue?.length<this.numVisible&&(this.numVisible=e.value.currentValue.length)}onMaskHide(){this.visible=!1,this.visibleChange.emit(!1)}onActiveItemChange(e){this.activeIndex!==e&&(this.activeIndex=e,this.activeIndexChange.emit(e))}onAnimationStart(e){switch(e.toState){case"visible":this.enableModality();break;case"void":Ye.addClass(this.mask.nativeElement,"p-component-overlay-leave")}}onAnimationEnd(e){"void"===e.toState&&this.disableModality()}enableModality(){Ye.addClass(document.body,"p-overflow-hidden"),this.cd.markForCheck(),this.mask&&Ph.set("modal",this.mask.nativeElement,this.baseZIndex||this.config.zIndex.modal)}disableModality(){Ye.removeClass(document.body,"p-overflow-hidden"),this.maskVisible=!1,this.cd.markForCheck(),this.mask&&Ph.clear(this.mask.nativeElement)}ngOnDestroy(){this.fullScreen&&Ye.removeClass(document.body,"p-overflow-hidden"),this.mask&&this.disableModality()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(z_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-galleria"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Tl,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(DH,5),2&e){let r;s.iGM(r=s.CRH())&&(i.mask=r.first)}},hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",fullScreen:"fullScreen",id:"id",value:"value",numVisible:"numVisible",responsiveOptions:"responsiveOptions",showItemNavigators:"showItemNavigators",showThumbnailNavigators:"showThumbnailNavigators",showItemNavigatorsOnHover:"showItemNavigatorsOnHover",changeItemOnIndicatorHover:"changeItemOnIndicatorHover",circular:"circular",autoPlay:"autoPlay",transitionInterval:"transitionInterval",showThumbnails:"showThumbnails",thumbnailsPosition:"thumbnailsPosition",verticalThumbnailViewPortHeight:"verticalThumbnailViewPortHeight",showIndicators:"showIndicators",showIndicatorsOnItem:"showIndicatorsOnItem",indicatorsPosition:"indicatorsPosition",baseZIndex:"baseZIndex",maskClass:"maskClass",containerClass:"containerClass",containerStyle:"containerStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",visible:"visible"},outputs:{activeIndexChange:"activeIndexChange",visibleChange:"visibleChange"},features:[s.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["windowed",""],[3,"ngClass","class",4,"ngIf"],[3,"ngClass"],["mask",""],[3,"value","activeIndex","numVisible","ngStyle","maskHide","activeItemChange",4,"ngIf"],[3,"value","activeIndex","numVisible","ngStyle","maskHide","activeItemChange"],[3,"value","activeIndex","numVisible","activeItemChange"]],template:function(e,i){if(1&e&&(s.YNc(0,NH,2,1,"div",0),s.YNc(1,PH,1,3,"ng-template",null,1,s.W1O)),2&e){const r=s.MAs(2);s.Q6J("ngIf",i.fullScreen)("ngIfElse",r)}},dependencies:function(){return[Tt,tn,Cn,c3]},styles:[".p-galleria-content{display:flex;flex-direction:column}.p-galleria-item-wrapper{display:flex;flex-direction:column;position:relative}.p-galleria-item-container{position:relative;display:flex;height:100%}.p-galleria-item-nav{position:absolute;top:50%;margin-top:-.5rem;display:inline-flex;justify-content:center;align-items:center;overflow:hidden}.p-galleria-item-prev{left:0;border-top-left-radius:0;border-bottom-left-radius:0}.p-galleria-item-next{right:0;border-top-right-radius:0;border-bottom-right-radius:0}.p-galleria-item{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.p-galleria-item-nav-onhover .p-galleria-item-nav{pointer-events:none;opacity:0;transition:opacity .2s ease-in-out}.p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav{pointer-events:all;opacity:1}.p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav.p-disabled{pointer-events:none}.p-galleria-caption{position:absolute;bottom:0;left:0;width:100%}.p-galleria-thumbnail-wrapper{display:flex;flex-direction:column;overflow:auto;flex-shrink:0}.p-galleria-thumbnail-prev,.p-galleria-thumbnail-next{align-self:center;flex:0 0 auto;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-galleria-thumbnail-prev span,.p-galleria-thumbnail-next span{display:flex;justify-content:center;align-items:center}.p-galleria-thumbnail-container{display:flex;flex-direction:row}.p-galleria-thumbnail-items-container{overflow:hidden;width:100%}.p-galleria-thumbnail-items{display:flex}.p-galleria-thumbnail-item{overflow:auto;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:.5}.p-galleria-thumbnail-item:hover{opacity:1;transition:opacity .3s}.p-galleria-thumbnail-item-current{opacity:1}.p-galleria-thumbnails-left .p-galleria-content,.p-galleria-thumbnails-right .p-galleria-content,.p-galleria-thumbnails-left .p-galleria-item-wrapper,.p-galleria-thumbnails-right .p-galleria-item-wrapper{flex-direction:row}.p-galleria-thumbnails-left p-galleriaitem,.p-galleria-thumbnails-top p-galleriaitem{order:2}.p-galleria-thumbnails-left p-galleriathumbnails,.p-galleria-thumbnails-top p-galleriathumbnails{order:1}.p-galleria-thumbnails-left .p-galleria-thumbnail-container,.p-galleria-thumbnails-right .p-galleria-thumbnail-container{flex-direction:column;flex-grow:1}.p-galleria-thumbnails-left .p-galleria-thumbnail-items,.p-galleria-thumbnails-right .p-galleria-thumbnail-items{flex-direction:column;height:100%}.p-galleria-thumbnails-left .p-galleria-thumbnail-wrapper,.p-galleria-thumbnails-right .p-galleria-thumbnail-wrapper{height:100%}.p-galleria-indicators{display:flex;align-items:center;justify-content:center}.p-galleria-indicator>button{display:inline-flex;align-items:center}.p-galleria-indicators-left .p-galleria-item-wrapper,.p-galleria-indicators-right .p-galleria-item-wrapper{flex-direction:row;align-items:center}.p-galleria-indicators-left .p-galleria-item-container,.p-galleria-indicators-top .p-galleria-item-container{order:2}.p-galleria-indicators-left .p-galleria-indicators,.p-galleria-indicators-top .p-galleria-indicators{order:1}.p-galleria-indicators-left .p-galleria-indicators,.p-galleria-indicators-right .p-galleria-indicators{flex-direction:column}.p-galleria-indicator-onitem .p-galleria-indicators{position:absolute;display:flex;z-index:1}.p-galleria-indicator-onitem.p-galleria-indicators-top .p-galleria-indicators{top:0;left:0;width:100%;align-items:flex-start}.p-galleria-indicator-onitem.p-galleria-indicators-right .p-galleria-indicators{right:0;top:0;height:100%;align-items:flex-end}.p-galleria-indicator-onitem.p-galleria-indicators-bottom .p-galleria-indicators{bottom:0;left:0;width:100%;align-items:flex-end}.p-galleria-indicator-onitem.p-galleria-indicators-left .p-galleria-indicators{left:0;top:0;height:100%;align-items:flex-start}.p-galleria-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:transparent;transition-property:background-color}.p-galleria-close{position:absolute;top:0;right:0;display:flex;justify-content:center;align-items:center;overflow:hidden}.p-galleria-mask .p-galleria-item-nav{position:fixed;top:50%;margin-top:-.5rem}.p-galleria-mask.p-galleria-mask-leave{background-color:transparent}.p-items-hidden .p-galleria-thumbnail-item{visibility:hidden}.p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active{visibility:visible}\n"],encapsulation:2,data:{animation:[Ak("animation",[FE("void => visible",[Z_({transform:"scale(0.7)",opacity:0}),RE("{{showTransitionParams}}")]),FE("visible => void",[RE("{{hideTransitionParams}}",Z_({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0}),n})(),c3=(()=>{class n{constructor(e,i,r){this.galleria=e,this.cd=i,this.differs=r,this.value=[],this.maskHide=new s.vpe,this.activeItemChange=new s.vpe,this.id=this.galleria.id||wA(),this._activeIndex=0,this.slideShowActive=!0,this.differ=this.differs.find(this.galleria).create()}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}ngDoCheck(){this.differ.diff(this.galleria)?.forEachItem.length>0&&this.cd.markForCheck()}galleriaClass(){const e=this.galleria.showThumbnails&&this.getPositionClass("p-galleria-thumbnails",this.galleria.thumbnailsPosition),i=this.galleria.showIndicators&&this.getPositionClass("p-galleria-indicators",this.galleria.indicatorsPosition);return(this.galleria.containerClass?this.galleria.containerClass+" ":"")+(e?e+" ":"")+(i?i+" ":"")}startSlideShow(){this.interval=setInterval(()=>{let e=this.galleria.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1;this.onActiveIndexChange(e),this.activeIndex=e},this.galleria.transitionInterval),this.slideShowActive=!0}stopSlideShow(){this.interval&&clearInterval(this.interval),this.slideShowActive=!1}getPositionClass(e,i){const o=["top","left","bottom","right"].find(u=>u===i);return o?`${e}-${o}`:""}isVertical(){return"left"===this.galleria.thumbnailsPosition||"right"===this.galleria.thumbnailsPosition}onActiveIndexChange(e){this.activeIndex!==e&&(this.activeIndex=e,this.activeItemChange.emit(this.activeIndex))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Rk),s.Y36(s.sBO),s.Y36(s.aQg))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-galleriaContent"]],inputs:{activeIndex:"activeIndex",value:"value",numVisible:"numVisible"},outputs:{maskHide:"maskHide",activeItemChange:"activeItemChange"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["type","button","class","p-galleria-close p-link","pRipple","",3,"click",4,"ngIf"],["class","p-galleria-header",4,"ngIf"],[1,"p-galleria-content"],[3,"value","activeIndex","circular","templates","showIndicators","changeItemOnIndicatorHover","indicatorFacet","captionFacet","showItemNavigators","autoPlay","slideShowActive","onActiveIndexChange","startSlideShow","stopSlideShow"],[3,"containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive","onActiveIndexChange","stopSlideShow",4,"ngIf"],["class","p-galleria-footer",4,"ngIf"],["type","button","pRipple","",1,"p-galleria-close","p-link",3,"click"],[1,"p-galleria-close-icon","pi","pi-times"],[1,"p-galleria-header"],["type","header",3,"templates"],[3,"containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive","onActiveIndexChange","stopSlideShow"],[1,"p-galleria-footer"],["type","footer",3,"templates"]],template:function(e,i){1&e&&s.YNc(0,UH,7,25,"div",0),2&e&&s.Q6J("ngIf",i.value&&i.value.length>0)},dependencies:function(){return[Tt,tn,Cn,W_,DA,u3,d3]},encapsulation:2,changeDetection:0}),n})(),DA=(()=>{class n{get item(){return this._item}set item(e){this._item=e,this.templates&&this.templates.forEach(i=>{if(i.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=i.template}})}ngAfterContentInit(){this.templates.forEach(e=>{if(e.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=e.template;break;case"indicator":this.context={$implicit:this.index},this.contentTemplate=e.template;break;default:this.context={},this.contentTemplate=e.template}})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-galleriaItemSlot"]],inputs:{templates:"templates",index:"index",item:"item",type:"type"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&s.YNc(0,GH,2,2,"ng-container",0),2&e&&s.Q6J("ngIf",i.contentTemplate)},dependencies:[tn,ni],encapsulation:2,changeDetection:0}),n})(),u3=(()=>{class n{constructor(){this.circular=!1,this.showItemNavigators=!1,this.showIndicators=!0,this.slideShowActive=!0,this.changeItemOnIndicatorHover=!0,this.autoPlay=!1,this.startSlideShow=new s.vpe,this.stopSlideShow=new s.vpe,this.onActiveIndexChange=new s.vpe,this._activeIndex=0}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e}get activeItem(){return this.value[this._activeIndex]}ngOnChanges({autoPlay:e}){e?.currentValue&&this.startSlideShow.emit(),e&&!1===e.currentValue&&this.stopTheSlideShow()}next(){this.onActiveIndexChange.emit(this.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1)}prev(){this.onActiveIndexChange.emit(this.circular&&0===this.activeIndex?this.value.length-1:0!==this.activeIndex?this.activeIndex-1:0)}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}navForward(e){this.stopTheSlideShow(),this.next(),e&&e.cancelable&&e.preventDefault()}navBackward(e){this.stopTheSlideShow(),this.prev(),e&&e.cancelable&&e.preventDefault()}onIndicatorClick(e){this.stopTheSlideShow(),this.onActiveIndexChange.emit(e)}onIndicatorMouseEnter(e){this.changeItemOnIndicatorHover&&(this.stopTheSlideShow(),this.onActiveIndexChange.emit(e))}onIndicatorKeyDown(e){this.stopTheSlideShow(),this.onActiveIndexChange.emit(e)}isNavForwardDisabled(){return!this.circular&&this.activeIndex===this.value.length-1}isNavBackwardDisabled(){return!this.circular&&0===this.activeIndex}isIndicatorItemActive(e){return this.activeIndex===e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-galleriaItem"]],inputs:{circular:"circular",value:"value",showItemNavigators:"showItemNavigators",showIndicators:"showIndicators",slideShowActive:"slideShowActive",changeItemOnIndicatorHover:"changeItemOnIndicatorHover",autoPlay:"autoPlay",templates:"templates",indicatorFacet:"indicatorFacet",captionFacet:"captionFacet",activeIndex:"activeIndex"},outputs:{startSlideShow:"startSlideShow",stopSlideShow:"stopSlideShow",onActiveIndexChange:"onActiveIndexChange"},features:[s.TTD],decls:7,vars:6,consts:[[1,"p-galleria-item-wrapper"],[1,"p-galleria-item-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],["type","item",1,"p-galleria-item",3,"item","templates"],["class","p-galleria-caption",4,"ngIf"],["class","p-galleria-indicators p-reset",4,"ngIf"],["type","button","pRipple","",3,"ngClass","disabled","click"],[1,"p-galleria-item-prev-icon","pi","pi-chevron-left"],[1,"p-galleria-item-next-icon","pi","pi-chevron-right"],[1,"p-galleria-caption"],["type","caption",3,"item","templates"],[1,"p-galleria-indicators","p-reset"],["tabindex","0",3,"ngClass","click","mouseenter","keydown.enter",4,"ngFor","ngForOf"],["tabindex","0",3,"ngClass","click","mouseenter","keydown.enter"],["type","button","tabIndex","-1","class","p-link",4,"ngIf"],["type","indicator",3,"index","templates"],["type","button","tabIndex","-1",1,"p-link"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,jH,2,4,"button",2),s._UZ(3,"p-galleriaItemSlot",3),s.YNc(4,WH,2,4,"button",2),s.YNc(5,qH,2,2,"div",4),s.qZA(),s.YNc(6,JH,2,1,"ul",5),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",i.showItemNavigators),s.xp6(1),s.Q6J("item",i.activeItem)("templates",i.templates),s.xp6(1),s.Q6J("ngIf",i.showItemNavigators),s.xp6(1),s.Q6J("ngIf",i.captionFacet),s.xp6(1),s.Q6J("ngIf",i.showIndicators))},dependencies:[Tt,fn,tn,W_,DA],encapsulation:2,changeDetection:0}),n})(),d3=(()=>{class n{constructor(e){this.cd=e,this.isVertical=!1,this.slideShowActive=!1,this.circular=!1,this.contentHeight="300px",this.showThumbnailNavigators=!0,this.onActiveIndexChange=new s.vpe,this.stopSlideShow=new s.vpe,this.startPos=null,this.thumbnailsStyle=null,this.sortedResponsiveOptions=null,this.totalShiftedItems=0,this.page=0,this._numVisible=0,this.d_numVisible=0,this._oldNumVisible=0,this._activeIndex=0,this._oldactiveIndex=0}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e,this._oldNumVisible=this.d_numVisible,this.d_numVisible=e}get activeIndex(){return this._activeIndex}set activeIndex(e){this._oldactiveIndex=this._activeIndex,this._activeIndex=e}ngOnInit(){this.createStyle(),this.responsiveOptions&&this.bindDocumentListeners()}ngAfterContentChecked(){let e=this.totalShiftedItems;(this._oldNumVisible!==this.d_numVisible||this._oldactiveIndex!==this._activeIndex)&&this.itemsContainer&&(e=this._activeIndex<=this.getMedianItemIndex()?0:this.value.length-this.d_numVisible+this.getMedianItemIndex()<this._activeIndex?this.d_numVisible-this.value.length:this.value.length-this.d_numVisible<this._activeIndex&&this.d_numVisible%2==0?-1*this._activeIndex+this.getMedianItemIndex()+1:-1*this._activeIndex+this.getMedianItemIndex(),e!==this.totalShiftedItems&&(this.totalShiftedItems=e),this.itemsContainer&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${e*(100/this.d_numVisible)}%, 0)`:`translate3d(${e*(100/this.d_numVisible)}%, 0, 0)`),this._oldactiveIndex!==this._activeIndex&&(Ye.removeClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this._oldactiveIndex=this._activeIndex,this._oldNumVisible=this.d_numVisible)}ngAfterViewInit(){this.calculatePosition()}createStyle(){this.thumbnailsStyle||(this.thumbnailsStyle=document.createElement("style"),this.thumbnailsStyle.type="text/css",document.body.appendChild(this.thumbnailsStyle));let e=`\n            #${this.containerId} .p-galleria-thumbnail-item {\n                flex: 1 0 ${100/this.d_numVisible}%\n            }\n        `;if(this.responsiveOptions){this.sortedResponsiveOptions=[...this.responsiveOptions],this.sortedResponsiveOptions.sort((i,r)=>{const o=i.breakpoint,u=r.breakpoint;let h=null;return h=null==o&&null!=u?-1:null!=o&&null==u?1:null==o&&null==u?0:"string"==typeof o&&"string"==typeof u?o.localeCompare(u,void 0,{numeric:!0}):o<u?-1:o>u?1:0,-1*h});for(let i=0;i<this.sortedResponsiveOptions.length;i++){let r=this.sortedResponsiveOptions[i];e+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.containerId} .p-galleria-thumbnail-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.thumbnailsStyle.innerHTML=e}calculatePosition(){if(this.itemsContainer&&this.sortedResponsiveOptions){let e=window.innerWidth,i={numVisible:this._numVisible};for(let r=0;r<this.sortedResponsiveOptions.length;r++){let o=this.sortedResponsiveOptions[r];parseInt(o.breakpoint,10)>=e&&(i=o)}this.d_numVisible!==i.numVisible&&(this.d_numVisible=i.numVisible,this.cd.markForCheck())}}getTabIndex(e){return this.isItemActive(e)?0:null}navForward(e){this.stopTheSlideShow();let i=this._activeIndex+1;i+this.totalShiftedItems>this.getMedianItemIndex()&&(-1*this.totalShiftedItems<this.getTotalPageNumber()-1||this.circular)&&this.step(-1),this.onActiveIndexChange.emit(this.circular&&this.value.length-1===this._activeIndex?0:i),e.cancelable&&e.preventDefault()}navBackward(e){this.stopTheSlideShow();let i=0!==this._activeIndex?this._activeIndex-1:0;this.d_numVisible-(i+this.totalShiftedItems)-1>this.getMedianItemIndex()&&(-1*this.totalShiftedItems!=0||this.circular)&&this.step(1),this.onActiveIndexChange.emit(this.circular&&0===this._activeIndex?this.value.length-1:i),e.cancelable&&e.preventDefault()}onItemClick(e){this.stopTheSlideShow();let i=e;if(i!==this._activeIndex){const r=i+this.totalShiftedItems;let o=0;i<this._activeIndex?(o=this.d_numVisible-r-1-this.getMedianItemIndex(),o>0&&-1*this.totalShiftedItems!=0&&this.step(o)):(o=this.getMedianItemIndex()-r,o<0&&-1*this.totalShiftedItems<this.getTotalPageNumber()-1&&this.step(o)),this.activeIndex=i,this.onActiveIndexChange.emit(this.activeIndex)}}step(e){let i=this.totalShiftedItems+e;e<0&&-1*i+this.d_numVisible>this.value.length-1?i=this.d_numVisible-this.value.length:e>0&&i>0&&(i=0),this.circular&&(e<0&&this.value.length-1===this._activeIndex?i=0:e>0&&0===this._activeIndex&&(i=this.d_numVisible-this.value.length)),this.itemsContainer&&(Ye.removeClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${i*(100/this.d_numVisible)}%, 0)`:`translate3d(${i*(100/this.d_numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=i}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}changePageOnTouch(e,i){i<0?this.navForward(e):this.navBackward(e)}getTotalPageNumber(){return this.value.length>this.d_numVisible?this.value.length-this.d_numVisible+1:0}getMedianItemIndex(){let e=Math.floor(this.d_numVisible/2);return this.d_numVisible%2?e:e-1}onTransitionEnd(){this.itemsContainer&&this.itemsContainer.nativeElement&&(Ye.addClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="")}onTouchEnd(e){let i=e.changedTouches[0];this.changePageOnTouch(e,this.isVertical?i.pageY-this.startPos.y:i.pageX-this.startPos.x)}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}isNavBackwardDisabled(){return!this.circular&&0===this._activeIndex||this.value.length<=this.d_numVisible}isNavForwardDisabled(){return!this.circular&&this._activeIndex===this.value.length-1||this.value.length<=this.d_numVisible}firstItemAciveIndex(){return-1*this.totalShiftedItems}lastItemActiveIndex(){return this.firstItemAciveIndex()+this.d_numVisible-1}isItemActive(e){return this.firstItemAciveIndex()<=e&&this.lastItemActiveIndex()>=e}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=()=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.thumbnailsStyle&&this.thumbnailsStyle.parentNode.removeChild(this.thumbnailsStyle)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-galleriaThumbnails"]],viewQuery:function(e,i){if(1&e&&s.Gf(QH,5),2&e){let r;s.iGM(r=s.CRH())&&(i.itemsContainer=r.first)}},inputs:{containerId:"containerId",value:"value",isVertical:"isVertical",slideShowActive:"slideShowActive",circular:"circular",responsiveOptions:"responsiveOptions",contentHeight:"contentHeight",showThumbnailNavigators:"showThumbnailNavigators",templates:"templates",numVisible:"numVisible",activeIndex:"activeIndex"},outputs:{onActiveIndexChange:"onActiveIndexChange",stopSlideShow:"stopSlideShow"},decls:8,vars:6,consts:[[1,"p-galleria-thumbnail-wrapper"],[1,"p-galleria-thumbnail-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-galleria-thumbnail-items-container",3,"ngStyle"],[1,"p-galleria-thumbnail-items",3,"transitionend","touchstart","touchmove","touchend"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],["type","button","pRipple","",3,"ngClass","disabled","click"],[3,"ngClass"],[1,"p-galleria-thumbnail-item-content",3,"click","keydown.enter"],["type","thumbnail",3,"item","templates"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,t3,2,8,"button",2),s.TgZ(3,"div",3)(4,"div",4,5),s.NdJ("transitionend",function(){return i.onTransitionEnd()})("touchstart",function(o){return i.onTouchStart(o)})("touchmove",function(o){return i.onTouchMove(o)})("touchend",function(o){return i.onTouchEnd(o)}),s.YNc(6,r3,3,9,"div",6),s.qZA()(),s.YNc(7,a3,2,8,"button",2),s.qZA()()),2&e&&(s.xp6(2),s.Q6J("ngIf",i.showThumbnailNavigators),s.xp6(1),s.Q6J("ngStyle",s.VKq(4,l3,i.isVertical?i.contentHeight:"")),s.xp6(3),s.Q6J("ngForOf",i.value),s.xp6(1),s.Q6J("ngIf",i.showThumbnailNavigators))},dependencies:[Tt,fn,tn,Cn,W_,DA],encapsulation:2,changeDetection:0}),n})(),h3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Js,q_,Mn,Js]}),n})();function p3(n,t){1&n&&s._UZ(0,"img",5),2&n&&s.MGl("src","https://image.tmdb.org/t/p/original",t.$implicit.file_path,"",s.LSH)}function f3(n,t){if(1&n&&(s.TgZ(0,"div",6),s._UZ(1,"img",7),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.MGl("src","https://image.tmdb.org/t/p/original",e.file_path,"",s.LSH)}}function g3(n,t){if(1&n&&(s.TgZ(0,"p"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.hij("Note moyenne : ",e.vote_average,"/10")}}function m3(n,t){1&n&&(s.TgZ(0,"p"),s._uU(1,"Aucun vote n'a \xe9t\xe9 attribu\xe9 \xe0 cette affiche"),s.qZA())}function _3(n,t){if(1&n&&(s.YNc(0,g3,2,1,"p",8),s.YNc(1,m3,2,0,"p",8)),2&n){const e=t.$implicit;s.Q6J("ngIf",0!=e.vote_count),s.xp6(1),s.Q6J("ngIf",0==e.vote_count)}}const y3=function(){return{"max-width":"500px"}};let v3=(()=>{class n{constructor(){this.displayImgGallerie=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-gallerie-img"]],inputs:{images:"images"},decls:6,vars:12,consts:[[3,"value","visible","responsiveOptions","containerStyle","numVisible","circular","fullScreen","showItemNavigators","showThumbnails","baseZIndex","visibleChange"],["pTemplate","item"],["pTemplate","thumbnail"],["pTemplate","caption"],["icon","pi pi-external-link",2,"text-decoration","underline","color","#0d6efd","cursor","pointer","margin","0",3,"click"],[2,"width","700px","height","700px",3,"src"],[1,"grid","grid-nogutter","justify-content-center"],[2,"width","70px","height","70px",3,"src"],[4,"ngIf"]],template:function(e,i){1&e&&(s.TgZ(0,"p-galleria",0),s.NdJ("visibleChange",function(o){return i.displayImgGallerie=o}),s.YNc(1,p3,1,1,"ng-template",1),s.YNc(2,f3,2,1,"ng-template",2),s.YNc(3,_3,2,2,"ng-template",3),s.qZA(),s.TgZ(4,"p",4),s.NdJ("click",function(){return i.displayImgGallerie=!0}),s._uU(5),s.qZA()),2&e&&(s.Q6J("value",i.images)("visible",i.displayImgGallerie)("responsiveOptions",i.responsiveOptions)("containerStyle",s.DdM(11,y3))("numVisible",7)("circular",!0)("fullScreen",!0)("showItemNavigators",!0)("showThumbnails",!0)("baseZIndex",1e5),s.xp6(5),s.hij("Voir les affiches du films (",i.images.length,")"))},dependencies:[tn,Rk,Tl]}),n})();var b3=L(1144);const w3=["addListener","removeListener"],I3=["addEventListener","removeEventListener"],E3=["on","off"];function ps(n,t,e,i){if((0,Kn.m)(e)&&(i=e,e=void 0),i)return ps(n,t,e).pipe(se(i));const[r,o]=function D3(n){return(0,Kn.m)(n.addEventListener)&&(0,Kn.m)(n.removeEventListener)}(n)?I3.map(u=>h=>n[u](t,h,e)):function C3(n){return(0,Kn.m)(n.addListener)&&(0,Kn.m)(n.removeListener)}(n)?w3.map(Fk(n,t)):function T3(n){return(0,Kn.m)(n.on)&&(0,Kn.m)(n.off)}(n)?E3.map(Fk(n,t)):[];if(!r&&(0,b3.z)(n))return(0,Vi.z)(u=>ps(u,t,e))((0,lr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new jn.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return r(h),()=>o(h)})}function Fk(n,t){return e=>i=>n[e](t,i)}var S3=L(3532);const{isArray:A3}=Array;function Lk(n){return 1===n.length&&A3(n[0])?n[0]:n}var LE=L(5032);function VE(...n){const t=(0,$n.jO)(n),e=Lk(n);return e.length?new jn.y(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let u=0;!i.closed&&u<e.length;u++)(0,lr.Xf)(e[u]).subscribe((0,Se.x)(i,h=>{if(r[u].push(h),r.every(g=>g.length)){const g=r.map(y=>y.shift());i.next(t?t(...g):g),r.some((y,w)=>!y.length&&o[w])&&i.complete()}},()=>{o[u]=!0,!r[u].length&&i.complete()}));return()=>{r=o=null}}):Sr.E}function Xi(n){return(0,Ki.e)((t,e)=>{(0,lr.Xf)(n).subscribe((0,Se.x)(e,()=>e.complete(),LE.Z)),!e.closed&&t.subscribe(e)})}function xA(...n){const t=(0,$n.jO)(n);return(0,Ki.e)((e,i)=>{const r=n.length,o=new Array(r);let u=n.map(()=>!1),h=!1;for(let g=0;g<r;g++)(0,lr.Xf)(n[g]).subscribe((0,Se.x)(i,y=>{o[g]=y,!h&&!u[g]&&(u[g]=!0,(h=u.every(T.y))&&(u=null))},LE.Z));e.subscribe((0,Se.x)(i,g=>{if(h){const y=[g,...o];i.next(t?t(...y):y)}}))})}new jn.y(LE.Z);let Hk=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),ag=(()=>{class n extends Hk{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const fs=new s.OlP("NgValueAccessor"),L3={provide:fs,useExisting:(0,s.Gpc)(()=>Ob),multi:!0},B3=new s.OlP("CompositionEventMode");let Ob=(()=>{class n extends Hk{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function V3(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(B3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([L3]),s.qOj]}),n})();const U3=!1,gs=new s.OlP("NgValidators"),Rh=new s.OlP("NgAsyncValidators");function Qk(n){return null!=n}function Xk(n){const t=(0,s.QGY)(n)?(0,In.D)(n):n;if(U3&&!(0,s.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new s.vHH(-1101,e)}return t}function eR(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function tR(n,t){return t.map(e=>e(n))}function nR(n){return n.map(t=>function G3(n){return!n.validate}(t)?t:e=>t.validate(e))}function AA(n){return null!=n?function iR(n){if(!n)return null;const t=n.filter(Qk);return 0==t.length?null:function(e){return eR(tR(e,t))}}(nR(n)):null}function MA(n){return null!=n?function rR(n){if(!n)return null;const t=n.filter(Qk);return 0==t.length?null:function(e){return function R3(...n){const t=(0,$n.jO)(n),{args:e,keys:i}=Kl(n),r=new jn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let g=u,y=u;for(let w=0;w<u;w++){let S=!1;(0,lr.Xf)(e[w]).subscribe((0,Se.x)(o,M=>{S||(S=!0,y--),h[w]=M},()=>g--,void 0,()=>{(!g||!S)&&(y||o.next(i?de(i,h):h),o.complete())}))}});return t?r.pipe(se(t)):r}(tR(e,t).map(Xk)).pipe((0,D.U)(eR))}}(nR(n)):null}function sR(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function OA(n){return n?Array.isArray(n)?n:[n]:[]}function UE(n,t){return Array.isArray(n)?n.includes(t):n===t}function lR(n,t){const e=OA(t);return OA(n).forEach(r=>{UE(e,r)||e.push(r)}),e}function cR(n,t){return OA(t).filter(e=>!UE(n,e))}class uR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=AA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=MA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Qs extends uR{get formDirective(){return null}get path(){return null}}class Fh extends uR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dR{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let HE=(()=>{class n extends dR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fh,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),NA=(()=>{class n extends dR{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qs,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();function hR(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const RA=!1,Nb="VALID",$E="INVALID",Y_="PENDING",Pb="DISABLED";function FA(n){return(jE(n)?n.validators:n)||null}function LA(n,t){return(jE(t)?t.asyncValidators:n)||null}function jE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class gR{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Nb}get invalid(){return this.status===$E}get pending(){return this.status==Y_}get disabled(){return this.status===Pb}get enabled(){return this.status!==Pb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(lR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(lR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(cR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(cR(t,this._rawAsyncValidators))}hasValidator(t){return UE(this._rawValidators,t)}hasAsyncValidator(t){return UE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Y_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Pb,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Nb,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nb||this.status===Y_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pb:Nb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Y_,this._hasOwnPendingAsyncValidator=!0;const e=Xk(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Pb:this.errors?$E:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Y_)?Y_:this._anyControlsHaveStatus($E)?$E:Nb}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Y3(n){return Array.isArray(n)?AA(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function K3(n){return Array.isArray(n)?MA(n):n||null}(this._rawAsyncValidators)}}class VA extends gR{constructor(t,e,i){super(FA(e),LA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function fR(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,RA?function Z3(n,t){return`Must supply a value for form control ${hR(n,t)}`}(t,r):"")})})(this,!0,t),Object.keys(t).forEach(i=>{(function pR(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,RA?function W3(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new s.vHH(1001,RA?function q3(n,t){return`Cannot find form control ${hR(n,t)}`}(t,e):"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const kb=new s.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>BA}),BA="always";function Rb(n,t,e=BA){UA(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function X3(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&mR(n,t)})}(n,t),function tG(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function eG(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&mR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Q3(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function qE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function UA(n,t){const e=function oR(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(sR(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function aR(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(sR(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();qE(t._rawValidators,r),qE(t._rawAsyncValidators,r)}function mR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const oG={provide:Qs,useExisting:(0,s.Gpc)(()=>Lb)},Fb=(()=>Promise.resolve())();let Lb=(()=>{class n extends Qs{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new VA({},AA(e),MA(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Fb.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Rb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Fb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Fb.then(()=>{const i=this._findContainer(e.path),r=new VA({});(function _R(n,t){UA(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Fb.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Fb.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function yR(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(gs,10),s.Y36(Rh,10),s.Y36(kb,8))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([oG]),s.qOj]}),n})();function vR(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function bR(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const wR=class extends gR{constructor(t=null,e,i){super(FA(e),LA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=bR(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){vR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){vR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){bR(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},cG={provide:Fh,useExisting:(0,s.Gpc)(()=>K_)},CR=(()=>Promise.resolve())();let K_=(()=>{class n extends Fh{constructor(e,i,r,o,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new wR,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function $A(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Ob?e=o:function rG(n){return Object.getPrototypeOf(n.constructor)===ag}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function GA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){CR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);CR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function zE(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qs,9),s.Y36(gs,10),s.Y36(Rh,10),s.Y36(fs,10),s.Y36(s.sBO,8),s.Y36(kb,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([cG]),s.qOj,s.TTD]}),n})(),jA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),DR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),PG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[DR]}),n})(),JA=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:kb,useValue:e.callSetDisabledState??BA}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[PG]}),n})();Math,Math,Math;const XE=["*"],T$=["dialog"];function jb(n){return"string"==typeof n}function dg(n){return null!=n}function ny(n){return(n||document.body).getBoundingClientRect()}const uF={animation:!0,transitionTimerDelayMs:5},Pj=()=>{},{transitionTimerDelayMs:kj}=uF,zb=new Map,Zr=(n,t,e,i)=>{let r=i.context||{};const o=zb.get(t);if(o)switch(i.runningTransition){case"continue":return Sr.E;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),zb.delete(t)}const u=e(t,i.animation,r)||Pj;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>u()),gt(void 0).pipe(function Oj(n){return t=>new jn.y(e=>t.subscribe({next:u=>n.run(()=>e.next(u)),error:u=>n.run(()=>e.error(u)),complete:()=>n.run(()=>e.complete())}))}(n));const h=new vn.x,g=new vn.x,y=h.pipe(function O3(...n){return t=>Fn(t,gt(...n))}(!0));zb.set(t,{transition$:h,complete:()=>{g.next(),g.complete()},context:r});const w=function Nj(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const S=ps(t,"transitionend").pipe(Xi(y),Ln(({target:R})=>R===t));(function Vk(...n){return 1===(n=Lk(n)).length?(0,lr.Xf)(n[0]):new jn.y(function M3(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,lr.Xf)(n[i]).subscribe((0,Se.x)(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))})(function SA(n=0,t,e=_v.P){let i=-1;return null!=t&&((0,S3.K)(t)?e=t:i=t),new jn.y(r=>{let o=function x3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(w+kj).pipe(Xi(y)),S,g).pipe(Xi(y)).subscribe(()=>{zb.delete(t),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let iy=(()=>{class n{constructor(){this.animation=uF.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _n=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(_n||(_n={})),_n))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const wF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function IF(n){const t=Array.from(n.querySelectorAll(wF)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);class mg{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let jz=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Li(1)).subscribe(()=>{Zr(this._zone,this._el.nativeElement,(e,i)=>{i&&ny(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Zr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(s.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),s.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[s.jDz],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class VF{close(t){}dismiss(t){}}class zz{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new vn.x,this._dismissed=new vn.x,this._hidden=new vn.x,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,u)=>{this._resolve=o,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Xi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Xi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function aF(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():gt(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),VE(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var _g=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(_g||(_g={})),_g))();let Wz=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new vn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new vn.x,this.hidden=new vn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":jb(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Li(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=VE(Zr(this._zone,e,()=>e.classList.remove("show"),i),Zr(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const e={animation:this.animation,runningTransition:"continue"};VE(Zr(this._zone,this._elRef.nativeElement,(o,u)=>{u&&ny(o),o.classList.add("show")},e),Zr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ps(e,"keydown").pipe(Xi(this._closed$),Ln(r=>r.which===_n.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(_g.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ps(this._dialogEl.nativeElement,"mousedown").pipe(Xi(this._closed$),(0,cr.b)(()=>i=!1),hi(()=>ps(e,"mouseup").pipe(Xi(this._closed$),Li(1))),Ln(({target:r})=>e===r)).subscribe(()=>{i=!0}),ps(e,"click").pipe(Xi(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(_g.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=IF(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Zr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ae),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&s.Gf(T$,7),2&e){let r;s.iGM(r=s.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),s.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),s.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[s.jDz],ngContentSelectors:XE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&e&&s.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),qz=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:u}=r;if(e>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=u),r.overflow=o}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zz=(()=>{class n{constructor(e,i,r,o,u,h,g){this._applicationRef=e,this._injector=i,this._environmentInjector=r,this._document=o,this._scrollBar=u,this._rendererFactory=h,this._ngZone=g,this._activeWindowCmptHasChanged=new vn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const y=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=ps(t,"focusin").pipe(Xi(e),(0,D.U)(o=>o.target));ps(t,"keydown").pipe(Xi(e),Ln(o=>o.which===_n.Tab),xA(r)).subscribe(([o,u])=>{const[h,g]=IF(t);(u===h||u===t)&&o.shiftKey&&(g.focus(),o.preventDefault()),u===g&&!o.shiftKey&&(h.focus(),o.preventDefault())}),i&&ps(t,"click").pipe(Xi(e),xA(r),(0,D.U)(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,y.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(y.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:dg(r.container)?this._document.querySelector(r.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new VF,g=(e=r.injector||e).get(s.lqb,null)||this._environmentInjector,y=this._getContentRef(e,g,i,h,r);let w=!1!==r.backdrop?this._attachBackdrop(o):void 0,S=this._attachWindowComponent(o,y.nodes),M=new zz(S,y,w,r.beforeDismiss);return this._registerModalRef(M),this._registerWindowCmpt(S),M.hidden.pipe(Li(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=R=>{M.close(R)},h.dismiss=R=>{M.dismiss(R)},this._applyWindowOptions(S.instance,r),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,r),w.changeDetectorRef.detectChanges()),S.changeDetectorRef.detectChanges(),M}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,s.LMc)(jz,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=(0,s.LMc)(Wz,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{dg(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{dg(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o,u){return r?r instanceof s.Rgc?this._createFromTemplateRef(r,o):jb(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,u):new mg([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(o),new mg([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new mg([[i]])}_createFromComponent(e,i,r,o,u){const h=s.zs3.create({providers:[{provide:VF,useValue:o}],parent:e}),g=(0,s.LMc)(r,{environmentInjector:i,elementInjector:h}),y=g.location.nativeElement;return u.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new mg([[y]],g.hostView,g)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(s.lqb),s.LFG(ae),s.LFG(qz),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yz=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(iy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BF=(()=>{class n{constructor(e,i,r){this._injector=e,this._modalStack=i,this._config=r}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(Zz),s.LFG(Yz))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"h4",4),s._uU(2,"Bande annonce du film"),s.qZA(),s.TgZ(3,"button",5),s.NdJ("click",function(){const o=s.CHM(e).$implicit;return s.KtG(o.dismiss("Cross click"))}),s.qZA()(),s.TgZ(4,"div",6),s._UZ(5,"iframe",7),s.qZA()}if(2&n){const e=s.oxw();s.xp6(5),s.Q6J("src",e.safeURL,s.uOi)}}new s.OlP("live announcer delay",{providedIn:"root",factory:function NW(){return 100}});let RW=(()=>{class n{constructor(e){this.modalService=e,this.closeResult=""}open(e){this.modalService.open(e,{windowClass:"modal-holder",size:"lg",centered:!0}).result.then(i=>{this.closeResult=`Closed with: ${i}`},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`})}getDismissReason(e){return e===_g.ESC?"by pressing ESC":e===_g.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(BF))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-trailer-modal"]],inputs:{safeURL:"safeURL"},decls:5,vars:0,consts:[["src","https://lottie.host/302a8d53-a2f4-4a09-8e70-d84e11205ae3/YkLTKNEFht.json","background","transparent","speed","1","loop","","hover","",2,"width","160px","height","160px",3,"click"],[2,"font-style","italic"],["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["allowfullscreen","","frameborder","0","allow","autoplay","width","100%","height","500",3,"src"]],template:function(e,i){if(1&e){const r=s.EpF();s.TgZ(0,"lottie-player",0),s.NdJ("click",function(){s.CHM(r);const u=s.MAs(4);return s.KtG(i.open(u))}),s.qZA(),s.TgZ(1,"p",1),s._uU(2,"Voir la bande annonce"),s.qZA(),s.YNc(3,kW,6,1,"ng-template",null,2,s.W1O)}}}),n})(),nL=(()=>{class n{getimage(e){return null==e?"../../assets/user.jpg":"https://image.tmdb.org/t/p/original/"+e}getNom(e){return e.replace("(uncredited)","")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-people-card"]],inputs:{peo:"peo"},decls:10,vars:3,consts:[[1,"cardPeople"],[1,"outerPeople"],["width","200px",3,"src"]],template:function(e,i){1&e&&(s.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"p"),s._UZ(4,"img",2),s.qZA(),s.TgZ(5,"p")(6,"b"),s._uU(7),s.qZA()(),s.TgZ(8,"p"),s._uU(9),s.qZA()()()()),2&e&&(s.xp6(4),s.s9C("src",i.getimage(i.peo.profile_path),s.LSH),s.xp6(3),s.Oqu(i.peo.name),s.xp6(2),s.Oqu(i.getNom(i.peo.character)))},styles:["p[_ngcontent-%COMP%]{padding:2px}.cardPeople[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;cursor:pointer}.outerPeople[_ngcontent-%COMP%]{margin:10px}"]}),n})();const FW=function(n){return["/peopleDetail",n]};function LW(n,t){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"app-people-card",2),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Q6J("peo",e)("routerLink",s.VKq(2,FW,e.id))}}let iL=(()=>{class n{constructor(e){this.dataService=e}ngOnInit(){this.getPeopleById(this.id)}getPeopleById(e){this.dataService.getPerson(e).subscribe(i=>{this.people=i.cast,this.total=i.getTotal})}getAuteurs(){return this.people.length>0?"Acteurs ("+this.people.length+")":"Acteur"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Im))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-people"]],inputs:{id:"id"},decls:5,vars:2,consts:[[1,"scrollPeoplecontainer"],[4,"ngFor","ngForOf"],[3,"peo","routerLink"]],template:function(e,i){1&e&&(s.TgZ(0,"h2"),s._uU(1),s.qZA(),s.TgZ(2,"section")(3,"div",0),s.YNc(4,LW,2,4,"div",1),s.qZA()()),2&e&&(s.xp6(1),s.Oqu(i.getAuteurs()),s.xp6(3),s.Q6J("ngForOf",i.people))},dependencies:[ic,fn,nL],styles:[".scrollPeoplecontainer[_ngcontent-%COMP%]{scrollbar-width:thin;overflow:auto;display:flex;flex-direction:line}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:5px;background-color:#000}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#394159;border-radius:10px}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#303544}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:hover{background-color:#000}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:active{background-color:#000}.scrollPeoplecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:horizontal:active{background-color:#d4d4d4}"]}),n})(),VW=(()=>{class n{transform(e){var r=e/60,o=Math.floor(r),h=Math.round(60*(r-o));return 0==o?h+" minutes":o+"h"+h+"m"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"minuteSeconds",type:n,pure:!0}),n})();function BW(n,t){if(1&n&&(s.TgZ(0,"p",4),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.hij("",e.name," ")}}function UW(n,t){if(1&n&&(s.TgZ(0,"p",4),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.hij("",e.name,", ")}}function HW(n,t){if(1&n&&(s.TgZ(0,"div",4),s.YNc(1,BW,2,1,"p",16),s.YNc(2,UW,2,1,"p",16),s.qZA()),2&n){const e=t.last;s.xp6(1),s.Q6J("ngIf",e),s.xp6(1),s.Q6J("ngIf",!e)}}function GW(n,t){if(1&n&&(s.TgZ(0,"p"),s._uU(1),s.ALo(2,"minuteSeconds"),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("\u2022 Dur\xe9e : ",s.lcZ(2,1,e.movie.runtime)," ")}}function $W(n,t){if(1&n&&s._UZ(0,"app-gallerie-img",17),2&n){const e=s.oxw();s.Q6J("images",e.images)}}function jW(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.addFavoriteMovie(r.movie))}),s.qZA()}}const zW=function(n){return["/movie/",n]};function WW(n,t){if(1&n&&(s.TgZ(0,"div",19)(1,"div",20),s._UZ(2,"app-movie-card",21),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Q6J("movie",e)("routerLink",s.VKq(2,zW,e.id))}}let qW=(()=>{class n{constructor(e,i,r,o,u){this.dataService=e,this.router=i,this._sanitizer=r,this.authService=o,this.databaseService=u,this.closeResult="",this.video=[],this.similarMovies=[],this.reviews=[],this.display=!0,this.comments=[],this.images=[],this.commentBody="",this.test=[]}ngOnInit(){this.router.params.subscribe(e=>{this.id=e.id,this.getMovieById(this.id),this.getSimilarMovie(this.id),this.getVideo(this.id),this.getImagesByMovieId(this.id)})}getVideo(e){this.dataService.getVideo(e).subscribe(i=>{this.videoKey="https://www.youtube.com/embed/"+i.results[0].key+"?autoplay=1",this.safeURL=this._sanitizer.bypassSecurityTrustResourceUrl(this.videoKey)})}getMovieById(e){this.dataService.getMovie(e).subscribe(i=>{this.movie=i})}getSimilarMovie(e){this.dataService.getSimilarMovies(e).subscribe(i=>{this.similarMovies=i.results})}getReviewsFromAPI(e){this.dataService.getReviews(e).subscribe(i=>{this.comments=i.results})}getReviewsFromDB(e){this.databaseService.getAllCommentsFromMovieID(e).subscribe(i=>{this.comments=i})}getAllReviews(e,i){this.comments=i?this.getReviewsFromDB(e):this.getReviewsFromAPI(e)}getImagesByMovieId(e){this.dataService.getImages(e).subscribe(i=>{this.images=i.posters})}addFavoriteMovie(e){this.databaseService.addMovie(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Im),s.Y36(fa),s.Y36(wd),s.Y36(Ab),s.Y36(vk))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-movie-details"]],decls:30,vars:19,consts:[[1,"banner",3,"src"],[1,"container",2,"margin-top","130px"],[1,"header"],["width","300","height","400","alt","",1,"movie-card-img",3,"src"],[2,"display","inline"],["style","display: inline;",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"images",4,"ngIf"],["pButton","","type","button","icon","pi pi-heart","label","Ajouter en favoris","class","p-button-sm",3,"click",4,"ngIf"],[1,"movie-trailer"],[3,"safeURL"],[1,"movie-overview"],[3,"id"],[1,"similar-movies"],[3,"value","autoplayInterval","numVisible","numScroll","circular","responsiveOptions"],["pTemplate","item"],["style","display: inline;",4,"ngIf"],[3,"images"],["pButton","","type","button","icon","pi pi-heart","label","Ajouter en favoris",1,"p-button-sm",3,"click"],[1,"product-item"],[1,"product-item-content"],[3,"movie","routerLink"]],template:function(e,i){1&e&&(s._UZ(0,"img",0),s.TgZ(1,"div",1)(2,"section",2),s._UZ(3,"img",3),s.TgZ(4,"div")(5,"h1"),s._uU(6),s.qZA(),s.TgZ(7,"p",4),s._uU(8,"\u2022 Genre : "),s.qZA(),s.YNc(9,HW,3,2,"div",5),s.TgZ(10,"div"),s.YNc(11,GW,3,3,"p",6),s.qZA(),s.YNc(12,$W,1,1,"app-gallerie-img",7),s.YNc(13,jW,1,0,"button",8),s.ALo(14,"async"),s.qZA(),s.TgZ(15,"div",9),s._UZ(16,"app-trailer-modal",10),s.qZA()(),s.TgZ(17,"section",11)(18,"h2"),s._uU(19,"Synopsis"),s.qZA(),s.TgZ(20,"p"),s._uU(21),s.qZA()(),s._UZ(22,"app-people",12),s.TgZ(23,"p"),s._uU(24,"ffffdd"),s.qZA(),s.TgZ(25,"section",13)(26,"h2"),s._uU(27,"Films similaires"),s.qZA(),s.TgZ(28,"p-carousel",14),s.YNc(29,WW,3,4,"ng-template",15),s.qZA()()()),2&e&&(s.MGl("src","https://image.tmdb.org/t/p/original",i.movie.backdrop_path,"",s.LSH),s.xp6(3),s.MGl("src","https://image.tmdb.org/t/p/original",i.movie.poster_path,"",s.LSH),s.xp6(3),s.AsE("",i.movie.title," (",i.movie.release_date,")"),s.xp6(3),s.Q6J("ngForOf",i.movie.genres),s.xp6(2),s.Q6J("ngIf",i.movie.runtime>0),s.xp6(1),s.Q6J("ngIf",i.images.length>1),s.xp6(1),s.Q6J("ngIf",s.lcZ(14,17,i.authService.user)),s.xp6(3),s.Q6J("safeURL",i.safeURL),s.xp6(5),s.Oqu(i.movie.overview),s.xp6(1),s.Q6J("id",i.id),s.xp6(6),s.Q6J("value",i.similarMovies)("autoplayInterval",3e3)("numVisible",5)("numScroll",3)("circular",!0)("responsiveOptions",i.responsiveOptions))},dependencies:[ic,fn,tn,Tl,IH,CA,mv,v3,RW,iL,Rr,VW],styles:[".container[_ngcontent-%COMP%]{position:relative}.movie-trailer[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center}.banner[_ngcontent-%COMP%]{position:absolute;height:400px;width:100%;opacity:.3;border-bottom:1px solid #0d6efd;object-fit:cover;object-position:5% 5%}.header[_ngcontent-%COMP%]{display:flex;align-items:flex-end;margin-bottom:40px;width:100%}.header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-left:auto;cursor:pointer}#play-button[_ngcontent-%COMP%]{background:url(play-button.29082b5add54e225.png) no-repeat;background-size:90px 90px;width:90px;height:90px;border:none}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50px;margin-right:20px}section[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:30px}p[_ngcontent-%COMP%]{margin:0;padding:0}h3[_ngcontent-%COMP%]{margin:20px 0}.cards-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.card[_ngcontent-%COMP%]{margin:0 .5em;border:none;border-radius:0;background-color:#000}.carousel-inner[_ngcontent-%COMP%]{padding:1em}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{background-color:#000;width:5vh;height:5vh;border-radius:50%;top:50%;transform:translateY(-50%)}"]}),n})();const ZW=function(){return["/register"]};let YW=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.document=r,this.request=[],this.email="",this.password=""}ngOnInit(){}login(){this.authService.login(this.email,this.password)}signInWithGoogle(){this.authService.oAuthLogin()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ab),s.Y36(fa),s.Y36(ae))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:27,vars:4,consts:[[1,"container"],[1,"vh-100","row","justify-content-center","align-items-center"],[1,"col-md-9","col-lg-8","col-xl-5"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp","alt","Sample image",1,"img-fluid"],[1,"col-md-8","col-lg-6","col-xl-5","offset-xl-1"],[1,"d-flex","flex-row","align-items-center","justify-content-lg-start"],[1,"form-outline","mb-4"],[1,"form-label"],["type","email","name","email","placeholder","Adresse mail",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"form-outline","mb-3"],["type","password","name","password","placeholder","Mot de passe",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"d-flex","text-center","text-lg-start","mt-4","pt-2"],["type","button",1,"btn","btn-primary","btn-lg",3,"click"],[2,"border-radius","10px","padding","5px","margin-left","15px",3,"click"],["width","20px","alt","Google sign-in","src","https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png",2,"margin-bottom","3px","margin-right","5px"],[1,"small","fw-bold","mt-2","pt-1","mb-0"],["href","#!",1,"link-danger",3,"routerLink"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"div",4)(5,"form")(6,"div",5)(7,"h1"),s._uU(8,"Connexion"),s.qZA()(),s.TgZ(9,"div",6)(10,"label",7),s._uU(11,"Adresse mail"),s.qZA(),s.TgZ(12,"input",8),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA()(),s.TgZ(13,"div",9)(14,"label",7),s._uU(15,"Mot de passe"),s.qZA(),s.TgZ(16,"input",10),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA()(),s.TgZ(17,"div",11)(18,"button",12),s.NdJ("click",function(){return i.login()}),s._uU(19,"Se connecter"),s.qZA(),s.TgZ(20,"button",13),s.NdJ("click",function(){return i.signInWithGoogle()}),s._UZ(21,"img",14),s._uU(22,"Se connecter avec Google"),s.qZA()(),s.TgZ(23,"p",15),s._uU(24,"Vous n'avez pas encore de compte ? "),s.TgZ(25,"a",16),s._uU(26,"Creer un compte"),s.qZA()()()()()()),2&e&&(s.xp6(12),s.Q6J("ngModel",i.email),s.xp6(4),s.Q6J("ngModel",i.password),s.xp6(9),s.Q6J("routerLink",s.DdM(3,ZW)))},dependencies:[ic,jA,Ob,HE,NA,K_,Lb]}),n})(),KW=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.email="",this.password=""}ngOnInit(){}register(){this.authService.register(this.email,this.password)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ab),s.Y36(fa))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register"]],decls:24,vars:2,consts:[[1,"container"],[1,"vh-100","row","justify-content-center","align-items-center"],[1,"col-md-9","col-lg-8","col-xl-5"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp","alt","Sample image",1,"img-fluid"],[1,"col-md-8","col-lg-6","col-xl-5","offset-xl-1"],[1,"d-flex","flex-row","align-items-center","justify-content-lg-start"],[1,"form-outline","mb-4"],["for","form3Example3",1,"form-label"],["type","email","name","email","id","form3Example3","placeholder","Adresse mail",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"form-outline","mb-3"],["for","form3Example4",1,"form-label"],["type","password","name","password","id","form3Example4","placeholder","Mot de passe",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],[1,"text-lg-start","mt-4","pt-2"],["type","button",1,"btn","btn-primary","btn-lg",2,"padding-left","2.5rem","padding-right","2.5rem",3,"click"],[1,"small","fw-bold","mt-2","pt-1","mb-0"],["href","#!",1,"link-danger"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._UZ(3,"img",3),s.qZA(),s.TgZ(4,"div",4)(5,"form")(6,"div",5)(7,"h1"),s._uU(8,"Creer un compte"),s.qZA()(),s.TgZ(9,"div",6)(10,"label",7),s._uU(11,"Adresse mail"),s.qZA(),s.TgZ(12,"input",8),s.NdJ("ngModelChange",function(o){return i.email=o}),s.qZA()(),s.TgZ(13,"div",9)(14,"label",10),s._uU(15,"Mot de passe"),s.qZA(),s.TgZ(16,"input",11),s.NdJ("ngModelChange",function(o){return i.password=o}),s.qZA()(),s.TgZ(17,"div",12)(18,"button",13),s.NdJ("click",function(){return i.register()}),s._uU(19,"Creer un compte"),s.qZA(),s.TgZ(20,"p",14),s._uU(21,"Vous avez deja un compte ? "),s.TgZ(22,"a",15),s._uU(23,"Se connecter"),s.qZA()()()()()()()),2&e&&(s.xp6(12),s.Q6J("ngModel",i.email),s.xp6(4),s.Q6J("ngModel",i.password))},dependencies:[jA,Ob,HE,NA,K_,Lb]}),n})();const JW=function(){return["/movies"]};let QW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:13,vars:2,consts:[[1,"grid","grid-nogutter","surface-section","text-900"],[1,"col-10","md:col-6","p-6","text-center","md:text-left","flex","align-items-center"],[1,"block","text-6xl","font-bold","mb-1"],[1,"text-3xl","text-primary","font-bold","mb-3"],[1,"mt-0","mb-4","text-700","line-height-3"],["type","button",1,"btn","btn-primary","btn-lg",3,"routerLink"],[1,"col-10","md:col-6",2,"overflow","hidden"],["src","assets/bannerImg.jpg","alt","Image",1,"md:ml-auto","block","md:h-full",2,"clip-path","polygon(8% 0, 100% 0%, 100% 100%, 0 100%)"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"section")(3,"span",2),s._uU(4,"Movie News"),s.qZA(),s.TgZ(5,"div",3),s._uU(6,"Venez d\xe9couvrir des films"),s.qZA(),s.TgZ(7,"p",4),s._uU(8,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),s.qZA(),s.TgZ(9,"button",5),s._uU(10,"Voir les films"),s.qZA()()(),s.TgZ(11,"div",6),s._UZ(12,"img",7),s.qZA()()),2&e&&(s.xp6(9),s.Q6J("routerLink",s.DdM(1,JW)))},dependencies:[ic],styles:[".grid[_ngcontent-%COMP%]{height:auto;width:100%;position:absolute;top:110px;bottom:0}"]}),n})();var XW=L(1764);let e4=(()=>{class n{constructor(e){this.host=e,this.focused=!1}ngAfterViewChecked(){if(!this.focused&&this.autofocus){const e=Ye.getFocusableElements(this.host.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}}),n})(),t4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();const n4=["overlay"],i4=["content"];function r4(n,t){1&n&&s.GkF(0)}const s4=function(n,t,e){return{showTransitionParams:n,hideTransitionParams:t,transform:e}},o4=function(n){return{value:"visible",params:n}},a4=function(n){return{mode:n}},l4=function(n){return{$implicit:n}};function c4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1,3),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onOverlayContentAnimationDone(r))}),s.Hsn(2),s.YNc(3,r4,1,0,"ng-container",4),s.qZA()}if(2&n){const e=s.oxw(2);s.Tol(e.contentStyleClass),s.Q6J("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",s.VKq(11,o4,s.kEZ(7,s4,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),s.xp6(3),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.VKq(15,l4,s.VKq(13,a4,e.overlayMode)))}}const u4=function(n,t,e,i,r,o,u,h,g,y,w,S,M,R){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":o,"p-overlay-bottom-start":u,"p-overlay-bottom-end":h,"p-overlay-left":g,"p-overlay-left-start":y,"p-overlay-left-end":w,"p-overlay-right":S,"p-overlay-right-start":M,"p-overlay-right-end":R}};function d4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1,2),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onOverlayClick(r))}),s.YNc(2,c4,4,17,"div",0),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass",s.rFY(5,u4,[e.modal,e.modal&&"center"===e.overlayResponsiveDirection,e.modal&&"top"===e.overlayResponsiveDirection,e.modal&&"top-start"===e.overlayResponsiveDirection,e.modal&&"top-end"===e.overlayResponsiveDirection,e.modal&&"bottom"===e.overlayResponsiveDirection,e.modal&&"bottom-start"===e.overlayResponsiveDirection,e.modal&&"bottom-end"===e.overlayResponsiveDirection,e.modal&&"left"===e.overlayResponsiveDirection,e.modal&&"left-start"===e.overlayResponsiveDirection,e.modal&&"left-end"===e.overlayResponsiveDirection,e.modal&&"right"===e.overlayResponsiveDirection,e.modal&&"right-start"===e.overlayResponsiveDirection,e.modal&&"right-end"===e.overlayResponsiveDirection])),s.xp6(2),s.Q6J("ngIf",e.visible)}}const h4=["*"],p4={provide:fs,useExisting:(0,s.Gpc)(()=>rL),multi:!0},f4=Ok([Z_({transform:"{{transform}}",opacity:0}),RE("{{showTransitionParams}}")]),g4=Ok([RE("{{hideTransitionParams}}",Z_({transform:"{{transform}}",opacity:0}))]);let rL=(()=>{class n{constructor(e,i,r,o,u,h){this.document=e,this.el=i,this.renderer=r,this.config=o,this.overlayService=u,this.zone=h,this.visibleChange=new s.vpe,this.onBeforeShow=new s.vpe,this.onShow=new s.vpe,this.onBeforeHide=new s.vpe,this.onHide=new s.vpe,this.onAnimationStart=new s.vpe,this.onAnimationDone=new s.vpe,this._visible=!1,this.modalVisible=!1,this.isOverlayClicked=!1,this.isOverlayContentClicked=!1,this.transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"},this.window=this.document.defaultView}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return Pn.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return Pn.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return Pn.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return Pn.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){const e=this._target||this.overlayOptions?.target;return void 0===e?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){const e=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===e||e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){const e=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===e?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){const e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===e?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){const e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===e?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}get modal(){return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return Ye.getTargetElement(this.target,this.el?.nativeElement)}ngAfterContentInit(){this.templates?.forEach(e=>{e.getType(),this.contentTemplate=e.template})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&Ye.focus(this.targetEl),this.modal&&Ye.addClass(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&Ye.focus(this.targetEl),this.modal&&Ye.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&Ye.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(e){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Ph.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),Ye.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&Ye.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){const i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.show(i,!0),this.bindListeners();break;case"void":this.hide(i,!0),this.unbindListeners(),Ye.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Ph.clear(i),this.modalVisible=!1}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&this.config?.overlayOptions[e]&&this.config?.overlayOptions[e](i)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Tk(this.targetEl,e=>{(!this.listener||this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{const r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target))||this.isOverlayContentClicked);(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:3!==e.which&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!Ye.isTouchDevice()}):!Ye.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{this.overlayOptions.hideOnEscape&&27===e.keyCode&&(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!Ye.isTouchDevice()}):!Ye.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(Ye.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Ph.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ae),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(z_),s.Y36(KU),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-overlay"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Tl,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(n4,5),s.Gf(i4,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.overlayViewChild=r.first),s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[s._Bn([p4])],ngContentSelectors:h4,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,d4,3,20,"div",0)),2&e&&s.Q6J("ngIf",i.modalVisible)},dependencies:[Tt,tn,ni,Cn],styles:[".p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}\n"],encapsulation:2,data:{animation:[Ak("overlayContentAnimation",[FE(":enter",[Nk(f4)]),FE(":leave",[Nk(g4)])])]},changeDetection:0}),n})(),sL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Js,Js]}),n})();const m4=["element"],_4=["content"];function y4(n,t){1&n&&s.GkF(0)}const EM=function(n,t){return{$implicit:n,options:t}};function v4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,y4,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.WLB(2,EM,e.loadedItems,e.getContentOptions()))}}function b4(n,t){1&n&&s.GkF(0)}function w4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,b4,1,0,"ng-container",7),s.BQk()),2&n){const e=t.$implicit,i=t.index,r=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(2,EM,e,r.getOptions(i)))}}const I4=function(n){return{"p-scroller-loading":n}};function E4(n,t){if(1&n&&(s.TgZ(0,"div",8,9),s.YNc(2,w4,2,5,"ng-container",10),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("ngClass",s.VKq(4,I4,e.d_loading))("ngStyle",e.contentStyle),s.xp6(2),s.Q6J("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function C4(n,t){if(1&n&&s._UZ(0,"div",11),2&n){const e=s.oxw(2);s.Q6J("ngStyle",e.spacerStyle)}}function T4(n,t){1&n&&s.GkF(0)}const D4=function(n){return{numCols:n}},oL=function(n){return{options:n}};function S4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,T4,1,0,"ng-container",7),s.BQk()),2&n){const e=t.index,i=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",s.VKq(4,oL,i.getLoaderOptions(e,i.both&&s.VKq(2,D4,i._numItemsInViewport.cols))))}}function x4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,S4,2,6,"ng-container",14),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",e.loaderArr)}}function A4(n,t){1&n&&s.GkF(0)}const M4=function(){return{styleClass:"p-scroller-loading-icon"}};function O4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,A4,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.Q6J("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",s.VKq(3,oL,s.DdM(2,M4)))}}function N4(n,t){1&n&&s._UZ(0,"i",16)}function P4(n,t){if(1&n&&(s.YNc(0,O4,2,5,"ng-container",0),s.YNc(1,N4,1,0,"ng-template",null,15,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw(3);s.Q6J("ngIf",i.loaderIconTemplate)("ngIfElse",e)}}const k4=function(n){return{"p-component-overlay":n}};function R4(n,t){if(1&n&&(s.TgZ(0,"div",12),s.YNc(1,x4,2,1,"ng-container",0),s.YNc(2,P4,3,2,"ng-template",null,13,s.W1O),s.qZA()),2&n){const e=s.MAs(3),i=s.oxw(2);s.Q6J("ngClass",s.VKq(3,k4,!i.loaderTemplate)),s.xp6(1),s.Q6J("ngIf",i.loaderTemplate)("ngIfElse",e)}}const F4=function(n,t,e){return{"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":t,"p-horizontal-scroll":e}};function L4(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",2,3),s.NdJ("scroll",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onContainerScroll(r))}),s.YNc(3,v4,2,5,"ng-container",0),s.YNc(4,E4,3,6,"ng-template",null,4,s.W1O),s.YNc(6,C4,1,1,"div",5),s.YNc(7,R4,4,5,"div",6),s.qZA(),s.BQk()}if(2&n){const e=s.MAs(5),i=s.oxw();s.xp6(1),s.Tol(i._styleClass),s.Q6J("ngStyle",i._style)("ngClass",s.kEZ(10,F4,i.inline,i.both,i.horizontal)),s.uIk("id",i._id)("tabindex",i.tabindex),s.xp6(2),s.Q6J("ngIf",i.contentTemplate)("ngIfElse",e),s.xp6(3),s.Q6J("ngIf",i._showSpacer),s.xp6(1),s.Q6J("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function V4(n,t){1&n&&s.GkF(0)}const B4=function(n,t){return{rows:n,columns:t}};function U4(n,t){if(1&n&&(s.ynx(0),s.YNc(1,V4,1,0,"ng-container",7),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",s.WLB(5,EM,e.items,s.WLB(2,B4,e._items,e.loadedColumns)))}}function H4(n,t){if(1&n&&(s.Hsn(0),s.YNc(1,U4,2,8,"ng-container",17)),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngIf",e.contentTemplate)}}const G4=["*"];let $4=(()=>{class n{constructor(e,i){this.cd=e,this.zone=i,this.onLazyLoad=new s.vpe,this.onScroll=new s.vpe,this.onScrollIndexChange=new s.vpe,this._tabindex=0,this._itemSize=0,this._orientation="vertical",this._step=0,this._delay=0,this._resizeDelay=10,this._appendOnly=!1,this._inline=!1,this._lazy=!1,this._disabled=!1,this._loaderDisabled=!1,this._showSpacer=!0,this._showLoader=!1,this._autoSize=!1,this.d_loading=!1,this.first=0,this.last=0,this.page=0,this.isRangeChanged=!1,this.numItemsInViewport=0,this.lastScrollPos=0,this.lazyLoadState={},this.loaderArr=[],this.spacerStyle={},this.contentStyle={},this.initialized=!1}get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){const{previousValue:r,currentValue:o}=e.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){const{previousValue:r,currentValue:o}=e.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(e.options){const{previousValue:r,currentValue:o}=e.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading,i=!0),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){this.viewInit()}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Ye.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=Ye.getWidth(this.elementViewChild.nativeElement),this.defaultHeight=Ye.getHeight(this.elementViewChild.nativeElement),this.defaultContentWidth=Ye.getWidth(this.contentEl),this.defaultContentHeight=Ye.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||Ye.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(e){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){const{numToleratedItems:r}=this.calculateNumItems(),o=this.getContentPosition(),u=(w=0,S)=>w<=S?0:w,h=(w,S,M)=>w*S+M,g=(w=0,S=0)=>this.scrollTo({left:w,top:S,behavior:i});let y=0;this.both?(y={rows:u(e[0],r[0]),cols:u(e[1],r[1])},g(h(y.cols,this._itemSize[1],o.left),h(y.rows,this._itemSize[0],o.top))):(y=u(e,r),this.horizontal?g(h(y,this._itemSize,o.left),0):g(0,h(y,this._itemSize,o.top))),this.isRangeChanged=this.first!==y,this.first=y}scrollInView(e,i,r="auto"){if(i){const{first:o,viewport:u}=this.getRenderedRange(),h=(w=0,S=0)=>this.scrollTo({left:w,top:S,behavior:r}),y="to-end"===i;if("to-start"===i){if(this.both)u.first.rows-o.rows>e[0]?h(u.first.cols*this._itemSize[1],(u.first.rows-1)*this._itemSize[0]):u.first.cols-o.cols>e[1]&&h((u.first.cols-1)*this._itemSize[1],u.first.rows*this._itemSize[0]);else if(u.first-o>e){const w=(u.first-1)*this._itemSize;this.horizontal?h(w,0):h(0,w)}}else if(y)if(this.both)u.last.rows-o.rows<=e[0]+1?h(u.first.cols*this._itemSize[1],(u.first.rows+1)*this._itemSize[0]):u.last.cols-o.cols<=e[1]+1&&h((u.first.cols+1)*this._itemSize[1],u.first.rows*this._itemSize[0]);else if(u.last-o<=e+1){const w=(u.first+1)*this._itemSize;this.horizontal?h(w,0):h(0,w)}}else this.scrollToIndex(e,r)}getRenderedRange(){const e=(o,u)=>Math.floor(o/(u||o));let i=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:o,scrollLeft:u}=this.elementViewChild.nativeElement;this.both?(i={rows:e(o,this._itemSize[0]),cols:e(u,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=e(this.horizontal?u:o,this._itemSize),r=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){const e=this.getContentPosition(),i=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0,r=this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0,o=(y,w)=>Math.ceil(y/(w||y)),u=y=>Math.ceil(y/2),h=this.both?{rows:o(r,this._itemSize[0]),cols:o(i,this._itemSize[1])}:o(this.horizontal?i:r,this._itemSize);return{numItemsInViewport:h,numToleratedItems:this.d_numToleratedItems||(this.both?[u(h.rows),u(h.cols)]:u(h))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),r=(h,g,y,w=!1)=>this.getLast(h+g+(h<y?2:3)*y,w),o=this.first,u=this.both?{rows:r(this.first.rows,e.rows,i[0]),cols:r(this.first.cols,e.cols,i[1],!0)}:r(this.first,e,i);this.last=u,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:o.cols}:0:o,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[e,i]=[Ye.getWidth(this.contentEl),Ye.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[r,o]=[Ye.getWidth(this.elementViewChild.nativeElement),Ye.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=o<this.defaultHeight?o+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),u=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:r,top:o,bottom:u,x:i+r,y:o+u}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,o=(u,h)=>this.elementViewChild.nativeElement.style[u]=h;this.both||this.horizontal?(o("height",r),o("width",i)):o("height",r)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),i=(r,o,u,h=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(o||[]).length*u+h+"px"};this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){const i=e?e.first:this.first,r=(u,h)=>u*h,o=(u=0,h=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${u}px, ${h}px, 0)`};if(this.both)o(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const u=r(i,this._itemSize);this.horizontal?o(u,0):o(0,u)}}}onScrollPositionChange(e){const i=e.target,r=this.getContentPosition(),o=(te,_e)=>te?te>_e?te-_e:te:0,u=(te,_e)=>Math.floor(te/(_e||te)),h=(te,_e,Pe,je,He,We)=>te<=He?He:We?Pe-je-He:_e+He-1,g=(te,_e,Pe,je,He,We,Ke)=>te<=We?0:Math.max(0,Ke?te<_e?Pe:te-We:te>_e?Pe:te-2*We),y=(te,_e,Pe,je,He,We=!1)=>{let Ke=_e+je+2*He;return te>=He&&(Ke+=He+1),this.getLast(Ke,We)},w=o(i.scrollTop,r.top),S=o(i.scrollLeft,r.left);let M=this.both?{rows:0,cols:0}:0,R=this.last,U=!1,K=this.lastScrollPos;if(this.both){const te=this.lastScrollPos.top<=w,_e=this.lastScrollPos.left<=S;if(!this._appendOnly||this._appendOnly&&(te||_e)){const Pe={rows:u(w,this._itemSize[0]),cols:u(S,this._itemSize[1])},je={rows:h(Pe.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],te),cols:h(Pe.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],_e)};M={rows:g(Pe.rows,je.rows,this.first.rows,0,0,this.d_numToleratedItems[0],te),cols:g(Pe.cols,je.cols,this.first.cols,0,0,this.d_numToleratedItems[1],_e)},R={rows:y(Pe.rows,M.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:y(Pe.cols,M.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},U=M.rows!==this.first.rows||R.rows!==this.last.rows||M.cols!==this.first.cols||R.cols!==this.last.cols||this.isRangeChanged,K={top:w,left:S}}}else{const te=this.horizontal?S:w,_e=this.lastScrollPos<=te;if(!this._appendOnly||this._appendOnly&&_e){const Pe=u(te,this._itemSize);M=g(Pe,h(Pe,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,_e),this.first,0,0,this.d_numToleratedItems,_e),R=y(Pe,M,0,this.numItemsInViewport,this.d_numToleratedItems),U=M!==this.first||R!==this.last||this.isRangeChanged,K=te}}return{first:M,last:R,isRangeChanged:U,scrollPos:K}}onScrollChange(e){const{first:i,last:r,isRangeChanged:o,scrollPos:u}=this.onScrollPositionChange(e);if(o){const h={first:i,last:r};if(this.setContentPosition(h),this.first=i,this.last=r,this.lastScrollPos=u,this.handleEvents("onScrollIndexChange",h),this._lazy&&this.isPageChanged){const g={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==g.first||this.lazyLoadState.last!==g.last)&&this.handleEvents("onLazyLoad",g),this.lazyLoadState=g}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(e);(i||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){this.windowResizeListener||this.zone.runOutsideAngular(()=>{this.windowResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.windowResizeListener),window.addEventListener("orientationchange",this.windowResizeListener)})}unbindResizeListener(){this.windowResizeListener&&(window.removeEventListener("resize",this.windowResizeListener),window.removeEventListener("orientationchange",this.windowResizeListener),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(Ye.isVisible(this.elementViewChild?.nativeElement)){const[e,i]=[Ye.getWidth(this.elementViewChild.nativeElement),Ye.getHeight(this.elementViewChild.nativeElement)],[r,o]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical&&o)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.defaultContentWidth=Ye.getWidth(this.contentEl),this.defaultContentHeight=Ye.getHeight(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const i=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(e,i){const r=this.loaderArr.length;return{index:e,count:r,first:0===e,last:e===r-1,even:e%2==0,odd:e%2!=0,...i}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-scroller"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Tl,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(m4,5),s.Gf(_4,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.elementViewChild=r.first),s.iGM(r=s.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[s.TTD],ngContentSelectors:G4,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[1,"p-scroller-loading-icon","pi","pi-spinner","pi-spin"],[4,"ngIf"]],template:function(e,i){if(1&e&&(s.F$t(),s.YNc(0,L4,8,14,"ng-container",0),s.YNc(1,H4,2,1,"ng-template",null,1,s.W1O)),2&e){const r=s.MAs(2);s.Q6J("ngIf",!i._disabled)("ngIfElse",r)}},dependencies:[Tt,fn,tn,ni,Cn],styles:["p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{font-size:2rem}.p-scroller-inline .p-scroller-content{position:static}\n"],encapsulation:2}),n})(),aL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})(),j4=(()=>{class n{constructor(e,i,r,o,u){this.el=e,this.zone=i,this.config=r,this.renderer=o,this.changeDetector=u,this.escape=!0,this.autoHide=!0,this.fitContent=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0,autoHide:!0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){(this.isAutoHide()||!(Ye.hasClass(e.toElement,"p-tooltip")||Ye.hasClass(e.toElement,"p-tooltip-arrow")||Ye.hasClass(e.toElement,"p-tooltip-text")||Ye.hasClass(e.relatedTarget,"p-tooltip")))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Ye.appendChild(this.container,this.el.nativeElement):Ye.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()||this.bindContainerMouseleaveListener()}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",i=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),Ye.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Ph.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Ph.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+Ye.getWindowScrollLeft(),top:e.top+Ye.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+Ye.getOuterWidth(this.el.nativeElement),r=e.top+(Ye.getOuterHeight(this.el.nativeElement)-Ye.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-Ye.getOuterWidth(this.container),r=e.top+(Ye.getOuterHeight(this.el.nativeElement)-Ye.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(Ye.getOuterWidth(this.el.nativeElement)-Ye.getOuterWidth(this.container))/2,r=e.top-Ye.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(Ye.getOuterWidth(this.el.nativeElement)-Ye.getOuterWidth(this.container))/2,r=e.top+Ye.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return Ye.hasClass(e,"p-inputwrapper")?Ye.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,o=Ye.getOuterWidth(this.container),u=Ye.getOuterHeight(this.container),h=Ye.getViewport();return r+o>h.width||r<0||i<0||i+u>h.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Tk(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Ye.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Ph.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(z_),s.Y36(s.Qsj),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[s.TTD]}),n})(),lL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();function z4(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();let i;s.xp6(1),s.Oqu(null!==(i=e.label)&&void 0!==i?i:"empty")}}function W4(n,t){1&n&&s.GkF(0)}const Yb=function(n){return{height:n}},q4=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},CM=function(n){return{$implicit:n}},Z4=["container"],Y4=["filter"],K4=["in"],J4=["editableInput"],Q4=["items"],X4=["scroller"],eq=["overlay"];function tq(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.label||"empty")}}function nq(n,t){1&n&&s.GkF(0)}const iq=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function rq(n,t){if(1&n&&(s.TgZ(0,"span",14),s.YNc(1,tq,2,1,"ng-container",15),s.YNc(2,nq,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(9,iq,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),s.uIk("id",e.labelId),s.xp6(1),s.Q6J("ngIf",!e.selectedItemTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",s.VKq(11,CM,e.selectedOption))}}const sq=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function oq(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("ngClass",s.VKq(2,sq,null==e.placeholder||0===e.placeholder.length)),s.xp6(1),s.Oqu(e.placeholder||"empty")}}function aq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"input",18,19),s.NdJ("input",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onEditableInputChange(r))})("focus",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onEditableInputFocus(r))})("blur",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onInputBlur(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("disabled",e.disabled),s.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function lq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",20),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.clear(r))}),s.qZA()}}function cq(n,t){1&n&&s.GkF(0)}function uq(n,t){1&n&&s.GkF(0)}const cL=function(n){return{options:n}};function dq(n,t){if(1&n&&(s.ynx(0),s.YNc(1,uq,1,0,"ng-container",16),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",s.VKq(2,cL,e.filterOptions))}}function hq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",30)(1,"input",31,32),s.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onKeydown(r,!1))})("input",function(r){s.CHM(e);const o=s.oxw(3);return s.KtG(o.onFilterInputChange(r))}),s.qZA(),s._UZ(3,"span",33),s.qZA()}if(2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("value",e.filterValue||""),s.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function pq(n,t){if(1&n&&(s.TgZ(0,"div",27),s.NdJ("click",function(i){return i.stopPropagation()}),s.YNc(1,dq,2,4,"ng-container",28),s.YNc(2,hq,4,4,"ng-template",null,29,s.W1O),s.qZA()),2&n){const e=s.MAs(3),i=s.oxw(2);s.xp6(1),s.Q6J("ngIf",i.filterTemplate)("ngIfElse",e)}}function fq(n,t){1&n&&s.GkF(0)}const uL=function(n,t){return{$implicit:n,options:t}};function gq(n,t){if(1&n&&s.YNc(0,fq,1,0,"ng-container",16),2&n){const e=t.$implicit,i=t.options;s.oxw(2);const r=s.MAs(7);s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(2,uL,e,i))}}function mq(n,t){1&n&&s.GkF(0)}function _q(n,t){if(1&n&&s.YNc(0,mq,1,0,"ng-container",16),2&n){const e=t.options,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",s.VKq(2,cL,e))}}function yq(n,t){1&n&&(s.ynx(0),s.YNc(1,_q,1,4,"ng-template",36),s.BQk())}function vq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-scroller",34,35),s.NdJ("onLazyLoad",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onLazyLoad.emit(r))}),s.YNc(2,gq,1,5,"ng-template",13),s.YNc(3,yq,2,0,"ng-container",15),s.qZA()}if(2&n){const e=s.oxw(2);s.Akn(s.VKq(8,Yb,e.scrollHeight)),s.Q6J("items",e.optionsToDisplay)("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),s.xp6(3),s.Q6J("ngIf",e.loaderTemplate)}}function bq(n,t){1&n&&s.GkF(0)}const wq=function(){return{}};function Iq(n,t){if(1&n&&(s.ynx(0),s.YNc(1,bq,1,0,"ng-container",16),s.BQk()),2&n){s.oxw();const e=s.MAs(7),i=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",s.WLB(3,uL,i.optionsToDisplay,s.DdM(2,wq)))}}function Eq(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit,i=s.oxw(4);s.xp6(1),s.Oqu(i.getOptionGroupLabel(e)||"empty")}}function Cq(n,t){1&n&&s.GkF(0)}function Tq(n,t){1&n&&s.GkF(0)}const dL=function(n,t){return{$implicit:n,selectedOption:t}};function Dq(n,t){if(1&n&&(s.TgZ(0,"li",42),s.YNc(1,Eq,2,1,"span",15),s.YNc(2,Cq,1,0,"ng-container",16),s.qZA(),s.YNc(3,Tq,1,0,"ng-container",16)),2&n){const e=t.$implicit,i=s.oxw(2).options,r=s.MAs(5),o=s.oxw(2);s.Q6J("ngStyle",s.VKq(6,Yb,i.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!o.groupTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",s.VKq(8,CM,e)),s.xp6(1),s.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",s.WLB(10,dL,o.getOptionGroupChildren(e),o.selectedOption))}}function Sq(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Dq,4,13,"ng-template",41),s.BQk()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("ngForOf",e)}}function xq(n,t){1&n&&s.GkF(0)}function Aq(n,t){if(1&n&&(s.ynx(0),s.YNc(1,xq,1,0,"ng-container",16),s.BQk()),2&n){const e=s.oxw().$implicit,i=s.MAs(5),r=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",s.WLB(2,dL,e,r.selectedOption))}}function Mq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdownItem",43),s.NdJ("onClick",function(r){s.CHM(e);const o=s.oxw(4);return s.KtG(o.onItemClick(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw().selectedOption,r=s.oxw(3);s.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function Oq(n,t){1&n&&s.YNc(0,Mq,1,5,"ng-template",41),2&n&&s.Q6J("ngForOf",t.$implicit)}function Nq(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyFilterMessageLabel," ")}}function Pq(n,t){1&n&&s.GkF(0,null,45)}function kq(n,t){if(1&n&&(s.TgZ(0,"li",44),s.YNc(1,Nq,2,1,"ng-container",28),s.YNc(2,Pq,2,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,Yb,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Rq(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(4);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function Fq(n,t){1&n&&s.GkF(0,null,46)}function Lq(n,t){if(1&n&&(s.TgZ(0,"li",44),s.YNc(1,Rq,2,1,"ng-container",28),s.YNc(2,Fq,2,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw().options,i=s.oxw(2);s.Q6J("ngStyle",s.VKq(4,Yb,e.itemSize+"px")),s.xp6(1),s.Q6J("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),s.xp6(1),s.Q6J("ngTemplateOutlet",i.emptyTemplate)}}function Vq(n,t){if(1&n&&(s.TgZ(0,"ul",37,38),s.YNc(2,Sq,2,1,"ng-container",15),s.YNc(3,Aq,2,5,"ng-container",15),s.YNc(4,Oq,1,1,"ng-template",null,39,s.W1O),s.YNc(6,kq,3,6,"li",40),s.YNc(7,Lq,3,6,"li",40),s.qZA()),2&n){const e=t.options,i=s.oxw(2);s.Akn(e.contentStyle),s.Q6J("ngClass",e.contentStyleClass),s.uIk("id",i.listId),s.xp6(2),s.Q6J("ngIf",i.group),s.xp6(1),s.Q6J("ngIf",!i.group),s.xp6(3),s.Q6J("ngIf",i.filterValue&&i.isEmpty()),s.xp6(1),s.Q6J("ngIf",!i.filterValue&&i.isEmpty())}}function Bq(n,t){1&n&&s.GkF(0)}function Uq(n,t){if(1&n&&(s.TgZ(0,"div",21),s.YNc(1,cq,1,0,"ng-container",22),s.YNc(2,pq,4,2,"div",23),s.TgZ(3,"div",24),s.YNc(4,vq,4,10,"p-scroller",25),s.YNc(5,Iq,2,6,"ng-container",15),s.YNc(6,Vq,8,8,"ng-template",null,26,s.W1O),s.qZA(),s.YNc(8,Bq,1,0,"ng-container",22),s.qZA()),2&n){const e=s.oxw();s.Tol(e.panelStyleClass),s.Q6J("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),s.xp6(1),s.Q6J("ngTemplateOutlet",e.headerTemplate),s.xp6(1),s.Q6J("ngIf",e.filter),s.xp6(1),s.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),s.xp6(1),s.Q6J("ngIf",e.virtualScroll),s.xp6(1),s.Q6J("ngIf",!e.virtualScroll),s.xp6(3),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const Hq=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},Gq={provide:fs,useExisting:(0,s.Gpc)(()=>TM),multi:!0};let $q=(()=>{class n{constructor(){this.onClick=new s.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(s.TgZ(0,"li",0),s.NdJ("click",function(o){return i.onOptionClick(o)}),s.YNc(1,z4,2,1,"span",1),s.YNc(2,W4,1,0,"ng-container",2),s.qZA()),2&e&&(s.Q6J("ngStyle",s.VKq(8,Yb,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",s.WLB(10,q4,i.selected,i.disabled)),s.uIk("aria-label",i.label)("aria-selected",i.selected),s.xp6(1),s.Q6J("ngIf",!i.template),s.xp6(1),s.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",s.VKq(13,CM,i.option)))},dependencies:[Tt,tn,ni,Cn,W_],encapsulation:2}),n})(),TM=(()=>{class n{constructor(e,i,r,o,u,h){this.el=e,this.renderer=i,this.cd=r,this.zone=o,this.filterService=u,this.config=h,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.lazy=!1,this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.overlayDirection="end",this.onChange=new s.vpe,this.onFilter=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onClick=new s.vpe,this.onShow=new s.vpe,this.onHide=new s.vpe,this.onClear=new s.vpe,this.onLazyLoad=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.id=wA()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list",this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.selectedOption=this.findOption(this.value,this.optionsToDisplay),!this.selectedOption&&Pn.isNotEmpty(this.value)&&!this.editable&&(this.value=null,this.onModelChange(this.value)),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return"number"==typeof this.selectedOption&&(this.selectedOption=this.selectedOption.toString()),this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(IA.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(IA.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.value?!!this.value:this.value||null!=this.value||null!=this.value}get isVisibleClearIcon(){return null!=this.value&&""!==this.value&&this.showClear&&!this.disabled}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?Pn.resolveFieldData(e,this.optionLabel):e&&void 0!==e.label?e.label:e}getOptionValue(e){return this.optionValue?Pn.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}isOptionDisabled(e){return this.optionDisabled?Pn.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?Pn.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Pn.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus({preventScroll:!0})),setTimeout(()=>{this.hide()},1)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=Ye.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,"li.p-highlight");e&&Ye.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus({preventScroll:!0}),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}isInputClick(e){return Ye.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){if("visible"===e.toState){if(this.itemsWrapper=Ye.findSingle(this.overlayViewChild.overlayViewChild.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller.setContentEl(this.itemsViewChild.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const i=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;-1!==i&&this.scroller.scrollToIndex(i)}else{let i=Ye.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}"void"===e.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}if(!i)for(let r=0;r<e;r++){let o=this.optionsToDisplay[r];if(!this.isOptionDisabled(o)){i=o;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex+1;o<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findNextEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let o=r.itemIndex-1;if(o>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[o]),this.selectedOptionUpdated=!0;else if(o<0){let u=this.optionsToDisplay[r.groupIndex-1];u&&(this.selectItem(e,this.getOptionGroupChildren(u)[this.getOptionGroupChildren(u).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,o=this.findPrevEnabledOption(r);o&&(this.selectItem(e,o),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&17!==e.which&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let o=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(o)}else{let o=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++o)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let o=this.optionsToDisplay[r];if(this.getOptionLabel(o).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(o))return o}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let o=e.groupIndex===r?e.itemIndex+1:0;o<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}for(let r=0;r<=e.groupIndex;r++)for(let o=0;o<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);o++){let u=this.getOptionGroupChildren(this.optionsToDisplay[r])[o];if(this.getOptionLabel(u).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(u))return u}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let o=0;o<i.length;o++)if(null==e&&null==this.getOptionValue(i[o])||Pn.equals(e,this.getOptionValue(i[o]),this.dataKey)){r=o;break}return r}findOptionGroupIndex(e,i){let r,o;if(i)for(let u=0;u<i.length&&(r=u,o=this.findOptionIndex(e,this.getOptionGroupChildren(i[u])),-1===o);u++);return-1!==o?{groupIndex:r,itemIndex:o}:-1}findOption(e,i,r){if(this.group&&!r){let o;if(i&&i.length)for(let u of i)if(o=this.findOption(e,this.getOptionGroupChildren(u),!0),o)break;return o}{let o=this.findOptionIndex(e,i);return-1!=o?i[o]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.virtualScroll&&this.scroller.scrollToIndex(0),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&i.push({...r,[this.optionGroupChildren]:o})}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Ye.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Ye.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(Ik),s.Y36(z_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Tl,4),2&e){let o;s.iGM(o=s.CRH())&&(i.templates=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Z4,5),s.Gf(Y4,5),s.Gf(K4,5),s.Gf(J4,5),s.Gf(Q4,5),s.Gf(X4,5),s.Gf(eq,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.containerViewChild=r.first),s.iGM(r=s.CRH())&&(i.filterViewChild=r.first),s.iGM(r=s.CRH())&&(i.accessibleViewChild=r.first),s.iGM(r=s.CRH())&&(i.editableInputViewChild=r.first),s.iGM(r=s.CRH())&&(i.itemsViewChild=r.first),s.iGM(r=s.CRH())&&(i.scroller=r.first),s.iGM(r=s.CRH())&&(i.overlayViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",overlayDirection:"overlayDirection",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[s._Bn([Gq])],decls:14,vars:32,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","pAutoFocus","","role","combobox",3,"disabled","autofocus","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],[1,"p-dropdown-header",3,"click"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["itemslist",""],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","onClick"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("click",function(o){return i.onMouseclick(o)}),s.TgZ(2,"div",2)(3,"input",3,4),s.NdJ("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)})("keydown",function(o){return i.onKeydown(o,!0)}),s.qZA()(),s.YNc(5,rq,3,13,"span",5),s.YNc(6,oq,2,4,"span",6),s.YNc(7,aq,2,4,"input",7),s.YNc(8,lq,1,0,"i",8),s.TgZ(9,"div",9),s._UZ(10,"span",10),s.qZA(),s.TgZ(11,"p-overlay",11,12),s.NdJ("visibleChange",function(o){return i.overlayVisible=o})("onAnimationStart",function(o){return i.onOverlayAnimationStart(o)})("onHide",function(){return i.hide()}),s.YNc(13,Uq,9,11,"ng-template",13),s.qZA()()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.l5B(27,Hq,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),s.xp6(3),s.Q6J("disabled",i.disabled)("autofocus",i.autofocus),s.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("aria-activedescendant",i.overlayVisible?i.labelId:null),s.xp6(2),s.Q6J("ngIf",!i.editable&&null!=i.label),s.xp6(1),s.Q6J("ngIf",!i.editable&&null==i.label),s.xp6(1),s.Q6J("ngIf",i.editable),s.xp6(1),s.Q6J("ngIf",i.isVisibleClearIcon),s.xp6(1),s.uIk("aria-expanded",i.overlayVisible),s.xp6(1),s.Q6J("ngClass",i.dropdownIcon),s.xp6(1),s.Q6J("visible",i.overlayVisible)("options",i.overlayOptions)("target","@parent")("appendTo",i.appendTo)("autoZIndex",i.autoZIndex)("baseZIndex",i.baseZIndex)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions))},dependencies:[Tt,fn,tn,ni,Cn,rL,Tl,j4,$4,e4,$q],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,changeDetection:0}),n})(),DM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,sL,Js,lL,q_,aL,t4,sL,Js,aL]}),n})(),jq=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(K_,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i.onInput(o)}),2&e&&s.ekj("p-filled",i.filled)}}),n})(),zq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();const Wq=["input"];function qq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"i",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.clear())}),s.qZA()}}const hL=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},pL=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Zq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"span",7)(1,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonKeyUp())}),s.qZA(),s.TgZ(2,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonKeyUp())}),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(1),s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(10,hL))("icon",e.incrementButtonIcon)("disabled",e.disabled),s.xp6(1),s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(11,pL))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function Yq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onUpButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onUpButtonKeyUp())}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.incrementButtonClass),s.Q6J("ngClass",s.DdM(5,hL))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function Kq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",8),s.NdJ("mousedown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonMouseDown(r))})("mouseup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseUp())})("mouseleave",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonMouseLeave())})("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.onDownButtonKeyDown(r))})("keyup",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onDownButtonKeyUp())}),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.decrementButtonClass),s.Q6J("ngClass",s.DdM(5,pL))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const Jq=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},Qq={provide:fs,useExisting:(0,s.Gpc)(()=>fL),multi:!0};let fL=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new s.vpe,this.onFocus=new s.vpe,this.onBlur=new s.vpe,this.onKeyDown=new s.vpe,this.onClear=new s.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,o)=>[r,o]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,{...this.getOptions(),useGrouping:!1});return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let o=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},o),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.parseValue(this.input.nativeElement.value)||0,u=this.validateValue(o+r);this.maxlength&&this.maxlength<this.formatValue(u).length||(this.updateInput(u,null,"spin",null),this.updateModel(e,u),this.handleOnInput(e,o,u))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,o=e.target.value,u=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(o.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(o.charAt(i))||e.preventDefault();break;case 13:u=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(u),this.input.nativeElement.setAttribute("aria-valuenow",u),this.updateModel(e,u);break;case 8:if(e.preventDefault(),i===r){const h=o.charAt(i-1),{decimalCharIndex:g,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const w=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,u=o.slice(0,i-2)+o.slice(i-1);else if(this._decimal.test(h))this._decimal.lastIndex=0,w?this.input.nativeElement.setSelectionRange(i-1,i-1):u=o.slice(0,i-1)+o.slice(i);else if(g>0&&i>g){const S=this.isDecimalMode()&&(this.minFractionDigits||0)<w?"":"0";u=o.slice(0,i-1)+S+o.slice(i)}else 1===y?(u=o.slice(0,i-1)+"0"+o.slice(i),u=this.parseValue(u)>0?u:""):u=o.slice(0,i-1)+o.slice(i)}this.updateValue(e,u,null,"delete-single")}else u=this.deleteRange(o,i,r),this.updateValue(e,u,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const h=o.charAt(i),{decimalCharIndex:g,decimalCharIndexWithoutPrefix:y}=this.getDecimalCharIndexes(o);if(this.isNumeralChar(h)){const w=this.getDecimalLength(o);if(this._group.test(h))this._group.lastIndex=0,u=o.slice(0,i)+o.slice(i+2);else if(this._decimal.test(h))this._decimal.lastIndex=0,w?this.input.nativeElement.setSelectionRange(i+1,i+1):u=o.slice(0,i)+o.slice(i+1);else if(g>0&&i>g){const S=this.isDecimalMode()&&(this.minFractionDigits||0)<w?"":"0";u=o.slice(0,i)+S+o.slice(i+1)}else 1===y?(u=o.slice(0,i)+"0"+o.slice(i+1),u=this.parseValue(u)>0?u:""):u=o.slice(0,i)+o.slice(i+1)}this.updateValue(e,u,null,"delete-back-single")}else u=this.deleteRange(o,i,r),this.updateValue(e,u,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let i=e.which||e.keyCode,r=String.fromCharCode(i);const o=this.isDecimalSign(r),u=this.isMinusSign(r);13!=i&&e.preventDefault(),(48<=i&&i<=57||u||o)&&this.insert(e,r,{isDecimalSign:o,isMinusSign:u})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const o=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:o}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const o=e.search(this._suffix);this._suffix.lastIndex=0;const u=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:o,currencyCharIndex:u}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const o=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==o)return;let u=this.input.nativeElement.selectionStart,h=this.input.nativeElement.selectionEnd,g=this.input.nativeElement.value.trim();const{decimalCharIndex:y,minusCharIndex:w,suffixCharIndex:S,currencyCharIndex:M}=this.getCharIndexes(g);let R;if(r.isMinusSign)0===u&&(R=g,(-1===w||0!==h)&&(R=this.insertText(g,i,0,h)),this.updateValue(e,R,i,"insert"));else if(r.isDecimalSign)y>0&&u===y?this.updateValue(e,g,i,"insert"):(y>u&&y<h||-1===y&&this.maxFractionDigits)&&(R=this.insertText(g,i,u,h),this.updateValue(e,R,i,"insert"));else{const U=this.numberFormat.resolvedOptions().maximumFractionDigits,K=u!==h?"range-insert":"insert";if(y>0&&u>y){if(u+i.length-(y+1)<=U){const te=M>=u?M-1:S>=u?S:g.length;R=g.slice(0,u)+i+g.slice(u+i.length,te)+g.slice(te),this.updateValue(e,R,i,K)}}else R=this.insertText(g,i,u,h),this.updateValue(e,R,i,K)}}insertText(e,i,r,o){if(2===("."===i?i:i.split(".")).length){const h=e.slice(r,o).search(this._decimal);return this._decimal.lastIndex=0,h>0?e.slice(0,r)+this.formatValue(i)+e.slice(o):e||this.formatValue(i)}return o-r===e.length?this.formatValue(i):0===r?i+e.slice(o):o===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(o)}deleteRange(e,i,r){let o;return o=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),o}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,o=null,u=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=u;let h=i.charAt(e);if(this.isNumeralChar(h))return e+u;let g=e-1;for(;g>=0;){if(h=i.charAt(g),this.isNumeralChar(h)){o=g+u;break}g--}if(null!==o)this.input.nativeElement.setSelectionRange(o+1,o+1);else{for(g=e;g<r;){if(h=i.charAt(g),this.isNumeralChar(h)){o=g+u;break}g++}null!==o&&this.input.nativeElement.setSelectionRange(o,o)}return o||0}onInputClick(){!this.readonly&&this.input.nativeElement.value!==Ye.getSelection()&&this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,o){let u=this.input.nativeElement.value,h=null;null!=i&&(h=this.parseValue(i),h=h||this.allowEmpty?h:0,this.updateInput(h,r,o,i),this.handleOnInput(e,u,h))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r,formattedValue:i})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,o){i=i||"";let u=this.input.nativeElement.value,h=this.formatValue(e),g=u.length;if(h!==o&&(h=this.concatValues(h,o)),0===g){this.input.nativeElement.value=h,this.input.nativeElement.setSelectionRange(0,0);const w=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(w,w)}else{let y=this.input.nativeElement.selectionStart,w=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<h.length)return;this.input.nativeElement.value=h;let S=h.length;if("range-insert"===r){const M=this.parseValue((u||"").slice(0,y)),U=(null!==M?M.toString():"").split("").join(`(${this.groupChar})?`),K=new RegExp(U,"g");K.test(h);const te=i.split("").join(`(${this.groupChar})?`),_e=new RegExp(te,"g");_e.test(h.slice(K.lastIndex)),w=K.lastIndex+_e.lastIndex,this.input.nativeElement.setSelectionRange(w,w)}else if(S===g)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(w+1,w+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(w-1,w-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(w,w);else if("delete-back-single"===r){let M=u.charAt(w-1),R=u.charAt(w),U=g-S,K=this._group.test(R);K&&1===U?w+=1:!K&&this.isNumeralChar(M)&&(w+=-1*U+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(w,w)}else if("-"===u&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const R=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(R,R)}else w+=S-g,this.input.nativeElement.setSelectionRange(w,w)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?e.replace(this.suffixChar,"").split(this._decimal)[0]+i.replace(this.suffixChar,"").slice(r)+this.suffixChar:-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&s.Gf(Wq,5),2&e){let r;s.iGM(r=s.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&s.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[s._Bn([Qq]),s.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","tabindex","-1",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0)(1,"input",1,2),s.NdJ("input",function(o){return i.onUserInput(o)})("keydown",function(o){return i.onInputKeyDown(o)})("keypress",function(o){return i.onInputKeyPress(o)})("paste",function(o){return i.onPaste(o)})("click",function(){return i.onInputClick()})("focus",function(o){return i.onInputFocus(o)})("blur",function(o){return i.onInputBlur(o)}),s.qZA(),s.YNc(3,qq,1,0,"i",3),s.YNc(4,Zq,3,12,"span",4),s.YNc(5,Yq,1,6,"button",5),s.YNc(6,Kq,1,6,"button",5),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.kEZ(28,Jq,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),s.xp6(1),s.Tol(i.inputStyleClass),s.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),s.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),s.xp6(2),s.Q6J("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),s.xp6(1),s.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},dependencies:[Tt,tn,Cn,jq,CA],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,zq,Sk]}),n})();function Xq(n,t){1&n&&s.GkF(0)}const SM=function(n){return{$implicit:n}};function eZ(n,t){if(1&n&&(s.TgZ(0,"div",15),s.YNc(1,Xq,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",s.VKq(2,SM,e.paginatorState))}}function tZ(n,t){if(1&n&&(s.TgZ(0,"span",17),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Oqu(e.currentPageReport)}}const hC=function(n){return{"p-disabled":n}};function nZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",18),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePageToFirst(r))}),s._UZ(1,"span",19),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(2,hC,e.isFirstPage()||e.empty()))}}const iZ=function(n){return{"p-highlight":n}};function rZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",22),s.NdJ("click",function(r){const u=s.CHM(e).$implicit,h=s.oxw(3);return s.KtG(h.onPageLinkClick(r,u-1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw(3);s.Q6J("ngClass",s.VKq(2,iZ,e-1==i.getPage())),s.xp6(1),s.hij(" ",e," ")}}function sZ(n,t){if(1&n&&(s.TgZ(0,"span",20),s.YNc(1,rZ,2,4,"button",21),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",e.pageLinks)}}function oZ(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw(3);s.Oqu(e.currentPageReport)}}function aZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",23),s.NdJ("onChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onPageDropdownChange(r))}),s.YNc(1,oZ,1,1,"ng-template",24),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function lZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",25),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePageToLast(r))}),s._UZ(1,"span",26),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(2,hC,e.isLastPage()||e.empty()))}}function cZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-inputNumber",27),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.changePage(r-1))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function uZ(n,t){1&n&&s.GkF(0)}function dZ(n,t){if(1&n&&s.YNc(0,uZ,1,0,"ng-container",16),2&n){const e=t.$implicit,i=s.oxw(4);s.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",s.VKq(2,SM,e))}}function hZ(n,t){1&n&&(s.ynx(0),s.YNc(1,dZ,1,4,"ng-template",30),s.BQk())}function pZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-dropdown",28),s.NdJ("ngModelChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.rows=r)})("onChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onRppChange(r))}),s.YNc(1,hZ,2,0,"ng-container",29),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),s.xp6(1),s.Q6J("ngIf",e.dropdownItemTemplate)}}function fZ(n,t){1&n&&s.GkF(0)}function gZ(n,t){if(1&n&&(s.TgZ(0,"div",31),s.YNc(1,fZ,1,0,"ng-container",16),s.qZA()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",s.VKq(2,SM,e.paginatorState))}}function mZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",1),s.YNc(1,eZ,2,4,"div",2),s.YNc(2,tZ,2,1,"span",3),s.YNc(3,nZ,2,4,"button",4),s.TgZ(4,"button",5),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.changePageToPrev(r))}),s._UZ(5,"span",6),s.qZA(),s.YNc(6,sZ,2,1,"span",7),s.YNc(7,aZ,2,5,"p-dropdown",8),s.TgZ(8,"button",9),s.NdJ("click",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.changePageToNext(r))}),s._UZ(9,"span",10),s.qZA(),s.YNc(10,lZ,2,4,"button",11),s.YNc(11,cZ,1,2,"p-inputNumber",12),s.YNc(12,pZ,2,6,"p-dropdown",13),s.YNc(13,gZ,2,4,"div",14),s.qZA()}if(2&n){const e=s.oxw();s.Tol(e.styleClass),s.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),s.xp6(1),s.Q6J("ngIf",e.templateLeft),s.xp6(1),s.Q6J("ngIf",e.showCurrentPageReport),s.xp6(1),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",s.VKq(17,hC,e.isFirstPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showPageLinks),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageDropdown),s.xp6(1),s.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",s.VKq(19,hC,e.isLastPage()||e.empty())),s.xp6(2),s.Q6J("ngIf",e.showFirstLastIcon),s.xp6(1),s.Q6J("ngIf",e.showJumpToPageInput),s.xp6(1),s.Q6J("ngIf",e.rowsPerPageOptions),s.xp6(1),s.Q6J("ngIf",e.templateRight)}}let _Z=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new s.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),o=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(o-r+1))),[r,o]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let o=e[0];o<=r;o++)this.pageLinks.push(o+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let o=0;o<this.getPageCount();o++)this.pageItems.push({label:String(o+1),value:o})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[s.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&s.YNc(0,mZ,14,21,"div",0),2&e&&s.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},dependencies:[Tt,fn,tn,ni,Cn,TM,Tl,fL,HE,K_,W_],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),yZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,DM,gL,JA,Js,q_,DM,gL,JA,Js]}),n})();function vZ(n,t){if(1&n&&(s.TgZ(0,"div",10)(1,"div",11),s._UZ(2,"i"),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Tol("p-dataview-loading-icon pi-spin "+e.loadingIcon)}}function bZ(n,t){1&n&&s.GkF(0)}function wZ(n,t){if(1&n&&(s.TgZ(0,"div",12),s.Hsn(1),s.YNc(2,bZ,1,0,"ng-container",13),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.headerTemplate)}}function IZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",14),s.NdJ("onPageChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.paginate(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function EZ(n,t){1&n&&s.GkF(0)}const CZ=function(n,t){return{$implicit:n,rowIndex:t}};function TZ(n,t){if(1&n&&s.YNc(0,EZ,1,0,"ng-container",15),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",s.WLB(2,CZ,e,i))}}function DZ(n,t){if(1&n&&(s.ynx(0),s._uU(1),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.emptyMessageLabel," ")}}function SZ(n,t){1&n&&s.GkF(0,null,19)}function xZ(n,t){if(1&n&&(s.TgZ(0,"div",16)(1,"div",17),s.YNc(2,DZ,2,1,"ng-container",18),s.YNc(3,SZ,2,0,"ng-container",13),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",!e.emptyMessageTemplate)("ngIfElse",e.emptyFilter),s.xp6(1),s.Q6J("ngTemplateOutlet",e.emptyMessageTemplate)}}function AZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"p-paginator",20),s.NdJ("onPageChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.paginate(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function MZ(n,t){1&n&&s.GkF(0)}function OZ(n,t){if(1&n&&(s.TgZ(0,"div",21),s.Hsn(1,1),s.YNc(2,MZ,1,0,"ng-container",13),s.qZA()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngTemplateOutlet",e.footerTemplate)}}const NZ=[[["p-header"]],[["p-footer"]]],PZ=function(n,t){return{"p-dataview p-component":!0,"p-dataview-list":n,"p-dataview-grid":t}},kZ=["p-header","p-footer"];let RZ=(()=>{class n{constructor(e,i,r,o){this.el=e,this.cd=i,this.filterService=r,this.config=o,this.pageLinks=5,this.paginatorPosition="bottom",this.alwaysShowPaginator=!0,this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.emptyMessage="",this.onLazyLoad=new s.vpe,this.gridStyleClass="",this.trackBy=(u,h)=>h,this.loadingIcon="pi pi-spinner",this.first=0,this.onPage=new s.vpe,this.onSort=new s.vpe,this.onChangeLayout=new s.vpe,this._layout="list"}get layout(){return this._layout}set layout(e){this._layout=e,this.initialized&&this.changeLayout(e)}ngOnInit(){this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.initialized=!0}ngOnChanges(e){e.value&&(this._value=e.value.currentValue,this.updateTotalRecords(),!this.lazy&&this.hasFilter()&&this.filter(this.filterValue)),(e.sortField||e.sortOrder)&&(!this.lazy||this.initialized)&&this.sort()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"listItem":this.listItemTemplate=e.template;break;case"gridItem":this.gridItemTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"empty":this.emptyMessageTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}}),this.updateItemTemplate()}updateItemTemplate(){switch(this.layout){case"list":this.itemTemplate=this.listItemTemplate;break;case"grid":this.itemTemplate=this.gridItemTemplate}}changeLayout(e){this._layout=e,this.onChangeLayout.emit({layout:this.layout}),this.updateItemTemplate(),this.cd.markForCheck()}updateTotalRecords(){this.totalRecords=this.lazy?this.totalRecords:this._value?this._value.length:0}paginate(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows})}sort(){this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.value.sort((e,i)=>{let r=Pn.resolveFieldData(e,this.sortField),o=Pn.resolveFieldData(i,this.sortField),u=null;return u=null==r&&null!=o?-1:null!=r&&null==o?1:null==r&&null==o?0:"string"==typeof r&&"string"==typeof o?r.localeCompare(o):r<o?-1:r>o?1:0,this.sortOrder*u}),this.hasFilter()&&this.filter(this.filterValue)),this.onSort.emit({sortField:this.sortField,sortOrder:this.sortOrder})}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder}}getBlockableElement(){return this.el.nativeElement.children[0]}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(IA.EMPTY_MESSAGE)}filter(e,i="contains"){if(this.filterValue=e,this.value&&this.value.length){let r=this.filterBy.split(",");this.filteredValue=this.filterService.filter(this.value,r,e,i,this.filterLocale),this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.first=0,this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0),this.cd.markForCheck()}}hasFilter(){return this.filterValue&&this.filterValue.trim().length>0}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ik),s.Y36(z_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-dataView"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Ek,5),s.Suo(r,Ck,5),s.Suo(r,Tl,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.header=o.first),s.iGM(o=s.CRH())&&(i.footer=o.first),s.iGM(o=s.CRH())&&(i.templates=o)}},hostAttrs:[1,"p-element"],inputs:{paginator:"paginator",rows:"rows",totalRecords:"totalRecords",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",paginatorPosition:"paginatorPosition",alwaysShowPaginator:"alwaysShowPaginator",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",lazy:"lazy",emptyMessage:"emptyMessage",style:"style",styleClass:"styleClass",gridStyleClass:"gridStyleClass",trackBy:"trackBy",filterBy:"filterBy",filterLocale:"filterLocale",loading:"loading",loadingIcon:"loadingIcon",first:"first",sortField:"sortField",sortOrder:"sortOrder",value:"value",layout:"layout"},outputs:{onLazyLoad:"onLazyLoad",onPage:"onPage",onSort:"onSort",onChangeLayout:"onChangeLayout"},features:[s.TTD],ngContentSelectors:kZ,decls:11,vars:20,consts:[[3,"ngClass","ngStyle"],["class","p-dataview-loading",4,"ngIf"],["class","p-dataview-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],[1,"p-dataview-content"],[1,"p-grid","p-nogutter","grid","grid-nogutter",3,"ngClass"],["ngFor","",3,"ngForOf","ngForTrackBy"],["class","p-col col",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-dataview-footer",4,"ngIf"],[1,"p-dataview-loading"],[1,"p-dataview-loading-overlay","p-component-overlay"],[1,"p-dataview-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-col","col"],[1,"p-dataview-emptymessage"],[4,"ngIf","ngIfElse"],["emptyFilter",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","dropdownAppendTo","dropdownScrollHeight","templateLeft","templateRight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-dataview-footer"]],template:function(e,i){1&e&&(s.F$t(NZ),s.TgZ(0,"div",0),s.YNc(1,vZ,3,2,"div",1),s.YNc(2,wZ,3,1,"div",2),s.YNc(3,IZ,1,16,"p-paginator",3),s.TgZ(4,"div",4)(5,"div",5),s.YNc(6,TZ,1,5,"ng-template",6),s.ALo(7,"slice"),s.YNc(8,xZ,4,3,"div",7),s.qZA()(),s.YNc(9,AZ,1,16,"p-paginator",8),s.YNc(10,OZ,3,1,"div",9),s.qZA()),2&e&&(s.Tol(i.styleClass),s.Q6J("ngClass",s.WLB(17,PZ,"list"===i.layout,"grid"===i.layout))("ngStyle",i.style),s.xp6(1),s.Q6J("ngIf",i.loading),s.xp6(1),s.Q6J("ngIf",i.header||i.headerTemplate),s.xp6(1),s.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(2),s.Q6J("ngClass",i.gridStyleClass),s.xp6(1),s.Q6J("ngForOf",i.paginator?s.Dn7(7,13,i.filteredValue||i.value,i.lazy?0:i.first,(i.lazy?0:i.first)+i.rows):i.filteredValue||i.value)("ngForTrackBy",i.trackBy),s.xp6(2),s.Q6J("ngIf",i.isEmpty()&&!i.loading),s.xp6(1),s.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),s.xp6(1),s.Q6J("ngIf",i.footer||i.footerTemplate))},dependencies:[Tt,fn,tn,ni,Cn,_Z,Rs],styles:[".p-dataview{position:relative}.p-dataview .p-dataview-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}\n"],encapsulation:2,changeDetection:0}),n})(),FZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Js,yZ,Js]}),n})();function LZ(n,t){if(1&n&&s._UZ(0,"img",10),2&n){const e=s.oxw();s.s9C("src",e.photoURL,s.LSH)}}function VZ(n,t){if(1&n&&(s.TgZ(0,"div",11),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.notPhotoURL)}}function BZ(n,t){1&n&&(s.TgZ(0,"p"),s._uU(1,"Aucuns films n'a \xe9t\xe9 ajout\xe9 en favoris pour l'instant"),s.qZA())}function UZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",18)(1,"span",19)(2,"input",20),s.NdJ("input",function(r){s.CHM(e),s.oxw();const o=s.MAs(2);return s.KtG(o.filter(r.target.value))}),s.qZA()(),s.TgZ(3,"p-dropdown",21),s.NdJ("onChange",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.onSortChange(r))}),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(3),s.Q6J("options",e.sortOptions)}}function HZ(n,t){if(1&n&&(s.TgZ(0,"div",22)(1,"div",23),s._UZ(2,"img",24),s.TgZ(3,"div",25)(4,"div",26),s._uU(5),s.qZA(),s.TgZ(6,"div",27),s._uU(7),s.qZA(),s._UZ(8,"i",28),s.TgZ(9,"span",29),s._uU(10),s.qZA()(),s.TgZ(11,"div",30)(12,"span",31),s._uU(13),s.qZA(),s.TgZ(14,"span"),s._uU(15),s.qZA()()()()),2&n){const e=t.$implicit;s.xp6(2),s.Q6J("src","https://primefaces.org/cdn/primeng/images/demo/product/"+e.image,s.LSH)("alt",e.name),s.xp6(3),s.Oqu(e.original_title),s.xp6(2),s.Oqu(e.description),s.xp6(3),s.Oqu(e.category),s.xp6(3),s.hij("$",e.price,""),s.xp6(1),s.Tol("product-badge status-"+e.inventoryStatus.toLowerCase()),s.xp6(1),s.Oqu(e.inventoryStatus)}}function GZ(n,t){if(1&n&&(s.TgZ(0,"p",44),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.hij("",e.name," ")}}function $Z(n,t){if(1&n&&(s.TgZ(0,"p",44),s._uU(1),s.qZA()),2&n){const e=s.oxw().$implicit;s.xp6(1),s.hij("",e.name,", ")}}function jZ(n,t){if(1&n&&(s.TgZ(0,"div",42),s.YNc(1,GZ,2,1,"p",43),s.YNc(2,$Z,2,1,"p",43),s.qZA()),2&n){const e=t.last;s.xp6(1),s.Q6J("ngIf",e),s.xp6(1),s.Q6J("ngIf",!e)}}const zZ=function(n){return{color:n}};function WZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",32)(1,"div",33),s._UZ(2,"div",34),s.TgZ(3,"div",35),s._UZ(4,"img",36),s.TgZ(5,"div"),s._uU(6),s.qZA(),s.TgZ(7,"div",26),s._uU(8),s.qZA(),s.YNc(9,jZ,3,2,"div",37),s.TgZ(10,"p"),s._UZ(11,"img",38),s._uU(12),s.qZA()(),s.TgZ(13,"div",39)(14,"p",40),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.filmWatched(o))}),s._uU(15),s.qZA(),s.TgZ(16,"button",41),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2);return s.KtG(u.deleteFavoriteMovie(o))}),s.qZA()()()()}if(2&n){const e=t.$implicit;s.xp6(4),s.MGl("src","https://image.tmdb.org/t/p/original",e.poster_path,"",s.LSH),s.Q6J("alt",e.name),s.xp6(2),s.Oqu(e.average_note),s.xp6(2),s.Oqu(e.original_title),s.xp6(1),s.Q6J("ngForOf",e.genre),s.xp6(3),s.hij(" ",e.vote_average,"/10"),s.xp6(2),s.Q6J("ngStyle",s.VKq(8,zZ,e.watched?"#2196f3":"white")),s.xp6(1),s.Oqu(e.watched?"Film vu":"Film non vu")}}function qZ(n,t){if(1&n&&(s.TgZ(0,"div",12)(1,"p-dataView",13,14),s.YNc(3,UZ,4,1,"ng-template",15),s.YNc(4,HZ,16,9,"ng-template",16),s.YNc(5,WZ,17,10,"ng-template",17),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("value",e.favoriteMovies)("paginator",!0)("sortField",e.sortField)("sortOrder",e.sortOrder)("rows",6)}}const ZZ=[{path:"",component:QW},{path:"home",redirectTo:"home",pathMatch:"full"},{path:"movies",component:g1},{path:"movie/:id",component:qW},{path:"login",component:YW},{path:"register",component:KW},{path:"account",component:(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.db=r,this.favoriteMovies=[],this.isWatched=!1,this.filmWatchedStatus="Film non vu",this.sortOptions=[]}ngOnInit(){this.authService.readUser().subscribe(e=>{e&&(this.displayName=e.displayName,this.email=e.email,this.photoURL=e.photoURL,this.notPhotoURL=e.email?.slice(0,1).toUpperCase(),this.creationTime=XW(e.metadata.creationTime).format("YYYY-MM-D HH:mm:ss"),this.showFavoriteMovies()),this.sortOptions=[{label:"Film vu",value:"watched"},{label:"Film non vu",value:"!watched"}]})}showFavoriteMovies(){this.db.getAllFavoriteMovies().subscribe(e=>{this.getFavoriteMovies=e,this.favoriteMovies=this.getFavoriteMovies.map(i=>i)})}deleteFavoriteMovie(e){this.db.deleteFavoriteMovieByID(e)}filmWatched(e){e.watched=!e.watched,this.db.updateWatchedFilm(e)}onSortChange(e){let i=e.value;0===i.indexOf("!")?(this.sortOrder=1,this.sortField=i.substring(1,i.length)):this.sortOrder=-1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ab),s.Y36(zr),s.Y36(vk))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-account"]],decls:27,vars:8,consts:[[1,"container","mt-6"],[1,"account"],[1,"account--informations"],[1,"account--informations-avatar"],[3,"ngIf"],[1,"account--informations-details"],[1,"account--informations-statistiques"],[1,"account--informations-favmovies"],[4,"ngIf"],["class","card",4,"ngIf"],["alt","profile",3,"src"],[1,"avatar"],[1,"card"],["filterBy","original_title","layout","grid",3,"value","paginator","sortField","sortOrder","rows"],["dv",""],["pTemplate","header"],["pTemplate","listItem"],["pTemplate","gridItem"],[1,"flex","flex-column","md:flex-row","md:justify-content-between"],[1,"p-input-icon-left","mb-2","md:mb-0"],["type","search","pInputText","","placeholder","Rechercher par titre de film",3,"input"],["placeholder","Trier","styleClass","mb-2 md:mb-0",3,"options","onChange"],[1,"col-5"],[1,"product-list-item"],[3,"src","alt"],[1,"product-list-detail"],[1,"product-name"],[1,"product-description"],[1,"pi","pi-tag","product-category-icon"],[1,"product-category"],[1,"product-list-action"],[1,"product-price"],[1,"col-12","md:col-3"],[1,"product-grid-item","card",2,"background","transparent","border-style","solid","border-width","1px","border-color","#272935",";\n                            border-radius","0.3rem"],[1,"product-grid-item-top"],[1,"product-grid-item-content"],["width","190","height","220",2,"border-radius","25px",3,"src","alt"],["style","display: inline;font-size: 2px;font-style: italic;",4,"ngFor","ngForOf"],["src","../../assets/starIcon.png","width","18","height","18","alt",""],[1,"product-grid-item-bottom"],[1,"p-button-sm",2,"cursor","pointer",3,"ngStyle","click"],["pButton","","type","button","icon","pi pi-trash",1,"p-button-sm","p-button-rounded",3,"click"],[2,"display","inline","font-size","2px","font-style","italic"],["style","display: inline;",4,"ngIf"],[2,"display","inline"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"h2"),s._uU(2,"Mon compte"),s.qZA(),s.TgZ(3,"div",1)(4,"div",2)(5,"div",3),s.YNc(6,LZ,1,1,"ng-template",4),s.YNc(7,VZ,2,1,"ng-template",4),s.qZA(),s.TgZ(8,"div",5)(9,"p"),s._uU(10),s.qZA(),s.TgZ(11,"p"),s._uU(12),s.qZA(),s.TgZ(13,"p"),s._uU(14),s.qZA()()(),s.TgZ(15,"h3"),s._uU(16,"Votre compte en quelques chiffres"),s.qZA(),s.TgZ(17,"div",6)(18,"p"),s._uU(19,"Nombre de films comment\xe9s : "),s.qZA(),s.TgZ(20,"p"),s._uU(21),s.qZA()(),s.TgZ(22,"div",7)(23,"h3"),s._uU(24,"Vos films favoris"),s.qZA(),s.YNc(25,BZ,2,0,"p",8),s.YNc(26,qZ,6,5,"div",9),s.qZA()()()),2&e&&(s.xp6(6),s.Q6J("ngIf",i.photoURL),s.xp6(1),s.Q6J("ngIf",!i.photoURL),s.xp6(3),s.Oqu(i.displayName),s.xp6(2),s.hij("Adresse mail : ",i.email,""),s.xp6(2),s.hij("Compte cr\xe9e le ",i.creationTime,""),s.xp6(7),s.hij("Nombe de films favoris : ",i.favoriteMovies.length,""),s.xp6(4),s.Q6J("ngIf",0==i.favoriteMovies.length),s.xp6(1),s.Q6J("ngIf",0!=i.favoriteMovies.length))},dependencies:[fn,tn,Cn,Tl,TM,RZ,CA],styles:[".account--informations[_ngcontent-%COMP%]{display:flex;align-items:center;margin:20px}.account--informations-statistiques[_ngcontent-%COMP%]{padding:20px}.account--informations-avatar[_ngcontent-%COMP%]{margin-right:10px}.product-grid-item[_ngcontent-%COMP%]{text-align:center;padding:20px;margin:10px}[_nghost-%COMP%]     .p-dataview{border:0,2px solid white}.card[_ngcontent-%COMP%]{border:1;background-color:#0f111d;color:#fff}[_nghost-%COMP%]     .p-dataview-header{background-color:#161824;border:none}[_nghost-%COMP%]     .p-dataview-content{background-color:#0f111d}[_nghost-%COMP%]     .p-paginator-bottom{background-color:#0f111d;border:none}input[_ngcontent-%COMP%]{padding:7px 7px 7px 40px;border-radius:25px;border:none;color:#fff;background:url(search-icon.9fd73d47a958560a.png) no-repeat 15px;background-color:#272935;background-size:17px}input[_ngcontent-%COMP%]{margin:.4rem}textarea[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:none}.product-grid-item-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px;align-items:baseline}.product-grid-item-top[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.product-name[_ngcontent-%COMP%]{font-size:15px;font-weight:700}"]}),n})()},{path:"people",component:iL},{path:"peopleCard",component:nL},{path:"peopleDetail/:id",component:(()=>{class n{constructor(e,i){this.router=e,this.dataService=i,this.movies=[]}ngOnInit(){this.router.params.subscribe(e=>{this.peoId=e.id,this.peo=this.getPeopleById(this.peoId)})}getPeopleById(e){this.dataService.getPeopleById(e).subscribe(i=>{this.peo=i})}getGender(e){return this.genre=e,2==e?"Homme":1==e?"Femme":"Autre"}getDescription(e){return""==e?"Pas d'autres informations sur cette acteur":e}getProfession(e){return"Acting"==e?"Femme"==this.getGender(this.genre)?"Actrice":"Acteur":e}getimage(e){return null==e?"../../assets/user.jpg":"https://image.tmdb.org/t/p/original/"+e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fa),s.Y36(Im))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-people-detail"]],decls:11,vars:7,consts:[["width","500px",1,"image",3,"src"],[1,"description"]],template:function(e,i){1&e&&(s.TgZ(0,"section"),s._UZ(1,"img",0),s.TgZ(2,"div",1)(3,"strong")(4,"h1"),s._uU(5),s.qZA()(),s._UZ(6,"br"),s.TgZ(7,"p"),s._uU(8),s.qZA(),s.TgZ(9,"p"),s._uU(10),s.qZA()()()),2&e&&(s.xp6(1),s.s9C("src",i.getimage(i.peo.profile_path),s.LSH),s.xp6(4),s.lnq("",i.peo.name," (",i.getGender(i.peo.gender),") ",i.getProfession(i.peo.known_for_department),""),s.xp6(3),s.AsE("",i.peo.birthday," - ",i.peo.deathday,""),s.xp6(2),s.Oqu(i.getDescription(i.peo.biography)))},styles:["section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;align-items:center;margin-right:10%;margin-left:10%;margin-top:10%}.image[_ngcontent-%COMP%]{padding:10%}p[_ngcontent-%COMP%]{margin:0}.description[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:20px;box-shadow:0 0 10px #0003}.scrollMoviecontainer[_ngcontent-%COMP%]{scrollbar-width:thin;overflow:auto;display:flex;flex-direction:line;width:100%}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:5px;background-color:#000}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#394159;border-radius:10px}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#303544}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:hover{background-color:#000}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:active{background-color:#000}.scrollMoviecontainer[_ngcontent-%COMP%]::-webkit-scrollbar-track:horizontal:active{background-color:#d4d4d4}.cardPeople[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.outerPeople[_ngcontent-%COMP%]{margin:10px}"]}),n})()}];let YZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[zp.forRoot(ZZ),zp]}),n})();function KZ(n,t){if(1&n&&(s.TgZ(0,"span",4),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Oqu(e.label)}}function JZ(n,t){if(1&n&&s._UZ(0,"span",6),2&n){const e=s.oxw(2);s.Tol(e.icon),s.Q6J("ngClass","p-avatar-icon")}}function QZ(n,t){if(1&n&&s.YNc(0,JZ,1,3,"span",5),2&n){const e=s.oxw(),i=s.MAs(6);s.Q6J("ngIf",e.icon)("ngIfElse",i)}}function XZ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"img",8),s.NdJ("error",function(r){s.CHM(e);const o=s.oxw(2);return s.KtG(o.imageError(r))}),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("src",e.image,s.LSH)}}function e5(n,t){if(1&n&&s.YNc(0,XZ,1,1,"img",7),2&n){const e=s.oxw();s.Q6J("ngIf",e.image)}}const t5=["*"];let n5=(()=>{class n{constructor(){this.size="normal",this.shape="square",this.onImageError=new s.vpe}containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":null!=this.image,"p-avatar-circle":"circle"===this.shape,"p-avatar-lg":"large"===this.size,"p-avatar-xl":"xlarge"===this.size}}imageError(e){this.onImageError.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass"},outputs:{onImageError:"onImageError"},ngContentSelectors:t5,decls:7,vars:6,consts:[[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],["iconTemplate",""],["imageTemplate",""],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"src","error"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.YNc(2,KZ,2,1,"span",1),s.YNc(3,QZ,1,2,"ng-template",null,2,s.W1O),s.YNc(5,e5,1,1,"ng-template",null,3,s.W1O),s.qZA()),2&e){const r=s.MAs(4);s.Tol(i.styleClass),s.Q6J("ngClass",i.containerClass())("ngStyle",i.style),s.xp6(2),s.Q6J("ngIf",i.label)("ngIfElse",r)}},dependencies:[Tt,tn,Cn],styles:[".p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}\n"],encapsulation:2,changeDetection:0}),n})(),i5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn]}),n})();const r5=function(){return["/login"]};function s5(n,t){1&n&&(s.TgZ(0,"button",13),s._uU(1,"Se connecter"),s.qZA()),2&n&&s.Q6J("routerLink",s.DdM(1,r5))}const mL=function(){return["/register"]};function o5(n,t){1&n&&(s.TgZ(0,"button",14),s._uU(1,"Creer un compte"),s.qZA()),2&n&&s.Q6J("routerLink",s.DdM(1,mL))}const _L=function(){return["/account"]};function a5(n,t){if(1&n&&s._UZ(0,"p-avatar",15),2&n){const e=s.oxw();s.s9C("image",e.photoURL),s.Q6J("routerLink",s.DdM(2,_L))}}function l5(n,t){if(1&n&&(s.TgZ(0,"p-avatar",16),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.Q6J("routerLink",s.DdM(2,_L)),s.xp6(1),s.Oqu(e.notPhotoUrl)}}function c5(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.onLogout())}),s._uU(1,"Se deconnecter"),s.qZA()}2&n&&s.Q6J("routerLink",s.DdM(1,mL))}const yL=function(){return["/"]},u5=function(){return["/movies"]};let d5=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.authService.readUser().subscribe(e=>{e&&(this.photoURL=e.photoURL,this.notPhotoUrl=e.email?.slice(0,1).toUpperCase())})}loggedIn(){return localStorage.getItem("token")}onLogout(){localStorage.removeItem("token"),this.authService.signOut()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ab))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:17,vars:11,consts:[[1,"navbar","navbar-expand-lg",2,"background-color","#161824"],[1,"navbar-brand","me-2"],["src","../../assets/brand-logo.png","height","80","width","120",3,"routerLink"],["id","navbarButtonsExample",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],[1,"d-flex","align-items-center"],["type","button","class","btn",3,"routerLink",4,"ngIf"],["type","button","class","btn btn-primary me-3",3,"routerLink",4,"ngIf"],["style","margin-right: 10px;","type","button",3,"image","routerLink",4,"ngIf"],["style","margin-right: 10px;","type","button",3,"routerLink",4,"ngIf"],["type","button","class","btn btn-primary me-3",3,"routerLink","click",4,"ngIf"],["type","button",1,"btn",3,"routerLink"],["type","button",1,"btn","btn-primary","me-3",3,"routerLink"],["type","button",2,"margin-right","10px",3,"image","routerLink"],["type","button",2,"margin-right","10px",3,"routerLink"],["type","button",1,"btn","btn-primary","me-3",3,"routerLink","click"]],template:function(e,i){1&e&&(s.TgZ(0,"nav",0)(1,"a",1),s._UZ(2,"img",2),s.qZA(),s.TgZ(3,"div",3)(4,"ul",4)(5,"li",5)(6,"a",6),s._uU(7,"Accueil"),s.qZA()(),s.TgZ(8,"li",5)(9,"a",6),s._uU(10,"Films"),s.qZA()()(),s.TgZ(11,"div",7),s.YNc(12,s5,2,2,"button",8),s.YNc(13,o5,2,2,"button",9),s.YNc(14,a5,1,3,"p-avatar",10),s.YNc(15,l5,2,3,"p-avatar",11),s.YNc(16,c5,2,2,"button",12),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("routerLink",s.DdM(8,yL)),s.xp6(4),s.Q6J("routerLink",s.DdM(9,yL)),s.xp6(3),s.Q6J("routerLink",s.DdM(10,u5)),s.xp6(3),s.Q6J("ngIf",!i.loggedIn()),s.xp6(1),s.Q6J("ngIf",!i.loggedIn()),s.xp6(1),s.Q6J("ngIf",i.loggedIn()&&i.photoURL),s.xp6(1),s.Q6J("ngIf",i.loggedIn()&&!i.photoURL),s.xp6(1),s.Q6J("ngIf",i.loggedIn()))},dependencies:[ic,tn,n5],styles:[".nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}"]}),n})(),h5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"footer")},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{background:#fcfcfc;font-family:sans-serif}footer[_ngcontent-%COMP%]{background-color:#161824;width:100%;height:100px}"]}),n})();function p5(n,t){1&n&&s._UZ(0,"app-footer")}let f5=(()=>{class n{constructor(e){this.router=e,this.title="MovieProject"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(zr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:12,vars:1,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href","/"],[4,"ngif"]],template:function(e,i){1&e&&(s.TgZ(0,"html",0)(1,"head"),s._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"base",4),s.TgZ(6,"title"),s._uU(7,"Document"),s.qZA()(),s.TgZ(8,"body"),s._UZ(9,"app-header")(10,"router-outlet"),s.YNc(11,p5,1,0,"app-footer",5),s.qZA()()),2&e&&(s.xp6(11),s.Q6J("ngif","home"!==i.router.url))},dependencies:[Ay,d5,h5],styles:["*[_ngcontent-%COMP%]{background-color:#0f111d;color:#fff;box-sizing:border-box;margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}"]}),n})(),w5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Js]}),n})();function vL(n){return new s.vHH(3e3,!1)}function n8(){return typeof window<"u"&&typeof window.document<"u"}function xM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Bh(n){switch(n.length){case 0:return new Mb;case 1:return n[0];default:return new kk(n)}}function bL(n,t,e,i,r=new Map,o=new Map){const u=[],h=[];let g=-1,y=null;if(i.forEach(w=>{const S=w.get("offset"),M=S==g,R=M&&y||new Map;w.forEach((U,K)=>{let te=K,_e=U;if("offset"!==K)switch(te=t.normalizePropertyName(te,u),_e){case TA:_e=r.get(K);break;case qu:_e=o.get(K);break;default:_e=t.normalizeStyleValue(K,te,_e,u)}R.set(te,_e)}),M||h.push(R),y=R,g=S}),u.length)throw function j5(n){return new s.vHH(3502,!1)}();return h}function AM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&MM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&MM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&MM(e,"destroy",n)))}}function MM(n,t,e){const o=OM(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function OM(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Lo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function wL(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let NM=(n,t)=>!1,IL=(n,t,e)=>[],EL=null;function PM(n){const t=n.parentNode||n.host;return t===EL?null:t}(xM()||typeof Element<"u")&&(n8()?(EL=(()=>document.documentElement)(),NM=(n,t)=>{for(;t;){if(t===n)return!0;t=PM(t)}return!1}):NM=(n,t)=>n.contains(t),IL=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let yg=null,CL=!1;const TL=NM,DL=IL;let SL=(()=>{class n{validateStyleProperty(e){return function r8(n){yg||(yg=function s8(){return typeof document<"u"?document.body:null}()||{},CL=!!yg.style&&"WebkitAppearance"in yg.style);let t=!0;return yg.style&&!function i8(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in yg.style,!t&&CL&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in yg.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return TL(e,i)}getParentElement(e){return PM(e)}query(e,i,r){return DL(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],g){return new Mb(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),kM=(()=>{class n{}return n.NOOP=new SL,n})();const o8=1e3,RM="ng-enter",pC="ng-leave",fC="ng-trigger",gC=".ng-trigger",AL="ng-animating",FM=".ng-animating";function Yu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:LM(parseFloat(t[1]),t[2])}function LM(n,t){return"s"===t?n*o8:n}function mC(n,t,e){return n.hasOwnProperty("duration")?n:function l8(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(vL()),{duration:0,delay:0,easing:""};r=LM(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(o=LM(parseFloat(g),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!e){let h=!1,g=t.length;r<0&&(t.push(function I5(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function E5(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(g,0,vL())}return{duration:r,delay:o,easing:u}}(n,t,e)}function Kb(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function ML(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Uh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function NL(n,t,e){return e?t+":"+e+";":""}function PL(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=NL(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=NL(0,h8(e),n.style[e]));n.setAttribute("style",t)}function Dc(n,t,e){n.style&&(t.forEach((i,r)=>{const o=BM(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),xM()&&PL(n))}function vg(n,t){n.style&&(t.forEach((e,i)=>{const r=BM(i);n.style[r]=""}),xM()&&PL(n))}function Jb(n){return Array.isArray(n)?1==n.length?n[0]:Mk(n):n}const VM=new RegExp("{{\\s*(.+?)\\s*}}","g");function kL(n){let t=[];if("string"==typeof n){let e;for(;e=VM.exec(n);)t.push(e[1]);VM.lastIndex=0}return t}function Qb(n,t,e){const i=n.toString(),r=i.replace(VM,(o,u)=>{let h=t[u];return null==h&&(e.push(function T5(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function _C(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const d8=/-+([a-z0-9])/g;function BM(n){return n.replace(d8,(...t)=>t[1].toUpperCase())}function h8(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function D5(n){return new s.vHH(3004,!1)}()}}function RL(n,t){return window.getComputedStyle(n)[t]}const bC="*";function y8(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function v8(n,t,e){if(":"==n[0]){const g=function b8(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function U5(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function B5(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(FL(r,u));"<"==o[0]&&!(r==bC&&u==bC)&&t.push(FL(u,r))}(i,e,t)):e.push(n),e}const wC=new Set(["true","1"]),IC=new Set(["false","0"]);function FL(n,t){const e=wC.has(n)||IC.has(n),i=wC.has(t)||IC.has(t);return(r,o)=>{let u=n==bC||n==r,h=t==bC||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?wC.has(n):IC.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?wC.has(t):IC.has(t)),u&&h}}const w8=new RegExp("s*:selfs*,?","g");function UM(n,t,e,i){return new I8(n).build(t,e,i)}class I8{constructor(t){this._driver=t}build(t,e,i){const r=new T8(e);return this._resetContextStyleTimingState(r),Vo(this,Jb(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function x5(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const g=h,y=g.name;y.toString().split(/\s*,\s*/).forEach(w=>{g.name=w,o.push(this.visitState(g,e))}),g.name=y}else if(1==h.type){const g=this.visitTransition(h,e);i+=g.queryCount,r+=g.depCount,u.push(g)}else e.errors.push(function A5(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{kL(g).forEach(y=>{u.hasOwnProperty(y)||o.add(y)})})}),o.size&&(_C(o.values()),e.errors.push(function M5(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Vo(this,Jb(t.animation),e);return{type:1,matchers:y8(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:bg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Vo(this,i,e)),options:bg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Vo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:bg(t.options)}}visitAnimate(t,e){const i=function S8(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return HM(mC(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=HM(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=mC(e,t);return HM(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Z_({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=Z_(y)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,e);g.isEmptyStep=h,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===qu?i.push(h):e.errors.push(new s.vHH(3002,!1)):i.push(ML(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let g of h.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,g)=>{const y=e.collectedStyles.get(e.currentQuerySelector),w=y.get(g);let S=!0;w&&(o!=r&&o>=w.startTime&&r<=w.endTime&&(e.errors.push(function N5(n,t,e,i,r){return new s.vHH(3010,!1)}()),S=!1),o=w.startTime),S&&y.set(g,{startTime:o,endTime:r}),e.options&&function u8(n,t,e){const i=t.params||{},r=kL(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function C5(n){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function P5(){return new s.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,g=!1,y=0;const w=t.steps.map(_e=>{const Pe=this._makeStyleAst(_e,e);let je=null!=Pe.offset?Pe.offset:function D8(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Pe.styles),He=0;return null!=je&&(o++,He=Pe.offset=je),g=g||He<0||He>1,h=h||He<y,y=He,u.push(He),Pe});g&&e.errors.push(function k5(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function R5(){return new s.vHH(3200,!1)}());const S=t.steps.length;let M=0;o>0&&o<S?e.errors.push(function F5(){return new s.vHH(3202,!1)}()):0==o&&(M=1/(S-1));const R=S-1,U=e.currentTime,K=e.currentAnimateTimings,te=K.duration;return w.forEach((_e,Pe)=>{const je=M>0?Pe==R?1:M*Pe:u[Pe],He=je*te;e.currentTime=U+K.delay+He,K.duration=He,this._validateStyleAst(_e,e),_e.offset=je,i.styles.push(_e)}),i}visitReference(t,e){return{type:8,animation:Vo(this,Jb(t.animation),e),options:bg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:bg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:bg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function E8(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(w8,"")),n=n.replace(/@\*/g,gC).replace(/@\w+/g,e=>gC+"-"+e.slice(1)).replace(/:animating/g,FM),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Lo(e.collectedStyles,e.currentQuerySelector,new Map);const h=Vo(this,Jb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:bg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function L5(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:mC(t.timings,e.errors,!0);return{type:12,animation:Vo(this,Jb(t.animation),e),timings:i,options:null}}}class T8{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bg(n){return n?(n=Kb(n)).params&&(n.params=function C8(n){return n?Kb(n):null}(n.params)):n={},n}function HM(n,t,e){return{duration:n,delay:t,easing:e}}function GM(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class EC{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const M8=new RegExp(":enter","g"),N8=new RegExp(":leave","g");function $M(n,t,e,i,r,o=new Map,u=new Map,h,g,y=[]){return(new P8).buildKeyframes(n,t,e,i,r,o,u,h,g,y)}class P8{buildKeyframes(t,e,i,r,o,u,h,g,y,w=[]){y=y||new EC;const S=new jM(t,e,y,r,o,w,[]);S.options=g;const M=g.delay?Yu(g.delay):0;S.currentTimeline.delayNextStep(M),S.currentTimeline.setStyles([u],null,S.errors,g),Vo(this,i,S);const R=S.timelines.filter(U=>U.containsAnimation());if(R.length&&h.size){let U;for(let K=R.length-1;K>=0;K--){const te=R[K];if(te.element===e){U=te;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,S.errors,g)}return R.length?R.map(U=>U.buildKeyframes()):[GM(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const u="number"==typeof o?o:Yu(Qb(o,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?Yu(i.duration):null,h=null!=i.delay?Yu(i.delay):null;return 0!==u&&t.forEach(g=>{const y=e.appendInstructionToTimeline(g,u,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Vo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=CC);const u=Yu(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Vo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Yu(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Vo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return mC(e.params?Qb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(g=>{h.forwardTime((g.offset||0)*o),h.setStyles(g.styles,g.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Yu(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=CC);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let g=null;h.forEach((y,w)=>{e.currentQueryIndex=w;const S=e.createSubContext(t.options,y);o&&S.delayNextStep(o),y===e.element&&(g=S.currentTimeline),Vo(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let g=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const w=e.currentTimeline;g&&w.delayNextStep(g);const S=w.currentTime;Vo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const CC={};class jM{constructor(t,e,i,r,o,u,h,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=CC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new TC(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Yu(i.duration)),null!=i.delay&&(r.delay=Yu(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=Qb(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new jM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=CC,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new k8(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(M8,"."+this._enterClassName)).replace(N8,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&u.push(function V5(n){return new s.vHH(3014,!1)}()),h}}class TC{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new TC(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||qu),this._currentKeyframe.set(e,qu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function R8(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,qu)}else Uh(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,g]of u){const y=Qb(g,o,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??qu),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const y=Uh(h,new Map,this._backFill);y.forEach((w,S)=>{w===TA?t.add(S):w===qu&&e.add(S)}),i||y.set("offset",g/this.duration),r.push(y)});const o=t.size?_C(t.values()):[],u=e.size?_C(e.values()):[];if(i){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return GM(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class k8 extends TC{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,g=Uh(t[0]);g.set("offset",0),o.push(g);const y=Uh(t[0]);y.set("offset",BL(h)),o.push(y);const w=t.length-1;for(let S=1;S<=w;S++){let M=Uh(t[S]);const R=M.get("offset");M.set("offset",BL((e+R*i)/u)),o.push(M)}i=u,e=0,r="",t=o}return GM(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function BL(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class zM{}const F8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class L8 extends zM{normalizePropertyName(t,e){return BM(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(F8.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function S5(n,t){return new s.vHH(3005,!1)}())}return u+o}}function UL(n,t,e,i,r,o,u,h,g,y,w,S,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:g,preStyleProps:y,postStyleProps:w,totalTime:S,errors:M}}const WM={};class HL{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function V8(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,h,g,y,w){const S=[],M=this.ast.options&&this.ast.options.params||WM,U=this.buildStyles(i,h&&h.params||WM,S),K=g&&g.params||WM,te=this.buildStyles(r,K,S),_e=new Set,Pe=new Map,je=new Map,He="void"===r,We={params:B8(K,M),delay:this.ast.options?.delay},Ke=w?[]:$M(t,e,this.ast.animation,o,u,U,te,We,y,S);let xt=0;if(Ke.forEach(Vn=>{xt=Math.max(Vn.duration+Vn.delay,xt)}),S.length)return UL(e,this._triggerName,i,r,He,U,te,[],[],Pe,je,xt,S);Ke.forEach(Vn=>{const Bn=Vn.element,Ai=Lo(Pe,Bn,new Set);Vn.preStyleProps.forEach(Gi=>Ai.add(Gi));const _s=Lo(je,Bn,new Set);Vn.postStyleProps.forEach(Gi=>_s.add(Gi)),Bn!==e&&_e.add(Bn)});const rn=_C(_e.values());return UL(e,this._triggerName,i,r,He,U,te,Ke,rn,Pe,je,xt)}}function B8(n,t){const e=Kb(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class U8{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Kb(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=Qb(u,r,e));const g=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,g,u,e),i.set(h,u)})}),i}}class G8{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new U8(r.style,r.options&&r.options.params||{},i))}),GL(this.states,"true","1"),GL(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new HL(t,r,this.states))}),this.fallbackTransition=function $8(n,t,e){return new HL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function GL(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const j8=new EC;class z8{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],o=UM(this._driver,e,i,r);if(i.length)throw function z5(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=bL(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=$M(this._driver,e,o,RM,pC,new Map,new Map,i,j8,r),u.forEach(w=>{const S=Lo(h,w.element,new Map);w.postStyleProps.forEach(M=>S.set(M,null))})):(r.push(function W5(){return new s.vHH(3300,!1)}()),u=[]),r.length)throw function q5(n){return new s.vHH(3504,!1)}();h.forEach((w,S)=>{w.forEach((M,R)=>{w.set(R,this._driver.computeStyle(S,R,qu))})});const y=Bh(u.map(w=>{const S=h.get(w.element);return this._buildPlayer(w,new Map,S)}));return this._playersById.set(t,y),y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Z5(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=OM(e,"","","");return AM(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const $L="ng-animate-queued",qM="ng-animate-disabled",K8=[],jL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},J8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Da="__ng_removed";class ZM{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function tY(n){return n??null}(i?t.value:t),i){const o=Kb(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Xb="void",YM=new ZM(Xb);class Q8{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Sa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Y5(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function K5(n){return new s.vHH(3303,!1)}();if(!function nY(n){return"start"==n||"done"==n}(i))throw function J5(n,t){return new s.vHH(3400,!1)}();const o=Lo(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=Lo(this._engine.statesByElement,t,new Map);return h.has(e)||(Sa(t,fC),Sa(t,fC+"-"+e),h.set(e,YM)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(u);g>=0&&o.splice(g,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Q5(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new KM(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Sa(t,fC),Sa(t,fC+"-"+e),this._engine.statesByElement.set(t,h=new Map));let g=h.get(e);const y=new ZM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),h.set(e,y),g||(g=YM),y.value!==Xb&&g.value===y.value){if(!function sY(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(g.params,y.params)){const K=[],te=o.matchStyles(g.value,g.params,K),_e=o.matchStyles(y.value,y.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{vg(t,te),Dc(t,_e)})}return}const M=Lo(this._engine.playersByElement,t,[]);M.forEach(K=>{K.namespaceId==this.id&&K.triggerName==e&&K.queued&&K.destroy()});let R=o.matchTransition(g.value,y.value,t,y.params),U=!1;if(!R){if(!r)return;R=o.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:g,toState:y,player:u,isFallbackTransition:U}),U||(Sa(t,$L),u.onStart(()=>{ay(t,$L)})),u.onDone(()=>{let K=this.players.indexOf(u);K>=0&&this.players.splice(K,1);const te=this._engine.playersByElement.get(t);if(te){let _e=te.indexOf(u);_e>=0&&te.splice(_e,1)}}),this.players.push(u),M.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,gC,!0);i.forEach(r=>{if(r[Da])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((g,y)=>{if(u.set(y,g.value),this._triggers.has(y)){const w=this.trigger(t,y,Xb,r);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Bh(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,y=i.get(u)||YM,w=new ZM(Xb),S=new KM(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:g,fromState:y,toState:w,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Da];(!o||o===jL)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Sa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const g=OM(o,i.triggerName,i.fromState.value,i.toState.value);g._data=t,AM(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class X8{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Q8(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const g=r.get(h);if(g){const y=i.indexOf(g);i.splice(y+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(DC(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!DC(e))return;const o=e[Da];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Sa(t,qM)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ay(t,qM))}removeNode(t,e,i,r){if(DC(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Da]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return DC(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,gC,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,FM,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Bh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Da];if(e&&e.setForRemoval){if(t[Da]=jL,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(qM)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Sa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Bh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function X5(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new EC,r=[],o=new Map,u=[],h=new Map,g=new Map,y=new Map,w=new Set;this.disabledNodes.forEach(rt=>{w.add(rt);const wt=this.driver.query(rt,".ng-animate-queued",!0);for(let Bt=0;Bt<wt.length;Bt++)w.add(wt[Bt])});const S=this.bodyNode,M=Array.from(this.statesByElement.keys()),R=qL(M,this.collectedEnterElements),U=new Map;let K=0;R.forEach((rt,wt)=>{const Bt=RM+K++;U.set(wt,Bt),rt.forEach(ln=>Sa(ln,Bt))});const te=[],_e=new Set,Pe=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const wt=this.collectedLeaveElements[rt],Bt=wt[Da];Bt&&Bt.setForRemoval&&(te.push(wt),_e.add(wt),Bt.hasAnimation?this.driver.query(wt,".ng-star-inserted",!0).forEach(ln=>_e.add(ln)):Pe.add(wt))}const je=new Map,He=qL(M,Array.from(_e));He.forEach((rt,wt)=>{const Bt=pC+K++;je.set(wt,Bt),rt.forEach(ln=>Sa(ln,Bt))}),t.push(()=>{R.forEach((rt,wt)=>{const Bt=U.get(wt);rt.forEach(ln=>ay(ln,Bt))}),He.forEach((rt,wt)=>{const Bt=je.get(wt);rt.forEach(ln=>ay(ln,Bt))}),te.forEach(rt=>{this.processLeaveNode(rt)})});const We=[],Ke=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(e).forEach(Bt=>{const ln=Bt.player,$i=Bt.element;if(We.push(ln),this.collectedEnterElements.length){const yr=$i[Da];if(yr&&yr.setForMove){if(yr.previousTriggersValues&&yr.previousTriggersValues.has(Bt.triggerName)){const Xs=yr.previousTriggersValues.get(Bt.triggerName),As=this.statesByElement.get(Bt.element);if(As&&As.has(Bt.triggerName)){const ly=As.get(Bt.triggerName);ly.value=Xs,As.set(Bt.triggerName,ly)}}return void ln.destroy()}}const _o=!S||!this.driver.containsElement(S,$i),$r=je.get($i),Bo=U.get($i),kn=this._buildInstruction(Bt,i,Bo,$r,_o);if(kn.errors&&kn.errors.length)return void Ke.push(kn);if(_o)return ln.onStart(()=>vg($i,kn.fromStyles)),ln.onDestroy(()=>Dc($i,kn.toStyles)),void r.push(ln);if(Bt.isFallbackTransition)return ln.onStart(()=>vg($i,kn.fromStyles)),ln.onDestroy(()=>Dc($i,kn.toStyles)),void r.push(ln);const Al=[];kn.timelines.forEach(yr=>{yr.stretchStartingKeyframe=!0,this.disabledNodes.has(yr.element)||Al.push(yr)}),kn.timelines=Al,i.append($i,kn.timelines),u.push({instruction:kn,player:ln,element:$i}),kn.queriedElements.forEach(yr=>Lo(h,yr,[]).push(ln)),kn.preStyleProps.forEach((yr,Xs)=>{if(yr.size){let As=g.get(Xs);As||g.set(Xs,As=new Set),yr.forEach((ly,Ig)=>As.add(Ig))}}),kn.postStyleProps.forEach((yr,Xs)=>{let As=y.get(Xs);As||y.set(Xs,As=new Set),yr.forEach((ly,Ig)=>As.add(Ig))})});if(Ke.length){const rt=[];Ke.forEach(wt=>{rt.push(function e8(n,t){return new s.vHH(3505,!1)}())}),We.forEach(wt=>wt.destroy()),this.reportError(rt)}const xt=new Map,rn=new Map;u.forEach(rt=>{const wt=rt.element;i.has(wt)&&(rn.set(wt,wt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,xt))}),r.forEach(rt=>{const wt=rt.element;this._getPreviousPlayers(wt,!1,rt.namespaceId,rt.triggerName,null).forEach(ln=>{Lo(xt,wt,[]).push(ln),ln.destroy()})});const Vn=te.filter(rt=>YL(rt,g,y)),Bn=new Map;WL(Bn,this.driver,Pe,y,qu).forEach(rt=>{YL(rt,g,y)&&Vn.push(rt)});const _s=new Map;R.forEach((rt,wt)=>{WL(_s,this.driver,new Set(rt),g,TA)}),Vn.forEach(rt=>{const wt=Bn.get(rt),Bt=_s.get(rt);Bn.set(rt,new Map([...Array.from(wt?.entries()??[]),...Array.from(Bt?.entries()??[])]))});const Gi=[],Sc=[],xc={};u.forEach(rt=>{const{element:wt,player:Bt,instruction:ln}=rt;if(i.has(wt)){if(w.has(wt))return Bt.onDestroy(()=>Dc(wt,ln.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(ln.totalTime),void r.push(Bt);let $i=xc;if(rn.size>1){let $r=wt;const Bo=[];for(;$r=$r.parentNode;){const kn=rn.get($r);if(kn){$i=kn;break}Bo.push($r)}Bo.forEach(kn=>rn.set(kn,$i))}const _o=this._buildAnimation(Bt.namespaceId,ln,xt,o,_s,Bn);if(Bt.setRealPlayer(_o),$i===xc)Gi.push(Bt);else{const $r=this.playersByElement.get($i);$r&&$r.length&&(Bt.parentPlayer=Bh($r)),r.push(Bt)}}else vg(wt,ln.fromStyles),Bt.onDestroy(()=>Dc(wt,ln.toStyles)),Sc.push(Bt),w.has(wt)&&r.push(Bt)}),Sc.forEach(rt=>{const wt=o.get(rt.element);if(wt&&wt.length){const Bt=Bh(wt);rt.setRealPlayer(Bt)}}),r.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<te.length;rt++){const wt=te[rt],Bt=wt[Da];if(ay(wt,pC),Bt&&Bt.hasAnimation)continue;let ln=[];if(h.size){let _o=h.get(wt);_o&&_o.length&&ln.push(..._o);let $r=this.driver.query(wt,FM,!0);for(let Bo=0;Bo<$r.length;Bo++){let kn=h.get($r[Bo]);kn&&kn.length&&ln.push(...kn)}}const $i=ln.filter(_o=>!_o.destroyed);$i.length?iY(this,wt,$i):this.processLeaveNode(wt)}return te.length=0,Gi.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const wt=this.players.indexOf(rt);this.players.splice(wt,1)}),rt.play()}),Gi}elementContainsData(t,e){let i=!1;const r=e[Da];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const g=!o||o==Xb;h.forEach(y=>{y.queued||!g&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const y=g.element,w=y!==o,S=Lo(i,y,[]);this._getPreviousPlayers(y,w,u,h,e.toState).forEach(R=>{const U=R.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),R.destroy(),S.push(R)})}vg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,g=e.element,y=[],w=new Set,S=new Set,M=e.timelines.map(U=>{const K=U.element;w.add(K);const te=K[Da];if(te&&te.removedBeforeQueried)return new Mb(U.duration,U.delay);const _e=K!==g,Pe=function rY(n){const t=[];return ZL(n,t),t}((i.get(K)||K8).map(xt=>xt.getRealPlayer())).filter(xt=>!!xt.element&&xt.element===K),je=o.get(K),He=u.get(K),We=bL(0,this._normalizer,0,U.keyframes,je,He),Ke=this._buildPlayer(U,We,Pe);if(U.subTimeline&&r&&S.add(K),_e){const xt=new KM(t,h,K);xt.setRealPlayer(Ke),y.push(xt)}return Ke});y.forEach(U=>{Lo(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function eY(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,U.element,U))}),w.forEach(U=>Sa(U,AL));const R=Bh(M);return R.onDestroy(()=>{w.forEach(U=>ay(U,AL)),Dc(g,e.toStyles)}),S.forEach(U=>{Lo(r,U,[]).push(R)}),R}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Mb(t.duration,t.delay)}}class KM{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Mb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>AM(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Lo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function DC(n){return n&&1===n.nodeType}function zL(n,t){const e=n.style.display;return n.style.display=t??"none",e}function WL(n,t,e,i,r){const o=[];e.forEach(g=>o.push(zL(g)));const u=[];i.forEach((g,y)=>{const w=new Map;g.forEach(S=>{const M=t.computeStyle(y,S,r);w.set(S,M),(!M||0==M.length)&&(y[Da]=J8,u.push(y))}),n.set(y,w)});let h=0;return e.forEach(g=>zL(g,o[h++])),u}function qL(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const i=1,r=new Set(t),o=new Map;function u(h){if(!h)return i;let g=o.get(h);if(g)return g;const y=h.parentNode;return g=e.has(y)?y:r.has(y)?i:u(y),o.set(h,g),g}return t.forEach(h=>{const g=u(h);g!==i&&e.get(g).push(h)}),e}function Sa(n,t){n.classList?.add(t)}function ay(n,t){n.classList?.remove(t)}function iY(n,t,e){Bh(e).onDone(()=>n.processLeaveNode(t))}function ZL(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof kk?ZL(i.players,t):t.push(i)}}function YL(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class SC{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new X8(t,e,i),this._timelineEngine=new z8(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const g=[],y=[],w=UM(this._driver,o,g,y);if(g.length)throw function $5(n,t){return new s.vHH(3404,!1)}();h=function H8(n,t,e){return new G8(n,t,e)}(r,w,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=wL(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=wL(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let aY=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Dc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Dc(this._element,this._initialStyles),this._endStyles&&(Dc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(vg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vg(this._element,this._endStyles),this._endStyles=null),Dc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function JM(n){let t=null;return n.forEach((e,i)=>{(function lY(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class KL{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:RL(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class cY{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return TL(t,e)}getParentElement(t){return PM(t)}query(t,e,i){return DL(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const y=new Map,w=u.filter(R=>R instanceof KL);(function p8(n,t){return 0===n||0===t})(i,r)&&w.forEach(R=>{R.currentSnapshot.forEach((U,K)=>y.set(K,U))});let S=function c8(n){return n.length?n[0]instanceof Map?n:n.map(t=>ML(t)):[]}(e).map(R=>Uh(R));S=function f8(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(h=>u.set(h,RL(n,h)))}}return t}(t,S,y);const M=function oY(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=JM(t[0]),t.length>1&&(i=JM(t[t.length-1]))):t instanceof Map&&(e=JM(t)),e||i?new aY(n,e,i):null}(t,S);return new KL(t,S,g,M)}}let uY=(()=>{class n extends xk{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Mk(e):e;return JL(this._renderer,null,i,"register",[r]),new dY(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ae))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class dY extends TH{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new hY(this._id,t,e||{},this._renderer)}}class hY{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return JL(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function JL(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const QL="@.disabled";let pY=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(o);return w||(w=new XL("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,w)),w}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=w=>{Array.isArray(w)?w.forEach(g):this.engine.registerTrigger(u,h,e,w.name,w)};return i.data.animation.forEach(g),new fY(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(SC),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class XL{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==QL?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class fY extends XL{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==QL?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function gY(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function mY(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let _Y=(()=>{class n extends SC{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ae),s.LFG(kM),s.LFG(zM),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const e2=[{provide:xk,useClass:uY},{provide:zM,useFactory:function yY(){return new L8}},{provide:SC,useClass:_Y},{provide:s.FYo,useFactory:function vY(n,t,e){return new pY(n,t,e)},deps:[ja,SC,s.R0b]}],QM=[{provide:kM,useFactory:()=>new cY},{provide:s.QbO,useValue:"BrowserAnimations"},...e2],t2=[{provide:kM,useClass:SL},{provide:s.QbO,useValue:"NoopAnimations"},...e2];let bY=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?t2:QM}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:QM,imports:[rp]}),n})();const wY_firebaseConfig={apiKey:"AIzaSyAocn01-CB0WZsRKdl6tAxjKMRdqikJXeM",authDomain:"movienews-dc00e.firebaseapp.com",projectId:"movienews-dc00e",storageBucket:"movienews-dc00e.appspot.com",messagingSenderId:"958733125958",appId:"1:958733125958:web:95826e6bc8c5cfca6c7d47",measurementId:"G-C4JFX3FBY7"};let OY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Mn,Js,lL,q_,Js]}),n})(),NY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[f5]}),n.\u0275inj=s.cJS({imports:[YZ,h3,zp,rp,HT,DM,JA,EH,FZ,zn.hO.initializeApp(wY_firebaseConfig),QT,ZU,i5,Sk,OY,bY,w5]}),n})();ao().bootstrapModule(NY).catch(n=>console.error(n))},1764:function(pt){pt.exports=function(){"use strict";var L=6e4,s=36e5,j="millisecond",k="second",le="minute",he="hour",ae="day",Ee="week",pe="month",we="quarter",q="year",Z="date",ie="Invalid Date",ze=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Re=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Je={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ne){var re=["th","st","nd","rd"],H=ne%100;return"["+ne+(re[(H-20)%10]||re[H]||re[0])+"]"}},st=function(ne,re,H){var W=String(ne);return!W||W.length>=re?ne:""+Array(re+1-W.length).join(H)+ne},be={s:st,z:function(ne){var re=-ne.utcOffset(),H=Math.abs(re),W=Math.floor(H/60),J=H%60;return(re<=0?"+":"-")+st(W,2,"0")+":"+st(J,2,"0")},m:function ne(re,H){if(re.date()<H.date())return-ne(H,re);var W=12*(H.year()-re.year())+(H.month()-re.month()),J=re.clone().add(W,pe),X=H-J<0,ve=re.clone().add(W+(X?-1:1),pe);return+(-(W+(H-J)/(X?J-ve:ve-J))||0)},a:function(ne){return ne<0?Math.ceil(ne)||0:Math.floor(ne)},p:function(ne){return{M:pe,y:q,w:Ee,d:ae,D:Z,h:he,m:le,s:k,ms:j,Q:we}[ne]||String(ne||"").toLowerCase().replace(/s$/,"")},u:function(ne){return void 0===ne}},Oe="en",xe={};xe[Oe]=Je;var Fe=function(ne){return ne instanceof Ge},Le=function ne(re,H,W){var J;if(!re)return Oe;if("string"==typeof re){var X=re.toLowerCase();xe[X]&&(J=X),H&&(xe[X]=H,J=X);var ve=re.split("-");if(!J&&ve.length>1)return ne(ve[0])}else{var De=re.name;xe[De]=re,J=De}return!W&&J&&(Oe=J),J||!W&&Oe},Te=function(ne,re){if(Fe(ne))return ne.clone();var H="object"==typeof re?re:{};return H.date=ne,H.args=arguments,new Ge(H)},ye=be;ye.l=Le,ye.i=Fe,ye.w=function(ne,re){return Te(ne,{locale:re.$L,utc:re.$u,x:re.$x,$offset:re.$offset})};var Ge=function(){function ne(H){this.$L=Le(H.locale,null,!0),this.parse(H)}var re=ne.prototype;return re.parse=function(H){this.$d=function(W){var J=W.date,X=W.utc;if(null===J)return new Date(NaN);if(ye.u(J))return new Date;if(J instanceof Date)return new Date(J);if("string"==typeof J&&!/Z$/i.test(J)){var ve=J.match(ze);if(ve){var De=ve[2]-1||0,Xe=(ve[7]||"0").substring(0,3);return X?new Date(Date.UTC(ve[1],De,ve[3]||1,ve[4]||0,ve[5]||0,ve[6]||0,Xe)):new Date(ve[1],De,ve[3]||1,ve[4]||0,ve[5]||0,ve[6]||0,Xe)}}return new Date(J)}(H),this.$x=H.x||{},this.init()},re.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},re.$utils=function(){return ye},re.isValid=function(){return this.$d.toString()!==ie},re.isSame=function(H,W){var J=Te(H);return this.startOf(W)<=J&&J<=this.endOf(W)},re.isAfter=function(H,W){return Te(H)<this.startOf(W)},re.isBefore=function(H,W){return this.endOf(W)<Te(H)},re.$g=function(H,W,J){return ye.u(H)?this[W]:this.set(J,H)},re.unix=function(){return Math.floor(this.valueOf()/1e3)},re.valueOf=function(){return this.$d.getTime()},re.startOf=function(H,W){var J=this,X=!!ye.u(W)||W,ve=ye.p(H),De=function(Sn,At){var dt=ye.w(J.$u?Date.UTC(J.$y,At,Sn):new Date(J.$y,At,Sn),J);return X?dt:dt.endOf(ae)},Xe=function(Sn,At){return ye.w(J.toDate()[Sn].apply(J.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(At)),J)},St=this.$W,Ht=this.$M,It=this.$D,kt="set"+(this.$u?"UTC":"");switch(ve){case q:return X?De(1,0):De(31,11);case pe:return X?De(1,Ht):De(0,Ht+1);case Ee:var ft=this.$locale().weekStart||0,Xt=(St<ft?St+7:St)-ft;return De(X?It-Xt:It+(6-Xt),Ht);case ae:case Z:return Xe(kt+"Hours",0);case he:return Xe(kt+"Minutes",1);case le:return Xe(kt+"Seconds",2);case k:return Xe(kt+"Milliseconds",3);default:return this.clone()}},re.endOf=function(H){return this.startOf(H,!1)},re.$set=function(H,W){var J,X=ye.p(H),ve="set"+(this.$u?"UTC":""),De=(J={},J[ae]=ve+"Date",J[Z]=ve+"Date",J[pe]=ve+"Month",J[q]=ve+"FullYear",J[he]=ve+"Hours",J[le]=ve+"Minutes",J[k]=ve+"Seconds",J[j]=ve+"Milliseconds",J)[X],Xe=X===ae?this.$D+(W-this.$W):W;if(X===pe||X===q){var St=this.clone().set(Z,1);St.$d[De](Xe),St.init(),this.$d=St.set(Z,Math.min(this.$D,St.daysInMonth())).$d}else De&&this.$d[De](Xe);return this.init(),this},re.set=function(H,W){return this.clone().$set(H,W)},re.get=function(H){return this[ye.p(H)]()},re.add=function(H,W){var J,X=this;H=Number(H);var ve=ye.p(W),De=function(Ht){var It=Te(X);return ye.w(It.date(It.date()+Math.round(Ht*H)),X)};if(ve===pe)return this.set(pe,this.$M+H);if(ve===q)return this.set(q,this.$y+H);if(ve===ae)return De(1);if(ve===Ee)return De(7);var Xe=(J={},J[le]=L,J[he]=s,J[k]=1e3,J)[ve]||1,St=this.$d.getTime()+H*Xe;return ye.w(St,this)},re.subtract=function(H,W){return this.add(-1*H,W)},re.format=function(H){var W=this,J=this.$locale();if(!this.isValid())return J.invalidDate||ie;var X=H||"YYYY-MM-DDTHH:mm:ssZ",ve=ye.z(this),De=this.$H,Xe=this.$m,St=this.$M,Ht=J.weekdays,It=J.months,kt=function(At,dt,tr,_i){return At&&(At[dt]||At(W,X))||tr[dt].slice(0,_i)},ft=function(At){return ye.s(De%12||12,At,"0")},Xt=J.meridiem||function(At,dt,tr){var _i=At<12?"AM":"PM";return tr?_i.toLowerCase():_i},Sn={YY:String(this.$y).slice(-2),YYYY:this.$y,M:St+1,MM:ye.s(St+1,2,"0"),MMM:kt(J.monthsShort,St,It,3),MMMM:kt(It,St),D:this.$D,DD:ye.s(this.$D,2,"0"),d:String(this.$W),dd:kt(J.weekdaysMin,this.$W,Ht,2),ddd:kt(J.weekdaysShort,this.$W,Ht,3),dddd:Ht[this.$W],H:String(De),HH:ye.s(De,2,"0"),h:ft(1),hh:ft(2),a:Xt(De,Xe,!0),A:Xt(De,Xe,!1),m:String(Xe),mm:ye.s(Xe,2,"0"),s:String(this.$s),ss:ye.s(this.$s,2,"0"),SSS:ye.s(this.$ms,3,"0"),Z:ve};return X.replace(Re,function(At,dt){return dt||Sn[At]||ve.replace(":","")})},re.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},re.diff=function(H,W,J){var X,ve=ye.p(W),De=Te(H),Xe=(De.utcOffset()-this.utcOffset())*L,St=this-De,Ht=ye.m(this,De);return Ht=(X={},X[q]=Ht/12,X[pe]=Ht,X[we]=Ht/3,X[Ee]=(St-Xe)/6048e5,X[ae]=(St-Xe)/864e5,X[he]=St/s,X[le]=St/L,X[k]=St/1e3,X)[ve]||St,J?Ht:ye.a(Ht)},re.daysInMonth=function(){return this.endOf(pe).$D},re.$locale=function(){return xe[this.$L]},re.locale=function(H,W){if(!H)return this.$L;var J=this.clone(),X=Le(H,W,!0);return X&&(J.$L=X),J},re.clone=function(){return ye.w(this.$d,this)},re.toDate=function(){return new Date(this.valueOf())},re.toJSON=function(){return this.isValid()?this.toISOString():null},re.toISOString=function(){return this.$d.toISOString()},re.toString=function(){return this.$d.toUTCString()},ne}(),oe=Ge.prototype;return Te.prototype=oe,[["$ms",j],["$s",k],["$m",le],["$H",he],["$W",ae],["$M",pe],["$y",q],["$D",Z]].forEach(function(ne){oe[ne[1]]=function(re){return this.$g(re,ne[0],ne[1])}}),Te.extend=function(ne,re){return ne.$i||(ne(re,Ge,Te),ne.$i=!0),Te},Te.locale=Le,Te.isDayjs=Fe,Te.unix=function(ne){return Te(1e3*ne)},Te.en=xe[Oe],Te.Ls=xe,Te.p={},Te}()},9751:(pt,Me,L)=>{"use strict";L.d(Me,{y:()=>pe});var s=L(930),j=L(727),k=L(8822),le=L(9635),he=L(2416),ae=L(576),Ee=L(2806);let pe=(()=>{class ie{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Je=new ie;return Je.source=this,Je.operator=Re,Je}subscribe(Re,Je,st){const be=function Z(ie){return ie&&ie instanceof s.Lv||function q(ie){return ie&&(0,ae.m)(ie.next)&&(0,ae.m)(ie.error)&&(0,ae.m)(ie.complete)}(ie)&&(0,j.Nn)(ie)}(Re)?Re:new s.Hp(Re,Je,st);return(0,Ee.x)(()=>{const{operator:Oe,source:xe}=this;be.add(Oe?Oe.call(be,xe):xe?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Je){Re.error(Je)}}forEach(Re,Je){return new(Je=we(Je))((st,be)=>{const Oe=new s.Hp({next:xe=>{try{Re(xe)}catch(Fe){be(Fe),Oe.unsubscribe()}},error:be,complete:st});this.subscribe(Oe)})}_subscribe(Re){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(Re)}[k.L](){return this}pipe(...Re){return(0,le.U)(Re)(this)}toPromise(Re){return new(Re=we(Re))((Je,st)=>{let be;this.subscribe(Oe=>be=Oe,Oe=>st(Oe),()=>Je(be))})}}return ie.create=ze=>new ie(ze),ie})();function we(ie){var ze;return null!==(ze=ie??he.v.Promise)&&void 0!==ze?ze:Promise}},7579:(pt,Me,L)=>{"use strict";L.d(Me,{x:()=>Ee});var s=L(9751),j=L(727);const le=(0,L(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=L(8737),ae=L(2806);let Ee=(()=>{class we extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ie=new pe(this,this);return ie.operator=Z,ie}_throwIfClosed(){if(this.closed)throw new le}next(Z){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next(Z)}})}error(Z){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ie}=this;for(;ie.length;)ie.shift().error(Z)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ie,isStopped:ze,observers:Re}=this;return ie||ze?j.Lc:(this.currentObservers=null,Re.push(Z),new j.w0(()=>{this.currentObservers=null,(0,he.P)(Re,Z)}))}_checkFinalizedStatuses(Z){const{hasError:ie,thrownError:ze,isStopped:Re}=this;ie?Z.error(ze):Re&&Z.complete()}asObservable(){const Z=new s.y;return Z.source=this,Z}}return we.create=(q,Z)=>new pe(q,Z),we})();class pe extends Ee{constructor(q,Z){super(),this.destination=q,this.source=Z}next(q){var Z,ie;null===(ie=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ie||ie.call(Z,q)}error(q){var Z,ie;null===(ie=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ie||ie.call(Z,q)}complete(){var q,Z;null===(Z=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Z||Z.call(q)}_subscribe(q){var Z,ie;return null!==(ie=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(q))&&void 0!==ie?ie:j.Lc}}},930:(pt,Me,L)=>{"use strict";L.d(Me,{Hp:()=>st,Lv:()=>ie});var s=L(576),j=L(727),k=L(2416),le=L(7849),he=L(5032);const ae=we("C",void 0,void 0);function we(Le,Te,ye){return{kind:Le,value:Te,error:ye}}var q=L(3410),Z=L(2806);class ie extends j.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,j.Nn)(Te)&&Te.add(this)):this.destination=Fe}static create(Te,ye,Ge){return new st(Te,ye,Ge)}next(Te){this.isStopped?xe(function pe(Le){return we("N",Le,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?xe(function Ee(Le){return we("E",void 0,Le)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?xe(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Re(Le,Te){return ze.call(Le,Te)}class Je{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ye}=this;if(ye.next)try{ye.next(Te)}catch(Ge){be(Ge)}}error(Te){const{partialObserver:ye}=this;if(ye.error)try{ye.error(Te)}catch(Ge){be(Ge)}else be(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ye){be(ye)}}}class st extends ie{constructor(Te,ye,Ge){let oe;if(super(),(0,s.m)(Te)||!Te)oe={next:Te??void 0,error:ye??void 0,complete:Ge??void 0};else{let ne;this&&k.v.useDeprecatedNextContext?(ne=Object.create(Te),ne.unsubscribe=()=>this.unsubscribe(),oe={next:Te.next&&Re(Te.next,ne),error:Te.error&&Re(Te.error,ne),complete:Te.complete&&Re(Te.complete,ne)}):oe=Te}this.destination=new Je(oe)}}function be(Le){k.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Le):(0,le.h)(Le)}function xe(Le,Te){const{onStoppedNotification:ye}=k.v;ye&&q.z.setTimeout(()=>ye(Le,Te))}const Fe={closed:!0,next:he.Z,error:function Oe(Le){throw Le},complete:he.Z}},727:(pt,Me,L)=>{"use strict";L.d(Me,{Lc:()=>ae,w0:()=>he,Nn:()=>Ee});var s=L(576);const k=(0,L(3888).d)(we=>function(Z){we(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ie,ze)=>`${ze+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var le=L(8737);class he{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Re of Z)Re.remove(this);else Z.remove(this);const{initialTeardown:ie}=this;if((0,s.m)(ie))try{ie()}catch(Re){q=Re instanceof k?Re.errors:[Re]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Re of ze)try{pe(Re)}catch(Je){q=q??[],Je instanceof k?q=[...q,...Je.errors]:q.push(Je)}}if(q)throw new k(q)}}add(q){var Z;if(q&&q!==this)if(this.closed)pe(q);else{if(q instanceof he){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(q)}}_hasParent(q){const{_parentage:Z}=this;return Z===q||Array.isArray(Z)&&Z.includes(q)}_addParent(q){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(q),Z):Z?[Z,q]:q}_removeParent(q){const{_parentage:Z}=this;Z===q?this._parentage=null:Array.isArray(Z)&&(0,le.P)(Z,q)}remove(q){const{_finalizers:Z}=this;Z&&(0,le.P)(Z,q),q instanceof he&&q._removeParent(this)}}he.EMPTY=(()=>{const we=new he;return we.closed=!0,we})();const ae=he.EMPTY;function Ee(we){return we instanceof he||we&&"closed"in we&&(0,s.m)(we.remove)&&(0,s.m)(we.add)&&(0,s.m)(we.unsubscribe)}function pe(we){(0,s.m)(we)?we():we.unsubscribe()}},2416:(pt,Me,L)=>{"use strict";L.d(Me,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Me,L)=>{"use strict";L.d(Me,{E:()=>j});const j=new(L(9751).y)(he=>he.complete())},8996:(pt,Me,L)=>{"use strict";L.d(Me,{D:()=>Te});var s=L(8421),j=L(5363),k=L(9468),ae=L(9751),pe=L(2202),we=L(576),q=L(9672);function ie(ye,Ge){if(!ye)throw new Error("Iterable cannot be null");return new ae.y(oe=>{(0,q.f)(oe,Ge,()=>{const ne=ye[Symbol.asyncIterator]();(0,q.f)(oe,Ge,()=>{ne.next().then(re=>{re.done?oe.complete():oe.next(re.value)})},0,!0)})})}var ze=L(3670),Re=L(8239),Je=L(1144),st=L(6495),be=L(2206),Oe=L(4532),xe=L(3260);function Te(ye,Ge){return Ge?function Le(ye,Ge){if(null!=ye){if((0,ze.c)(ye))return function le(ye,Ge){return(0,s.Xf)(ye).pipe((0,k.R)(Ge),(0,j.Q)(Ge))}(ye,Ge);if((0,Je.z)(ye))return function Ee(ye,Ge){return new ae.y(oe=>{let ne=0;return Ge.schedule(function(){ne===ye.length?oe.complete():(oe.next(ye[ne++]),oe.closed||this.schedule())})})}(ye,Ge);if((0,Re.t)(ye))return function he(ye,Ge){return(0,s.Xf)(ye).pipe((0,k.R)(Ge),(0,j.Q)(Ge))}(ye,Ge);if((0,be.D)(ye))return ie(ye,Ge);if((0,st.T)(ye))return function Z(ye,Ge){return new ae.y(oe=>{let ne;return(0,q.f)(oe,Ge,()=>{ne=ye[pe.h](),(0,q.f)(oe,Ge,()=>{let re,H;try{({value:re,done:H}=ne.next())}catch(W){return void oe.error(W)}H?oe.complete():oe.next(re)},0,!0)}),()=>(0,we.m)(ne?.return)&&ne.return()})}(ye,Ge);if((0,xe.L)(ye))return function Fe(ye,Ge){return ie((0,xe.Q)(ye),Ge)}(ye,Ge)}throw(0,Oe.z)(ye)}(ye,Ge):(0,s.Xf)(ye)}},8421:(pt,Me,L)=>{"use strict";L.d(Me,{Xf:()=>ze});var s=L(655),j=L(1144),k=L(8239),le=L(9751),he=L(3670),ae=L(2206),Ee=L(4532),pe=L(6495),we=L(3260),q=L(576),Z=L(7849),ie=L(8822);function ze(Le){if(Le instanceof le.y)return Le;if(null!=Le){if((0,he.c)(Le))return function Re(Le){return new le.y(Te=>{const ye=Le[ie.L]();if((0,q.m)(ye.subscribe))return ye.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,j.z)(Le))return function Je(Le){return new le.y(Te=>{for(let ye=0;ye<Le.length&&!Te.closed;ye++)Te.next(Le[ye]);Te.complete()})}(Le);if((0,k.t)(Le))return function st(Le){return new le.y(Te=>{Le.then(ye=>{Te.closed||(Te.next(ye),Te.complete())},ye=>Te.error(ye)).then(null,Z.h)})}(Le);if((0,ae.D)(Le))return Oe(Le);if((0,pe.T)(Le))return function be(Le){return new le.y(Te=>{for(const ye of Le)if(Te.next(ye),Te.closed)return;Te.complete()})}(Le);if((0,we.L)(Le))return function xe(Le){return Oe((0,we.Q)(Le))}(Le)}throw(0,Ee.z)(Le)}function Oe(Le){return new le.y(Te=>{(function Fe(Le,Te){var ye,Ge,oe,ne;return(0,s.mG)(this,void 0,void 0,function*(){try{for(ye=(0,s.KL)(Le);!(Ge=yield ye.next()).done;)if(Te.next(Ge.value),Te.closed)return}catch(re){oe={error:re}}finally{try{Ge&&!Ge.done&&(ne=ye.return)&&(yield ne.call(ye))}finally{if(oe)throw oe.error}}Te.complete()})})(Le,Te).catch(ye=>Te.error(ye))})}},6451:(pt,Me,L)=>{"use strict";L.d(Me,{T:()=>ae});var s=L(8189),j=L(8421),k=L(515),le=L(3269),he=L(8996);function ae(...Ee){const pe=(0,le.yG)(Ee),we=(0,le._6)(Ee,1/0),q=Ee;return q.length?1===q.length?(0,j.Xf)(q[0]):(0,s.J)(we)((0,he.D)(q,pe)):k.E}},5403:(pt,Me,L)=>{"use strict";L.d(Me,{x:()=>j});var s=L(930);function j(le,he,ae,Ee,pe){return new k(le,he,ae,Ee,pe)}class k extends s.Lv{constructor(he,ae,Ee,pe,we,q){super(he),this.onFinalize=we,this.shouldUnsubscribe=q,this._next=ae?function(Z){try{ae(Z)}catch(ie){he.error(ie)}}:super._next,this._error=pe?function(Z){try{pe(Z)}catch(ie){he.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(Z){he.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4004:(pt,Me,L)=>{"use strict";L.d(Me,{U:()=>k});var s=L(4482),j=L(5403);function k(le,he){return(0,s.e)((ae,Ee)=>{let pe=0;ae.subscribe((0,j.x)(Ee,we=>{Ee.next(le.call(he,we,pe++))}))})}},8189:(pt,Me,L)=>{"use strict";L.d(Me,{J:()=>k});var s=L(5577),j=L(4671);function k(le=1/0){return(0,s.z)(j.y,le)}},5577:(pt,Me,L)=>{"use strict";L.d(Me,{z:()=>pe});var s=L(4004),j=L(8421),k=L(4482),le=L(9672),he=L(5403),Ee=L(576);function pe(we,q,Z=1/0){return(0,Ee.m)(q)?pe((ie,ze)=>(0,s.U)((Re,Je)=>q(ie,Re,ze,Je))((0,j.Xf)(we(ie,ze))),Z):("number"==typeof q&&(Z=q),(0,k.e)((ie,ze)=>function ae(we,q,Z,ie,ze,Re,Je,st){const be=[];let Oe=0,xe=0,Fe=!1;const Le=()=>{Fe&&!be.length&&!Oe&&q.complete()},Te=Ge=>Oe<ie?ye(Ge):be.push(Ge),ye=Ge=>{Re&&q.next(Ge),Oe++;let oe=!1;(0,j.Xf)(Z(Ge,xe++)).subscribe((0,he.x)(q,ne=>{ze?.(ne),Re?Te(ne):q.next(ne)},()=>{oe=!0},void 0,()=>{if(oe)try{for(Oe--;be.length&&Oe<ie;){const ne=be.shift();Je?(0,le.f)(q,Je,()=>ye(ne)):ye(ne)}Le()}catch(ne){q.error(ne)}}))};return we.subscribe((0,he.x)(q,Te,()=>{Fe=!0,Le()})),()=>{st?.()}}(ie,ze,we,Z)))}},5363:(pt,Me,L)=>{"use strict";L.d(Me,{Q:()=>le});var s=L(9672),j=L(4482),k=L(5403);function le(he,ae=0){return(0,j.e)((Ee,pe)=>{Ee.subscribe((0,k.x)(pe,we=>(0,s.f)(pe,he,()=>pe.next(we),ae),()=>(0,s.f)(pe,he,()=>pe.complete(),ae),we=>(0,s.f)(pe,he,()=>pe.error(we),ae)))})}},3099:(pt,Me,L)=>{"use strict";L.d(Me,{B:()=>he});var s=L(8421),j=L(7579),k=L(930),le=L(4482);function he(Ee={}){const{connector:pe=(()=>new j.x),resetOnError:we=!0,resetOnComplete:q=!0,resetOnRefCountZero:Z=!0}=Ee;return ie=>{let ze,Re,Je,st=0,be=!1,Oe=!1;const xe=()=>{Re?.unsubscribe(),Re=void 0},Fe=()=>{xe(),ze=Je=void 0,be=Oe=!1},Le=()=>{const Te=ze;Fe(),Te?.unsubscribe()};return(0,le.e)((Te,ye)=>{st++,!Oe&&!be&&xe();const Ge=Je=Je??pe();ye.add(()=>{st--,0===st&&!Oe&&!be&&(Re=ae(Le,Z))}),Ge.subscribe(ye),!ze&&st>0&&(ze=new k.Hp({next:oe=>Ge.next(oe),error:oe=>{Oe=!0,xe(),Re=ae(Fe,we,oe),Ge.error(oe)},complete:()=>{be=!0,xe(),Re=ae(Fe,q),Ge.complete()}}),(0,s.Xf)(Te).subscribe(ze))})(ie)}}function ae(Ee,pe,...we){if(!0===pe)return void Ee();if(!1===pe)return;const q=new k.Hp({next:()=>{q.unsubscribe(),Ee()}});return(0,s.Xf)(pe(...we)).subscribe(q)}},9468:(pt,Me,L)=>{"use strict";L.d(Me,{R:()=>j});var s=L(4482);function j(k,le=0){return(0,s.e)((he,ae)=>{ae.add(k.schedule(()=>he.subscribe(ae),le))})}},8505:(pt,Me,L)=>{"use strict";L.d(Me,{b:()=>he});var s=L(576),j=L(4482),k=L(5403),le=L(4671);function he(ae,Ee,pe){const we=(0,s.m)(ae)||Ee||pe?{next:ae,error:Ee,complete:pe}:ae;return we?(0,j.e)((q,Z)=>{var ie;null===(ie=we.subscribe)||void 0===ie||ie.call(we);let ze=!0;q.subscribe((0,k.x)(Z,Re=>{var Je;null===(Je=we.next)||void 0===Je||Je.call(we,Re),Z.next(Re)},()=>{var Re;ze=!1,null===(Re=we.complete)||void 0===Re||Re.call(we),Z.complete()},Re=>{var Je;ze=!1,null===(Je=we.error)||void 0===Je||Je.call(we,Re),Z.error(Re)},()=>{var Re,Je;ze&&(null===(Re=we.unsubscribe)||void 0===Re||Re.call(we)),null===(Je=we.finalize)||void 0===Je||Je.call(we)}))}):le.y}},4408:(pt,Me,L)=>{"use strict";L.d(Me,{o:()=>he});var s=L(727);class j extends s.w0{constructor(Ee,pe){super()}schedule(Ee,pe=0){return this}}const k={setInterval(ae,Ee,...pe){const{delegate:we}=k;return we?.setInterval?we.setInterval(ae,Ee,...pe):setInterval(ae,Ee,...pe)},clearInterval(ae){const{delegate:Ee}=k;return(Ee?.clearInterval||clearInterval)(ae)},delegate:void 0};var le=L(8737);class he extends j{constructor(Ee,pe){super(Ee,pe),this.scheduler=Ee,this.work=pe,this.pending=!1}schedule(Ee,pe=0){var we;if(this.closed)return this;this.state=Ee;const q=this.id,Z=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(Z,q,pe)),this.pending=!0,this.delay=pe,this.id=null!==(we=this.id)&&void 0!==we?we:this.requestAsyncId(Z,this.id,pe),this}requestAsyncId(Ee,pe,we=0){return k.setInterval(Ee.flush.bind(Ee,this),we)}recycleAsyncId(Ee,pe,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return pe;null!=pe&&k.clearInterval(pe)}execute(Ee,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(Ee,pe);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,pe){let q,we=!1;try{this.work(Ee)}catch(Z){we=!0,q=Z||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:pe}=this,{actions:we}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(we,this),null!=Ee&&(this.id=this.recycleAsyncId(pe,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Me,L)=>{"use strict";L.d(Me,{v:()=>k});var s=L(6063);class j{constructor(he,ae=j.now){this.schedulerActionCtor=he,this.now=ae}schedule(he,ae=0,Ee){return new this.schedulerActionCtor(this,he).schedule(Ee,ae)}}j.now=s.l.now;class k extends j{constructor(he,ae=j.now){super(he,ae),this.actions=[],this._active=!1}flush(he){const{actions:ae}=this;if(this._active)return void ae.push(he);let Ee;this._active=!0;do{if(Ee=he.execute(he.state,he.delay))break}while(he=ae.shift());if(this._active=!1,Ee){for(;he=ae.shift();)he.unsubscribe();throw Ee}}}},4986:(pt,Me,L)=>{"use strict";L.d(Me,{P:()=>le,z:()=>k});var s=L(4408);const k=new(L(7565).v)(s.o),le=k},6063:(pt,Me,L)=>{"use strict";L.d(Me,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(pt,Me,L)=>{"use strict";L.d(Me,{z:()=>s});const s={setTimeout(j,k,...le){const{delegate:he}=s;return he?.setTimeout?he.setTimeout(j,k,...le):setTimeout(j,k,...le)},clearTimeout(j){const{delegate:k}=s;return(k?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(pt,Me,L)=>{"use strict";L.d(Me,{h:()=>j});const j=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Me,L)=>{"use strict";L.d(Me,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,Me,L)=>{"use strict";L.d(Me,{_6:()=>ae,jO:()=>le,yG:()=>he});var s=L(576),j=L(3532);function k(Ee){return Ee[Ee.length-1]}function le(Ee){return(0,s.m)(k(Ee))?Ee.pop():void 0}function he(Ee){return(0,j.K)(k(Ee))?Ee.pop():void 0}function ae(Ee,pe){return"number"==typeof k(Ee)?Ee.pop():pe}},8737:(pt,Me,L)=>{"use strict";function s(j,k){if(j){const le=j.indexOf(k);0<=le&&j.splice(le,1)}}L.d(Me,{P:()=>s})},3888:(pt,Me,L)=>{"use strict";function s(j){const le=j(he=>{Error.call(he),he.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}L.d(Me,{d:()=>s})},2806:(pt,Me,L)=>{"use strict";L.d(Me,{O:()=>le,x:()=>k});var s=L(2416);let j=null;function k(he){if(s.v.useDeprecatedSynchronousErrorHandling){const ae=!j;if(ae&&(j={errorThrown:!1,error:null}),he(),ae){const{errorThrown:Ee,error:pe}=j;if(j=null,Ee)throw pe}}else he()}function le(he){s.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=he)}},9672:(pt,Me,L)=>{"use strict";function s(j,k,le,he=0,ae=!1){const Ee=k.schedule(function(){le(),ae?j.add(this.schedule(null,he)):this.unsubscribe()},he);if(j.add(Ee),!ae)return Ee}L.d(Me,{f:()=>s})},4671:(pt,Me,L)=>{"use strict";function s(j){return j}L.d(Me,{y:()=>s})},1144:(pt,Me,L)=>{"use strict";L.d(Me,{z:()=>s});const s=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(pt,Me,L)=>{"use strict";L.d(Me,{D:()=>j});var s=L(576);function j(k){return Symbol.asyncIterator&&(0,s.m)(k?.[Symbol.asyncIterator])}},576:(pt,Me,L)=>{"use strict";function s(j){return"function"==typeof j}L.d(Me,{m:()=>s})},3670:(pt,Me,L)=>{"use strict";L.d(Me,{c:()=>k});var s=L(8822),j=L(576);function k(le){return(0,j.m)(le[s.L])}},6495:(pt,Me,L)=>{"use strict";L.d(Me,{T:()=>k});var s=L(2202),j=L(576);function k(le){return(0,j.m)(le?.[s.h])}},8239:(pt,Me,L)=>{"use strict";L.d(Me,{t:()=>j});var s=L(576);function j(k){return(0,s.m)(k?.then)}},3260:(pt,Me,L)=>{"use strict";L.d(Me,{L:()=>le,Q:()=>k});var s=L(655),j=L(576);function k(he){return(0,s.FC)(this,arguments,function*(){const Ee=he.getReader();try{for(;;){const{value:pe,done:we}=yield(0,s.qq)(Ee.read());if(we)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(pe)}}finally{Ee.releaseLock()}})}function le(he){return(0,j.m)(he?.getReader)}},3532:(pt,Me,L)=>{"use strict";L.d(Me,{K:()=>j});var s=L(576);function j(k){return k&&(0,s.m)(k.schedule)}},4482:(pt,Me,L)=>{"use strict";L.d(Me,{A:()=>j,e:()=>k});var s=L(576);function j(le){return(0,s.m)(le?.lift)}function k(le){return he=>{if(j(he))return he.lift(function(ae){try{return le(ae,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,Me,L)=>{"use strict";function s(){}L.d(Me,{Z:()=>s})},9635:(pt,Me,L)=>{"use strict";L.d(Me,{U:()=>k,z:()=>j});var s=L(4671);function j(...le){return k(le)}function k(le){return 0===le.length?s.y:1===le.length?le[0]:function(ae){return le.reduce((Ee,pe)=>pe(Ee),ae)}}},7849:(pt,Me,L)=>{"use strict";L.d(Me,{h:()=>k});var s=L(2416),j=L(3410);function k(le){j.z.setTimeout(()=>{const{onUnhandledError:he}=s.v;if(!he)throw le;he(le)})}},4532:(pt,Me,L)=>{"use strict";function s(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Me,{z:()=>s})},655:(pt,Me,L)=>{"use strict";function le(H,W){var J={};for(var X in H)Object.prototype.hasOwnProperty.call(H,X)&&W.indexOf(X)<0&&(J[X]=H[X]);if(null!=H&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(X=Object.getOwnPropertySymbols(H);ve<X.length;ve++)W.indexOf(X[ve])<0&&Object.prototype.propertyIsEnumerable.call(H,X[ve])&&(J[X[ve]]=H[X[ve]])}return J}function pe(H,W,J,X){return new(J||(J=Promise))(function(De,Xe){function St(kt){try{It(X.next(kt))}catch(ft){Xe(ft)}}function Ht(kt){try{It(X.throw(kt))}catch(ft){Xe(ft)}}function It(kt){kt.done?De(kt.value):function ve(De){return De instanceof J?De:new J(function(Xe){Xe(De)})}(kt.value).then(St,Ht)}It((X=X.apply(H,W||[])).next())})}function be(H){return this instanceof be?(this.v=H,this):new be(H)}function Oe(H,W,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,X=J.apply(H,W||[]),De=[];return ve={},Xe("next"),Xe("throw"),Xe("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function Xe(Xt){X[Xt]&&(ve[Xt]=function(Sn){return new Promise(function(At,dt){De.push([Xt,Sn,At,dt])>1||St(Xt,Sn)})})}function St(Xt,Sn){try{!function Ht(Xt){Xt.value instanceof be?Promise.resolve(Xt.value.v).then(It,kt):ft(De[0][2],Xt)}(X[Xt](Sn))}catch(At){ft(De[0][3],At)}}function It(Xt){St("next",Xt)}function kt(Xt){St("throw",Xt)}function ft(Xt,Sn){Xt(Sn),De.shift(),De.length&&St(De[0][0],De[0][1])}}function Fe(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,W=H[Symbol.asyncIterator];return W?W.call(H):(H=function ie(H){var W="function"==typeof Symbol&&Symbol.iterator,J=W&&H[W],X=0;if(J)return J.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&X>=H.length&&(H=void 0),{value:H&&H[X++],done:!H}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}(H),J={},X("next"),X("throw"),X("return"),J[Symbol.asyncIterator]=function(){return this},J);function X(De){J[De]=H[De]&&function(Xe){return new Promise(function(St,Ht){!function ve(De,Xe,St,Ht){Promise.resolve(Ht).then(function(It){De({value:It,done:St})},Xe)}(St,Ht,(Xe=H[De](Xe)).done,Xe.value)})}}}L.d(Me,{FC:()=>Oe,KL:()=>Fe,_T:()=>le,mG:()=>pe,qq:()=>be})},4650:(pt,Me,L)=>{"use strict";L.d(Me,{$8M:()=>Kc,$WT:()=>ti,$Z:()=>e1,AFp:()=>Gf,ALo:()=>y0,AaK:()=>pe,Akn:()=>uo,AsE:()=>Vm,BQk:()=>tf,CHM:()=>Zh,CRH:()=>C0,CZH:()=>Ru,CqO:()=>rf,D6c:()=>JI,DdM:()=>ch,Dn7:()=>fi,EJc:()=>U0,EiD:()=>$C,EpF:()=>Ev,F$t:()=>Wd,F4k:()=>Tv,FYo:()=>zy,FiY:()=>ua,Gf:()=>c_,GfV:()=>Aw,GkF:()=>nf,Gpc:()=>Z,Hsn:()=>E1,Ikx:()=>bu,JOm:()=>$t,JVY:()=>cw,JZr:()=>st,KtG:()=>td,L6k:()=>uw,LAX:()=>fa,LFG:()=>Ze,LMc:()=>fS,LSH:()=>Py,Lbi:()=>AI,Lck:()=>Nt,MAs:()=>Xp,MGl:()=>Mm,MMx:()=>et,MR2:()=>ZC,MT6:()=>Gm,NdJ:()=>sf,OlP:()=>on,Oqu:()=>yf,P3R:()=>bw,PXZ:()=>zf,Q6J:()=>Dm,QGY:()=>Cv,QbO:()=>MI,Qsj:()=>nT,QtT:()=>lI,R0b:()=>Ft,RDi:()=>RC,Rgc:()=>yl,SBq:()=>Vd,SDv:()=>Be,Sil:()=>kI,Suo:()=>u_,TTD:()=>Wo,TgZ:()=>js,Tol:()=>Zd,Udp:()=>df,VKq:()=>ml,W1O:()=>EI,WLB:()=>pI,X6Q:()=>XD,XFs:()=>lt,Xpm:()=>Uo,Xts:()=>Ry,Y36:()=>Ud,YKP:()=>Qn,YNc:()=>Br,Yjl:()=>Go,Yz7:()=>dt,Z0I:()=>Un,ZZ4:()=>lb,_Bn:()=>Tu,_UZ:()=>Iv,_Vd:()=>Ld,_c5:()=>cb,_uU:()=>Bv,aQg:()=>Cl,c2e:()=>OI,cJS:()=>_i,cg1:()=>wu,dDg:()=>VI,dqk:()=>Ut,eBb:()=>VC,eFA:()=>Z0,ekj:()=>hf,eoX:()=>BI,f3M:()=>it,g9A:()=>xI,h0i:()=>Du,hGG:()=>ub,hij:()=>vf,iGM:()=>Au,ifc:()=>Ve,ip1:()=>Xn,jDz:()=>s_,kEZ:()=>pc,kL8:()=>jv,l5B:()=>f0,lG2:()=>Ml,lcZ:()=>gI,lnq:()=>yu,lqb:()=>hu,lri:()=>LI,mCW:()=>Od,n5z:()=>Yc,oAB:()=>Ho,oxw:()=>Sv,pB0:()=>dw,pQV:()=>t_,q3G:()=>pi,q4F:()=>Mw,qLn:()=>Vp,qOj:()=>hv,qZA:()=>zd,qzn:()=>Cs,rFY:()=>fI,rWj:()=>j0,s9C:()=>gu,sBO:()=>eS,s_b:()=>wa,soG:()=>wl,tb:()=>Lu,tp0:()=>D,uIk:()=>vv,uOi:()=>Pp,vHH:()=>be,vpe:()=>qs,wAp:()=>Ot,xi3:()=>_l,xp6:()=>Up,ynx:()=>ul,z2F:()=>Wf,z3N:()=>Ao,zSh:()=>nc,zs3:()=>rc});var s=L(7579),j=L(727),k=L(9751),le=L(6451),he=L(3099);function ae(a){for(let l in a)if(a[l]===ae)return l;throw Error("Could not find renamed property on target object.")}function Ee(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function pe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(pe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function we(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const q=ae({__forward_ref__:ae});function Z(a){return a.__forward_ref__=Z,a.toString=function(){return pe(this())},a}function ie(a){return ze(a)?a():a}function ze(a){return"function"==typeof a&&a.hasOwnProperty(q)&&a.__forward_ref__===Z}function Re(a){return a&&!!a.\u0275providers}const st="https://g.co/ng/security#xss";class be extends Error{constructor(l,c){super(Oe(l,c)),this.code=l}}function Oe(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}function xe(a){return"string"==typeof a?a:null==a?"":String(a)}function Ge(a,l){throw new be(-201,!1)}function ft(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}function dt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function _i(a){return{providers:a.providers||[],imports:a.imports||[]}}function ji(a){return ys(a,Nr)||ys(a,bn)}function Un(a){return null!==ji(a)}function ys(a,l){return a.hasOwnProperty(l)?a[l]:null}function li(a){return a&&(a.hasOwnProperty(Kr)||a.hasOwnProperty(Mi))?a[Kr]:null}const Nr=ae({\u0275prov:ae}),Kr=ae({\u0275inj:ae}),bn=ae({ngInjectableDef:ae}),Mi=ae({ngInjectorDef:ae});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Oi;function ci(a){const l=Oi;return Oi=a,l}function ui(a,l,c){const d=ji(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&lt.Optional?null:void 0!==l?l:void Ge(pe(a))}const Ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yi={},Hn="__NG_DI_FLAG__",Pr="ngTempTokenPath",vi="ngTokenPath",Jr=/\n/gm,Yt="\u0275",Qr="__source";let en;function nr(a){const l=en;return en=a,l}function ei(a,l=lt.Default){if(void 0===en)throw new be(-203,!1);return null===en?ui(a,void 0,l):en.get(a,l&lt.Optional?null:void 0,l)}function Ze(a,l=lt.Default){return(function zi(){return Oi}()||ei)(ie(a),l)}function it(a,l=lt.Default){return Ze(a,Mt(l))}function Mt(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Rt(a){const l=[];for(let c=0;c<a.length;c++){const d=ie(a[c]);if(Array.isArray(d)){if(0===d.length)throw new be(900,!1);let p,f=lt.Default;for(let v=0;v<d.length;v++){const I=d[v],C=Y(I);"number"==typeof C?-1===C?p=I.token:f|=C:p=I}l.push(Ze(p,f))}else l.push(Ze(d))}return l}function sn(a,l){return a[Hn]=l,a.prototype[Hn]=l,a}function Y(a){return a[Hn]}function G(a){return{toString:a}.toString()}var P=(()=>((P=P||{})[P.OnPush=0]="OnPush",P[P.Default=1]="Default",P))(),Ve=(()=>{return(a=Ve||(Ve={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Ve;var a})();const ht={},Qe=[],zt=ae({\u0275cmp:ae}),vt=ae({\u0275dir:ae}),Dn=ae({\u0275pipe:ae}),Ni=ae({\u0275mod:ae}),Gt=ae({\u0275fac:ae}),ir=ae({__NG_ELEMENT_ID__:ae});let Ac=0;function Uo(a){return G(()=>{const c=!0===a.standalone,d={},p={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Qe,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Ve.Emulated,id:"c"+Ac++,styles:a.styles||Qe,_:null,setInput:null,schemas:a.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},f=a.dependencies,v=a.features;return p.inputs=Nc(a.inputs,d),p.outputs=Nc(a.outputs),v&&v.forEach(I=>I(p)),p.directiveDefs=f?()=>("function"==typeof f?f():f).map(Oc).filter(Pi):null,p.pipeDefs=f?()=>("function"==typeof f?f():f).map(Wi).filter(Pi):null,p})}function Oc(a){return dn(a)||Rn(a)}function Pi(a){return null!==a}function Ho(a){return G(()=>({type:a.type,bootstrap:a.bootstrap||Qe,declarations:a.declarations||Qe,imports:a.imports||Qe,exports:a.exports||Qe,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Nc(a,l){if(null==a)return ht;const c={};for(const d in a)if(a.hasOwnProperty(d)){let p=a[d],f=p;Array.isArray(p)&&(f=p[1],p=p[0]),c[p]=d,l&&(l[p]=f)}return c}const Ml=Uo;function Go(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function dn(a){return a[zt]||null}function Rn(a){return a[vt]||null}function Wi(a){return a[Dn]||null}function ti(a){const l=dn(a)||Rn(a)||Wi(a);return null!==l&&l.standalone}function rr(a,l){const c=a[Ni]||null;if(!c&&!0===l)throw new Error(`Type ${pe(a)} does not have '\u0275mod' property.`);return c}const kr=0,ot=1,Tt=2,Gn=3,qi=4,vs=5,bi=6,fn=7,xn=8,Ol=9,tn=10,nn=11,xa=12,$o=13,Aa=14,Ms=15,ki=16,Nl=17,Os=18,br=19,Cn=20,ni=21,An=22,Pc=1,Pl=2,kl=7,Ns=8,Rr=9,Ri=10;function Fr(a){return Array.isArray(a)&&"object"==typeof a[Pc]}function Lr(a){return Array.isArray(a)&&!0===a[Pc]}function Ps(a){return 0!=(4&a.flags)}function Ma(a){return a.componentOffset>-1}function kc(a){return 1==(1&a.flags)}function wi(a){return null!==a.template}function Tg(a){return 0!=(256&a[Tt])}function yo(a,l){return a.hasOwnProperty(Gt)?a[Gt]:null}class zo{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Wo(){return qo}function qo(a){return a.type.prototype.ngOnChanges&&(a.setInput=vo),Vl}function Vl(){const a=Bl(this),l=a?.current;if(l){const c=a.previous;if(c===ht)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function vo(a,l,c,d){const p=this.declaredInputs[c],f=Bl(a)||function Ul(a,l){return a[Zo]=l}(a,{previous:ht,current:null}),v=f.current||(f.current={}),I=f.previous,C=I[p];v[p]=new zo(C&&C.currentValue,l,I===ht),a[d]=l}Wo.ngInherit=!0;const Zo="__ngSimpleChanges__";function Bl(a){return a[Zo]||null}const wr=function(a,l,c){};function Zn(a){for(;Array.isArray(a);)a=a[kr];return a}function to(a,l){return Zn(l[a])}function Fi(a,l){return Zn(l[a.index])}function Hl(a,l){return a.data[l]}function Fs(a,l){return a[l]}function Ii(a,l){const c=l[a];return Fr(c)?c:c[kr]}function wo(a){return 64==(64&a[Tt])}function Xr(a,l){return null==l?null:a[l]}function Vc(a){a[Os]=0}function Io(a,l){a[vs]+=l;let c=a,d=a[Gn];for(;null!==d&&(1===l&&1===c[vs]||-1===l&&0===c[vs]);)d[vs]+=l,c=d,d=d[Gn]}const Wt={lFrame:Ag(null),bindingsEnabled:!0};function ed(){return Wt.bindingsEnabled}function Ce(){return Wt.lFrame.lView}function an(){return Wt.lFrame.tView}function Zh(a){return Wt.lFrame.contextLView=a,a[xn]}function td(a){return Wt.lFrame.contextLView=null,a}function Ei(){let a=Uc();for(;null!==a&&64===a.type;)a=a.parent;return a}function Uc(){return Wt.lFrame.currentTNode}function Ko(){const a=Wt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function es(a,l){const c=Wt.lFrame;c.currentTNode=a,c.isParent=l}function Jo(){return Wt.lFrame.isParent}function nd(){Wt.lFrame.isParent=!1}function Zi(){const a=Wt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function sr(){return Wt.lFrame.bindingIndex}function Ls(){return Wt.lFrame.bindingIndex++}function no(a){const l=Wt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function ea(a){Wt.lFrame.inI18n=a}function Hc(a,l){const c=Wt.lFrame;c.bindingIndex=c.bindingRootIndex=a,io(l)}function io(a){Wt.lFrame.currentDirectiveIndex=a}function Jh(){return Wt.lFrame.currentQueryIndex}function Gc(a){Wt.lFrame.currentQueryIndex=a}function rd(a){const l=a[ot];return 2===l.type?l.declTNode:1===l.type?a[bi]:null}function Qh(a,l,c){if(c&lt.SkipSelf){let p=l,f=a;for(;!(p=p.parent,null!==p||c&lt.Host||(p=rd(f),null===p||(f=f[Ms],10&p.type))););if(null===p)return!1;l=p,a=f}const d=Wt.lFrame=xg();return d.currentTNode=l,d.lView=a,!0}function jl(a){const l=xg(),c=a[ot];Wt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function xg(){const a=Wt.lFrame,l=null===a?null:a.child;return null===l?Ag(a):l}function Ag(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Mg(){const a=Wt.lFrame;return Wt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const sd=Mg;function Og(){const a=Mg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Ir(){return Wt.lFrame.selectedIndex}function Vs(a){Wt.lFrame.selectedIndex=a}function yn(){const a=Wt.lFrame;return Hl(a.tView,a.selectedIndex)}function Va(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const f=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:C,ngAfterViewChecked:x,ngOnDestroy:N}=f;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),I&&((a.contentHooks||(a.contentHooks=[])).push(c,I),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,I)),C&&(a.viewHooks||(a.viewHooks=[])).push(-c,C),x&&((a.viewHooks||(a.viewHooks=[])).push(c,x),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,x)),null!=N&&(a.destroyHooks||(a.destroyHooks=[])).push(c,N)}}function ta(a,l,c){cd(a,l,3,c)}function Bs(a,l,c,d){(3&a[Tt])===c&&cd(a,l,c,d)}function ws(a,l){let c=a[Tt];(3&c)===l&&(c&=2047,c+=1,a[Tt]=c)}function cd(a,l,c,d){const f=d??-1,v=l.length-1;let I=0;for(let C=void 0!==d?65535&a[Os]:0;C<v;C++)if("number"==typeof l[C+1]){if(I=l[C],null!=d&&I>=d)break}else l[C]<0&&(a[Os]+=65536),(I<f||-1==f)&&(zl(a,c,l,C),a[Os]=(4294901760&a[Os])+C+2),C++}function zl(a,l,c,d){const p=c[d]<0,f=c[d+1],I=a[p?-c[d]:c[d]];if(p){if(a[Tt]>>11<a[Os]>>16&&(3&a[Tt])===l){a[Tt]+=2048,wr(4,I,f);try{f.call(I)}finally{wr(5,I,f)}}}else{wr(4,I,f);try{f.call(I)}finally{wr(5,I,f)}}}const na=-1;class Ba{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Eo(a,l,c){let d=0;for(;d<c.length;){const p=c[d];if("number"==typeof p){if(0!==p)break;d++;const f=c[d++],v=c[d++],I=c[d++];a.setAttribute(l,v,I,f)}else{const f=p,v=c[++d];Ga(f)?a.setProperty(l,f,v):a.setAttribute(l,f,v),d++}}return d}function Co(a){return 3===a||4===a||6===a}function Ga(a){return 64===a.charCodeAt(0)}function ts(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const p=l[d];"number"==typeof p?c=p:0===c||$c(a,c,p,null,-1===c||2===c?l[++d]:null)}}return a}function $c(a,l,c,d,p){let f=0,v=a.length;if(-1===l)v=-1;else for(;f<a.length;){const I=a[f++];if("number"==typeof I){if(I===l){v=-1;break}if(I>l){v=f-1;break}}}for(;f<a.length;){const I=a[f];if("number"==typeof I)break;if(I===c){if(null===d)return void(null!==p&&(a[f+1]=p));if(d===a[f+1])return void(a[f+2]=p)}f++,null!==d&&f++,null!==p&&f++}-1!==v&&(a.splice(v,0,l),f=v+1),a.splice(f++,0,c),null!==d&&a.splice(f++,0,d),null!==p&&a.splice(f++,0,p)}function jc(a){return a!==na}function $a(a){return 32767&a}function To(a,l){let c=function zc(a){return a>>16}(a),d=l;for(;c>0;)d=d[Ms],c--;return d}let ia=!0;function Is(a){const l=ia;return ia=a,l}const ja=255,so=5;let ud=0;const or={};function oo(a,l){const c=Wc(a,l);if(-1!==c)return c;const d=l[ot];d.firstCreatePass&&(a.injectorIndex=l.length,sa(d.data,a),sa(l,null),sa(d.blueprint,null));const p=za(a,l),f=a.injectorIndex;if(jc(p)){const v=$a(p),I=To(p,l),C=I[ot].data;for(let x=0;x<8;x++)l[f+x]=I[v+x]|C[v+x]}return l[f+8]=p,f}function sa(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Wc(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function za(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,p=l;for(;null!==p;){if(d=sp(p),null===d)return na;if(c++,p=p[Ms],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return na}function hd(a,l,c){!function dd(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(ir)&&(d=c[ir]),null==d&&(d=c[ir]=ud++);const p=d&ja;l.data[a+(p>>so)]|=1<<p}(a,l,c)}function pd(a,l,c){if(c&lt.Optional||void 0!==a)return a;Ge()}function oa(a,l,c,d){if(c&lt.Optional&&void 0===d&&(d=null),!(c&(lt.Self|lt.Host))){const p=a[Ol],f=ci(void 0);try{return p?p.get(l,d,c&lt.Optional):ui(l,d,c&lt.Optional)}finally{ci(f)}}return pd(d,0,c)}function np(a,l,c,d=lt.Default,p){if(null!==a){if(1024&l[Tt]){const v=function rp(a,l,c,d,p){let f=a,v=l;for(;null!==f&&null!==v&&1024&v[Tt]&&!(256&v[Tt]);){const I=ns(f,v,c,d|lt.Self,or);if(I!==or)return I;let C=f.parent;if(!C){const x=v[ni];if(x){const N=x.get(c,or,d);if(N!==or)return N}C=sp(v),v=v[Ms]}f=C}return p}(a,l,c,d,or);if(v!==or)return v}const f=ns(a,l,c,d,or);if(f!==or)return f}return oa(l,c,d,p)}function ns(a,l,c,d,p){const f=function fd(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(ir)?a[ir]:void 0;return"number"==typeof l?l>=0?l&ja:ip:l}(c);if("function"==typeof f){if(!Qh(l,a,d))return d&lt.Host?pd(p,0,d):oa(l,c,d,p);try{const v=f(d);if(null!=v||d&lt.Optional)return v;Ge()}finally{sd()}}else if("number"==typeof f){let v=null,I=Wc(a,l),C=na,x=d&lt.Host?l[ki][bi]:null;for((-1===I||d&lt.SkipSelf)&&(C=-1===I?za(a,l):l[I+8],C!==na&&Cr(d,!1)?(v=l[ot],I=$a(C),l=To(C,l)):I=-1);-1!==I;){const N=l[ot];if(Zc(f,I,N.data)){const V=qc(I,l,c,v,d,x);if(V!==or)return V}C=l[I+8],C!==na&&Cr(d,l[ot].data[I+8]===x)&&Zc(f,I,l)?(v=N,I=$a(C),l=To(C,l)):I=-1}}return p}function qc(a,l,c,d,p,f){const v=l[ot],I=v.data[a+8],N=Wa(I,v,c,null==d?Ma(I)&&ia:d!=v&&0!=(3&I.type),p&lt.Host&&f===I);return null!==N?is(l,v,N,I):or}function Wa(a,l,c,d,p){const f=a.providerIndexes,v=l.data,I=1048575&f,C=a.directiveStart,N=f>>20,Q=p?I+N:a.directiveEnd;for(let ce=d?I:I+N;ce<Q;ce++){const Ae=v[ce];if(ce<C&&c===Ae||ce>=C&&Ae.type===c)return ce}if(p){const ce=v[C];if(ce&&wi(ce)&&ce.type===c)return C}return null}function is(a,l,c,d){let p=a[c];const f=l.data;if(function Er(a){return a instanceof Ba}(p)){const v=p;v.resolving&&function Le(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new be(-200,`Circular dependency in DI detected for ${a}${c}`)}(function Fe(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():xe(a)}(f[c]));const I=Is(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?ci(v.injectImpl):null;Qh(a,d,lt.Default);try{p=a[c]=v.factory(void 0,f,a,d),l.firstCreatePass&&c>=d.directiveStart&&function ld(a,l,c){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:f}=l.type.prototype;if(d){const v=qo(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,p),f&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,f),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,f))}(c,f[c],l)}finally{null!==C&&ci(C),Is(I),v.resolving=!1,sd()}}return p}function Zc(a,l,c){return!!(c[l+(a>>so)]&1<<a)}function Cr(a,l){return!(a&lt.Self||a&lt.Host&&l)}class ao{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return np(this._tNode,this._lView,l,Mt(d),c)}}function ip(){return new ao(Ei(),Ce())}function Yc(a){return G(()=>{const l=a.prototype.constructor,c=l[Gt]||aa(l),d=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==d;){const f=p[Gt]||aa(p);if(f&&f!==c)return f;p=Object.getPrototypeOf(p)}return f=>new f})}function aa(a){return ze(a)?()=>{const l=aa(ie(a));return l&&l()}:yo(a)}function sp(a){const l=a[ot],c=l.type;return 2===c?l.declTNode:1===c?a[bi]:null}function Kc(a){return function Wl(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let p=0;for(;p<d;){const f=c[p];if(Co(f))break;if(0===f)p+=2;else if("number"==typeof f)for(p++;p<d&&"string"==typeof c[p];)p++;else{if(f===l)return c[p+1];p+=2}}}return null}(Ei(),a)}const qa="__parameters__";function ql(a,l,c){return G(()=>{const d=function gd(a){return function(...c){if(a){const d=a(...c);for(const p in d)this[p]=d[p]}}}(l);function p(...f){if(this instanceof p)return d.apply(this,f),this;const v=new p(...f);return I.annotation=v,I;function I(C,x,N){const V=C.hasOwnProperty(qa)?C[qa]:Object.defineProperty(C,qa,{value:[]})[qa];for(;V.length<=N;)V.push(null);return(V[N]=V[N]||[]).push(v),C}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class on{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=dt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Us(a,l){a.forEach(c=>Array.isArray(c)?Us(c,l):l(c))}function Xc(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Ya(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function lo(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Tr(a,l,c){let d=$n(a,l);return d>=0?a[1|d]=c:(d=~d,function kg(a,l,c,d){let p=a.length;if(p==l)a.push(c,d);else if(1===p)a.push(d,a[0]),a[0]=c;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function In(a,l){const c=$n(a,l);if(c>=0)return a[1|c]}function $n(a,l){return function vn(a,l,c){let d=0,p=a.length>>c;for(;p!==d;){const f=d+(p-d>>1),v=a[f<<c];if(l===v)return f<<c;v>l?p=f:d=f+1}return~(p<<c)}(a,l,1)}const ua=sn(ql("Optional"),8),D=sn(ql("SkipSelf"),4);var $t=(()=>(($t=$t||{})[$t.Important=1]="Important",$t[$t.DashCase=2]="DashCase",$t))();const nu=/^>|^->|<!--|-->|--!>|<!-$/g,gy=/(<|>)/,Xl="\u200b$1\u200b";const _p=new Map;let Es=0;const Dd="__ngContext__";function dr(a,l){Fr(l)?(a[Dd]=l[Cn],function yp(a){_p.set(a[Cn],a)}(l)):a[Dd]=l}let ue;function ke(a,l){return ue(a,l)}function Et(a){const l=a[Gn];return Lr(l)?l[Gn]:l}function ss(a){return ru(a[$o])}function os(a){return ru(a[qi])}function ru(a){for(;null!==a&&!Lr(a);)a=a[qi];return a}function xo(a,l,c,d,p){if(null!=d){let f,v=!1;Lr(d)?f=d:Fr(d)&&(v=!0,d=d[kr]);const I=Zn(d);0===a&&null!==c?null==p?ew(l,c,I):au(l,c,I,p||null,!0):1===a&&null!==c?au(l,c,I,p||null,!0):2===a?wy(l,I,v):3===a&&l.destroyNode(I),null!=f&&function xp(a,l,c,d,p){const f=c[kl];f!==Zn(c)&&xo(l,a,d,f,p);for(let I=Ri;I<c.length;I++){const C=c[I];Sp(C[ot],C,a,l,d,f)}}(l,a,f,c,p)}}function ha(a,l){return a.createText(l)}function Sd(a,l,c){a.setValue(l,c)}function Ip(a,l){return a.createComment(function Td(a){return a.replace(nu,l=>l.replace(gy,Xl))}(l))}function su(a,l,c){return a.createElement(l,c)}function zg(a,l){const c=a[Rr],d=c.indexOf(l),p=l[Gn];512&l[Tt]&&(l[Tt]&=-513,Io(p,-1)),c.splice(d,1)}function _y(a,l){if(a.length<=Ri)return;const c=Ri+l,d=a[c];if(d){const p=d[Nl];null!==p&&p!==a&&zg(p,d),l>0&&(a[c-1][qi]=d[qi]);const f=Ya(a,Ri+l);!function Gg(a,l){Sp(a,l,l[nn],2,null,null),l[kr]=null,l[bi]=null}(d[ot],d);const v=f[br];null!==v&&v.detachView(f[ot]),d[Gn]=null,d[qi]=null,d[Tt]&=-65}return d}function Wg(a,l){if(!(128&l[Tt])){const c=l[nn];c.destroyNode&&Sp(a,l,c,3,null,null),function jg(a){let l=a[$o];if(!l)return xd(a[ot],a);for(;l;){let c=null;if(Fr(l))c=l[$o];else{const d=l[Ri];d&&(c=d)}if(!c){for(;l&&!l[qi]&&l!==a;)Fr(l)&&xd(l[ot],l),l=l[Gn];null===l&&(l=a),Fr(l)&&xd(l[ot],l),c=l&&l[qi]}l=c}}(l)}}function xd(a,l){if(!(128&l[Tt])){l[Tt]&=-65,l[Tt]|=128,function ou(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const p=l[c[d]];if(!(p instanceof Ba)){const f=c[d+1];if(Array.isArray(f))for(let v=0;v<f.length;v+=2){const I=p[f[v]],C=f[v+1];wr(4,I,C);try{C.call(I)}finally{wr(5,I,C)}}else{wr(4,p,f);try{f.call(p)}finally{wr(5,p,f)}}}}}(a,l),function MC(a,l){const c=a.cleanup,d=l[fn];let p=-1;if(null!==c)for(let f=0;f<c.length-1;f+=2)if("string"==typeof c[f]){const v=c[f+3];v>=0?d[p=v]():d[p=-v].unsubscribe(),f+=2}else{const v=d[p=c[f+1]];c[f].call(v)}if(null!==d){for(let f=p+1;f<d.length;f++)(0,d[f])();l[fn]=null}}(a,l),1===l[ot].type&&l[nn].destroy();const c=l[Nl];if(null!==c&&Lr(l[Gn])){c!==l[Gn]&&zg(c,l);const d=l[br];null!==d&&d.detachView(a)}!function Vg(a){_p.delete(a[Cn])}(l)}}function qg(a,l,c){return OC(a,l.parent,c)}function OC(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[kr];{const{componentOffset:p}=d;if(p>-1){const{encapsulation:f}=a.data[d.directiveStart+p];if(f===Ve.None||f===Ve.Emulated)return null}return Fi(d,c)}}function au(a,l,c,d,p){a.insertBefore(l,c,d,p)}function ew(a,l,c){a.appendChild(l,c)}function tw(a,l,c,d,p){null!==d?au(a,l,c,d,p):ew(a,l,c)}function nl(a,l){return a.parentNode(l)}function yy(a,l,c){return lu(a,l,c)}function vy(a,l,c){return 40&a.type?Fi(a,c):null}let by,Mp,Cy,Qg,lu=vy;function iw(a,l){lu=a,by=l}function Tp(a,l,c,d){const p=qg(a,d,l),f=l[nn],I=yy(d.parent||l[bi],d,l);if(null!=p)if(Array.isArray(c))for(let C=0;C<c.length;C++)tw(f,p,c[C],I,!1);else tw(f,p,c,I,!1);void 0!==by&&by(f,d,l,c,p)}function Yg(a,l){if(null!==l){const c=l.type;if(3&c)return Fi(l,a);if(4&c)return cu(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Yg(a,d);{const p=a[l.index];return Lr(p)?cu(-1,p):Zn(p)}}if(32&c)return ke(l,a)()||Zn(a[l.index]);{const d=Kg(a,l);return null!==d?Array.isArray(d)?d[0]:Yg(Et(a[ki]),d):Yg(a,l.next)}}return null}function Kg(a,l){return null!==l?a[ki][bi].projection[l.projection]:null}function cu(a,l){const c=Ri+a+1;if(c<l.length){const d=l[c],p=d[ot].firstChild;if(null!==p)return Yg(d,p)}return l[kl]}function wy(a,l,c){const d=nl(a,l);d&&function Cp(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}function Dp(a,l,c,d,p,f,v){for(;null!=c;){const I=d[c.index],C=c.type;if(v&&0===l&&(I&&dr(Zn(I),d),c.flags|=2),32!=(32&c.flags))if(8&C)Dp(a,l,c.child,d,p,f,!1),xo(l,a,p,I,f);else if(32&C){const x=ke(c,d);let N;for(;N=x();)xo(l,a,p,N,f);xo(l,a,p,I,f)}else 16&C?Iy(a,l,d,c,p,f):xo(l,a,p,I,f);c=v?c.projectionNext:c.next}}function Sp(a,l,c,d,p,f){Dp(c,d,a.firstChild,l,p,f,!1)}function Iy(a,l,c,d,p,f){const v=c[ki],C=v[bi].projection[d.projection];if(Array.isArray(C))for(let x=0;x<C.length;x++)xo(l,a,p,C[x],f);else Dp(a,l,C,v[Gn],p,f,!0)}function tc(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function Ap(a,l,c){const{mergedAttrs:d,classes:p,styles:f}=c;null!==d&&Eo(a,l,d),null!==p&&tc(a,l,p),null!==f&&function Ey(a,l,c){a.setAttribute(l,"style",c)}(a,l,f)}function uu(a){return function Jg(){if(void 0===Mp&&(Mp=null,Ut.trustedTypes))try{Mp=Ut.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Mp}()?.createHTML(a)||a}function RC(a){Cy=a}function aw(a){return function Ty(){if(void 0===Qg&&(Qg=null,Ut.trustedTypes))try{Qg=Ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Qg}()?.createScriptURL(a)||a}class Ad{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}class FC extends Ad{getTypeName(){return"HTML"}}class tO extends Ad{getTypeName(){return"Style"}}class LC extends Ad{getTypeName(){return"Script"}}class lw extends Ad{getTypeName(){return"URL"}}class Sy extends Ad{getTypeName(){return"ResourceURL"}}function Ao(a){return a instanceof Ad?a.changingThisBreaksApplicationSecurity:a}function Cs(a,l){const c=function Md(a){return a instanceof Ad&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see ${st})`)}return c===l}function cw(a){return new FC(a)}function uw(a){return new tO(a)}function VC(a){return new LC(a)}function fa(a){return new lw(a)}function dw(a){return new Sy(a)}function hw(a){const l=new pw(a);return function xy(){try{return!!(new window.DOMParser).parseFromString(uu(""),"text/html")}catch{return!1}}()?new Xg(l):l}class Xg{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(uu(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class pw{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=uu(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=uu(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let p=c.length-1;0<p;p--){const v=c.item(p).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const fw=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Od(a){return(a=String(a)).match(fw)?a:"unsafe:"+a}function Mo(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Op(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Nd=Mo("area,br,col,hr,img,wbr"),gw=Mo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mw=Mo("rp,rt"),em=Op(Nd,Op(gw,Mo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Op(mw,Mo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Op(mw,gw)),tm=Mo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Np=Op(tm,Mo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ay=Mo("script,style,template");class HC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let p=this.checkClobberedElement(c,c.nextSibling);if(p){c=p;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!em.hasOwnProperty(c))return this.sanitizedSomething=!0,!Ay.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let p=0;p<d.length;p++){const f=d.item(p),v=f.name,I=v.toLowerCase();if(!Np.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let C=f.value;tm[I]&&(C=Od(C)),this.buf.push(" ",v,'="',Oy(C),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();em.hasOwnProperty(c)&&!Nd.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Oy(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const GC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,My=/([^\#-~ |!])/g;function Oy(a){return a.replace(/&/g,"&amp;").replace(GC,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(My,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ny;function $C(a,l){let c=null;try{Ny=Ny||hw(a);let d=l?String(l):"";c=Ny.getInertBodyElement(d);let p=5,f=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=f,f=c.innerHTML,c=Ny.getInertBodyElement(d)}while(d!==f);return uu((new HC).sanitizeChildren(yw(c)||c))}finally{if(c){const d=yw(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function yw(a){return"content"in a&&function iO(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var pi=(()=>((pi=pi||{})[pi.NONE=0]="NONE",pi[pi.HTML=1]="HTML",pi[pi.STYLE=2]="STYLE",pi[pi.SCRIPT=3]="SCRIPT",pi[pi.URL=4]="URL",pi[pi.RESOURCE_URL=5]="RESOURCE_URL",pi))();function Py(a){const l=Rp();return l?l.sanitize(pi.URL,a)||"":Cs(a,"URL")?Ao(a):Od(xe(a))}function Pp(a){const l=Rp();if(l)return aw(l.sanitize(pi.RESOURCE_URL,a)||"");if(Cs(a,"ResourceURL"))return aw(Ao(a));throw new be(904,!1)}function bw(a,l,c){return function WC(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?Pp:Py}(l,c)(a)}function Rp(){const a=Ce();return a&&a[xa]}const Ry=new on("ENVIRONMENT_INITIALIZER"),du=new on("INJECTOR",-1),Pd=new on("INJECTOR_DEF_TYPES");class ww{get(l,c=yi){if(c===yi){const d=new Error(`NullInjectorError: No provider for ${pe(l)}!`);throw d.name="NullInjectorError",d}return c}}function ZC(a){return{\u0275providers:a}}function Fp(...a){return{\u0275providers:kd(0,a),\u0275fromNgModule:!0}}function kd(a,...l){const c=[],d=new Set;let p;return Us(l,f=>{const v=f;Fy(v,c,[],d)&&(p||(p=[]),p.push(v))}),void 0!==p&&Iw(p,c),c}function Iw(a,l){for(let c=0;c<a.length;c++){const{providers:p}=a[c];Ly(p,f=>{l.push(f)})}}function Fy(a,l,c,d){if(!(a=ie(a)))return!1;let p=null,f=li(a);const v=!f&&dn(a);if(f||v){if(v&&!v.standalone)return!1;p=a}else{const C=a.ngModule;if(f=li(C),!f)return!1;p=C}const I=d.has(p);if(v){if(I)return!1;if(d.add(p),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of C)Fy(x,l,c,d)}}else{if(!f)return!1;{if(null!=f.imports&&!I){let x;d.add(p);try{Us(f.imports,N=>{Fy(N,l,c,d)&&(x||(x=[]),x.push(N))})}finally{}void 0!==x&&Iw(x,l)}if(!I){const x=yo(p)||(()=>new p);l.push({provide:p,useFactory:x,deps:Qe},{provide:Pd,useValue:p,multi:!0},{provide:Ry,useValue:()=>Ze(p),multi:!0})}const C=f.providers;null==C||I||Ly(C,N=>{l.push(N)})}}return p!==a&&void 0!==a.providers}function Ly(a,l){for(let c of a)Re(c)&&(c=c.\u0275providers),Array.isArray(c)?Ly(c,l):l(c)}const YC=ae({provide:String,useValue:ae});function Vy(a){return null!==a&&"object"==typeof a&&YC in a}function il(a){return"function"==typeof a}const nc=new on("Set Injector scope."),rm={},JC={};let By;function sm(){return void 0===By&&(By=new ww),By}class hu{}class Cw extends hu{get destroyed(){return this._destroyed}constructor(l,c,d,p){super(),this.parent=c,this.source=d,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fd(l,v=>this.processProvider(v)),this.records.set(du,Rd(void 0,this)),p.has("environment")&&this.records.set(hu,Rd(void 0,this));const f=this.records.get(nc);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Pd.multi,Qe,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=nr(this),d=ci(void 0);try{return l()}finally{nr(c),ci(d)}}get(l,c=yi,d=lt.Default){this.assertNotDestroyed(),d=Mt(d);const p=nr(this),f=ci(void 0);try{if(!(d&lt.SkipSelf)){let I=this.records.get(l);if(void 0===I){const C=function $y(a){return"function"==typeof a||"object"==typeof a&&a instanceof on}(l)&&ji(l);I=C&&this.injectableDefInScope(C)?Rd(Uy(l),rm):null,this.records.set(l,I)}if(null!=I)return this.hydrate(l,I)}return(d&lt.Self?sm():this.parent).get(l,c=d&lt.Optional&&c===yi?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Pr]=v[Pr]||[]).unshift(pe(l)),p)throw v;return function z(a,l,c,d){const p=a[Pr];throw l[Qr]&&p.unshift(l[Qr]),a.message=function ee(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Yt?a.slice(2):a;let p=pe(l);if(Array.isArray(l))p=l.map(pe).join(" -> ");else if("object"==typeof l){let f=[];for(let v in l)if(l.hasOwnProperty(v)){let I=l[v];f.push(v+":"+("string"==typeof I?JSON.stringify(I):pe(I)))}p=`{${f.join(", ")}}`}return`${c}${d?"("+d+")":""}[${p}]: ${a.replace(Jr,"\n  ")}`}("\n"+a.message,p,c,d),a[vi]=p,a[Pr]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{ci(f),nr(p)}}resolveInjectorInitializers(){const l=nr(this),c=ci(void 0);try{const d=this.get(Ry.multi,Qe,lt.Self);for(const p of d)p()}finally{nr(l),ci(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(pe(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(l){let c=il(l=ie(l))?l:ie(l&&l.provide);const d=function XC(a){return Vy(a)?Rd(void 0,a.useValue):Rd(Hy(a),rm)}(l);if(il(l)||!0!==l.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=Rd(void 0,rm,!0),p.factory=()=>Rt(p.multi),this.records.set(c,p)),c=l,p.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===rm&&(c.value=JC,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Tw(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=ie(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Uy(a){const l=ji(a),c=null!==l?l.factory:yo(a);if(null!==c)return c;if(a instanceof on)throw new be(204,!1);if(a instanceof Function)return function QC(a){const l=a.length;if(l>0)throw lo(l,"?"),new be(204,!1);const c=function eo(a){const l=a&&(a[Nr]||a[bn]);if(l){const c=function Yr(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new be(204,!1)}function Hy(a,l,c){let d;if(il(a)){const p=ie(a);return yo(p)||Uy(p)}if(Vy(a))d=()=>ie(a.useValue);else if(function Ew(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Rt(a.deps||[]));else if(function KC(a){return!(!a||!a.useExisting)}(a))d=()=>Ze(ie(a.useExisting));else{const p=ie(a&&(a.useClass||a.provide));if(!function Gy(a){return!!a.deps}(a))return yo(p)||Uy(p);d=()=>new p(...Rt(a.deps))}return d}function Rd(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function Fd(a,l){for(const c of a)Array.isArray(c)?Fd(c,l):c&&Re(c)?Fd(c.\u0275providers,l):l(c)}class eT{}class Dw{}class xw{resolveComponentFactory(l){throw function tT(a){const l=Error(`No component factory found for ${pe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Ld=(()=>{class a{}return a.NULL=new xw,a})();function om(){return rl(Ei(),Ce())}function rl(a,l){return new Vd(Fi(a,l))}let Vd=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=om,a})();function Lp(a){return a instanceof Vd?a.nativeElement:a}class zy{}let nT=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function iT(){const a=Ce(),c=Ii(Ei().index,a);return(Fr(c)?c:a)[nn]}(),a})(),rT=(()=>{class a{}return a.\u0275prov=dt({token:a,providedIn:"root",factory:()=>null}),a})();class Aw{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Mw=new Aw("15.1.1"),am={},Wy="ngOriginalError";function qy(a){return a[Wy]}class Vp{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&qy(l);for(;c&&qy(c);)c=qy(c);return c||null}}function ga(a){return a instanceof Function?a():a}function Fw(a,l,c){let d=a.length;for(;;){const p=a.indexOf(l,c);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const f=l.length;if(p+f===d||a.charCodeAt(p+f)<=32)return p}c=p+1}}const Zy="ng-template";function Yy(a,l,c){let d=0;for(;d<a.length;){let p=a[d++];if(c&&"class"===p){if(p=a[d],-1!==Fw(p.toLowerCase(),l,0))return!0}else if(1===p){for(;d<a.length&&"string"==typeof(p=a[d++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function Lw(a){return 4===a.type&&a.value!==Zy}function Vw(a,l,c){return l===(4!==a.type||c?a.value:Zy)}function Bd(a,l,c){let d=4;const p=a.attrs||[],f=function cm(a){for(let l=0;l<a.length;l++)if(Co(a[l]))return l;return a.length}(p);let v=!1;for(let I=0;I<l.length;I++){const C=l[I];if("number"!=typeof C){if(!v)if(4&d){if(d=2|1&d,""!==C&&!Vw(a,C,c)||""===C&&1===l.length){if(Gs(d))return!1;v=!0}}else{const x=8&d?C:l[++I];if(8&d&&null!==a.attrs){if(!Yy(a.attrs,x,c)){if(Gs(d))return!1;v=!0}continue}const V=dT(8&d?"class":C,p,Lw(a),c);if(-1===V){if(Gs(d))return!1;v=!0;continue}if(""!==x){let Q;Q=V>f?"":p[V+1].toLowerCase();const ce=8&d?Q:null;if(ce&&-1!==Fw(ce,x,0)||2&d&&x!==Q){if(Gs(d))return!1;v=!0}}}}else{if(!v&&!Gs(d)&&!Gs(C))return!1;if(v&&Gs(C))continue;v=!1,d=C|1&d}}return Gs(d)||v}function Gs(a){return 0==(1&a)}function dT(a,l,c,d){if(null===l)return-1;let p=0;if(d||!c){let f=!1;for(;p<l.length;){const v=l[p];if(v===a)return p;if(3===v||6===v)f=!0;else{if(1===v||2===v){let I=l[++p];for(;"string"==typeof I;)I=l[++p];continue}if(4===v)break;if(0===v){p+=4;continue}}p+=f?1:2}return-1}return function Bw(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function Ky(a,l,c=!1){for(let d=0;d<l.length;d++)if(Bd(a,l[d],c))return!0;return!1}function Uw(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let p=0;p<a.length;p++)if(a[p]!==d[p])continue e;return!0}}return!1}function Hw(a,l){return a?":not("+l.trim()+")":l}function hT(a){let l=a[0],c=1,d=2,p="",f=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const I=a[++c];p+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&d?p+="."+v:4&d&&(p+=" "+v);else""!==p&&!Gs(v)&&(l+=Hw(f,p),p=""),d=v,f=f||!Gs(d);c++}return""!==p&&(l+=Hw(f,p)),l}const Qt={};function Up(a){Gw(an(),Ce(),Ir()+a,!1)}function Gw(a,l,c,d){if(!d)if(3==(3&l[Tt])){const f=a.preOrderCheckHooks;null!==f&&ta(l,f,c)}else{const f=a.preOrderHooks;null!==f&&Bs(l,f,0,c)}Vs(c)}function qw(a,l=null,c=null,d){const p=Zw(a,l,c,d);return p.resolveInjectorInitializers(),p}function Zw(a,l=null,c=null,d,p=new Set){const f=[c||Qe,Fp(a)];return d=d||("object"==typeof a?void 0:pe(a)),new Cw(f,l||sm(),d||null,p)}let rc=(()=>{class a{static create(c,d){if(Array.isArray(c))return qw({name:""},d,c,"");{const p=c.name??"";return qw({name:p},c.parent,c.providers,p)}}}return a.THROW_IF_NOT_FOUND=yi,a.NULL=new ww,a.\u0275prov=dt({token:a,providedIn:"any",factory:()=>Ze(du)}),a.__NG_ELEMENT_ID__=-1,a})();function Ud(a,l=lt.Default){const c=Ce();return null===c?Ze(a,l):np(Ei(),c,ie(a),l)}function e1(){throw new Error("invalid")}function iv(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d+1];if(-1!==f){const v=a.data[f];Gc(c[d]),v.contentQueries(2,l[f],f)}}}function pu(a,l,c,d,p,f,v,I,C,x,N){const V=l.blueprint.slice();return V[kr]=p,V[Tt]=76|d,(null!==N||a&&1024&a[Tt])&&(V[Tt]|=1024),Vc(V),V[Gn]=V[Ms]=a,V[xn]=c,V[tn]=v||a&&a[tn],V[nn]=I||a&&a[nn],V[xa]=C||a&&a[xa]||null,V[Ol]=x||a&&a[Ol]||null,V[bi]=f,V[Cn]=function Lg(){return Es++}(),V[ni]=N,V[ki]=2==l.type?a[ki]:V,V}function oc(a,l,c,d,p){let f=a.data[l];if(null===f)f=Oo(a,l,c,d,p),function id(){return Wt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=c,f.value=d,f.attrs=p;const v=Ko();f.injectorIndex=null===v?-1:v.injectorIndex}return es(f,!0),f}function Oo(a,l,c,d,p){const f=Uc(),v=Jo(),C=a.data[l]=function r1(a,l,c,d,p,f){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?f:f&&f.parent,c,l,d,p);return null===a.firstChild&&(a.firstChild=C),null!==f&&(v?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C)),C}function um(a,l,c,d){if(0===c)return-1;const p=l.length;for(let f=0;f<c;f++)l.push(d),a.blueprint.push(d),a.data.push(null);return p}function rv(a,l,c){jl(l);try{const d=a.viewQuery;null!==d&&dv(1,d,c);const p=a.template;null!==p&&t1(a,l,p,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&iv(a,l),a.staticViewQueries&&dv(2,a.viewQuery,c);const f=a.components;null!==f&&function pO(a,l){for(let c=0;c<l.length;c++)uv(a,l[c])}(l,f)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[Tt]&=-5,Og()}}function dm(a,l,c,d){const p=l[Tt];if(128!=(128&p)){jl(l);try{Vc(l),function Xo(a){return Wt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&t1(a,l,c,2,d);const v=3==(3&p);if(v){const x=a.preOrderCheckHooks;null!==x&&ta(l,x,null)}else{const x=a.preOrderHooks;null!==x&&Bs(l,x,0,null),ws(l,0)}if(function RT(a){for(let l=ss(a);null!==l;l=os(l)){if(!l[Pl])continue;const c=l[Rr];for(let d=0;d<c.length;d++){const p=c[d];512&p[Tt]||Io(p[Gn],1),p[Tt]|=512}}}(l),function vO(a){for(let l=ss(a);null!==l;l=os(l))for(let c=Ri;c<l.length;c++){const d=l[c],p=d[ot];wo(d)&&dm(p,d,p.template,d[xn])}}(l),null!==a.contentQueries&&iv(a,l),v){const x=a.contentCheckHooks;null!==x&&ta(l,x)}else{const x=a.contentHooks;null!==x&&Bs(l,x,1),ws(l,1)}!function DT(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const p=c[d];if(p<0)Vs(~p);else{const f=p,v=c[++d],I=c[++d];Hc(v,f),I(2,l[f])}}}finally{Vs(-1)}}(a,l);const I=a.components;null!==I&&function ST(a,l){for(let c=0;c<l.length;c++)FT(a,l[c])}(l,I);const C=a.viewQuery;if(null!==C&&dv(2,C,d),v){const x=a.viewCheckHooks;null!==x&&ta(l,x)}else{const x=a.viewHooks;null!==x&&Bs(l,x,2),ws(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[Tt]&=-41,512&l[Tt]&&(l[Tt]&=-513,Io(l[Gn],-1))}finally{Og()}}}function t1(a,l,c,d,p){const f=Ir(),v=2&d;try{Vs(-1),v&&l.length>An&&Gw(a,l,An,!1),wr(v?2:0,p),c(d,p)}finally{Vs(f),wr(v?3:1,p)}}function sv(a,l,c){if(Ps(l)){const p=l.directiveEnd;for(let f=l.directiveStart;f<p;f++){const v=a.data[f];v.contentQueries&&v.contentQueries(1,c[f],f)}}}function hm(a,l,c){ed()&&(function NT(a,l,c,d){const p=c.directiveStart,f=c.directiveEnd;Ma(c)&&function yO(a,l,c){const d=Fi(l,a),p=sl(c),f=a[tn],v=Yp(a,pu(a,p,null,c.onPush?32:16,d,l,f,f.createRenderer(d,c),null,null,null));a[l.index]=v}(l,c,a.data[p+c.componentOffset]),a.firstCreatePass||oo(c,l),dr(d,l);const v=c.initialInputs;for(let I=p;I<f;I++){const C=a.data[I],x=is(l,a,I,c);dr(x,l),null!==v&&kT(0,I-p,x,C,0,v),wi(C)&&(Ii(c.index,l)[xn]=is(l,a,I,c))}}(a,l,c,Fi(c,l)),64==(64&c.flags)&&a1(a,l,c))}function Hd(a,l,c=Fi){const d=l.localNames;if(null!==d){let p=l.index+1;for(let f=0;f<d.length;f+=2){const v=d[f+1],I=-1===v?c(l,a):a[v];a[p++]=I}}}function sl(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=n1(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function n1(a,l,c,d,p,f,v,I,C,x){const N=An+d,V=N+p,Q=function xT(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Qt);return c}(N,V),ce="function"==typeof x?x():x;return Q[ot]={type:a,blueprint:Q,template:c,queries:null,viewQuery:I,declTNode:l,data:Q.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:ce,incompleteFirstPass:!1}}function ov(a,l,c,d){const p=VT(l);null===c?p.push(d):(p.push(c),a.firstCreatePass&&Ci(a).push(d,p.length-1))}function av(a,l,c,d){for(let p in a)if(a.hasOwnProperty(p)){c=null===c?{}:c;const f=a[p];null===d?s1(c,l,p,f):d.hasOwnProperty(p)&&s1(c,l,d[p],f)}return c}function s1(a,l,c,d){a.hasOwnProperty(c)?a[c].push(l,d):a[c]=[l,d]}function as(a,l,c,d,p,f,v,I){const C=Fi(l,c);let N,x=l.inputs;!I&&null!=x&&(N=x[d])?(h1(a,c,N,d,p),Ma(l)&&pm(c,l.index)):3&l.type&&(d=function Ji(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),p=null!=v?v(p,l.value||"",d):p,f.setProperty(C,d,p))}function pm(a,l){const c=Ii(l,a);16&c[Tt]||(c[Tt]|=32)}function qp(a,l,c,d){let p=!1;if(ed()){const f=null===d?null:{"":-1},v=function PT(a,l){const c=a.directiveRegistry;let d=null,p=null;if(c)for(let f=0;f<c.length;f++){const v=c[f];if(Ky(l,v.selectors,!1))if(d||(d=[]),wi(v))if(null!==v.findHostDirectiveDefs){const I=[];p=p||new Map,v.findHostDirectiveDefs(v,I,p),d.unshift(...I,v),gm(a,l,I.length)}else d.unshift(v),gm(a,l,0);else p=p||new Map,v.findHostDirectiveDefs?.(v,d,p),d.push(v)}return null===d?null:[d,p]}(a,c);let I,C;null===v?I=C=null:[I,C]=v,null!==I&&(p=!0,lv(a,l,c,I,f,C)),f&&function fO(a,l,c){if(l){const d=a.localNames=[];for(let p=0;p<l.length;p+=2){const f=c[l[p+1]];if(null==f)throw new be(-301,!1);d.push(l[p],f)}}}(c,d,f)}return c.mergedAttrs=ts(c.mergedAttrs,c.attrs),p}function lv(a,l,c,d,p,f){for(let x=0;x<d.length;x++)hd(oo(c,l),a,d[x].type);!function mO(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}(c,a.data.length,d.length);for(let x=0;x<d.length;x++){const N=d[x];N.providersResolver&&N.providersResolver(N)}let v=!1,I=!1,C=um(a,l,d.length,null);for(let x=0;x<d.length;x++){const N=d[x];c.mergedAttrs=ts(c.mergedAttrs,N.hostAttrs),_O(a,c,l,C,N),gO(C,N,p),null!==N.contentQueries&&(c.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(c.flags|=64);const V=N.type.prototype;!v&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),v=!0),!I&&(V.ngOnChanges||V.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),I=!0),C++}!function Wp(a,l,c){const p=l.directiveEnd,f=a.data,v=l.attrs,I=[];let C=null,x=null;for(let N=l.directiveStart;N<p;N++){const V=f[N],Q=c?c.get(V):null,Ae=Q?Q.outputs:null;C=av(V.inputs,N,C,Q?Q.inputs:null),x=av(V.outputs,N,x,Ae);const qe=null===C||null===v||Lw(l)?null:l1(C,N,v);I.push(qe)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=8),C.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=I,l.inputs=C,l.outputs=x}(a,c,f)}function a1(a,l,c){const d=c.directiveStart,p=c.directiveEnd,f=c.index,v=function Kh(){return Wt.lFrame.currentDirectiveIndex}();try{Vs(f);for(let I=d;I<p;I++){const C=a.data[I],x=l[I];io(I),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Zp(C,x)}}finally{Vs(-1),io(v)}}function Zp(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function gm(a,l,c){l.componentOffset=c,(a.components||(a.components=[])).push(l.index)}function gO(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;wi(l)&&(c[""]=a)}}function _O(a,l,c,d,p){a.data[d]=p;const f=p.factory||(p.factory=yo(p.type)),v=new Ba(f,wi(p),Ud);a.blueprint[d]=v,c[d]=v,function o1(a,l,c,d,p){const f=p.hostBindings;if(f){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const I=~l.index;(function OT(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(v)!=I&&v.push(I),v.push(c,d,f)}}(a,l,d,um(a,c,p.hostVars,Qt),p)}function cv(a,l,c,d,p,f,v){if(null==f)a.removeAttribute(l,p,c);else{const I=null==v?xe(f):v(f,d||"",p);a.setAttribute(l,p,I,c)}}function kT(a,l,c,d,p,f){const v=f[l];if(null!==v){const I=d.setInput;for(let C=0;C<v.length;){const x=v[C++],N=v[C++],V=v[C++];null!==I?d.setInput(c,V,x,N):c[N]=V}}}function l1(a,l,c){let d=null,p=0;for(;p<c.length;){const f=c[p];if(0!==f)if(5!==f){if("number"==typeof f)break;if(a.hasOwnProperty(f)){null===d&&(d=[]);const v=a[f];for(let I=0;I<v.length;I+=2)if(v[I]===l){d.push(f,v[I+1],c[p+1]);break}}p+=2}else p+=2;else p+=4}return d}function c1(a,l,c,d){return[a,!0,!1,l,null,0,d,c,null,null]}function FT(a,l){const c=Ii(l,a);if(wo(c)){const d=c[ot];48&c[Tt]?dm(d,c,d.template,c[xn]):c[vs]>0&&mm(c)}}function mm(a){for(let d=ss(a);null!==d;d=os(d))for(let p=Ri;p<d.length;p++){const f=d[p];if(wo(f))if(512&f[Tt]){const v=f[ot];dm(v,f,v.template,f[xn])}else f[vs]>0&&mm(f)}const c=a[ot].components;if(null!==c)for(let d=0;d<c.length;d++){const p=Ii(c[d],a);wo(p)&&p[vs]>0&&mm(p)}}function uv(a,l){const c=Ii(l,a),d=c[ot];(function u1(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),rv(d,c,c[xn])}function Yp(a,l){return a[$o]?a[Aa][qi]=l:a[$o]=l,a[Aa]=l,l}function _m(a){for(;a;){a[Tt]|=32;const l=Et(a);if(Tg(a)&&!l)return a;a=l}return null}function Kp(a,l,c,d=!0){const p=l[tn];p.begin&&p.begin();try{dm(a,l,a.template,c)}catch(v){throw d&&d1(l,v),v}finally{p.end&&p.end()}}function dv(a,l,c){Gc(0),l(a,c)}function VT(a){return a[fn]||(a[fn]=[])}function Ci(a){return a.cleanup||(a.cleanup=[])}function d1(a,l){const c=a[Ol],d=c?c.get(Vp,null):null;d&&d.handleError(l)}function h1(a,l,c,d,p){for(let f=0;f<c.length;){const v=c[f++],I=c[f++],C=l[v],x=a.data[v];null!==x.setInput?x.setInput(C,p,d,I):C[I]=p}}function ma(a,l,c){const d=to(l,a);Sd(a[nn],d,c)}function ym(a,l,c){let d=c?a.styles:null,p=c?a.classes:null,f=0;if(null!==l)for(let v=0;v<l.length;v++){const I=l[v];"number"==typeof I?f=I:1==f?p=we(p,I):2==f&&(d=we(d,I+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=p:a.classesWithoutHost=p}function vm(a,l,c,d,p=!1){for(;null!==c;){const f=l[c.index];if(null!==f&&d.push(Zn(f)),Lr(f))for(let I=Ri;I<f.length;I++){const C=f[I],x=C[ot].firstChild;null!==x&&vm(C[ot],C,x,d)}const v=c.type;if(8&v)vm(a,l,c.child,d);else if(32&v){const I=ke(c,l);let C;for(;C=I();)d.push(C)}else if(16&v){const I=Kg(l,c);if(Array.isArray(I))d.push(...I);else{const C=Et(l[ki]);vm(C[ot],C,I,d,!0)}}c=p?c.projectionNext:c.next}return d}class bm{get rootNodes(){const l=this._lView,c=l[ot];return vm(c,l,c.firstChild,[])}constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(l){this._lView[xn]=l}get destroyed(){return 128==(128&this._lView[Tt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Gn];if(Lr(l)){const c=l[Ns],d=c?c.indexOf(this):-1;d>-1&&(_y(l,d),Ya(c,d))}this._attachedToViewContainer=!1}Wg(this._lView[ot],this._lView)}onDestroy(l){ov(this._lView[ot],this._lView,null,l)}markForCheck(){_m(this._cdRefInjectingView||this._lView)}detach(){this._lView[Tt]&=-65}reattach(){this._lView[Tt]|=64}detectChanges(){Kp(this._lView[ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ec(a,l){Sp(a,l,l[nn],2,null,null)}(this._lView[ot],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=l}}class wO extends bm{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;Kp(l[ot],l,l[xn],!1)}checkNoChanges(){}get context(){return null}}class BT extends Ld{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=dn(l);return new wm(c,this.ngModule)}}function UT(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class IO{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){d=Mt(d);const p=this.injector.get(l,am,d);return p!==am||c===am?p:this.parentInjector.get(l,c,d)}}class wm extends Dw{get inputs(){return UT(this.componentDef.inputs)}get outputs(){return UT(this.componentDef.outputs)}constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function pT(a){return a.map(hT).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}create(l,c,d,p){let f=(p=p||this.ngModule)instanceof hu?p:p?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const v=f?new IO(l,f):l,I=v.get(zy,null);if(null===I)throw new be(407,!1);const C=v.get(rT,null),x=I.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",V=d?function AT(a,l,c){return a.selectRootElement(l,c===Ve.ShadowDom)}(x,d,this.componentDef.encapsulation):su(x,N,function HT(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(N)),Q=this.componentDef.onPush?288:272,ce=n1(0,null,null,1,0,null,null,null,null,null),Ae=pu(null,ce,null,Q,null,null,I,x,C,v,null);let qe,tt;jl(Ae);try{const yt=this.componentDef;let Vt,Ue=null;yt.findHostDirectiveDefs?(Vt=[],Ue=new Map,yt.findHostDirectiveDefs(yt,Vt,Ue),Vt.push(yt)):Vt=[yt];const qt=function GT(a,l){const c=a[ot],d=An;return a[d]=l,oc(c,d,2,"#host",null)}(Ae,V),Nn=function $T(a,l,c,d,p,f,v,I){const C=p[ot];!function jT(a,l,c,d){for(const p of a)l.mergedAttrs=ts(l.mergedAttrs,p.hostAttrs);null!==l.mergedAttrs&&(ym(l,l.mergedAttrs,!0),null!==c&&Ap(d,c,l))}(d,a,l,v);const x=f.createRenderer(l,c),N=pu(p,sl(c),null,c.onPush?32:16,p[a.index],a,f,x,I||null,null,null);return C.firstCreatePass&&gm(C,a,d.length-1),Yp(p,N),p[a.index]=N}(qt,V,yt,Vt,Ae,I,x);tt=Hl(ce,An),V&&function WT(a,l,c,d){if(d)Eo(a,c,["ng-version",Mw.full]);else{const{attrs:p,classes:f}=function fT(a){const l=[],c=[];let d=1,p=2;for(;d<a.length;){let f=a[d];if("string"==typeof f)2===p?""!==f&&l.push(f,a[++d]):8===p&&c.push(f);else{if(!Gs(p))break;p=f}d++}return{attrs:l,classes:c}}(l.selectors[0]);p&&Eo(a,c,p),f&&f.length>0&&tc(a,c,f.join(" "))}}(x,yt,V,d),void 0!==c&&function qT(a,l,c){const d=a.projection=[];for(let p=0;p<l.length;p++){const f=c[p];d.push(null!=f?Array.from(f):null)}}(tt,this.ngContentSelectors,c),qe=function zT(a,l,c,d,p,f){const v=Ei(),I=p[ot],C=Fi(v,p);lv(I,p,v,c,null,d);for(let N=0;N<c.length;N++)dr(is(p,I,v.directiveStart+N,v),p);a1(I,p,v),C&&dr(C,p);const x=is(p,I,v.directiveStart+v.componentOffset,v);if(a[xn]=p[xn]=x,null!==f)for(const N of f)N(x,l);return sv(I,v,a),x}(Nn,yt,Vt,Ue,Ae,[ZT]),rv(ce,Ae,null)}finally{Og()}return new Im(this.componentType,qe,rl(tt,Ae),Ae,tt)}}class Im extends eT{constructor(l,c,d,p,f){super(),this.location=d,this._rootLView=p,this._tNode=f,this.instance=c,this.hostView=this.changeDetectorRef=new wO(p),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let p;if(null!==d&&(p=d[l])){const f=this._rootLView;h1(f[ot],f,p,l,c),pm(f,this._tNode.index)}}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function ZT(){const a=Ei();Va(Ce()[ot],a)}function hv(a){let l=function p1(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let p;if(wi(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new be(903,!1);p=l.\u0275dir}if(p){if(c){d.push(p);const v=a;v.inputs=fv(a.inputs),v.declaredInputs=fv(a.declaredInputs),v.outputs=fv(a.outputs);const I=p.hostBindings;I&&TO(a,I);const C=p.viewQuery,x=p.contentQueries;if(C&&YT(a,C),x&&CO(a,x),Ee(a.inputs,p.inputs),Ee(a.declaredInputs,p.declaredInputs),Ee(a.outputs,p.outputs),wi(p)&&p.data.animation){const N=a.data;N.animation=(N.animation||[]).concat(p.data.animation)}}const f=p.features;if(f)for(let v=0;v<f.length;v++){const I=f[v];I&&I.ngInherit&&I(a),I===hv&&(c=!1)}}l=Object.getPrototypeOf(l)}!function pv(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const p=a[d];p.hostVars=l+=p.hostVars,p.hostAttrs=ts(p.hostAttrs,c=ts(c,p.hostAttrs))}}(d)}function fv(a){return a===ht?{}:a===Qe?[]:a}function YT(a,l){const c=a.viewQuery;a.viewQuery=c?(d,p)=>{l(d,p),c(d,p)}:l}function CO(a,l){const c=a.contentQueries;a.contentQueries=c?(d,p,f)=>{l(d,p,f),c(d,p,f)}:l}function TO(a,l){const c=a.hostBindings;a.hostBindings=c?(d,p)=>{l(d,p),c(d,p)}:l}let Em=null;function cn(){if(!Em){const a=Ut.Symbol;if(a&&a.iterator)Em=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Em=d)}}}return Em}function No(a){return!!hr(a)&&(Array.isArray(a)||!(a instanceof Map)&&cn()in a)}function hr(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function $s(a,l,c){return a[l]=c}function zn(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function $d(a,l,c,d){const p=zn(a,l,c);return zn(a,l+1,d)||p}function Tm(a,l,c,d,p){const f=$d(a,l,c,d);return zn(a,l+2,p)||f}function vv(a,l,c,d){const p=Ce();return zn(p,Ls(),l)&&(an(),function ol(a,l,c,d,p,f){const v=Fi(a,l);cv(l[nn],v,f,a.value,c,d,p)}(yn(),p,a,l,c,d)),vv}function _t(a,l,c,d){return zn(a,Ls(),c)?l+xe(c)+d:Qt}function ac(a,l,c,d,p,f){const I=$d(a,sr(),c,p);return no(2),I?l+xe(c)+d+xe(p)+f:Qt}function Br(a,l,c,d,p,f,v,I){const C=Ce(),x=an(),N=a+An,V=x.firstCreatePass?function b1(a,l,c,d,p,f,v,I,C){const x=l.consts,N=oc(l,a,4,v||null,Xr(x,I));qp(l,c,N,Xr(x,C)),Va(l,N);const V=N.tViews=n1(2,N,d,p,f,l.directiveRegistry,l.pipeRegistry,null,l.schemas,x);return null!==l.queries&&(l.queries.template(l,N),V.queries=l.queries.embeddedTView(N)),N}(N,x,C,l,c,d,p,f,v):x.data[N];es(V,!1);const Q=C[nn].createComment("");Tp(x,C,Q,V),dr(Q,C),Yp(C,C[N]=c1(Q,C,Q,V)),kc(V)&&hm(x,C,V),null!=v&&Hd(C,V,I)}function Xp(a){return Fs(function $l(){return Wt.lFrame.contextLView}(),An+a)}function Dm(a,l,c){const d=Ce();return zn(d,Ls(),l)&&as(an(),yn(),d,a,l,d[nn],c,!1),Dm}function ef(a,l,c,d,p){const v=p?"class":"style";h1(a,c,l.inputs[v],v,d)}function js(a,l,c,d){const p=Ce(),f=an(),v=An+a,I=p[nn],C=p[v]=su(I,l,function Ng(){return Wt.lFrame.currentNamespace}()),x=f.firstCreatePass?function Sm(a,l,c,d,p,f,v){const I=l.consts,x=oc(l,a,2,p,Xr(I,f));return qp(l,c,x,Xr(I,v)),null!==x.attrs&&ym(x,x.attrs,!1),null!==x.mergedAttrs&&ym(x,x.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,x),x}(v,f,p,0,l,c,d):f.data[v];return es(x,!0),Ap(I,C,x),32!=(32&x.flags)&&Tp(f,p,C,x),0===function Ra(){return Wt.lFrame.elementDepthCount}()&&dr(C,p),function Wh(){Wt.lFrame.elementDepthCount++}(),kc(x)&&(hm(f,p,x),sv(f,x,p)),null!==d&&Hd(p,x),js}function zd(){let a=Ei();Jo()?nd():(a=a.parent,es(a,!1));const l=a;!function Fa(){Wt.lFrame.elementDepthCount--}();const c=an();return c.firstCreatePass&&(Va(c,a),Ps(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Ha(a){return 0!=(8&a.flags)}(l)&&ef(c,l,Ce(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function ro(a){return 0!=(16&a.flags)}(l)&&ef(c,l,Ce(),l.stylesWithoutHost,!1),zd}function Iv(a,l,c,d){return js(a,l,c,d),zd(),Iv}function ul(a,l,c){const d=Ce(),p=an(),f=a+An,v=p.firstCreatePass?function tD(a,l,c,d,p){const f=l.consts,v=Xr(f,d),I=oc(l,a,8,"ng-container",v);return null!==v&&ym(I,v,!0),qp(l,c,I,Xr(f,p)),null!==l.queries&&l.queries.elementStart(l,I),I}(f,p,d,l,c):p.data[f];es(v,!0);const I=d[f]=d[nn].createComment("");return Tp(p,d,I,v),dr(I,d),kc(v)&&(hm(p,d,v),sv(p,v,d)),null!=c&&Hd(d,v),ul}function tf(){let a=Ei();const l=an();return Jo()?nd():(a=a.parent,es(a,!1)),l.firstCreatePass&&(Va(l,a),Ps(a)&&l.queries.elementEnd(a)),tf}function nf(a,l,c){return ul(a,l,c),tf(),nf}function Ev(){return Ce()}function Cv(a){return!!a&&"function"==typeof a.then}function Tv(a){return!!a&&"function"==typeof a.subscribe}const rf=Tv;function sf(a,l,c,d){const p=Ce(),f=an(),v=Ei();return function w1(a,l,c,d,p,f,v){const I=kc(d),x=a.firstCreatePass&&Ci(a),N=l[xn],V=VT(l);let Q=!0;if(3&d.type||v){const qe=Fi(d,l),tt=v?v(qe):qe,yt=V.length,Vt=v?qt=>v(Zn(qt[d.index])):d.index;let Ue=null;if(!v&&I&&(Ue=function Dv(a,l,c,d){const p=a.cleanup;if(null!=p)for(let f=0;f<p.length-1;f+=2){const v=p[f];if(v===c&&p[f+1]===d){const I=l[fn],C=p[f+2];return I.length>C?I[C]:null}"string"==typeof v&&(f+=2)}return null}(a,l,p,d.index)),null!==Ue)(Ue.__ngLastListenerFn__||Ue).__ngNextListenerFn__=f,Ue.__ngLastListenerFn__=f,Q=!1;else{f=Am(d,l,N,f,!1);const qt=c.listen(tt,p,f);V.push(f,qt),x&&x.push(p,Vt,yt,yt+1)}}else f=Am(d,l,N,f,!1);const ce=d.outputs;let Ae;if(Q&&null!==ce&&(Ae=ce[p])){const qe=Ae.length;if(qe)for(let tt=0;tt<qe;tt+=2){const Nn=l[Ae[tt]][Ae[tt+1]].subscribe(f),Si=V.length;V.push(f,Nn),x&&x.push(p,d.index,Si,-(Si+1))}}}(f,p,p[nn],v,a,l,d),sf}function I1(a,l,c,d){try{return wr(6,l,c),!1!==c(d)}catch(p){return d1(a,p),!1}finally{wr(7,l,c)}}function Am(a,l,c,d,p){return function f(v){if(v===Function)return d;_m(a.componentOffset>-1?Ii(a.index,l):l);let C=I1(l,c,d,v),x=f.__ngNextListenerFn__;for(;x;)C=I1(l,c,x,v)&&C,x=x.__ngNextListenerFn__;return p&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function Sv(a=1){return function cy(a){return(Wt.lFrame.contextLView=function od(a,l){for(;a>0;)l=l[Ms],a--;return l}(a,Wt.lFrame.contextLView))[xn]}(a)}function nD(a,l){let c=null;const d=function lm(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(!(1&c))return l[c+1]}return null}(a);for(let p=0;p<l.length;p++){const f=l[p];if("*"!==f){if(null===d?Ky(a,f,!0):Uw(d,f))return p}else c=p}return c}function Wd(a){const l=Ce()[ki][bi];if(!l.projection){const d=l.projection=lo(a?a.length:1,null),p=d.slice();let f=l.child;for(;null!==f;){const v=a?nD(f,a):0;null!==v&&(p[v]?p[v].projectionNext=f:d[v]=f,p[v]=f),f=f.next}}}function E1(a,l=0,c){const d=Ce(),p=an(),f=oc(p,An+a,16,null,c||null);null===f.projection&&(f.projection=l),nd(),32!=(32&f.flags)&&function rw(a,l,c){Iy(l[nn],0,l,c,qg(a,c,l),yy(c.parent||l[bi],c,l))}(p,d,f)}function gu(a,l,c){return Mm(a,"",l,"",c),gu}function Mm(a,l,c,d,p){const f=Ce(),v=_t(f,l,c,d);return v!==Qt&&as(an(),yn(),f,a,v,f[nn],p,!1),Mm}function qd(a,l){return a<<17|l<<2}function ya(a){return a>>17&32767}function Pm(a){return 2|a}function mu(a){return(131068&a)>>2}function km(a,l){return-131069&a|l<<2}function cf(a){return 1|a}function Rm(a,l,c,d,p){const f=a[c+1],v=null===l;let I=d?ya(f):mu(f),C=!1;for(;0!==I&&(!1===C||v);){const N=a[I+1];Ar(a[I],l)&&(C=!0,a[I+1]=d?cf(N):Pm(N)),I=d?ya(N):mu(N)}C&&(a[c+1]=d?Pm(f):cf(f))}function Ar(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&$n(a,l)>=0}const hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uf(a){return a.substring(hn.key,hn.keyEnd)}function kv(a){return a.substring(hn.value,hn.valueEnd)}function S1(a,l){const c=hn.textEnd;return c===l?-1:(l=hn.keyEnd=function Rv(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,hn.key=l,c),_u(a,l,c))}function A1(a,l){const c=hn.textEnd;let d=hn.key=_u(a,l,c);return c===d?-1:(d=hn.keyEnd=function sD(a,l,c){let d;for(;l<c&&(45===(d=a.charCodeAt(l))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)l++;return l}(a,d,c),d=Fm(a,d,c),d=hn.value=_u(a,d,c),d=hn.valueEnd=function O1(a,l,c){let d=-1,p=-1,f=-1,v=l,I=v;for(;v<c;){const C=a.charCodeAt(v++);if(59===C)return I;34===C||39===C?I=v=N1(a,C,v,c):l===v-4&&85===f&&82===p&&76===d&&40===C?I=v=N1(a,41,v,c):C>32&&(I=v),f=p,p=d,d=-33&C}return I}(a,d,c),Fm(a,d,c))}function M1(a){hn.key=0,hn.keyEnd=0,hn.value=0,hn.valueEnd=0,hn.textEnd=a.length}function _u(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Fm(a,l,c,d){return(l=_u(a,l,c))<c&&l++,l}function N1(a,l,c,d){let p=-1,f=c;for(;f<d;){const v=a.charCodeAt(f++);if(v==l&&92!==p)return f;p=92==v&&92===p?0:v}throw new Error}function df(a,l,c){return ho(a,l,c,!1),df}function hf(a,l){return ho(a,l,null,!0),hf}function uo(a){po(Lv,oD,a,!1)}function oD(a,l){for(let c=function x1(a){return M1(a),A1(a,_u(a,0,hn.textEnd))}(l);c>=0;c=A1(l,c))Lv(a,uf(l),kv(l))}function Zd(a){po(Tr,Po,a,!0)}function Po(a,l){for(let c=function rD(a){return M1(a),S1(a,_u(a,0,hn.textEnd))}(l);c>=0;c=S1(l,c))Tr(a,uf(l),!0)}function ho(a,l,c,d){const p=Ce(),f=an(),v=no(2);f.firstUpdatePass&&P1(f,a,v,d),l!==Qt&&zn(p,v,l)&&Vv(f,f.data[Ir()],p,p[nn],a,p[v+1]=function mf(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=pe(Ao(a)))),a}(l,c),d,v)}function po(a,l,c,d){const p=an(),f=no(2);p.firstUpdatePass&&P1(p,null,f,d);const v=Ce();if(c!==Qt&&zn(v,f,c)){const I=p.data[Ir()];if(_f(I,d)&&!pf(p,f)){let C=d?I.classesWithoutHost:I.stylesWithoutHost;null!==C&&(c=we(C,c||"")),ef(p,I,v,c,d)}else!function ff(a,l,c,d,p,f,v,I){p===Qt&&(p=Qe);let C=0,x=0,N=0<p.length?p[0]:null,V=0<f.length?f[0]:null;for(;null!==N||null!==V;){const Q=C<p.length?p[C+1]:void 0,ce=x<f.length?f[x+1]:void 0;let qe,Ae=null;N===V?(C+=2,x+=2,Q!==ce&&(Ae=V,qe=ce)):null===V||null!==N&&N<V?(C+=2,Ae=N):(x+=2,Ae=V,qe=ce),null!==Ae&&Vv(a,l,c,d,Ae,qe,v,I),N=C<p.length?p[C]:null,V=x<f.length?f[x]:null}}(p,I,v,v[nn],v[f+1],v[f+1]=function Lm(a,l,c){if(null==c||""===c)return Qe;const d=[],p=Ao(c);if(Array.isArray(p))for(let f=0;f<p.length;f++)a(d,p[f],!0);else if("object"==typeof p)for(const f in p)p.hasOwnProperty(f)&&a(d,f,p[f]);else"string"==typeof p&&l(d,p);return d}(a,l,c),d,f)}}function pf(a,l){return l>=a.expandoStartIndex}function P1(a,l,c,d){const p=a.data;if(null===p[c+1]){const f=p[Ir()],v=pf(a,c);_f(f,d)&&null===l&&!v&&(l=!1),l=function aD(a,l,c,d){const p=function La(a){const l=Wt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let f=d?l.residualClasses:l.residualStyles;if(null===p)0===(d?l.classBindings:l.styleBindings)&&(c=Kd(c=dl(null,a,l,c,d),l.attrs,d),f=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==p)if(c=dl(p,a,l,c,d),null===f){let C=function Yd(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==mu(d))return a[ya(d)]}(a,l,d);void 0!==C&&Array.isArray(C)&&(C=dl(null,a,l,C[1],d),C=Kd(C,l.attrs,d),function lD(a,l,c,d){a[ya(c?l.classBindings:l.styleBindings)]=d}(a,l,d,C))}else f=function cD(a,l,c){let d;const p=l.directiveEnd;for(let f=1+l.directiveStylingLast;f<p;f++)d=Kd(d,a[f].hostAttrs,c);return Kd(d,l.attrs,c)}(a,l,d)}return void 0!==f&&(d?l.residualClasses=f:l.residualStyles=f),c}(p,f,l,d),function Nv(a,l,c,d,p,f){let v=f?l.classBindings:l.styleBindings,I=ya(v),C=mu(v);a[d]=c;let N,x=!1;if(Array.isArray(c)?(N=c[1],(null===N||$n(c,N)>0)&&(x=!0)):N=c,p)if(0!==C){const Q=ya(a[I+1]);a[d+1]=qd(Q,I),0!==Q&&(a[Q+1]=km(a[Q+1],d)),a[I+1]=function T1(a,l){return 131071&a|l<<17}(a[I+1],d)}else a[d+1]=qd(I,0),0!==I&&(a[I+1]=km(a[I+1],d)),I=d;else a[d+1]=qd(C,0),0===I?I=d:a[C+1]=km(a[C+1],d),C=d;x&&(a[d+1]=Pm(a[d+1])),Rm(a,N,d,!0),Rm(a,N,d,!1),function Pv(a,l,c,d,p){const f=p?a.residualClasses:a.residualStyles;null!=f&&"string"==typeof l&&$n(f,l)>=0&&(c[d+1]=cf(c[d+1]))}(l,N,a,d,f),v=qd(I,C),f?l.classBindings=v:l.styleBindings=v}(p,f,l,c,v,d)}}function dl(a,l,c,d,p){let f=null;const v=c.directiveEnd;let I=c.directiveStylingLast;for(-1===I?I=c.directiveStart:I++;I<v&&(f=l[I],d=Kd(d,f.hostAttrs,p),f!==a);)I++;return null!==a&&(c.directiveStylingLast=I),d}function Kd(a,l,c){const d=c?1:2;let p=-1;if(null!==l)for(let f=0;f<l.length;f++){const v=l[f];"number"==typeof v?p=v:p===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Tr(a,v,!!c||l[++f]))}return void 0===a?null:a}function Lv(a,l,c){Tr(a,l,Ao(c))}function Vv(a,l,c,d,p,f,v,I){if(!(3&l.type))return;const C=a.data,x=C[I+1],N=function D1(a){return 1==(1&a)}(x)?Wr(C,l,c,p,mu(x),v):void 0;gf(N)||(gf(f)||function Ov(a){return 2==(2&a)}(x)&&(f=Wr(C,null,c,p,I,v)),function pa(a,l,c,d,p){if(l)p?a.addClass(c,d):a.removeClass(c,d);else{let f=-1===d.indexOf("-")?void 0:$t.DashCase;null==p?a.removeStyle(c,d,f):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),f|=$t.Important),a.setStyle(c,d,p,f))}}(d,v,to(Ir(),c),p,f))}function Wr(a,l,c,d,p,f){const v=null===l;let I;for(;p>0;){const C=a[p],x=Array.isArray(C),N=x?C[1]:C,V=null===N;let Q=c[p+1];Q===Qt&&(Q=V?Qe:void 0);let ce=V?In(Q,d):N===d?Q:void 0;if(x&&!gf(ce)&&(ce=In(C,d)),gf(ce)&&(I=ce,v))return I;const Ae=a[p+1];p=v?ya(Ae):mu(Ae)}if(null!==l){let C=f?l.residualClasses:l.residualStyles;null!=C&&(I=In(C,d))}return I}function gf(a){return void 0!==a}function _f(a,l){return 0!=(a.flags&(l?8:16))}function Bv(a,l=""){const c=Ce(),d=an(),p=a+An,f=d.firstCreatePass?oc(d,p,1,l,null):d.data[p],v=c[p]=ha(c[nn],l);Tp(d,c,v,f),es(f,!1)}function yf(a){return vf("",a,""),yf}function vf(a,l,c){const d=Ce(),p=_t(d,a,l,c);return p!==Qt&&ma(d,Ir(),p),vf}function Vm(a,l,c,d,p){const f=Ce(),v=ac(f,a,l,c,d,p);return v!==Qt&&ma(f,Ir(),v),Vm}function yu(a,l,c,d,p,f,v){const I=Ce(),C=function jt(a,l,c,d,p,f,v,I){const x=Tm(a,sr(),c,p,v);return no(3),x?l+xe(c)+d+xe(p)+f+xe(v)+I:Qt}(I,a,l,c,d,p,f,v);return C!==Qt&&ma(I,Ir(),C),yu}function Gm(a,l,c,d,p){po(Tr,Po,ac(Ce(),a,l,c,d,p),!0)}function bu(a,l,c){const d=Ce();return zn(d,Ls(),l)&&as(an(),yn(),d,a,l,d[nn],c,!0),bu}const uc=void 0;var gD=["en",[["a","p"],["AM","PM"],uc],[["AM","PM"],uc,uc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uc,"{1} 'at' {0}",uc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fD(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Xd={};function wu(a){const l=function _D(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=zv(l);if(c)return c;const d=l.split("-")[0];if(c=zv(d),c)return c;if("en"===d)return gD;throw new be(701,!1)}function jv(a){return wu(a)[Ot.PluralCase]}function zv(a){return a in Xd||(Xd[a]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[a]),Xd[a]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const yD=["zero","one","two","few","many"],eh="en-US",Df={marker:"element"},th={marker:"ICU"};var ai=(()=>((ai=ai||{})[ai.SHIFT=2]="SHIFT",ai[ai.APPEND_EAGERLY=1]="APPEND_EAGERLY",ai[ai.COMMENT=2]="COMMENT",ai))();let Wv=eh;function zm(a){(function kt(a,l){null==a&&ft(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(Wv=a.toLowerCase().replace(/_/g,"-"))}function j1(a,l,c){const d=l.insertBeforeIndex,p=Array.isArray(d)?d[0]:d;return null===p?vy(a,0,c):Zn(c[p])}function z1(a,l,c,d,p){const f=l.insertBeforeIndex;if(Array.isArray(f)){let v=d,I=null;if(3&l.type||(I=v,v=p),null!==v&&-1===l.componentOffset)for(let C=1;C<f.length;C++)au(a,v,c[f[C]],I,!1)}}function Sf(a,l){if(a.push(l),a.length>1)for(let c=a.length-2;c>=0;c--){const d=a[c];nh(d)||Wm(d,l)&&null===qv(d)&&W1(d,l.index)}}function nh(a){return!(64&a.type)}function Wm(a,l){return nh(l)||a.index>l.index}function qv(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function W1(a,l){const c=a.insertBeforeIndex;Array.isArray(c)?c[0]=l:(iw(j1,z1),a.insertBeforeIndex=l)}function hl(a,l){const c=a.data[l];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function Ti(a,l,c){const d=Oo(a,c,64,null,null);return Sf(l,d),d}function Af(a,l){const c=l[a.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function q1(a){return a>>>17}function Z1(a){return(131070&a)>>>1}let ih=0,rh=0;function Zv(a,l,c,d){const p=c[nn];let v,f=null;for(let I=0;I<l.length;I++){const C=l[I];if("string"==typeof C){const x=l[++I];null===c[x]&&(c[x]=ha(p,C))}else if("number"==typeof C)switch(1&C){case 0:const x=q1(C);let N,V;if(null===f&&(f=x,v=nl(p,d)),x===f?(N=d,V=v):(N=null,V=Zn(c[x])),null!==V){const qe=Z1(C);au(p,V,c[qe],N,!1);const yt=hl(a,qe);if(null!==yt&&"object"==typeof yt){const Vt=Af(yt,c);null!==Vt&&Zv(a,yt.create[Vt],c,c[yt.anchorIdx])}}break;case 1:const ce=l[++I],Ae=l[++I];cv(p,to(C>>>1,c),null,null,ce,Ae,null)}else switch(C){case th:const x=l[++I],N=l[++I];null===c[N]&&dr(c[N]=Ip(p,x),c);break;case Df:const V=l[++I],Q=l[++I];null===c[Q]&&dr(c[Q]=su(p,V,null),c)}}}function Yv(a,l,c,d,p){for(let f=0;f<c.length;f++){const v=c[f],I=c[++f];if(v&p){let C="";for(let x=f+1;x<=f+I;x++){const N=c[x];if("string"==typeof N)C+=N;else if("number"==typeof N)if(N<0)C+=xe(l[d-N]);else{const V=N>>>2;switch(3&N){case 1:const Q=c[++x],ce=c[++x],Ae=a.data[V];"string"==typeof Ae?cv(l[nn],l[V],null,Ae,Q,C,ce):as(a,Ae,l,Q,C,l[nn],ce,!1);break;case 0:const qe=l[V];null!==qe&&Sd(l[nn],qe,C);break;case 2:Mf(a,hl(a,V),l,C);break;case 3:Zm(a,hl(a,V),d,l)}}}}else{const C=c[f+1];if(C>0&&3==(3&C)){const N=hl(a,C>>>2);l[N.currentCaseLViewIndex]<0&&Zm(a,N,d,l)}}f+=I}}function Zm(a,l,c,d){let p=d[l.currentCaseLViewIndex];if(null!==p){let f=ih;p<0&&(p=d[l.currentCaseLViewIndex]=~p,f=-1),Yv(a,d,l.update[p],c,f)}}function Mf(a,l,c,d){const p=function Jv(a,l){let c=a.cases.indexOf(l);if(-1===c)switch(a.type){case 1:{const d=function G1(a,l){const c=jv(l)(parseInt(a,10)),d=yD[c];return void 0!==d?d:"other"}(l,function bD(){return Wv}());c=a.cases.indexOf(d),-1===c&&"other"!==d&&(c=a.cases.indexOf("other"));break}case 0:c=a.cases.indexOf("other")}return-1===c?null:c}(l,d);if(Af(l,c)!==p&&(Kv(a,l,c),c[l.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const v=c[l.anchorIdx];v&&Zv(a,l.create[p],c,v)}}function Kv(a,l,c){let d=Af(l,c);if(null!==d){const p=l.remove[d];for(let f=0;f<p.length;f++){const v=p[f];if(v>0){const I=to(v,c);null!==I&&wy(c[nn],I)}else Kv(a,hl(a,~v),c)}}}function Ym(){const a=[];let c,d,l=-1;function f(I,C){l=0;const x=Af(I,C);d=null!==x?I.remove[x]:Qe}function v(){if(l<d.length){const I=d[l++];return I>0?c[I]:(a.push(l,d),f(c[ot].data[~I],c),v())}return 0===a.length?null:(d=a.pop(),l=a.pop(),v())}return function p(I,C){for(c=C;a.length;)a.pop();return f(I.value,C),v}}const Of=/\ufffd(\d+):?\d*\ufffd/gi,Xv=/\ufffd(\d+)\ufffd/,Km=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,oh="\ufffd",Jm=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,X1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,eI=/\uE500/g;function e0(a,l,c,d,p,f,v){const I=um(a,d,1,null);let C=I<<ai.SHIFT,x=Ko();l===x&&(x=null),null===x&&(C|=ai.APPEND_EAGERLY),v&&(C|=ai.COMMENT,function at(a){void 0===ue&&(ue=a())}(Ym)),p.push(C,null===f?"":f);const N=Oo(a,I,v?32:1,null===f?"":f,null);Sf(c,N);const V=N.index;return es(N,!1),null!==x&&l!==x&&function wD(a,l){let c=a.insertBeforeIndex;null===c?(iw(j1,z1),c=a.insertBeforeIndex=[null,l]):(function W(a,l,c){a!=l&&ft(c,a,l,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(l))}(x,V),N}function nI(a,l,c,d,p,f,v){const I=v.match(Of),C=e0(a,l,c,f,d,I?null:v,!1);I&&Ur(p,v,C.index,null,0,null)}function Ur(a,l,c,d,p,f){const v=a.length,I=v+1;a.push(null,null);const C=v+2,x=l.split(Of);let N=0;for(let V=0;V<x.length;V++){const Q=x[V];if(1&V){const ce=p+parseInt(Q,10);a.push(-1-ce),N|=t0(ce)}else""!==Q&&a.push(Q)}return a.push(c<<2|(d?1:0)),d&&a.push(d,f),a[v]=N,a[I]=a.length-C,N}function t0(a){return 1<<Math.min(a,31)}function rI(a){let l,f,c="",d=0,p=!1;for(;null!==(l=Jm.exec(a));)p?l[0]===`${oh}/*${f}${oh}`&&(d=l.index,p=!1):(c+=a.substring(d,l.index+l[0].length),f=l[1],p=!0);return c+=a.slice(d),c}function Xm(a,l,c,d,p,f){let v=0;const I={type:p.type,currentCaseLViewIndex:um(a,l,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function aI(a,l,c){a.push(t0(l.mainBinding),2,-1-l.mainBinding,c<<2|2)})(c,p,f),function xf(a,l,c){const d=a.data[l];null===d?a.data[l]=c:d.value=c}(a,f,I);const C=p.values;for(let x=0;x<C.length;x++){const N=C[x],V=[];for(let Q=0;Q<N.length;Q++){const ce=N[Q];if("string"!=typeof ce){const Ae=V.push(ce)-1;N[Q]=`\x3c!--\ufffd${Ae}\ufffd--\x3e`}}v=sI(a,I,l,c,d,p.cases[x],N.join(""),V)|v}v&&function Mr(a,l,c){a.push(l,1,c<<2|3)}(c,v,f)}function DD(a){const l=[],c=[];let d=1,p=0;const f=n0(a=a.replace(Km,function(v,I,C){return d="select"===C?0:1,p=parseInt(I.slice(1),10),""}));for(let v=0;v<f.length;){let I=f[v++].trim();1===d&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&l.push(I);const C=n0(f[v++]);l.length>c.length&&c.push(C)}return{type:d,mainBinding:p,cases:l,values:c}}function n0(a){if(!a)return[];let l=0;const c=[],d=[],p=/[{}]/g;let f;for(p.lastIndex=0;f=p.exec(a);){const I=f.index;if("}"==f[0]){if(c.pop(),0==c.length){const C=a.substring(l,I);Km.test(C)?d.push(DD(C)):d.push(C),l=I+1}}else{if(0==c.length){const C=a.substring(l,I);d.push(C),l=I+1}c.push("{")}}const v=a.substring(l);return d.push(v),d}function sI(a,l,c,d,p,f,v,I){const C=[],x=[],N=[];l.cases.push(f),l.create.push(C),l.remove.push(x),l.update.push(N);const Q=hw(function sw(){return void 0!==Cy?Cy:typeof document<"u"?document:void 0}()).getInertBodyElement(v),ce=yw(Q)||Q;return ce?oI(a,l,c,d,C,x,N,ce,p,I,0):0}function oI(a,l,c,d,p,f,v,I,C,x,N){let V=0,Q=I.firstChild;for(;Q;){const ce=um(a,c,1,null);switch(Q.nodeType){case Node.ELEMENT_NODE:const Ae=Q,qe=Ae.tagName.toLowerCase();if(em.hasOwnProperty(qe)){dc(p,Df,qe,C,ce),a.data[ce]=qe;const Ue=Ae.attributes;for(let qt=0;qt<Ue.length;qt++){const Nn=Ue.item(qt),Si=Nn.name.toLowerCase();Nn.value.match(Of)?Np.hasOwnProperty(Si)&&Ur(v,Nn.value,ce,Nn.name,0,tm[Si]?Od:null):hc(p,ce,Nn)}V=oI(a,l,c,d,p,f,v,Q,ce,x,N+1)|V,Nf(f,ce,N)}break;case Node.TEXT_NODE:const tt=Q.textContent||"",yt=tt.match(Of);dc(p,null,yt?"":tt,C,ce),Nf(f,ce,N),yt&&(V=Ur(v,tt,ce,null,0,null)|V);break;case Node.COMMENT_NODE:const Vt=Xv.exec(Q.textContent||"");if(Vt){const qt=x[parseInt(Vt[1],10)];dc(p,th,"",C,ce),Xm(a,c,d,C,qt,ce),SD(f,ce,N)}}Q=Q.nextSibling}return V}function Nf(a,l,c){0===c&&a.push(l)}function SD(a,l,c){0===c&&(a.push(~l),a.push(l))}function dc(a,l,c,d,p){null!==l&&a.push(l),a.push(c,p,function K1(a,l,c){return a|l<<17|c<<1}(0,d,p))}function hc(a,l,c){a.push(l<<1|1,c.name,c.value)}function nt(a,l,c=-1){const d=an(),p=Ce(),f=An+a,v=Xr(d.consts,l),I=Ko();d.firstCreatePass&&function tI(a,l,c,d,p,f){const v=Ko(),I=[],C=[],x=[[]];p=function TD(a,l){if(function ah(a){return-1===a}(l))return rI(a);{const c=a.indexOf(`:${l}${oh}`)+2+l.toString().length,d=a.search(new RegExp(`${oh}\\/\\*\\d+:${l}${oh}`));return rI(a.substring(c,d))}}(p,f);const N=function Eu(a){return a.replace(eI," ")}(p).split(X1);for(let V=0;V<N.length;V++){let Q=N[V];if(1&V){const ce=47===Q.charCodeAt(0),qe=(Q.charCodeAt(ce?1:0),An+Number.parseInt(Q.substring(ce?2:1)));if(ce)x.shift(),es(Ko(),!1);else{const tt=Ti(a,x[0],qe);x.unshift([]),es(tt,!0)}}else{const ce=n0(Q);for(let Ae=0;Ae<ce.length;Ae++){let qe=ce[Ae];if(1&Ae){const tt=qe;if("object"!=typeof tt)throw new Error(`Unable to parse ICU expression in "${p}" message.`);Xm(a,c,C,l,tt,e0(a,v,x[0],c,I,"",!0).index)}else""!==qe&&nI(a,v,x[0],I,C,c,qe)}}}a.data[d]={create:I,update:C}}(d,null===I?0:I.index,p,f,v,c);const C=d.data[f],N=OC(d,I===p[bi]?null:I,p);(function pl(a,l,c,d){const p=a[nn];for(let f=0;f<l.length;f++){const v=l[f++],I=l[f],x=(v&ai.APPEND_EAGERLY)===ai.APPEND_EAGERLY,N=v>>>ai.SHIFT;let V=a[N];null===V&&(V=a[N]=(v&ai.COMMENT)===ai.COMMENT?p.createComment(I):ha(p,I)),x&&null!==c&&au(p,c,V,d,!1)}})(p,C.create,N,I&&8&I.type?p[I.index]:null),ea(!0)}function Be(a,l,c){nt(a,l,c),function me(){ea(!1)}()}function t_(a){return function qm(a){a&&(ih|=1<<Math.min(rh,31)),rh++}(zn(Ce(),Ls(),a)),t_}function lI(a){!function J1(a,l,c){if(rh>0){const d=a.data[c];Yv(a,l,Array.isArray(d)?d:d.update,sr()-rh-1,ih)}ih=0,rh=0}(an(),Ce(),a+An)}function s0(a,l,c,d,p){if(a=ie(a),Array.isArray(a))for(let f=0;f<a.length;f++)s0(a[f],l,c,d,p);else{const f=an(),v=Ce();let I=il(a)?a:ie(a.provide),C=Hy(a);const x=Ei(),N=1048575&x.providerIndexes,V=x.directiveStart,Q=x.providerIndexes>>20;if(il(a)||!a.multi){const ce=new Ba(C,p,Ud),Ae=l0(I,l,p?N:N+Q,V);-1===Ae?(hd(oo(x,v),f,I),o0(f,a,l.length),l.push(I),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),c.push(ce),v.push(ce)):(c[Ae]=ce,v[Ae]=ce)}else{const ce=l0(I,l,N+Q,V),Ae=l0(I,l,N,N+Q),tt=Ae>=0&&c[Ae];if(p&&!tt||!p&&!(ce>=0&&c[ce])){hd(oo(x,v),f,I);const yt=function Jt(a,l,c,d,p){const f=new Ba(a,c,Ud);return f.multi=[],f.index=l,f.componentProviders=0,a0(f,p,d&&!c),f}(p?ND:MO,c.length,p,d,C);!p&&tt&&(c[Ae].providerFactory=yt),o0(f,a,l.length,0),l.push(I),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),c.push(yt),v.push(yt)}else o0(f,a,ce>-1?ce:Ae,a0(c[p?Ae:ce],C,!p&&d));!p&&d&&tt&&c[Ae].componentProviders++}}}function o0(a,l,c,d){const p=il(l),f=function im(a){return!!a.useClass}(l);if(p||f){const C=(f?ie(l.useClass):l).prototype.ngOnDestroy;if(C){const x=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const N=x.indexOf(c);-1===N?x.push(c,[d,C]):x[N+1].push(d,C)}else x.push(c,C)}}}function a0(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function l0(a,l,c,d){for(let p=c;p<d;p++)if(l[p]===a)return p;return-1}function MO(a,l,c,d){return n_(this.multi,[])}function ND(a,l,c,d){const p=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=is(c,c[ot],this.providerFactory.index,d);f=I.slice(0,v),n_(p,f);for(let C=v;C<I.length;C++)f.push(I[C])}else f=[],n_(p,f);return f}function n_(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function Tu(a,l=[]){return c=>{c.providersResolver=(d,p)=>function OD(a,l,c){const d=an();if(d.firstCreatePass){const p=wi(a);s0(c,d.data,d.blueprint,p,!0),s0(l,d.data,d.blueprint,p,!1)}}(d,p?p(a):a,l)}}class Du{}class Qn{}function Nt(a,l){return new pn(a,l??null)}class pn extends Du{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new BT(this);const d=rr(l);this._bootstrapComponents=ga(d.bootstrap),this._r3Injector=Zw(l,c,[{provide:Du,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],pe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class c0 extends Qn{constructor(l){super(),this.moduleType=l}create(l){return new pn(this.moduleType,l)}}class Di extends Du{constructor(l,c,d){super(),this.componentFactoryResolver=new BT(this),this.instance=null;const p=new Cw([...l,{provide:Du,useValue:this},{provide:Ld,useValue:this.componentFactoryResolver}],c||sm(),d,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function et(a,l,c=null){return new Di(a,l,c).injector}let r_=(()=>{class a{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=kd(0,c.type),p=d.length>0?et([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,p)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=dt({token:a,providedIn:"environment",factory:()=>new a(Ze(hu))}),a})();function s_(a){a.getStandaloneInjector=l=>l.get(r_).getOrCreateStandaloneInjector(a)}function ch(a,l,c){const d=Zi()+a,p=Ce();return p[d]===Qt?$s(p,d,c?l.call(c):l()):function Jp(a,l){return a[l]}(p,d)}function ml(a,l,c,d){return m0(Ce(),Zi(),a,l,c,d)}function pI(a,l,c,d,p){return fc(Ce(),Zi(),a,l,c,d,p)}function pc(a,l,c,d,p,f){return _0(Ce(),Zi(),a,l,c,d,p,f)}function f0(a,l,c,d,p,f,v){return function uh(a,l,c,d,p,f,v,I,C){const x=l+c;return function Ie(a,l,c,d,p,f){const v=$d(a,l,c,d);return $d(a,l+2,p,f)||v}(a,x,p,f,v,I)?$s(a,x+4,C?d.call(C,p,f,v,I):d(p,f,v,I)):fo(a,x+4)}(Ce(),Zi(),a,l,c,d,p,f,v)}function fI(a,l,c,d){return function dh(a,l,c,d,p,f){let v=l+c,I=!1;for(let C=0;C<p.length;C++)zn(a,v++,p[C])&&(I=!0);return I?$s(a,v,d.apply(f,p)):fo(a,v)}(Ce(),Zi(),a,l,c,d)}function fo(a,l){const c=a[l];return c===Qt?void 0:c}function m0(a,l,c,d,p,f){const v=l+c;return zn(a,v,p)?$s(a,v+1,f?d.call(f,p):d(p)):fo(a,v+1)}function fc(a,l,c,d,p,f,v){const I=l+c;return $d(a,I,p,f)?$s(a,I+2,v?d.call(v,p,f):d(p,f)):fo(a,I+2)}function _0(a,l,c,d,p,f,v,I){const C=l+c;return Tm(a,C,p,f,v)?$s(a,C+3,I?d.call(I,p,f,v):d(p,f,v)):fo(a,C+3)}function y0(a,l){const c=an();let d;const p=a+An;c.firstCreatePass?(d=function LD(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[p]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(p,d.onDestroy)):d=c.data[p];const f=d.factory||(d.factory=yo(d.type)),v=ci(Ud);try{const I=Is(!1),C=f();return Is(I),function eD(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,Ce(),p,C),C}finally{ci(v)}}function gI(a,l,c){const d=a+An,p=Ce(),f=Fs(p,d);return hh(p,d)?m0(p,Zi(),l,f.transform,c,f):f.transform(c)}function _l(a,l,c,d){const p=a+An,f=Ce(),v=Fs(f,p);return hh(f,p)?fc(f,Zi(),l,v.transform,c,d,v):v.transform(c,d)}function fi(a,l,c,d,p){const f=a+An,v=Ce(),I=Fs(v,f);return hh(v,f)?_0(v,Zi(),l,I.transform,c,d,p,I):I.transform(c,d,p)}function hh(a,l){return a[ot].data[l].pure}function ba(a){return l=>{setTimeout(a,void 0,l)}}const qs=class kf extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let p=l,f=c||(()=>null),v=d;if(l&&"object"==typeof l){const C=l;p=C.next?.bind(C),f=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(f=ba(f),p&&(p=ba(p)),v&&(v=ba(v)));const I=super.subscribe({next:p,error:f,complete:v});return l instanceof j.w0&&l.add(I),I}};function xu(){return this._results[cn()]()}class go{get changes(){return this._changes||(this._changes=new qs)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=cn(),d=go.prototype;d[c]||(d[c]=xu)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const p=function ar(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Qc(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let p=a[d],f=l[d];if(c&&(p=c(p),f=c(f)),f!==p)return!1}return!0}(d._results,p,c))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yl=(()=>{class a{}return a.__NG_ELEMENT_ID__=ph,a})();const gc=yl,mI=class extends gc{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,p=pu(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);p[Nl]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[br];return null!==v&&(p[br]=v.createEmbeddedView(d)),rv(d,p,l),new bm(p)}};function ph(){return fh(Ei(),Ce())}function fh(a,l){return 4&a.type?new mI(l,a,rl(a,l)):null}let wa=(()=>{class a{}return a.__NG_ELEMENT_ID__=b0,a})();function b0(){return mh(Ei(),Ce())}const Rf=wa,w0=class extends Rf{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return rl(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){const l=za(this._hostTNode,this._hostLView);if(jc(l)){const c=To(l,this._hostLView),d=$a(l);return new ao(c[ot].data[d+8],c)}return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=I0(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-Ri}createEmbeddedView(l,c,d){let p,f;"number"==typeof d?p=d:null!=d&&(p=d.index,f=d.injector);const v=l.createEmbeddedView(c||{},f);return this.insert(v,p),v}createComponent(l,c,d,p,f){const v=l&&!function Zl(a){return"function"==typeof a}(l);let I;if(v)I=c;else{const V=c||{};I=V.index,d=V.injector,p=V.projectableNodes,f=V.environmentInjector||V.ngModuleRef}const C=v?l:new wm(dn(l)),x=d||this.parentInjector;if(!f&&null==C.ngModule){const Q=(v?x:this.parentInjector).get(hu,null);Q&&(f=Q)}const N=C.create(x,p,void 0,f);return this.insert(N.hostView,I),N}insert(l,c){const d=l._lView,p=d[ot];if(function jh(a){return Lr(a[Gn])}(d)){const N=this.indexOf(l);if(-1!==N)this.detach(N);else{const V=d[Gn],Q=new w0(V,V[bi],V[Gn]);Q.detach(Q.indexOf(l))}}const f=this._adjustIndex(c),v=this._lContainer;!function my(a,l,c,d){const p=Ri+d,f=c.length;d>0&&(c[p-1][qi]=l),d<f-Ri?(l[qi]=c[p],Xc(c,Ri+d,l)):(c.push(l),l[qi]=null),l[Gn]=c;const v=l[Nl];null!==v&&c!==v&&function Ep(a,l){const c=a[Rr];l[ki]!==l[Gn][Gn][ki]&&(a[Pl]=!0),null===c?a[Rr]=[l]:c.push(l)}(v,l);const I=l[br];null!==I&&I.insertView(a),l[Tt]|=64}(p,d,v,f);const I=cu(f,v),C=d[nn],x=nl(C,v[kl]);return null!==x&&function $g(a,l,c,d,p,f){d[kr]=p,d[bi]=l,Sp(a,d,c,1,p,f)}(p,v[bi],C,d,x,I),l.attachToViewContainerRef(),Xc(gh(v),f,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=I0(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=_y(this._lContainer,c);d&&(Ya(gh(this._lContainer),c),Wg(d[ot],d))}detach(l){const c=this._adjustIndex(l,-1),d=_y(this._lContainer,c);return d&&null!=Ya(gh(this._lContainer),c)?new bm(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function I0(a){return a[Ns]}function gh(a){return a[Ns]||(a[Ns]=[])}function mh(a,l){let c;const d=l[a.index];if(Lr(d))c=d;else{let p;if(8&a.type)p=Zn(d);else{const f=l[nn];p=f.createComment("");const v=Fi(a,l);au(f,nl(f,v),p,function nw(a,l){return a.nextSibling(l)}(f,v),!1)}l[a.index]=c=c1(d,l,p,a),Yp(l,c)}return new w0(c,a,l)}class o_{constructor(l){this.queryList=l,this.matches=null}clone(){return new o_(this.queryList)}setDirty(){this.queryList.setDirty()}}class E0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,p=[];for(let f=0;f<d;f++){const v=c.getByIndex(f);p.push(this.queries[v.indexInDeclarationView].clone())}return new E0(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==II(l,c).matches&&this.queries[c].setDirty()}}class _I{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class a_{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const p=null!==c?c.length:0,f=this.getByIndex(d).embeddedTView(l,p);f&&(f.indexInDeclarationView=d,null!==c?c.push(f):c=[f])}return null!==c?new a_(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class l_{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new l_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const f=d[p];this.matchTNodeWithReadOption(l,c,mc(c,f)),this.matchTNodeWithReadOption(l,c,Wa(c,l,f,!1,!1))}else d===yl?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Wa(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===Vd||p===wa||p===yl&&4&c.type)this.addMatch(c.index,-2);else{const f=Wa(c,l,p,!1,!1);null!==f&&this.addMatch(c.index,f)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function mc(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function vI(a,l,c,d){return-1===c?function yI(a,l){return 11&a.type?rl(a,l):4&a.type?fh(a,l):null}(l,a):-2===c?function bI(a,l,c){return c===Vd?rl(l,a):c===yl?fh(l,a):c===wa?mh(l,a):void 0}(a,l,d):is(a,a[ot],c,l)}function un(a,l,c,d){const p=l[br].queries[d];if(null===p.matches){const f=a.data,v=c.matches,I=[];for(let C=0;C<v.length;C+=2){const x=v[C];I.push(x<0?null:vI(l,f[x],v[C+1],c.metadata.read))}p.matches=I}return p.matches}function En(a,l,c,d){const p=a.queries.getByIndex(c),f=p.matches;if(null!==f){const v=un(a,l,p,c);for(let I=0;I<f.length;I+=2){const C=f[I];if(C>0)d.push(v[I/2]);else{const x=f[I+1],N=l[-C];for(let V=Ri;V<N.length;V++){const Q=N[V];Q[Nl]===Q[Gn]&&En(Q[ot],Q,x,d)}if(null!==N[Rr]){const V=N[Rr];for(let Q=0;Q<V.length;Q++){const ce=V[Q];En(ce[ot],ce,x,d)}}}}}return d}function Au(a){const l=Ce(),c=an(),d=Jh();Gc(d+1);const p=II(c,d);if(a.dirty&&function Gl(a){return 4==(4&a[Tt])}(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const f=p.crossesNgTemplate?En(c,l,d,[]):un(c,l,p,d);a.reset(f,Lp),a.notifyOnChanges()}return!0}return!1}function c_(a,l,c){const d=an();d.firstCreatePass&&(S0(d,new _I(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),D0(d,Ce(),l)}function u_(a,l,c,d){const p=an();if(p.firstCreatePass){const f=Ei();S0(p,new _I(l,c,d),f.index),function wI(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(p,a),2==(2&c)&&(p.staticContentQueries=!0)}D0(p,Ce(),c)}function C0(){return function T0(a,l){return a[br].queries[l].queryList}(Ce(),Jh())}function D0(a,l,c){const d=new go(4==(4&c));ov(a,l,d,d.destroy),null===l[br]&&(l[br]=new E0),l[br].queries.push(new o_(d))}function S0(a,l,c){null===a.queries&&(a.queries=new a_),a.queries.track(new l_(l,c))}function II(a,l){return a.queries.getByIndex(l)}function EI(a,l){return fh(a,l)}function y_(...a){}const Xn=new on("Application Initializer");let Ru=(()=>{class a{constructor(c){this.appInits=c,this.resolve=y_,this.reject=y_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const f=this.appInits[p]();if(Cv(f))c.push(f);else if(rf(f)){const v=new Promise((I,C)=>{f.subscribe({complete:I,error:C})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(p=>{this.reject(p)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Ze(Xn,8))},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Gf=new on("AppId",{providedIn:"root",factory:function B0(){return`${Fu()}${Fu()}${Fu()}`}});function Fu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xI=new on("Platform Initializer"),AI=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lu=new on("appBootstrapListener"),MI=new on("AnimationModuleType");let OI=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const wl=new on("LocaleId",{providedIn:"root",factory:()=>it(wl,lt.Optional|lt.SkipSelf)||function NI(){return typeof $localize<"u"&&$localize.locale||eh}()}),U0=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class PI{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let kI=(()=>{class a{compileModuleSync(c){return new c0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),f=ga(rr(c).declarations).reduce((v,I)=>{const C=dn(I);return C&&v.push(new wm(C)),v},[]);return new PI(d,f)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const RI=(()=>Promise.resolve(0))();function Vu(a){typeof Zone>"u"?RI.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ft{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qs(!1),this.onMicrotaskEmpty=new qs(!1),this.onStable=new qs(!1),this.onError=new qs(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&c,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function YD(){let a=Ut.requestAnimationFrame,l=Ut.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function jf(a){const l=()=>{!function $f(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ut,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Eh(a),a.isCheckStableRunning=!0,Ih(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Eh(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,p,f,v,I)=>{try{return G0(a),c.invokeTask(p,f,v,I)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||a.shouldCoalesceRunChangeDetection)&&l(),$0(a)}},onInvoke:(c,d,p,f,v,I,C)=>{try{return G0(a),c.invoke(p,f,v,I,C)}finally{a.shouldCoalesceRunChangeDetection&&l(),$0(a)}},onHasTask:(c,d,p,f)=>{c.hasTask(p,f),d===p&&("microTask"==f.change?(a._hasPendingMicrotasks=f.microTask,Eh(a),Ih(a)):"macroTask"==f.change&&(a.hasPendingMacrotasks=f.macroTask))},onHandleError:(c,d,p,f)=>(c.handleError(p,f),a.runOutsideAngular(()=>a.onError.emit(f)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ft.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Ft.isInAngularZone())throw new be(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,p){const f=this._inner,v=f.scheduleEventTask("NgZoneEvent: "+p,l,KD,y_,y_);try{return f.runTask(v,c,d)}finally{f.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const KD={};function Ih(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Eh(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function G0(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function $0(a){a._nesting--,Ih(a)}class FI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qs,this.onMicrotaskEmpty=new qs,this.onStable=new qs,this.onError=new qs}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,p){return l.apply(c,d)}}const LI=new on(""),j0=new on("");let z0,VI=(()=>{class a{constructor(c,d,p){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,z0||(function JD(a){z0=a}(p),p.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ft.assertNotInAngularZone(),Vu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vu(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,p){let f=-1;d&&d>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==f),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:f,updateCb:p})}whenStable(c,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,p){return[]}}return a.\u0275fac=function(c){return new(c||a)(Ze(Ft),Ze(BI),Ze(j0))},a.\u0275prov=dt({token:a,factory:a.\u0275fac}),a})(),BI=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return z0?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),bc=null;const Bu=new on("AllowMultipleToken"),v_=new on("PlatformDestroyListeners"),Il=!1;class zf{constructor(l,c){this.name=l,this.token=c}}function Z0(a,l,c=[]){const d=`Platform: ${l}`,p=new on(d);return(f=[])=>{let v=K0();if(!v||v.injector.get(Bu,!1)){const I=[...c,...f,{provide:p,useValue:!0}];a?a(I):function Ia(a){if(bc&&!bc.get(Bu,!1))throw new be(400,!1);bc=a;const l=a.get(Ch);(function q0(a){const l=a.get(xI,null);l&&l.forEach(c=>c())})(a)}(function Y0(a=[],l){return rc.create({name:l,providers:[{provide:nc,useValue:"platform"},{provide:v_,useValue:new Set([()=>bc=null])},...a]})}(I,d))}return function GI(a){const l=K0();if(!l)throw new be(401,!1);return l}()}}function K0(){return bc?.get(Ch)??null}let Ch=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const p=function $I(a,l){let c;return c="noop"===a?new FI:("zone.js"===a?void 0:a)||new Ft(l),c}(d?.ngZone,function w_(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),f=[{provide:Ft,useValue:p}];return p.run(()=>{const v=rc.create({providers:f,parent:this.injector,name:c.moduleType.name}),I=c.create(v),C=I.injector.get(Vp,null);if(!C)throw new be(402,!1);return p.runOutsideAngular(()=>{const x=p.onError.subscribe({next:N=>{C.handleError(N)}});I.onDestroy(()=>{E_(this._modules,I),x.unsubscribe()})}),function J0(a,l,c){try{const d=c();return Cv(d)?d.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(C,p,()=>{const x=I.injector.get(Ru);return x.runInitializers(),x.donePromise.then(()=>(zm(I.injector.get(wl,eh)||eh),this._moduleDoBootstrap(I),I))})})}bootstrapModule(c,d=[]){const p=I_({},d);return function Ui(a,l,c){const d=new c0(c);return Promise.resolve(d)}(0,0,c).then(f=>this.bootstrapModuleFactory(f,p))}_moduleDoBootstrap(c){const d=c.injector.get(Wf);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new be(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(v_,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Ze(rc))},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function I_(a,l){return Array.isArray(l)?l.reduce(I_,a):{...a,...l}}let Wf=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,p){this._zone=c,this._injector=d,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new k.y(I=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Ft.assertNotInAngularZone(),Vu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ft.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{C.unsubscribe(),x.unsubscribe()}});this.isStable=(0,le.T)(f,v.pipe((0,he.B)()))}bootstrap(c,d){const p=c instanceof Dw;if(!this._injector.get(Ru).done){!p&&ti(c);throw new be(405,Il)}let v;v=p?c:this._injector.get(Ld).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const I=function HI(a){return a.isBoundToModule}(v)?void 0:this._injector.get(Du),x=v.create(rc.NULL,[],d||v.selector,I),N=x.location.nativeElement,V=x.injector.get(LI,null);return V?.registerApplication(N),x.onDestroy(()=>{this.detachView(x.hostView),E_(this.components,x),V?.unregisterApplication(N)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;E_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Lu,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>E_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new be(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)(Ze(Ft),Ze(hu),Ze(Vp))},a.\u0275prov=dt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function E_(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}function XD(){return!1}let eS=(()=>{class a{}return a.__NG_ELEMENT_ID__=jI,a})();function jI(a){return function us(a,l,c){if(Ma(a)&&!c){const d=Ii(a.index,l);return new bm(d,d)}return 47&a.type?new bm(l[ki],l):null}(Ei(),Ce(),16==(16&a))}class ZI{constructor(){}supports(l){return No(l)}create(l){return new KI(l)}}const YI=(a,l)=>l;class KI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||YI}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,p=0,f=null;for(;c||d;){const v=!d||c&&c.currentIndex<D_(d,p,f)?c:d,I=D_(v,p,f),C=v.currentIndex;if(v===d)p--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)p++;else{f||(f=[]);const x=I-p,N=C-p;if(x!=N){for(let Q=0;Q<x;Q++){const ce=Q<f.length?f[Q]:f[Q]=0,Ae=ce+Q;N<=Ae&&Ae<x&&(f[Q]=ce+1)}f[v.previousIndex]=N-x}}I!==C&&l(v,I,C)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!No(l))throw new be(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,f,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let I=0;I<this.length;I++)f=l[I],v=this._trackByFn(I,f),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,f,v,I)),Object.is(c.item,f)||this._addIdentityChange(c,f)):(c=this._mismatch(c,f,v,I),d=!0),c=c._next}else p=0,function _v(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[cn()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,I=>{v=this._trackByFn(p,I),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,I,v,p)),Object.is(c.item,I)||this._addIdentityChange(c,I)):(c=this._mismatch(c,I,v,p),d=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,p){let f;return null===l?f=this._itTail:(f=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,f,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,f,p)):l=this._addAfter(new aS(c,d),f,p),l}_verifyReinsertion(l,c,d,p){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==f?l=this._reinsertAfter(f,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,f=l._nextRemoved;return null===p?this._removalsHead=f:p._nextRemoved=f,null===f?this._removalsTail=p:f._prevRemoved=p,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const p=null===c?this._itHead:c._next;return l._next=p,l._prev=c,null===p?this._itTail=l:p._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new mr),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mr),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class aS{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sb{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class mr{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new sb,this.map.set(c,d)),d.add(l)}get(l,c){const p=this.map.get(l);return p?p.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function D_(a,l,c){const d=a.previousIndex;if(null===d)return d;let p=0;return c&&d<c.length&&(p=c[d]),d+l+p}class S_{constructor(){}supports(l){return l instanceof Map||hr(l)}create(){return new ob}}class ob{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||hr(l)))throw new be(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const f=this._getOrCreateRecordForKey(p,d);c=this._insertBeforeOrAppend(c,f)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,c);const f=p._prev,v=p._next;return f&&(f._next=v),v&&(v._prev=f),p._next=null,p._prev=null,p}const d=new wc(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class wc{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ab(){return new lb([new ZI])}let lb=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const p=d.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||ab()),deps:[[a,new D,new ua]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(null!=d)return d;throw new be(901,!1)}}return a.\u0275prov=dt({token:a,providedIn:"root",factory:ab}),a})();function Yf(){return new Cl([new S_])}let Cl=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const p=d.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Yf()),deps:[[a,new D,new ua]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new be(901,!1)}}return a.\u0275prov=dt({token:a,providedIn:"root",factory:Yf}),a})();const cb=Z0(null,"core",[]);let ub=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Ze(Wf))},a.\u0275mod=Ho({type:a}),a.\u0275inj=_i({}),a})();function JI(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function fS(a,l){const c=dn(a),d=l.elementInjector||sm();return new wm(c).create(d,l.projectableNodes,l.hostElement,l.environmentInjector)}},8140:(pt,Me,L)=>{"use strict";L.d(Me,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=L(9681)},1274:(pt,Me,L)=>{"use strict";L.d(Me,{Z:()=>s.Z});var s=L(3942)},8618:(pt,Me,L)=>{"use strict";L.r(Me);var s=L(5861),j=L(3942),k=L(2722),le=L(2090),Ee=(L(9681),L(1877),L(4859));function pe(){return window}const we=2e3;function Z(){return Z=(0,s.Z)(function*(G,P,B){var fe;const{BuildInfo:Ve}=pe();(0,k.ap)(P.sessionId,"AuthEvent did not contain a session ID");const ht=yield function Oe(G){return xe.apply(this,arguments)}(P.sessionId),Qe={};return(0,k.aq)()?Qe.ibi=Ve.packageName:(0,k.ar)()?Qe.apn=Ve.packageName:(0,k.as)(G,"operation-not-supported-in-this-environment"),Ve.displayName&&(Qe.appDisplayName=Ve.displayName),Qe.sessionId=ht,(0,k.at)(G,B,P.type,void 0,null!==(fe=P.eventId)&&void 0!==fe?fe:void 0,Qe)}),Z.apply(this,arguments)}function ze(){return(ze=(0,s.Z)(function*(G){const{BuildInfo:P}=pe(),B={};(0,k.aq)()?B.iosBundleId=P.packageName:(0,k.ar)()?B.androidPackageName=P.packageName:(0,k.as)(G,"operation-not-supported-in-this-environment"),yield(0,k.au)(G,B)})).apply(this,arguments)}function st(){return(st=(0,s.Z)(function*(G,P,B){const{cordova:fe}=pe();let Ve=()=>{};try{yield new Promise((ht,Qe)=>{let zt=null;function vt(){var Gt;ht();const ir=null===(Gt=fe.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof ir&&ir(),"function"==typeof B?.close&&B.close()}function Dn(){zt||(zt=window.setTimeout(()=>{Qe((0,k.aw)(G,"redirect-cancelled-by-user"))},we))}function Ni(){"visible"===document?.visibilityState&&Dn()}P.addPassiveListener(vt),document.addEventListener("resume",Dn,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",Ni,!1),Ve=()=>{P.removePassiveListener(vt),document.removeEventListener("resume",Dn,!1),document.removeEventListener("visibilitychange",Ni,!1),zt&&window.clearTimeout(zt)}})}finally{Ve()}})).apply(this,arguments)}function xe(){return(xe=(0,s.Z)(function*(G){const P=function Fe(G){if((0,k.ap)(/[0-9a-zA-Z]+/.test(G),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(G);const P=new ArrayBuffer(G.length),B=new Uint8Array(P);for(let fe=0;fe<G.length;fe++)B[fe]=G.charCodeAt(fe);return B}(G),B=yield crypto.subtle.digest("SHA-256",P);return Array.from(new Uint8Array(B)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Le=20;class Te extends k.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(P=>{this.resolveInialized=P})}addPassiveListener(P){this.passiveListeners.add(P)}removePassiveListener(P){this.passiveListeners.delete(P)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(P){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(P)),super.onEvent(P)}initialized(){var P=this;return(0,s.Z)(function*(){yield P.initPromise})()}}function oe(G){return ne.apply(this,arguments)}function ne(){return(ne=(0,s.Z)(function*(G){const P=yield W()._get(J(G));return P&&(yield W()._remove(J(G))),P})).apply(this,arguments)}function H(){const G=[],P="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<Le;B++){const fe=Math.floor(Math.random()*P.length);G.push(P.charAt(fe))}return G.join("")}function W(){return(0,k.az)(k.b)}function J(G){return(0,k.aA)("authEvent",G.config.apiKey,G.name)}function De(G){if(!G?.includes("?"))return{};const[P,...B]=G.split("?");return(0,le.zd)(B.join("?"))}const Ht=class St{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(P){var B=this;return(0,s.Z)(function*(){const fe=P._key();let Ve=B.eventManagers.get(fe);return Ve||(Ve=new Te(P),B.eventManagers.set(fe,Ve),B.attachCallbackListeners(P,Ve)),Ve})()}_openPopup(P){(0,k.as)(P,"operation-not-supported-in-this-environment")}_openRedirect(P,B,fe,Ve){var ht=this;return(0,s.Z)(function*(){!function be(G){var P,B,fe,Ve,ht,Qe,zt,vt,Dn,Ni;const Gt=pe();(0,k.ax)("function"==typeof(null===(P=Gt?.universalLinks)||void 0===P?void 0:P.subscribe),G,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(typeof(null===(B=Gt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(ht=null===(Ve=null===(fe=Gt?.cordova)||void 0===fe?void 0:fe.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===ht?void 0:ht.openUrl),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(vt=null===(zt=null===(Qe=Gt?.cordova)||void 0===Qe?void 0:Qe.plugins)||void 0===zt?void 0:zt.browsertab)||void 0===vt?void 0:vt.isAvailable),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Ni=null===(Dn=Gt?.cordova)||void 0===Dn?void 0:Dn.InAppBrowser)||void 0===Ni?void 0:Ni.open),G,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(P);const Qe=yield ht._initialize(P);yield Qe.initialized(),Qe.resetRedirect(),(0,k.aD)(),yield ht._originValidation(P);const zt=function ye(G,P,B=null){return{type:P,eventId:B,urlResponse:null,sessionId:H(),postBody:null,tenantId:G.tenantId,error:(0,k.aw)(G,"no-auth-event")}}(P,fe,Ve);yield function Ge(G,P){return W()._set(J(G),P)}(P,zt);const vt=yield function q(G,P,B){return Z.apply(this,arguments)}(P,zt,B),Dn=yield function Re(G){const{cordova:P}=pe();return new Promise(B=>{P.plugins.browsertab.isAvailable(fe=>{let Ve=null;fe?P.plugins.browsertab.openUrl(G):Ve=P.InAppBrowser.open(G,(0,k.av)()?"_blank":"_system","location=yes"),B(Ve)})})}(vt);return function Je(G,P,B){return st.apply(this,arguments)}(P,Qe,Dn)})()}_isIframeWebStorageSupported(P,B){throw new Error("Method not implemented.")}_originValidation(P){const B=P._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function ie(G){return ze.apply(this,arguments)}(P)),this.originValidationPromises[B]}attachCallbackListeners(P,B){const{universalLinks:fe,handleOpenURL:Ve,BuildInfo:ht}=pe(),Qe=setTimeout((0,s.Z)(function*(){yield oe(P),B.onEvent(It())}),500),zt=function(){var Ni=(0,s.Z)(function*(Gt){clearTimeout(Qe);const ir=yield oe(P);let Ac=null;ir&&Gt?.url&&(Ac=function re(G,P){var B,fe;const Ve=function ve(G){const P=De(G),B=P.link?decodeURIComponent(P.link):void 0,fe=De(B).link,Ve=P.deep_link_id?decodeURIComponent(P.deep_link_id):void 0;return De(Ve).link||Ve||fe||B||G}(P);if(Ve.includes("/__/auth/callback")){const ht=De(Ve),Qe=ht.firebaseError?function X(G){try{return JSON.parse(G)}catch{return null}}(decodeURIComponent(ht.firebaseError)):null,zt=null===(fe=null===(B=Qe?.code)||void 0===B?void 0:B.split("auth/"))||void 0===fe?void 0:fe[1],vt=zt?(0,k.aw)(zt):null;return vt?{type:G.type,eventId:G.eventId,tenantId:G.tenantId,error:vt,urlResponse:null,sessionId:null,postBody:null}:{type:G.type,eventId:G.eventId,tenantId:G.tenantId,sessionId:G.sessionId,urlResponse:Ve,postBody:null}}return null}(ir,Gt.url)),B.onEvent(Ac||It())});return function(ir){return Ni.apply(this,arguments)}}();typeof fe<"u"&&"function"==typeof fe.subscribe&&fe.subscribe(null,zt);const vt=Ve,Dn=`${ht.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Ni=(0,s.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(Dn)&&zt({url:Gt}),"function"==typeof vt)try{vt(Gt)}catch(ir){console.error(ir)}});return function(Gt){return Ni.apply(this,arguments)}}()}};function It(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}const Sn=1e3;function At(){var G;return(null===(G=self?.location)||void 0===G?void 0:G.protocol)||null}function tr(G=(0,le.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!G.toLowerCase().match(/iphone|ipad|ipod|android/))}function eo(){try{const G=self.localStorage,P=k.aI();if(G)return G.setItem(P,"1"),G.removeItem(P),!function ys(G=(0,le.z$)()){return function ji(){return(0,le.w1)()&&11===document?.documentMode}()||function Un(G=(0,le.z$)()){return/Edge\/\d+/.test(G)}(G)}()||(0,le.hl)()}catch{return Yr()&&(0,le.hl)()}return!1}function Yr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function li(){return(function dt(){return"http:"===At()||"https:"===At()}()||(0,le.ru)()||tr())&&!function _i(){return(0,le.b$)()||(0,le.UG)()}()&&eo()&&!Yr()}function Nr(){return tr()&&typeof document<"u"}function bn(){return(bn=(0,s.Z)(function*(){return!!Nr()&&new Promise(G=>{const P=setTimeout(()=>{G(!1)},Sn);document.addEventListener("deviceready",()=>{clearTimeout(P),G(!0)})})})).apply(this,arguments)}const lt={LOCAL:"local",NONE:"none",SESSION:"session"},Oi=k.ax,zi="persistence";function ui(G){return vr.apply(this,arguments)}function vr(){return(vr=(0,s.Z)(function*(G){yield G._initializationPromise;const P=Ct(),B=k.aA(zi,G.config.apiKey,G.name);P&&P.setItem(B,G._getPersistence())})).apply(this,arguments)}function Ct(){var G;try{return(null===(G=function Mi(){return typeof window<"u"?window:null}())||void 0===G?void 0:G.sessionStorage)||null}catch{return null}}const Lt=k.ax;class wn{constructor(){this.browserResolver=k.az(k.k),this.cordovaResolver=k.az(Ht),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(P){var B=this;return(0,s.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(P)})()}_openPopup(P,B,fe,Ve){var ht=this;return(0,s.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openPopup(P,B,fe,Ve)})()}_openRedirect(P,B,fe,Ve){var ht=this;return(0,s.Z)(function*(){return yield ht.selectUnderlyingResolver(),ht.assertedUnderlyingResolver._openRedirect(P,B,fe,Ve)})()}_isIframeWebStorageSupported(P,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(P,B)}_originValidation(P){return this.assertedUnderlyingResolver._originValidation(P)}get _shouldInitProactively(){return Nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var P=this;return(0,s.Z)(function*(){if(P.underlyingResolver)return;const B=yield function Kr(){return bn.apply(this,arguments)}();P.underlyingResolver=B?P.cordovaResolver:P.browserResolver})()}}function yi(G){return G.unwrap()}function Pr(G){return Jr(G)}function Jr(G){const{_tokenResponse:P}=G instanceof le.ZR?G.customData:G;if(!P)return null;if(!(G instanceof le.ZR)&&"temporaryProof"in P&&"phoneNumber"in P)return k.P.credentialFromResult(G);const B=P.providerId;if(!B||B===k.o.PASSWORD)return null;let fe;switch(B){case k.o.GOOGLE:fe=k.Q;break;case k.o.FACEBOOK:fe=k.N;break;case k.o.GITHUB:fe=k.T;break;case k.o.TWITTER:fe=k.W;break;default:const{oauthIdToken:Ve,oauthAccessToken:ht,oauthTokenSecret:Qe,pendingToken:zt,nonce:vt}=P;return ht||Qe||Ve||zt?zt?B.startsWith("saml.")?k.aL._create(B,zt):k.J._fromParams({providerId:B,signInMethod:B,pendingToken:zt,idToken:Ve,accessToken:ht}):new k.U(B).credential({idToken:Ve,accessToken:ht,rawNonce:vt}):null}return G instanceof le.ZR?fe.credentialFromError(G):fe.credentialFromResult(G)}function Yt(G,P){return P.catch(B=>{throw B instanceof le.ZR&&function vi(G,P){var B;const fe=null===(B=P.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===P?.code)P.resolver=new nr(G,k.an(G,P));else if(fe){const Ve=Jr(P),ht=P;Ve&&(ht.credential=Ve,ht.tenantId=fe.tenantId||void 0,ht.email=fe.email||void 0,ht.phoneNumber=fe.phoneNumber||void 0)}}(G,B),B}).then(B=>{const Ve=B.user;return{operationType:B.operationType,credential:Pr(B),additionalUserInfo:k.al(B),user:ei.getOrCreate(Ve)}})}function Qr(G,P){return en.apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(G,P){const B=yield P;return{verificationId:B.verificationId,confirm:fe=>Yt(G,B.confirm(fe))}})).apply(this,arguments)}class nr{constructor(P,B){this.resolver=B,this.auth=function Hn(G){return G.wrapped()}(P)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(P){return Yt(yi(this.auth),this.resolver.resolveSignIn(P))}}class ei{constructor(P){this._delegate=P,this.multiFactor=k.ao(P)}static getOrCreate(P){return ei.USER_MAP.has(P)||ei.USER_MAP.set(P,new ei(P)),ei.USER_MAP.get(P)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(P){return this._delegate.getIdTokenResult(P)}getIdToken(P){return this._delegate.getIdToken(P)}linkAndRetrieveDataWithCredential(P){return this.linkWithCredential(P)}linkWithCredential(P){var B=this;return(0,s.Z)(function*(){return Yt(B.auth,k.Z(B._delegate,P))})()}linkWithPhoneNumber(P,B){var fe=this;return(0,s.Z)(function*(){return Qr(fe.auth,k.l(fe._delegate,P,B))})()}linkWithPopup(P){var B=this;return(0,s.Z)(function*(){return Yt(B.auth,k.d(B._delegate,P,wn))})()}linkWithRedirect(P){var B=this;return(0,s.Z)(function*(){return yield ui(k.aE(B.auth)),k.g(B._delegate,P,wn)})()}reauthenticateAndRetrieveDataWithCredential(P){return this.reauthenticateWithCredential(P)}reauthenticateWithCredential(P){var B=this;return(0,s.Z)(function*(){return Yt(B.auth,k._(B._delegate,P))})()}reauthenticateWithPhoneNumber(P,B){return Qr(this.auth,k.r(this._delegate,P,B))}reauthenticateWithPopup(P){return Yt(this.auth,k.e(this._delegate,P,wn))}reauthenticateWithRedirect(P){var B=this;return(0,s.Z)(function*(){return yield ui(k.aE(B.auth)),k.h(B._delegate,P,wn)})()}sendEmailVerification(P){return k.ab(this._delegate,P)}unlink(P){var B=this;return(0,s.Z)(function*(){return yield k.ak(B._delegate,P),B})()}updateEmail(P){return k.ag(this._delegate,P)}updatePassword(P){return k.ah(this._delegate,P)}updatePhoneNumber(P){return k.u(this._delegate,P)}updateProfile(P){return k.af(this._delegate,P)}verifyBeforeUpdateEmail(P,B){return k.ac(this._delegate,P,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ei.USER_MAP=new WeakMap;const Ze=k.ax;let Ne=(()=>{class G{constructor(B,fe){if(this.app=B,fe.isInitialized())return this._delegate=fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=B.options;Ze(Ve,"invalid-api-key",{appName:B.name}),Ze(Ve,"invalid-api-key",{appName:B.name});const ht=typeof window<"u"?wn:void 0;this._delegate=fe.initialize({options:{persistence:Mt(Ve,B.name),popupRedirectResolver:ht}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ei.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,fe){k.G(this._delegate,B,fe)}applyActionCode(B){return k.a2(this._delegate,B)}checkActionCode(B){return k.a3(this._delegate,B)}confirmPasswordReset(B,fe){return k.a1(this._delegate,B,fe)}createUserWithEmailAndPassword(B,fe){var Ve=this;return(0,s.Z)(function*(){return Yt(Ve._delegate,k.a5(Ve._delegate,B,fe))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return k.aa(this._delegate,B)}isSignInWithEmailLink(B){return k.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,s.Z)(function*(){Ze(li(),B._delegate,"operation-not-supported-in-this-environment");const fe=yield k.j(B._delegate,wn);return fe?Yt(B._delegate,Promise.resolve(fe)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function kt(G,P){(0,k.aE)(G)._logFramework(P)}(this._delegate,B)}onAuthStateChanged(B,fe,Ve){const{next:ht,error:Qe,complete:zt}=it(B,fe,Ve);return this._delegate.onAuthStateChanged(ht,Qe,zt)}onIdTokenChanged(B,fe,Ve){const{next:ht,error:Qe,complete:zt}=it(B,fe,Ve);return this._delegate.onIdTokenChanged(ht,Qe,zt)}sendSignInLinkToEmail(B,fe){return k.a7(this._delegate,B,fe)}sendPasswordResetEmail(B,fe){return k.a0(this._delegate,B,fe||void 0)}setPersistence(B){var fe=this;return(0,s.Z)(function*(){let Ve;switch(function ci(G,P){Oi(Object.values(lt).includes(P),G,"invalid-persistence-type"),(0,le.b$)()?Oi(P!==lt.SESSION,G,"unsupported-persistence-type"):(0,le.UG)()?Oi(P===lt.NONE,G,"unsupported-persistence-type"):Yr()?Oi(P===lt.NONE||P===lt.LOCAL&&(0,le.hl)(),G,"unsupported-persistence-type"):Oi(P===lt.NONE||eo(),G,"unsupported-persistence-type")}(fe._delegate,B),B){case lt.SESSION:Ve=k.a;break;case lt.LOCAL:Ve=(yield k.az(k.i)._isAvailable())?k.i:k.b;break;case lt.NONE:Ve=k.L;break;default:return k.as("argument-error",{appName:fe._delegate.name})}return fe._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Yt(this._delegate,k.X(this._delegate))}signInWithCredential(B){return Yt(this._delegate,k.Y(this._delegate,B))}signInWithCustomToken(B){return Yt(this._delegate,k.$(this._delegate,B))}signInWithEmailAndPassword(B,fe){return Yt(this._delegate,k.a6(this._delegate,B,fe))}signInWithEmailLink(B,fe){return Yt(this._delegate,k.a9(this._delegate,B,fe))}signInWithPhoneNumber(B,fe){return Qr(this._delegate,k.s(this._delegate,B,fe))}signInWithPopup(B){var fe=this;return(0,s.Z)(function*(){return Ze(li(),fe._delegate,"operation-not-supported-in-this-environment"),Yt(fe._delegate,k.c(fe._delegate,B,wn))})()}signInWithRedirect(B){var fe=this;return(0,s.Z)(function*(){return Ze(li(),fe._delegate,"operation-not-supported-in-this-environment"),yield ui(fe._delegate),k.f(fe._delegate,B,wn)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return k.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return G.Persistence=lt,G})();function it(G,P,B){let fe=G;"function"!=typeof G&&({next:fe,error:P,complete:B}=G);const Ve=fe;return{next:Qe=>Ve(Qe&&ei.getOrCreate(Qe)),error:P,complete:B}}function Mt(G,P){const B=function Ut(G,P){const B=Ct();if(!B)return[];const fe=k.aA(zi,G,P);switch(B.getItem(fe)){case lt.NONE:return[k.L];case lt.LOCAL:return[k.i,k.a];case lt.SESSION:return[k.a];default:return[]}}(G,P);if(typeof self<"u"&&!B.includes(k.i)&&B.push(k.i),typeof window<"u")for(const fe of[k.b,k.a])B.includes(fe)||B.push(fe);return B.includes(k.L)||B.push(k.L),B}class Rt{constructor(){this.providerId="phone",this._delegate=new k.P(yi(j.Z.auth()))}static credential(P,B){return k.P.credential(P,B)}verifyPhoneNumber(P,B){return this._delegate.verifyPhoneNumber(P,B)}unwrap(){return this._delegate}}Rt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Rt.PROVIDER_ID=k.P.PROVIDER_ID;const sn=k.ax;class Y{constructor(P,B,fe=j.Z.app()){var Ve;sn(null===(Ve=fe.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:fe.name}),this._delegate=new k.R(P,B,fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ee(G){G.INTERNAL.registerComponent(new Ee.wA("auth-compat",P=>{const B=P.getProvider("app-compat").getImmediate(),fe=P.getProvider("auth");return new Ne(B,fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:Rt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:Y,TwitterAuthProvider:k.W,Auth:Ne,AuthCredential:k.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),G.registerVersion("@firebase/auth-compat","0.3.3")}(j.Z)},3942:(pt,Me,L)=>{"use strict";L.d(Me,{Z:()=>Je});var s=L(2090),j=L(4859),k=L(9681),le=L(1877);class he{constructor(be,Oe){this._delegate=be,this.firebase=Oe,(0,k._addComponent)(be,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(be,Oe=k._DEFAULT_ENTRY_NAME){var xe;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(be);return!Fe.isInitialized()&&"EXPLICIT"===(null===(xe=Fe.getComponent())||void 0===xe?void 0:xe.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:Oe})}_removeServiceInstance(be,Oe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(Oe)}_addComponent(be){(0,k._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,k._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function we(){const st=function pe(st){const be={},Oe={__esModule:!0,initializeApp:function Le(oe,ne={}){const re=k.initializeApp(oe,ne);if((0,s.r3)(be,re.name))return be[re.name];const H=new st(re,Oe);return be[re.name]=H,H},app:Fe,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function ye(oe){const ne=oe.name,re=ne.replace("-compat","");if(k._registerComponent(oe)&&"PUBLIC"===oe.type){const H=(W=Fe())=>{if("function"!=typeof W[re])throw Ee.create("invalid-app-argument",{appName:ne});return W[re]()};void 0!==oe.serviceProps&&(0,s.ZB)(H,oe.serviceProps),Oe[re]=H,st.prototype[re]=function(...W){return this._getService.bind(this,ne).apply(this,oe.multipleInstances?W:[])}}return"PUBLIC"===oe.type?Oe[re]:null},removeApp:function xe(oe){delete be[oe]},useAsService:function Ge(oe,ne){return"serverAuth"===ne?null:ne},modularAPIs:k}};function Fe(oe){if(!(0,s.r3)(be,oe=oe||k._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:oe});return be[oe]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function Te(){return Object.keys(be).map(oe=>be[oe])}}),Fe.App=st,Oe}(he);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function be(Oe){(0,s.ZB)(st,Oe)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),st}(),Z=new le.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=q;!function Re(st){(0,k.registerVersion)("@firebase/app-compat","0.2.3",st)}()},9681:(pt,Me,L)=>{"use strict";L.r(Me),L.d(Me,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>eo,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>Sn,_apps:()=>kt,_clearComponents:()=>_i,_components:()=>ft,_getProvider:()=>dt,_registerComponent:()=>At,_removeServiceInstance:()=>tr,deleteApp:()=>Kr,getApp:()=>li,getApps:()=>Nr,initializeApp:()=>Yr,onLog:()=>lt,registerVersion:()=>Mi,setLogLevel:()=>Oi});var s=L(5861),j=L(4859),k=L(1877),le=L(2090),he=L(8766);class ae{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(it=>{if(function Ee(Ze){return"VERSION"===Ze.getComponent()?.type}(it)){const Mt=it.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(it=>it).join(" ")}}const pe="@firebase/app",q=new k.Yd("@firebase/app"),Ht="[DEFAULT]",It={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kt=new Map,ft=new Map;function Xt(Ze,Ne){try{Ze.container.addComponent(Ne)}catch(it){q.debug(`Component ${Ne.name} failed to register with FirebaseApp ${Ze.name}`,it)}}function Sn(Ze,Ne){Ze.container.addOrOverwriteComponent(Ne)}function At(Ze){const Ne=Ze.name;if(ft.has(Ne))return q.debug(`There were multiple attempts to register component ${Ne}.`),!1;ft.set(Ne,Ze);for(const it of kt.values())Xt(it,Ze);return!0}function dt(Ze,Ne){const it=Ze.container.getProvider("heartbeat").getImmediate({optional:!0});return it&&it.triggerHeartbeat(),Ze.container.getProvider(Ne)}function tr(Ze,Ne,it=Ht){dt(Ze,Ne).clearInstance(it)}function _i(){ft.clear()}const Un=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ys{constructor(Ne,it,Mt){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},it),this._name=it.name,this._automaticDataCollectionEnabled=it.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const eo="9.17.1";function Yr(Ze,Ne={}){let it=Ze;"object"!=typeof Ne&&(Ne={name:Ne});const Mt=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},Ne),Rt=Mt.name;if("string"!=typeof Rt||!Rt)throw Un.create("bad-app-name",{appName:String(Rt)});if(it||(it=(0,le.aH)()),!it)throw Un.create("no-options");const sn=kt.get(Rt);if(sn){if((0,le.vZ)(it,sn.options)&&(0,le.vZ)(Mt,sn.config))return sn;throw Un.create("duplicate-app",{appName:Rt})}const Y=new j.H0(Rt);for(const ee of ft.values())Y.addComponent(ee);const z=new ys(it,Mt,Y);return kt.set(Rt,z),z}function li(Ze=Ht){const Ne=kt.get(Ze);if(!Ne&&Ze===Ht)return Yr();if(!Ne)throw Un.create("no-app",{appName:Ze});return Ne}function Nr(){return Array.from(kt.values())}function Kr(Ze){return bn.apply(this,arguments)}function bn(){return(bn=(0,s.Z)(function*(Ze){const Ne=Ze.name;kt.has(Ne)&&(kt.delete(Ne),yield Promise.all(Ze.container.getProviders().map(it=>it.delete())),Ze.isDeleted=!0)})).apply(this,arguments)}function Mi(Ze,Ne,it){var Mt;let Rt=null!==(Mt=It[Ze])&&void 0!==Mt?Mt:Ze;it&&(Rt+=`-${it}`);const sn=Rt.match(/\s|\//),Y=Ne.match(/\s|\//);if(sn||Y){const z=[`Unable to register library "${Rt}" with version "${Ne}":`];return sn&&z.push(`library name "${Rt}" contains illegal characters (whitespace or "/")`),sn&&Y&&z.push("and"),Y&&z.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void q.warn(z.join(" "))}At(new j.wA(`${Rt}-version`,()=>({library:Rt,version:Ne}),"VERSION"))}function lt(Ze,Ne){if(null!==Ze&&"function"!=typeof Ze)throw Un.create("invalid-log-argument");(0,k.Am)(Ze,Ne)}function Oi(Ze){(0,k.Ub)(Ze)}const zi="firebase-heartbeat-database",ci=1,ui="firebase-heartbeat-store";let vr=null;function Ut(){return vr||(vr=(0,he.X3)(zi,ci,{upgrade:(Ze,Ne)=>{0===Ne&&Ze.createObjectStore(ui)}}).catch(Ze=>{throw Un.create("idb-open",{originalErrorMessage:Ze.message})})),vr}function Lt(){return(Lt=(0,s.Z)(function*(Ze){try{return(yield Ut()).transaction(ui).objectStore(ui).get(Hn(Ze))}catch(Ne){if(Ne instanceof le.ZR)q.warn(Ne.message);else{const it=Un.create("idb-get",{originalErrorMessage:Ne?.message});q.warn(it.message)}}})).apply(this,arguments)}function wn(Ze,Ne){return yi.apply(this,arguments)}function yi(){return(yi=(0,s.Z)(function*(Ze,Ne){try{const Mt=(yield Ut()).transaction(ui,"readwrite");return yield Mt.objectStore(ui).put(Ne,Hn(Ze)),Mt.done}catch(it){if(it instanceof le.ZR)q.warn(it.message);else{const Mt=Un.create("idb-set",{originalErrorMessage:it?.message});q.warn(Mt.message)}}})).apply(this,arguments)}function Hn(Ze){return`${Ze.name}!${Ze.options.appId}`}class Jr{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const it=this.container.getProvider("app").getImmediate();this._storage=new en(it),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Ne=this;return(0,s.Z)(function*(){const Mt=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=Yt();if(null===Ne._heartbeatsCache&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==Rt&&!Ne._heartbeatsCache.heartbeats.some(sn=>sn.date===Rt))return Ne._heartbeatsCache.heartbeats.push({date:Rt,agent:Mt}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(sn=>{const Y=new Date(sn.date).valueOf();return Date.now()-Y<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,s.Z)(function*(){if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null===Ne._heartbeatsCache||0===Ne._heartbeatsCache.heartbeats.length)return"";const it=Yt(),{heartbeatsToSend:Mt,unsentEntries:Rt}=function Qr(Ze,Ne=1024){const it=[];let Mt=Ze.slice();for(const Rt of Ze){const sn=it.find(Y=>Y.agent===Rt.agent);if(sn){if(sn.dates.push(Rt.date),nr(it)>Ne){sn.dates.pop();break}}else if(it.push({agent:Rt.agent,dates:[Rt.date]}),nr(it)>Ne){it.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:it,unsentEntries:Mt}}(Ne._heartbeatsCache.heartbeats),sn=(0,le.L)(JSON.stringify({version:2,heartbeats:Mt}));return Ne._heartbeatsCache.lastSentHeartbeatDate=it,Rt.length>0?(Ne._heartbeatsCache.heartbeats=Rt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),sn})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class en{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,s.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function Ct(Ze){return Lt.apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var it=this;return(0,s.Z)(function*(){var Mt;if(yield it._canUseIndexedDBPromise){const sn=yield it.read();return wn(it.app,{lastSentHeartbeatDate:null!==(Mt=Ne.lastSentHeartbeatDate)&&void 0!==Mt?Mt:sn.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var it=this;return(0,s.Z)(function*(){var Mt;if(yield it._canUseIndexedDBPromise){const sn=yield it.read();return wn(it.app,{lastSentHeartbeatDate:null!==(Mt=Ne.lastSentHeartbeatDate)&&void 0!==Mt?Mt:sn.lastSentHeartbeatDate,heartbeats:[...sn.heartbeats,...Ne.heartbeats]})}})()}}function nr(Ze){return(0,le.L)(JSON.stringify({version:2,heartbeats:Ze})).length}!function ei(Ze){At(new j.wA("platform-logger",Ne=>new ae(Ne),"PRIVATE")),At(new j.wA("heartbeat",Ne=>new Jr(Ne),"PRIVATE")),Mi(pe,"0.9.3",Ze),Mi(pe,"0.9.3","esm2017"),Mi("fire-js","")}("")},4859:(pt,Me,L)=>{"use strict";L.d(Me,{H0:()=>pe,wA:()=>k});var s=L(5861),j=L(2090);class k{constructor(q,Z,ie){this.name=q,this.instanceFactory=Z,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const le="[DEFAULT]";class he{constructor(q,Z){this.name=q,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const Z=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Z)){const ie=new j.BH;if(this.instancesDeferred.set(Z,ie),this.isInitialized(Z)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:Z});ze&&ie.resolve(ze)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(q){var Z;const ie=this.normalizeInstanceIdentifier(q?.identifier),ze=null!==(Z=q?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Re){if(ze)return null;throw Re}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Ee(we){return"EAGER"===we.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[Z,ie]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(Z);try{const Re=this.getOrInitializeService({instanceIdentifier:ze});ie.resolve(Re)}catch{}}}}clearInstance(q=le){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,s.Z)(function*(){const Z=Array.from(q.instances.values());yield Promise.all([...Z.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...Z.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=le){return this.instances.has(q)}getOptions(q=le){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:Z={}}=q,ie=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:ie,options:Z});for(const[Re,Je]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Re)&&Je.resolve(ze);return ze}onInit(q,Z){var ie;const ze=this.normalizeInstanceIdentifier(Z),Re=null!==(ie=this.onInitCallbacks.get(ze))&&void 0!==ie?ie:new Set;Re.add(q),this.onInitCallbacks.set(ze,Re);const Je=this.instances.get(ze);return Je&&q(Je,ze),()=>{Re.delete(q)}}invokeOnInitCallbacks(q,Z){const ie=this.onInitCallbacks.get(Z);if(ie)for(const ze of ie)try{ze(q,Z)}catch{}}getOrInitializeService({instanceIdentifier:q,options:Z={}}){let ie=this.instances.get(q);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(we=q,we===le?void 0:we),options:Z}),this.instances.set(q,ie),this.instancesOptions.set(q,Z),this.invokeOnInitCallbacks(ie,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ie)}catch{}var we;return ie||null}normalizeInstanceIdentifier(q=le){return this.component?this.component.multipleInstances?q:le:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const Z=this.getProvider(q.name);if(Z.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);Z.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const Z=new he(q,this);return this.providers.set(q,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Me,L)=>{"use strict";L.d(Me,{Am:()=>we,Ub:()=>pe,Yd:()=>Ee,in:()=>j});const s=[];var j=(()=>{return(q=j||(j={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",j;var q})();const k={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},le=j.INFO,he={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ae=(q,Z,...ie)=>{if(Z<q.logLevel)return;const ze=(new Date).toISOString(),Re=he[Z];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Re](`[${ze}]  ${q.name}:`,...ie)};class Ee{constructor(Z){this.name=Z,this._logLevel=le,this._logHandler=ae,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in j))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?k[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...Z),this._logHandler(this,j.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...Z),this._logHandler(this,j.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,j.INFO,...Z),this._logHandler(this,j.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,j.WARN,...Z),this._logHandler(this,j.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...Z),this._logHandler(this,j.ERROR,...Z)}}function pe(q){s.forEach(Z=>{Z.setLogLevel(q)})}function we(q,Z){for(const ie of s){let ze=null;Z&&Z.level&&(ze=k[Z.level]),ie.userLogHandler=null===q?null:(Re,Je,...st)=>{const be=st.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");Je>=(ze??Re.logLevel)&&q({level:j[Je].toLowerCase(),message:be,args:st,type:Re.name})}}}},8766:(pt,Me,L)=>{"use strict";L.d(Me,{Lj:()=>Le,X3:()=>Fe});var s=L(5861);const j=(ne,re)=>re.some(H=>ne instanceof H);let k,le;const Ee=new WeakMap,pe=new WeakMap,we=new WeakMap,q=new WeakMap,Z=new WeakMap;let Re={get(ne,re,H){if(ne instanceof IDBTransaction){if("done"===re)return pe.get(ne);if("objectStoreNames"===re)return ne.objectStoreNames||we.get(ne);if("store"===re)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Oe(ne[re])},set:(ne,re,H)=>(ne[re]=H,!0),has:(ne,re)=>ne instanceof IDBTransaction&&("done"===re||"store"===re)||re in ne};function be(ne){return"function"==typeof ne?function st(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...re){return ne.apply(xe(this),re),Oe(Ee.get(this))}:function(...re){return Oe(ne.apply(xe(this),re))}:function(re,...H){const W=ne.call(xe(this),re,...H);return we.set(W,re.sort?re.sort():[re]),Oe(W)}}(ne):(ne instanceof IDBTransaction&&function ze(ne){if(pe.has(ne))return;const re=new Promise((H,W)=>{const J=()=>{ne.removeEventListener("complete",X),ne.removeEventListener("error",ve),ne.removeEventListener("abort",ve)},X=()=>{H(),J()},ve=()=>{W(ne.error||new DOMException("AbortError","AbortError")),J()};ne.addEventListener("complete",X),ne.addEventListener("error",ve),ne.addEventListener("abort",ve)});pe.set(ne,re)}(ne),j(ne,function he(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Re):ne)}function Oe(ne){if(ne instanceof IDBRequest)return function ie(ne){const re=new Promise((H,W)=>{const J=()=>{ne.removeEventListener("success",X),ne.removeEventListener("error",ve)},X=()=>{H(Oe(ne.result)),J()},ve=()=>{W(ne.error),J()};ne.addEventListener("success",X),ne.addEventListener("error",ve)});return re.then(H=>{H instanceof IDBCursor&&Ee.set(H,ne)}).catch(()=>{}),Z.set(re,ne),re}(ne);if(q.has(ne))return q.get(ne);const re=be(ne);return re!==ne&&(q.set(ne,re),Z.set(re,ne)),re}const xe=ne=>Z.get(ne);function Fe(ne,re,{blocked:H,upgrade:W,blocking:J,terminated:X}={}){const ve=indexedDB.open(ne,re),De=Oe(ve);return W&&ve.addEventListener("upgradeneeded",Xe=>{W(Oe(ve.result),Xe.oldVersion,Xe.newVersion,Oe(ve.transaction))}),H&&ve.addEventListener("blocked",()=>H()),De.then(Xe=>{X&&Xe.addEventListener("close",()=>X()),J&&Xe.addEventListener("versionchange",()=>J())}).catch(()=>{}),De}function Le(ne,{blocked:re}={}){const H=indexedDB.deleteDatabase(ne);return re&&H.addEventListener("blocked",()=>re()),Oe(H).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],Ge=new Map;function oe(ne,re){if(!(ne instanceof IDBDatabase)||re in ne||"string"!=typeof re)return;if(Ge.get(re))return Ge.get(re);const H=re.replace(/FromIndex$/,""),W=re!==H,J=ye.includes(H);if(!(H in(W?IDBIndex:IDBObjectStore).prototype)||!J&&!Te.includes(H))return;const X=function(){var ve=(0,s.Z)(function*(De,...Xe){const St=this.transaction(De,J?"readwrite":"readonly");let Ht=St.store;return W&&(Ht=Ht.index(Xe.shift())),(yield Promise.all([Ht[H](...Xe),J&&St.done]))[0]});return function(Xe){return ve.apply(this,arguments)}}();return Ge.set(re,X),X}!function Je(ne){Re=ne(Re)}(ne=>({...ne,get:(re,H,W)=>oe(re,H)||ne.get(re,H,W),has:(re,H)=>!!oe(re,H)||ne.has(re,H)}))},5861:(pt,Me,L)=>{"use strict";function s(k,le,he,ae,Ee,pe,we){try{var q=k[pe](we),Z=q.value}catch(ie){return void he(ie)}q.done?le(Z):Promise.resolve(Z).then(ae,Ee)}function j(k){return function(){var le=this,he=arguments;return new Promise(function(ae,Ee){var pe=k.apply(le,he);function we(Z){s(pe,ae,Ee,we,q,"next",Z)}function q(Z){s(pe,ae,Ee,we,q,"throw",Z)}we(void 0)})}}L.d(Me,{Z:()=>j})}},pt=>{pt(pt.s=283)}]);